webpackJsonp([195],{Cg9R:function(t,a){},uTnm:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("xd7I"),i=e("C331"),n=(e("Zuxa"),{props:{account:{userId:"",userName:"",type:""}},data:function(){return{typeList:[],searchName:"",paymentAppList:[]}},created:function(){var t=this;Object(i.e)({url:"/api/payment/userallproject",type:"get",data:{page:0,size:9999},success:function(a){a.state?t.paymentAppList=a.data.content.map(function(t){return t.imgPath="tuition",t.imgType="2",t}):t._toast(a.message)}}),this.initTypes()},methods:{_paymentFees:function(t){var a=this;t?(this.$waiting.show(),Object(i.e)({url:"/api/payment/getInProject",type:"get",data:{id:t.id},success:function(t){t.state?t.data&&t.data.status?"NOT_PAID"===t.data.status?a.$emit("addBread",{route:"/payHall/MPaymentApplication",title:t.data.name,data:t.data}):a.$toast("您已缴费，无需缴费！"):a.$toast("该应用无需缴费！"):a.$toast(t.message)}}).always(function(){a.$waiting.close()})):this.$emit("addBread",{route:"payHall/MPaymentRecords",title:"缴费记录"})},_containsSearchName:function(t){var a=this,e=!1;return t&&t.length>0&&t.forEach(function(t){(t.name&&t.name.indexOf(a.searchName)>=0||t.app&&t.app.name.indexOf(a.searchName)>=0)&&(e=!0)}),e},initTypes:function(){var t=this;Object(i.e)({url:"/api/app/type",type:"get",data:{userType:3},success:function(a){a.state?(a.data.forEach(function(a,e){var i={};for(var n in a)s.default.set(i,n,a[n]);s.default.set(i,"appList",[]),t.typeList.push(i)}),t.initAppList()):t.$vux.toast.show({text:a.message,position:"bottom",type:"text"})}})},initAppList:function(){var t=this;Object(i.e)({url:"/api/app?userType=3&isPublished=true",type:"get",success:function(a){a.state?(a.data.forEach(function(a,e){t.typeList.forEach(function(t,e){t.id===a.appType.id&&t.appList.push(a)})}),t.typeList.forEach(function(t,a){0===t.appList.length?s.default.set(t,"isShow",!1):s.default.set(t,"isShow",!0)})):(t.isShowToast=!0,t.toastText=a.message)}})},_checkDetail:function(t){var a=this;Object(i.e)({url:"/api/app/"+t.id+"/business/now",type:"get",success:function(e){e.state?"FORM"===t.setting.type?a.$emit("addBread",{route:"/form/MFormLayout?appId="+t.id,title:""}):(e.data[0].appId=t.id,e.data[0].businessId=e.data[0].business.id,a.$emit("addBread",{route:"/form/MFlowDetail?appId="+t.id+"&businessId="+e.data[0].business.id,curBusiness:e.data[0],title:t.name})):a.$vux.toast.show({text:e.message,position:"bottom",type:"text"})}})}}}),p={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mobileApplication"}},[e("view-box",[e("div",{staticClass:"mobileApplication-content"},[e("div",{staticClass:"apply-type-group"},[t._containsSearchName(t.paymentAppList)?e("div",{staticClass:"apply-type-group"},[e("div",{staticClass:"apply-type-head"},[t._v("缴费应用")]),t._v(" "),e("div",{staticClass:"apply-type-list"},[e("div",{staticClass:"apply-list"},t._l(t.paymentAppList,function(a,s){return a.name.indexOf(t.searchName)>=0?e("div",{key:s,staticClass:"apply",on:{click:function(e){return t._paymentFees(a)}}},[e("div",{staticClass:"app-icon-div",style:{"background-image":a.background}},[a.imgType&&"1"!==a.imgType?"2"===a.imgType?e("i",{staticClass:"maticon apply-icon theme-icon-application"},[e("span",{staticClass:"saasicon-36px",class:["saasicon-36px-"+a.imgPath]})]):t._e():e("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:t._s(t.icons(a.imgPath))}},[t._v(t._s(a.imgPath))])]),t._v(" "),e("p",{staticClass:"text-center apply-title"},[t._v(t._s(a.name))])]):t._e()}),0)])]):t._e(),t._v(" "),t._l(t.typeList,function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:a.isShow,expression:"appType.isShow"}],key:s,staticClass:"apply-type-list"},[e("label",{staticClass:"pull-left type-head"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"apply-list"},t._l(a.appList,function(a,s){return e("div",{key:s,staticClass:"apply",on:{click:function(e){return t._checkDetail(a)}}},[e("div",{staticClass:"app-icon-div",style:{"background-image":a.background}},[e("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:t._s(t.icons(a.imgPath))}},[t._v(t._s(a.imgPath))])]),t._v(" "),e("p",{staticClass:"text-center apply-title"},[t._v(t._s(a.name))])])}),0)])})],2)])])],1)},staticRenderFns:[]};var c=e("C7Lr")(n,p,!1,function(t){e("Cg9R")},null,null);a.default=c.exports}});