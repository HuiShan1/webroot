webpackJsonp([87],{"9I+L":function(e,t){},BEQi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("C331"),s=a("Gme2"),n=a("8c0Y"),o=(s.a,n.a,{data:function(){return{title:{},websiteName:"",pageType:0,components:"accountinfo",update:!1,curRoute:"",navList:[],userInfo:{},bread:[],fullscreenLoading:!0}},components:{EmHeader:s.a,EmUser:n.a},beforeCreate:function(){document.querySelector("body").setAttribute("style","background-color:#f6f6f8")},beforeDestroy:function(){document.querySelector("body").removeAttribute("style")},computed:{},created:function(){},methods:{_getRouteObj:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};return r.title=e.name,e.url&&e.url.indexOf("?id=")>=0?(this.$set(r,"route",e.url.split("?id=")[0]),this.$set(r,"isHide",e.isHide),this.$set(r,"data",this._getParams(e.url))):(this.$set(r,"route",e.url),this.$set(r,"isHide",e.isHide)),e.subMenus&&e.subMenus.length>0&&(this.$set(r,"open",a),r.children||this.$set(r,"children",[]),e.subMenus.sort(this.compare("sort")).forEach(function(e){r.children.push(t._getRouteObj(e))})),r},compare:function(e){return function(t,a){return t[e]-a[e]}},addBread:function(e){var t=null;t=e;var a=!1;this.bread.forEach(function(e,r){e.route===t.route?(t.open=!0,e.active=!0,a=!0):e.open=!1}),a||(t.data||(this.$set(t,"data",this._getParams(t.route)),t.open=!0,t.active=!0),this.bread.push(t)),this.curRoute=t.route},_getParams:function(e){var t={};if(-1!==e.indexOf("?"))for(var a=e.substr(e.indexOf("?")+1).split("&"),r=0;r<a.length;r++)t[a[r].split("=")[0]]=unescape(a[r].split("=")[1]);return t},_checkLogin:function(){var e=this,t=this;Object(r.e)({url:"/login/check",type:"get",success:function(a){a.state&&(t.user=a.data,t.userInfo=a.data,a.data.email&&(e.userInfo.email=a.data.email.replace(a.data.email.substring(3,7),"****")))}})},_getMenu:function(){var e=this;Object(r.e)({url:"/api/employment/menu/getMenu",type:"get",success:function(t){if(t.state){var a=t.data;if(a.length||(e.$message.error("无任何权限"),e.$router.push("/employment/index")),a.forEach(function(t,a){if(e._getRouteObj(t,0===a).children)for(var r=e._getRouteObj(t,0===a).children,s=0;s<r.length;s++)e.addBread(r[s]);else e.addBread(e._getRouteObj(t,0===a));e.navList.push(e._getRouteObj(t,0===a)),1==t.isHide&&e.navList.splice(a,1)}),e.navList[0].children?e.curRoute=e.navList[0].children[0].route:e.curRoute=e.navList[0].route,e.$route.params.toPage){if(e.curRoute=e.$route.params.toPage,e.$route.params.toPage="",e.$route.params.hasParent){var r=e.$route.params.hasParent;e.navList.map(function(e){e.title==r&&(e.open=!0)})}delete e.$route.params.toPage,delete e.$route.params.hasParent}}else e.$toast(t.message);e.fullscreenLoading=!1}})},toPage:function(e){this.curRoute=e}},mounted:function(){this._checkLogin(),this._getMenu()}}),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"employmentLayoutWarp"}},[a("div",{staticClass:"em-header"},[a("em-header",{attrs:{title:e.title}},[a("em-user",{attrs:{slot:"top-nav",isShowConsole:!1,pageType:e.pageType,user:e.userInfo},slot:"top-nav"})],1)],1),e._v(" "),a("div",{staticClass:"em-content"},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"box",attrs:{id:"employmentLayout","element-loading-text":"拼命加载中"}},[a("div",{staticClass:"v-nav-toggle left-toggle"},[a("v-list",{ref:"tree",staticClass:"nav-tree",attrs:{id:"nav-tree",iconView:!1,items:e.navList,curRoute:e.curRoute},on:{addBread:e.addBread}})],1),e._v(" "),a("div",{staticClass:"col-sm-12",attrs:{id:"layoutContent"}},e._l(e.bread,function(t,r){return a("transition",{key:r},[e.curRoute==t.route?a("router-view",{attrs:{name:t.route.split("?")[0],role:t.data&&t.data.id,data:t,userInfo:e.userInfo},on:{addBread:e.addBread,toPage:e.toPage}}):e._e()],1)}),1)])])])},staticRenderFns:[]};var u=a("VU/8")(o,i,!1,function(e){a("J3Hl"),a("9I+L")},"data-v-56b9b3cc",null);t.default=u.exports},J3Hl:function(e,t){}});