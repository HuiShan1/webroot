webpackJsonp([17],{"2eNn":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("Uijh");var i=e("NdOt"),s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mainPage-page"}},[e("GeminiScrollbar",{staticClass:"main-p",attrs:{scrollX:!1}},[e("div",{staticClass:"container-fluid"},[t.isOnlyAdmin?t._e():e("div",{staticClass:"page-top-half row"},[e("div",{staticClass:"announce-container col-md-8"},[e("div",{staticClass:"announce-part"},[e("div",{staticClass:"announce-header"},[e("div",{staticClass:"announce-title"},[t._v(t._s(t.translate.announce))]),t._v(" "),e("div",{staticClass:"pull-right announce-type-tab"},t._l(t.announces,function(a,i){return e("a",{key:i,class:i===t.announceIndex?"active":"",on:{click:function(a){t._changeList(i)}}},[t._v(t._s(t.translate[i]))])}))]),t._v(" "),t.announces[t.announceIndex].length>0?e("GeminiScrollbar",{staticClass:"announce-body list-group",attrs:{scrollX:!1}},[t._l(t.announces[t.announceIndex],function(a,i){return e("div",{key:i,staticClass:"list-group-item",on:{click:function(e){t._viewAnnounce(a)}}},[e("span",{staticClass:"announce-date"},[t._v(t._s(a.createTime))]),t._v(" "),e("span",{staticClass:"announce-type"},[t._v(t._s(t.translate[a.type]))]),t._v(" "),e("span",{staticClass:"announce-name"},[t._v(t._s(a.title))])])}),t._v(" "),e("div",{staticClass:"list-group-item text-center",class:t.pageIndex[t.announceIndex]<0?"no-more":"more"},[t.pageIndex[t.announceIndex]<0?e("span",[t._v(t._s(t.translate.noMore))]):e("span",{on:{click:function(a){t._initAnnounceList(t.announceIndex,t.pageIndex[t.announceIndex]++)}}},[t._v(t._s(t.translate.more))])])],2):e("div",{staticClass:"announce-body list-group"},[e("div",{staticClass:"text-center empty-data"},[e("span",[t._v(t._s(t.translate.empty))])])])],1)]),t._v(" "),e("div",{staticClass:"affairs-container col-md-4"},[e("div",{staticClass:"mainPage-affairs-header"},[e("div",{staticClass:"affairs-title"},[e("span",{staticClass:"examine-all-btn",on:{click:function(a){t._viewMyAffairs("initiate")}}},[t._v(t._s(t.translate.examineAll))]),t._v(" "),e("span",{staticClass:"affairs-text"},[t._v(t._s(t.translate.affairs))])]),t._v(" "),e("div",{staticClass:"pull-right affairs-type-tab",style:"margin-right:"+t.affairsTabStyle+"px"},t._l(t.myAffairsTab,function(a,i){return e("div",{key:i,class:a.id===t.affairsIndex?"active":"",on:{click:function(e){t._changeAffairsTab(a.id)}}},[t._v("\n                "+t._s(t.translate[a.id])+"\n                "),a.isShowPoint?e("span",{staticClass:"point"}):t._e()])}))]),t._v(" "),e("div",{staticClass:"affaris-content"},["initiate"===t.affairsIndex?e("GeminiScrollbar",{staticClass:"my-list",attrs:{scrollX:!1}},[0===t.myAffairsList.initiate.length?e("div",{staticClass:"text-center empty-data"},[e("span",[t._v(t._s(t.translate.empty))])]):t._l(t.myAffairsList[t.affairsIndex],function(a,i){return e("div",{key:i,on:{click:function(e){t.checkInstance(a)}}},["END"===a.status?e("div",{staticClass:"my-list-card",class:"SUCCESS"===a.result?"completed":"fail"},["SUCCESS"===a.result?e("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("done"))}},[t._v("done")]):e("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("clear"))}},[t._v("clear")]),t._v(" "),e("div",{staticClass:"title",staticStyle:{width:"80%"}},[t._v(t._s(a.businessName))])]):e("div",{staticClass:"my-list-card undone"},[e("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("more_horiz"))}},[t._v("more_horiz")]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(a.businessName))]),t._v(" "),e("p",{staticClass:"rode"},[t._v(t._s(a.currentNode.name))])])])}),t._v(" "),e("div",{staticClass:"list-group-item text-center",class:!1===t.isLoadNextPage?"no-more":"more"},[t.isLoadNextPage?e("span",{on:{click:t._loadNextPage}},[t._v(t._s(t.translate.more))]):e("span")])],2):t._e(),t._v(" "),"waitHandle"===t.affairsIndex?e("div",{staticClass:"waitHandle-list"},[0===t.myAffairsList[t.affairsIndex].length?e("div",{staticClass:"text-center empty-data"},[e("span",[t._v(t._s(t.translate.empty))])]):t._l(t.myAffairsList[t.affairsIndex],function(a,i){return e("div",{key:i,staticClass:"waitHandle-list-card",style:{"background-image":a.background?a.background:"linear-gradient(-135deg, #5067D7 0%, #3F53B8 100%)"},on:{click:function(e){t._checkDetail(a,"affaris")}}},[e("i",{staticClass:"maticon",attrs:{title:a.imgPath},domProps:{innerHTML:t._s(t.icons(a.imgPath))}},[t._v(t._s(a.imgPath))]),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(a.name))]),t._v(" "),a.todoCount<10?e("span",{staticClass:"number padding-8px pull-right"},[t._v(t._s(a.todoCount))]):a.todoCount>=10&&a.todoCount<=99?e("span",{staticClass:"number padding-6px pull-right"},[t._v(t._s(a.todoCount))]):e("span",{staticClass:"number padding-4px pull-right"},[t._v("99+")])])})],2):t._e()],1)])]),t._v(" "),e("div",{staticClass:"apply-container row"},[e("div",{staticClass:"apply-header",class:t.isAddClass?"scrollAfterStyle":""},[e("h3",[t._v(t._s(t.translate.apply))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"form-control",attrs:{type:"text",id:"applySearch",placeholder:t.searchPlaceholder},domProps:{value:t.searchName},on:{input:function(a){a.target.composing||(t.searchName=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"apply-content",style:"margin-top:"+t.marginTop63px+"px"},[t._containsSearchName(t.popularApply)?e("div",{staticClass:"container-fluid apply-type-group"},[e("label",{staticClass:"pull-left type-head"},[t._v(t._s(t.translate.popularApply))]),t._v(" "),e("div",{staticClass:"apply-list"},t._l(t.popularApply,function(a,i){return a.app.name.indexOf(t.searchName)>=0?e("div",{key:i,staticClass:"apply",on:{click:function(e){t._checkDetail(a)}}},[e("div",{staticClass:"app-icon-div",style:{"background-image":a.app.background}},[a.app.imgType&&"1"!==a.app.imgType?"2"===a.app.imgType?e("i",{staticClass:"maticon apply-icon theme-icon-application"},[e("span",{staticClass:"saasicon-44px",class:["saasicon-44px-"+a.app.imgPath]})]):t._e():e("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:t._s(t.icons(a.app.imgPath))}},[t._v(t._s(a.app.imgPath))])]),t._v(" "),e("p",{staticClass:"text-center apply-title",attrs:{title:a.app.name}},[t._v(t._s(a.app.name))])]):t._e()}))]):t._e(),t._v(" "),t._l(t.applyType,function(a,i){return e("div",{key:i,staticClass:"container-fluid apply-type-group"},[e("div",{staticClass:"apply-type-head"},[e("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("list"))}},[t._v("list")]),t._v("\n              "+t._s(a.name)+"\n            ")]),t._v(" "),t._l(t.typeList[a.id].types,function(a,i){return t._containsSearchName(a.appList)?e("div",{directives:[{name:"show",rawName:"v-show",value:a.isShow,expression:"appType.isShow"}],key:i,staticClass:"apply-type-list"},[e("label",{staticClass:"pull-left type-head"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"apply-list"},t._l(a.appList,function(a,i){return a.name.indexOf(t.searchName)>=0?e("div",{key:i,staticClass:"apply",on:{click:function(e){t._checkDetail(a)}}},[e("div",{staticClass:"app-icon-div",style:{"background-image":a.background}},[a.imgType&&"1"!==a.imgType?"2"===a.imgType?e("i",{staticClass:"maticon apply-icon theme-icon-application"},[e("span",{staticClass:"saasicon-44px",class:["saasicon-44px-"+a.imgPath]})]):t._e():e("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:t._s(t.icons(a.imgPath))}},[t._v(t._s(a.imgPath))])]),t._v(" "),e("p",{staticClass:"text-center apply-title",attrs:{title:a.name}},[t._v(t._s(a.name))])]):t._e()}))]):t._e()})],2)}),t._v(" "),e("div",{staticClass:"container-fluid apply-type-group"},[e("div",{staticClass:"apply-type-head"},[e("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("list"))}},[t._v("list")]),t._v("活动审核\n            ")]),t._v(" "),e("div",{staticClass:"apply-type-list"},[e("div",{staticClass:"apply-list"},t._l(t.activityAppList,function(a,i){return a.name.indexOf(t.searchName)>=0?e("div",{key:i,staticClass:"apply",on:{click:function(e){t._applyCheck(a)}}},[e("div",{staticClass:"app-icon-div",style:{background:"linear-gradient(-135deg, #5572FA 0%, #4060FA 100%)"}},[a.imgType&&"1"!==a.imgType?"2"===a.imgType?e("i",{staticClass:"maticon apply-icon theme-icon-application"},[e("span",{staticClass:"saasicon-44px",class:["saasicon-44px-"+a.imgPath]})]):t._e():e("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:t._s(t.icons(a.imgPath))}},[t._v(t._s(a.imgPath))])]),t._v(" "),e("p",{staticClass:"text-center apply-title",attrs:{title:a.name}},[t._v(t._s(a.name))])]):t._e()}))])]),t._v(" "),e("div",{staticClass:"container-fluid apply-type-group"},[e("div",{staticClass:"apply-type-head"},[e("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("list"))}},[t._v("list")]),t._v("缴费项目列表\n            ")]),t._v(" "),e("div",{staticClass:"apply-type-list"},[e("div",{staticClass:"apply-list"},["缴费记录".indexOf(t.searchName)>=0?e("div",{staticClass:"apply",on:{click:function(a){t._paymentCheck()}}},[e("div",{staticClass:"app-icon-div",style:{background:"linear-gradient(to bottom, #73c8a9, #373b44)"}},[e("i",{staticClass:"maticon apply-icon theme-icon-application"},[e("span",{staticClass:"saasicon-44px",class:["saasicon-44px-question"]})])]),t._v(" "),e("p",{staticClass:"text-center apply-title",attrs:{title:"缴费记录"}},[t._v("缴费记录")])]):t._e(),t._v(" "),t._l(t.paymentAppList,function(a,i){return a.name.indexOf(t.searchName)>=0?e("div",{key:i,staticClass:"apply",on:{click:function(e){t._paymentCheck(a)}}},[e("div",{staticClass:"app-icon-div",style:{background:"linear-gradient(to bottom, #73c8a9, #373b44)"}},[a.imgType&&"1"!==a.imgType?"2"===a.imgType?e("i",{staticClass:"maticon apply-icon theme-icon-application"},[e("span",{staticClass:"saasicon-44px",class:["saasicon-44px-"+a.imgPath]})]):t._e():e("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:t._s(t.icons(a.imgPath))}},[t._v(t._s(a.imgPath))])]),t._v(" "),e("p",{staticClass:"text-center apply-title",attrs:{title:a.name}},[t._v(t._s(a.name))])]):t._e()})],2)])])],2)])])]),t._v(" "),t.preview?e("div",{staticClass:"preview-container"},[e("preview",{attrs:{data:t.previewObj.formData.components,title:t.previewObj.formData.name,script:t.previewObj.formData.property.script,authorities:t.previewObj.authorities,defaultData:t.previewObj.recordData,fileServer:t.uploadFile,log:t.previewObj.log},on:{submit:t._submit,back:function(a){t.preview=!1}}})],1):t._e()],1)},staticRenderFns:[]};var n=function(t){e("qq6w")},c=e("C7Lr")(i.a,s,!1,n,null,null);a.default=c.exports},NdOt:function(t,a,e){"use strict";(function(t){var i=e("IvJb"),s=e("C331");a.a={inject:{windowObj:{default:null}},props:{account:{userId:"",userName:"",type:""}},created:function(){var t=this,a=localStorage.getItem("lang");Object(s.e)(a)&&(this.lang=a),this.searchPlaceholder=this.translate.placeholder,this.isOnlyAdmin=this.account&&"ADMIN"===this.account.type,this.isOnlyAdmin||(this._initAnnounceList(this.announceIndex,this.pageIndex.all++),this._initAffarisList(),this._initInitiateList(this.initiatePageIndex)),this._initOrder(),Object(s.c)({url:"/api/sc/activities/types",type:"get",success:function(a){a.state?(t.activityAppList=a.data,t.activityAppList.forEach(function(a){t.$set(a,"imgPath","assignment"),t.$set(a,"imgType","1")})):t.$toast(a.message)}}),Object(s.c)({url:"/api/payment/userallproject",type:"get",data:{page:0,size:9999},success:function(a){a.state?(t.paymentAppList=a.data.content,t.paymentAppList.forEach(function(a){t.$set(a,"imgPath","tuition"),t.$set(a,"imgType","2")})):t.$toast(a.message)}})},data:function(){return{myAffairsPage:!1,userType:1,typeList:{student:{bigType:"student",types:[]},teacher:{bigType:"teacher",types:[]},freshman:{bigType:"freshman",types:[]},instructor:{bigType:"instructor",types:[]}},appTypeSearchList:{student:{bigType:"student",types:[]},teacher:{bigType:"teacher",types:[]},freshman:{bigType:"freshman",types:[]},instructor:{bigType:"instructor",types:[]}},searchName:"",applyTypeTitle:"",popularApply:[],applyType:[],initiateList:{},waitHandleList:{},doneList:{},copySendList:{},affairsIndex:"initiate",curApp:null,preview:!1,doNotClosePreview:["countermand","carbonCopy"],needAdviceAuthority:["reject","agree","disagree","carbonCopy","transfer"],previewObj:{formData:null,authorities:null,recordData:[],log:null,curBusinessId:"",appId:""},isOnlyAdmin:!1,searchPlaceholder:"",isAddClass:!1,announces:{all:[],school:[],college:[],instructor:[]},announceIndex:"all",pageSize:20,pageIndex:{all:0,school:0,college:0,instructor:0},initiatePageIndex:0,isLoadNextPage:!1,isShowPoint:{transfer:!0,copySend:!0,waitHandle:!0},myAffairsList:{initiate:[],waitHandle:[],transfer:[],copySend:[]},curInstance:null,affairsTabStyle:null,marginTop63px:0,setWidth:0,activityAppList:[],paymentAppList:[],lang:"zh-cn"}},computed:{translate:function(){return Object(s.e)(this.lang).mainPage},myAffairsTab:function(){return[{id:"initiate",isShowPoint:!1},{id:"waitHandle",isShowPoint:this.isShowPoint.waitHandle},{id:"transfer",isShowPoint:this.isShowPoint.transfer},{id:"copySend",isShowPoint:this.isShowPoint.copySend}]}},mounted:function(){var a=this;t("#applySearch").focus(function(){a.searchPlaceholder=""}),t("#applySearch").blur(function(){a.searchPlaceholder=a.translate.placeholder})},watch:{account:{handler:function(){this._initOrder()},deep:!0},windowObj:{deep:!0,handler:function(t){document.body.clientWidth<1200?(this.affairsTabStyle=-24,this.setWidth=135):(this.affairsTabStyle=-7,this.setWidth=300)}}},methods:{_initOrder:function(){var t=this;this.account&&("STUDENT"===this.account.type?this.applyType=[{id:"student",name:this.translate.student},{id:"freshman",name:this.translate.freshman},{id:"teacher",name:this.translate.teacher}]:this.applyType=[{id:"freshman",name:this.translate.freshman},{id:"student",name:this.translate.student},{id:"teacher",name:this.translate.teacher}],Object(s.c)({url:"/api/relationship/instructor/check",type:"get",success:function(a){a.state&&a.data&&a.data.indexOf("instructor")>=0&&(t.applyType=[{id:"instructor",name:"辅导员应用"},{id:"student",name:t.translate.student},{id:"freshman",name:t.translate.freshman},{id:"teacher",name:t.translate.teacher}])}}),this.initPageData())},_containsSearchName:function(t){var a=this,e=!1;if(t)return t.forEach(function(t){(t.name&&t.name.indexOf(a.searchName)>=0||t.app&&t.app.name.indexOf(a.searchName)>=0)&&(e=!0)}),e},_viewAnnounce:function(t){this.$emit("addBread",{route:"/announce/detail?id="+t.announcementId,title:t.title})},_viewMyAffairs:function(t){this.$emit("addBread",{route:"/home/myAffairs?tabId="+t,title:"我的事务"})},_initAnnounceList:function(t,a){var e=this;Object(s.c)({url:"/table-data/announcement/list/10",type:"get",data:{pageSize:this.pageSize,pageIndex:a,pageParams:{type:t}},success:function(a){a.state&&(a.data.forEach(function(a){e.announces[t].push(a)}),a.data.length<e.pageSize&&(e.pageIndex[e.announceIndex]=-1))}})},_loadNextPage:function(){this.initiatePageIndex++,this._initInitiateList(this.initiatePageIndex)},_initInitiateList:function(t){var a=this;Object(s.c)({url:"/table-data/processEngine/myProcessInstances",type:"get",data:{pageSize:this.pageSize,pageIndex:t},success:function(t){t.state&&(t.data.forEach(function(t){a.myAffairsList.initiate.push(t)}),t.data.length<a.pageSize?a.isLoadNextPage=!1:a.isLoadNextPage=!0);var e=null;e&&clearTimeout(e),e=setTimeout(function(){document.body.clientWidth<1200?(a.affairsTabStyle=-24,a.setWidth=135):(a.affairsTabStyle=-7,a.setWidth=260)},300)}})},_initAffarisList:function(){var t=this;Object(s.c)({url:"/api/processEngine/tasks/todo/apps",type:"get",success:function(a){a.state&&(0===a.data.length?t.isShowPoint.waitHandle=!1:t.isShowPoint.waitHandle=!0,a.data.forEach(function(a){t.myAffairsList.waitHandle.push(a)}))}}),Object(s.c)({url:"/api/processEngine/tasks/todo/transfer/page",type:"get",data:{pageSize:10,pageIndex:0},success:function(a){a.state&&(0===a.data.content.length?t.isShowPoint.transfer=!1:t.isShowPoint.transfer=!0)}}),Object(s.c)({url:"/api/processEngine/processInstances/myCarbonCopy",type:"get",data:{pageSize:10,pageIndex:0},success:function(a){a.state&&(0===a.data.content.length?t.isShowPoint.copySend=!1:t.isShowPoint.copySend=!0)}})},_changeList:function(t){this.announceIndex=t,0===this.announces[this.announceIndex].length&&this._initAnnounceList(this.announceIndex,0)},_changeAffairsTab:function(t){"transfer"===t||"copySend"===t?("transfer"===t?this.isShowPoint.transfer=!1:this.isShowPoint.copySend=!1,this._viewMyAffairs(t)):(this.affairsIndex=t,this.myAffairsList[this.affairsIndex].length)},initPageData:function(){var t=this;this.initTypes("1","list"),this.initTypes("2","list"),this.initTypes("3","list"),this.initTypes("4","list"),Object(s.c)({url:"/api/app/popular",type:"get",data:{isPublished:!0},success:function(a){t.popularApply=a.data}})},initTypes:function(t,a){var e=this;"search"===a&&(this.appTypeSearchList.student.types.splice(0,this.appTypeSearchList.student.types.length),this.appTypeSearchList.teacher.types.splice(0,this.appTypeSearchList.teacher.types.length),this.appTypeSearchList.freshman.types.splice(0,this.appTypeSearchList.freshman.types.length),this.appTypeSearchList.instructor.types.splice(0,this.appTypeSearchList.instructor.types.length)),Object(s.c)({url:"/api/app/type",type:"get",data:{userType:t},success:function(s){s.state?(s.data.forEach(function(s,n){var c={};for(var p in s)i.a.set(c,p,s[p]);i.a.set(c,"appList",[]),"list"===a?"1"===t?e.typeList.student.types.push(c):"2"===t?e.typeList.teacher.types.push(c):"3"===t?e.typeList.freshman.types.push(c):e.typeList.instructor.types.push(c):"1"===t?e.appTypeSearchList.student.types.push(c):"2"===t?e.appTypeSearchList.teacher.types.push(c):"3"===t?e.appTypeSearchList.freshman.types.push(c):e.appTypeSearchList.instructor.types.push(c)}),e.initAppList(t,a)):e.$toast(s.message)}})},initAppList:function(t,a){var e=this,n=null;"list"===a?(n="1"===t?this.typeList.student:"2"===t?this.typeList.teacher:"3"===t?this.typeList.freshman:this.typeList.instructor,this.searchName=""):n="1"===t?this.appTypeSearchList.student:"2"===t?this.appTypeSearchList.teacher:"3"===t?this.appTypeSearchList.freshman:this.appTypeSearchList.instructor,Object(s.c)({url:"/api/app",type:"get",data:{name:this.searchName,userType:t,isPublished:!0},success:function(t){t.state?(t.data.forEach(function(t,a){n.types.forEach(function(a,e){a.id===t.appType.id&&a.appList.push(t)})}),n.types.forEach(function(t,a){0===t.appList.length?i.a.set(t,"isShow",!1):i.a.set(t,"isShow",!0)}),e.monitorScroll()):e.$toast(t.message)}})},checkInstance:function(t){var a=this;this.previewObj.curBusinessId=t.businessId,this.previewObj.appId=t.appId,this._getLog(t.id,function(t){a.previewObj.log=t||null}),this.curInstance=t,this._initPreview(this.curInstance)},_initPreview:function(t){var a=this;this.$waiting.show(),this._getAuthorityData(t.id,function(t){a.previewObj.authorities=t||[]}),this._getFormLayout(t.businessId,t.currentNode.id,function(e){a.previewObj.formData=e,a.previewObj.formData.components.forEach(function(t){i.a.set(t,"x",t.location.left),i.a.set(t,"y",t.location.top),i.a.set(t,"w",t.size.width),i.a.set(t,"h",t.size.height)}),a._getLog(t.id,function(t){a.previewObj.log=t||null}),a._getInitData(t.id,function(t){a.$waiting.close(),a.previewObj.recordData=t,a.preview=!0})})},_checkDetail:function(t,a){var e=this;this.$waiting.show(),this.curApp=t;var i=t.app?t.app.setting.type:t.setting.type,s="";if("FORM"===i)s="/app/form?id="+this.curApp.id;else if("WORKFLOW"===i)s="/app/flow?id="+this.curApp.id;else{if(!t.setting.useBusiness)return window.open(t.setting.linkUrl),this.$waiting.close(),!1;s="/app/link?id="+this.curApp.id}setTimeout(function(){e.$emit("addBread",{route:s,title:t.name||t.app.name,appData:t,entranceType:a}),e.$waiting.close()},310)},_applyCheck:function(t){var a=this;this.$waiting.show(),setTimeout(function(){a.$emit("addBread",{route:"/app/flow?id="+t.id+"&appType=activityAudit",title:t.name,appData:t,entranceType:"activityAudit"}),a.$waiting.close()},310)},_paymentCheck:function(t){var a=this;t?(this.$waiting.show(),Object(s.c)({url:"/api/payment/getInProject",type:"get",data:{id:t.id},success:function(t){t.state?t.data&&t.data.status?"NOT_PAID"===t.data.status?a.$emit("addBread",{route:"/payHall/payHallApplication",title:t.data.name,data:t.data}):a.$toast("您已缴费，无需缴费！"):a.$toast("该应用无需缴费！"):a.$toast(t.message)}}).always(function(){a.$waiting.close()})):this.$emit("addBread",{route:"/payHall/payHallRecords",title:"缴费记录"})},_getInitData:function(t,a){var e=this;Object(s.c)({url:"/api/processEngine/processInstances/"+t,type:"get",success:function(t){t.state?a(t.data):e.$toast(t.message)}})},_getAuthorityData:function(t,a){var e=this;Object(s.c)({url:"/api/processEngine/processInstances/"+t+"/operations",type:"get",success:function(t){t.state?a(t.data):e.$toast(t.message)}})},_getLog:function(t,a){var e=this;Object(s.c)({url:"/api/processEngine/processInstances/"+t+"/handleLogs",type:"get",success:function(t){t.state?a(t.data):e.$toast(t.message)}})},_getFormLayout:function(t,a,e){var i=this;Object(s.c)({url:"/api/processEngine/business/"+t+"/formRenderData?nodeId="+a,type:"get",success:function(t){t.state?e(t.data):i.$toast(t.message)}})},_submit:function(t){var a=this;this.needAdviceAuthority.indexOf(t.type)>=0?this.$prompt({tip:"确认"+t.title+"?",placeholder:"请输入批复意见",callback:function(e){"ok"===e.type&&a._submitAction(t,e.text)}}):"cancel"===t.type?confirm("确认要放弃本申请吗？放弃后申请作废")&&this._submitAction(t):confirm("确认"+t.title+"?")&&this._submitAction(t)},_submitAction:function(t,a){var e=this,i="post",n="";"submit"===t.type?n="/api/processEngine/processInstances":"transfer"===t.type||"carbonCopy"===t.type?(i="put",n="/api/processEngine/processInstances?action="+t.type+"&userId="+t.userId):"save"===t.type?(i="post",n="/api/processEngine/processInstances?action="+t.type+"&userId="+t.userId):(i="put",n="/api/processEngine/processInstances?action="+t.type+(a?"&message="+a:"")),Object(s.c)({url:n,type:i,data:{id:this.previewObj.recordData?this.previewObj.recordData.id:"",formData:t.formData,variable:{appId:this.previewObj.appId,businessId:this.previewObj.curBusinessId}},success:function(a){a.state?(e.doNotClosePreview.indexOf(t.type)>=0?e._getAuthorityData(e.curInstance.id,function(t){e.previewObj.authorities=t||[]}):e.preview=!1,"submit"===t.type?e.$toast("提交申请成功"):e.$toast("申请已"+t.title)):e.$toast(a.message)}})},monitorScroll:function(){var a=this;t(".main-p").scroll(function(){t(this).children(".container-fluid").children(".apply-container").position().top<=0?(a.isAddClass=!0,a.marginTop63px=63):(a.isAddClass=!1,a.marginTop63px=0)})}}}}).call(a,e("L7Pj"))},Uijh:function(t,a,e){"use strict";(function(t){e("IvJb"),e("C331")}).call(a,e("L7Pj"))},qq6w:function(t,a){}});