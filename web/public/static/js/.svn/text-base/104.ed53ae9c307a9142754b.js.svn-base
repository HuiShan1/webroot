webpackJsonp([104],{dgrl:function(a,t){},e3KV:function(a,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("IvJb"),s=n("C331"),i={props:{account:{userId:"",userName:"",type:""}},created:function(){var a=localStorage.getItem("lang"),t=this;Object(s.e)(a)&&(this.lang=a),this._initAnnounceList(this.announceIndex,this.pageIndex.all++),Object(s.c)({url:"/api/users/me/freshmanBusinessStatus",type:"get",success:function(a){if(a.state){if(a.data)for(var n in a.data)t.statusJson[n]=a.data[n]}else t.$toast(a.message)}}),Object(s.c)({url:"/api/app/type",type:"get",data:{userType:3},success:function(a){a.state?(a.data.forEach(function(a,n){var s={};for(var i in a)e.a.set(s,i,a[i]);e.a.set(s,"appList",[]),t.appList.push(s)}),t.initAppList()):t.$toast(a.message)}})},data:function(){return{columns:[],url:"/table-data/department",guide:"",appList:[],appDetailPage:!1,appDetailPageForm:!1,curApp:null,mainPage:!0,statusJson:{tuitionFeeInfoStatus:"未完成",accommodationPaymentInfoStatus:"未完成",studentAppearanceConsistency:"未完成",admissionsInformationConsistency:"未完成",baseInformationConsistency:"未完成",studentsArrivingAtSchool:"未完成",greenChannelApplicationStatus:null,reservationsOnTheStatusOfApplicationForAdmissionStatus:null},announces:{all:[],school:[],college:[],instructor:[]},announceIndex:"all",pageSize:20,pageIndex:{all:0,school:0,college:0,instructor:0},searchName:"",passArray:["已完成","完成","已通过","通过","通过复查","已缴费","已到校"],noNeedDataArray:["greenChannelApplicationStatus","reservationsOnTheStatusOfApplicationForAdmissionStatus"],lang:"zh-cn"}},computed:{translate:function(){return Object(s.e)(this.lang).freshmanMainPage}},methods:{_viewAnnounce:function(a){this.$emit("addBread",{route:"/announce/detail?id="+a.announcementId,title:a.title})},_initAnnounceList:function(a,t){var n=this;Object(s.c)({url:"/table-data/announcement/list/20",type:"get",data:{pageSize:this.pageSize,pageIndex:t,pageParams:{type:a}},success:function(t){t.state&&(t.data.forEach(function(t){n.announces[a].push(t)}),t.data.length<n.pageSize&&(n.pageIndex[n.announceIndex]=-1))}})},_changeList:function(a){this.announceIndex=a,0===this.announces[this.announceIndex].length&&this._initAnnounceList(this.announceIndex,0)},_containsSearchName:function(a){var t=this,n=!1;return a.forEach(function(a){(a.name&&a.name.indexOf(t.searchName)>=0||a.app&&a.app.name.indexOf(t.searchName)>=0)&&(n=!0)}),n},initAppList:function(){var a=this;Object(s.c)({url:"/api/app?userType=3&isPublished=true",type:"get",success:function(t){t.state?(t.data.forEach(function(t,n){a.appList.forEach(function(a,n){a.id===t.appType.id&&a.appList.push(t)})}),a.appList.forEach(function(a,t){0===a.appList.length?e.a.set(a,"isShow",!1):e.a.set(a,"isShow",!0)})):a.$toast(t.message)}})},_checkDetail:function(a){var t=this;this.$waiting.show(),this.curApp=a;var n=a.app?a.app.setting.type:a.setting.type,e="";if("FORM"===n)e="/app/form?id="+this.curApp.id;else if("WORKFLOW"===n)e="/app/flow?id="+this.curApp.id;else{if(!a.setting.useBusiness)return window.open(a.setting.linkUrl),this.$waiting.close(),!1;e="/app/link?id="+this.curApp.id}setTimeout(function(){t.$emit("addBread",{route:e,title:a.name||a.app.name,appData:a}),t.$waiting.close()},310)},_appDetailBack:function(){this.curApp=null,this.mainPage=!0,this.appDetailPage=!1,this.appDetailPageForm=!1}}},c={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{attrs:{id:"freshman-page"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:a.mainPage,expression:"mainPage"}],staticClass:"main-p"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"page-top-half row"},[n("div",{staticClass:"announce-container col-md-9"},[n("div",{staticClass:"announce-part"},[n("div",{staticClass:"announce-header"},[n("div",{staticClass:"announce-title "},[a._v("\n              "+a._s(a.translate.announce)+"\n              ")]),a._v(" "),n("div",{staticClass:"pull-right"},a._l(a.announces,function(t,e){return n("a",{key:e,staticClass:"examineAllBtn",class:e===a.announceIndex?"active":"",on:{click:function(t){a._changeList(e)}}},[a._v("\n                  "+a._s(a.translate[e])+"\n                ")])}))]),a._v(" "),a.announces[a.announceIndex].length>0?n("div",{staticClass:"announce-body list-group"},[a._l(a.announces[a.announceIndex],function(t,e){return n("div",{key:e,staticClass:"list-group-item",on:{click:function(n){a._viewAnnounce(t)}}},[n("span",{staticClass:"announce-date"},[a._v(a._s(t.createTime))]),a._v(" "),n("span",{staticClass:"announce-type"},[a._v(a._s(a.translate[t.type]))]),a._v(" "),n("span",{staticClass:"announce-name"},[a._v(a._s(t.title))])])}),a._v(" "),n("div",{staticClass:"list-group-item text-center",class:a.pageIndex[a.announceIndex]<0?"no-more":"more"},[a.pageIndex[a.announceIndex]<0?n("span",[a._v(a._s(a.translate.noMore))]):n("span",{on:{click:function(t){a._initAnnounceList(a.announceIndex,a.pageIndex[a.announceIndex]++)}}},[a._v(a._s(a.translate.more))])])],2):n("div",{staticClass:"announce-body list-group"},[n("div",{staticClass:"text-center empty-data"},[n("span",[a._v(a._s(a.translate.empty))])])])])]),a._v(" "),n("div",{staticClass:"status-container col-md-3"},[n("div",{staticClass:"status-title"},[a._v("\n            "+a._s(a.translate.status)+"\n          ")]),a._v(" "),n("div",{staticClass:"status-body"},a._l(a.statusJson,function(t,e){return n("div",{key:e},[a.noNeedDataArray.indexOf(e)<0?n("div",{staticClass:"affair-item",class:a.passArray.indexOf(t)>=0?"active":""},[a.passArray.indexOf(t)>=0?n("i",{staticClass:"maticon pull-left",domProps:{innerHTML:a._s(a.icons("done"))}}):n("i",{staticClass:"maticon pull-left",domProps:{innerHTML:a._s(a.icons("more_horiz"))}}),a._v("\n                "+a._s(a.translate[e])+"\n              ")]):a._e()])}))])]),a._v(" "),n("div",{staticClass:"freshman-content row"},[n("div",{staticClass:"freshman-info"},[n("h3",[a._v(a._s(a.translate.apply))]),a._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:a.searchName,expression:"searchName"}],staticClass:"form-control",attrs:{type:"text",placeholder:a.translate.searchPlaceholder},domProps:{value:a.searchName},on:{input:function(t){t.target.composing||(a.searchName=t.target.value)}}})]),a._v(" "),a._l(a.appList,function(t,e){return a._containsSearchName(t.appList)?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"appType.isShow"}],key:e,staticClass:"container-fluid freshman-apply"},[n("div",{staticClass:"apply-type-list"},[n("label",{staticClass:"pull-left type-head"},[a._v(a._s(t.name))]),a._v(" "),n("div",{staticClass:"apply-list"},a._l(t.appList,function(t,e){return t.name.indexOf(a.searchName)>=0?n("div",{key:e,staticClass:"apply",on:{click:function(n){a._checkDetail(t)}}},[n("div",{staticClass:"app-icon-div",style:{"background-image":t.background}},[t.imgType&&"1"!==t.imgType?"2"===t.imgType?n("i",{staticClass:"maticon apply-icon theme-icon-application"},[n("span",{staticClass:"saasicon-44px",class:["saasicon-44px-"+t.imgPath]})]):a._e():n("i",{staticClass:"maticon apply-icon theme-icon-application",domProps:{innerHTML:a._s(a.icons(t.imgPath))}},[a._v(a._s(t.imgPath))])]),a._v(" "),n("p",{staticClass:"text-center apply-title",attrs:{title:t.name}},[a._v(a._s(t.name))])]):a._e()}))])]):a._e()})],2)])])])},staticRenderFns:[]};var o=n("C7Lr")(i,c,!1,function(a){n("dgrl")},null,null);t.default=o.exports}});