webpackJsonp([4],{"7Scd":function(e,t){},KV9M:function(e,t){},LWSf:function(e,t){},TCiQ:function(e,t){},"TkS/":function(e,t){},cl9O:function(e,t){},"ew/Q":function(e,t){},lERG:function(e,t){},sh8d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),n=a.n(i),s=a("C331"),l=function(e){var t="/api/employment/examination/getDetails?id="+e;return new n.a(function(e,a){Object(s.e)({url:t,type:"get",success:function(t){e(t)},error:function(e){a(e)}})})},o=function(e){return new n.a(function(t,a){Object(s.e)({url:"/api/employment/examination/recall?id="+e,type:"put",success:function(e){e.state&&t(e)},error:function(e){a(e)}})})},r=function(e){return new n.a(function(t,a){Object(s.e)({url:"/api/employment/manage/examination/getDetail?id="+e,type:"get",success:function(e){e.state&&t(e)},error:function(e){a(e)}})})},c=a("aA9S"),u=a.n(c),m=a("HzJ8"),p=a.n(m),f=a("zY0d"),d=a("jCtM"),b={props:["placeRule","defaultInfo"],data:function(){return{placeOptions:["教学楼1","教学楼2","教学楼3"],usablePlace:[],curUsablePlaceInfo:{},firstState:!0,baseInfo:{examinationName:"",type:"",areaType:"",startTime:"",endTime:"",startDate:"",place:"",areaRequirement:"",areaDetail:"",year:"",timeRange:"",timeOptions:[]},unitForm:{contactPeople:"",contactPhone:"",email:""},unitFormRules:{contactPeople:[{required:!0,message:"请输入联系人",trigger:"blur"}],contactPhone:[{required:!0,validator:function(e,t,a){if(!t)return a(new Error("手机号不能为空"));if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(t))return a(new Error("请输入正确的手机号"));a()},message:"请输入正确格式的联系人电话",trigger:"blur"}],email:[{required:!0,type:"email",message:"请输入正确格式的邮箱地址",trigger:"blur"}]},placeForm:{place:""},baseInfoRules:{examinationName:[{required:!0,message:"请填写笔/面试标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],areaType:[{required:!0,message:"请选择场地类型",trigger:"change"}],areaDetail:[{required:!0,message:"请填写自行联系的场地名称",trigger:"blur"}]},placeFormRule:{place:[{required:!0,message:"请选择可用场地",trigger:"change"}]}}},methods:{catchUnitInfo:function(){var e=this;Object(d.d)().then(function(t){t&&(e.unitInfo=t,e.unitForm.companyId=t.id,e.unitForm.contactPeople=t.contactPeople,e.unitForm.contactPhone=t.contactPhone,e.unitForm.email=t.mailAddress)})},dateChange:function(e){var t=this;Object(f.c)(e).then(function(e){if(t.baseInfo.timeRange="",t.firstState||(t.placeForm.place=""),e.length?t.baseInfo.timeOptions=e:t.baseInfo.timeOptions=[],t.defaultInfo){var a=t.defaultInfo.beginTime.split(" ")[0];if(t.defaultInfo.areaUseId&&t.baseInfo.year==a){var i=t.defaultInfo.beginTime.split(" ")[1],n=t.defaultInfo.endTime.split(" ")[1],s=i.substring(0,i.length-3)+"~"+n.substring(0,n.length-3);t.firstState?t.baseInfo.timeRange=s:t.baseInfo.timeRange="",t.baseInfo.timeOptions.indexOf(s)<0&&t.baseInfo.timeOptions.push(s)}else t.baseInfo.timeRange="";t.firstState=!1}})},placeRadioChange:function(e){var t=!0,a=!1,i=void 0;try{for(var n,s=p()(this.usablePlace);!(t=(n=s.next()).done);t=!0){var l=n.value;e==l.id&&(this.curUsablePlaceInfo=l)}}catch(e){a=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw i}}},usableTimesChange:function(e){var t=this,a=e.split("~");this.usablePlace=[],this.curUsablePlaceInfo={},this.placeForm.place="";var i=this.baseInfo.year+" "+a[0]+":00",n=this.baseInfo.year+" "+a[1]+":00";Object(f.b)(i,n).then(function(e){if(e.length?t.usablePlace=e:t.usablePlace=[],t.defaultInfo&&t.defaultInfo.areaUseId){var a=t.defaultInfo.beginTime.split(" ")[1],i=t.defaultInfo.endTime.split(" ")[1];a.substring(0,a.length-3),i.substring(0,i.length-3);t.baseInfo.timeRange}})},vali:function(){var e=this,t=!1,a=!1;return this.$refs.baseInfoForm.validate(function(a){var i=e.baseInfo;if("COMPANY_CHOOSE"!=e.baseInfo.areaType){if(!i.startTime||!i.startDate)return e.$message.error("请选择笔面试时间")}else if(!e.placeForm.place)return e.$message.error("请选择场地");t=a}),this.$refs.unitInfoForm.validate(function(e){e&&(a=e)}),t&&a},toSubmit:function(){var e=this;if(this.vali()){var t=this.baseInfo;t.areaUseId=this.placeForm.place;var a=this.unitForm;if("COMPANY_CHOOSE"!=t.areaType){var i=t.startTime;t.beginTime=t.startDate+" "+i[0]+":00",t.endTime=t.startDate+" "+i[1]+":00"}if("COMPANY_CHOOSE"==t.areaType){var n=this.baseInfo.timeRange.split("~");t.beginTime=t.year+" "+n[0]+":00",t.endTime=t.year+" "+n[1]+":00"}var l=u()({},t,a);l.isContact="isContact"==t.areaType?1:0;var o=void 0;o=this.defaultInfo?"/api/employment/examination/resubmit":"/api/employment/examination/addExamination",Object(s.e)({url:o,type:this.defaultInfo?"put":"post",data:l,success:function(t){t.state?(e.$message.success("提交成功"),e.$emit("backToParent")):e.$message.error(t.message)}})}},setDefaultInfo:function(){var e=this;if(this.defaultInfo){var t=this.defaultInfo;if(this.baseInfo={id:t.id,examinationName:t.title,type:t.type,areaType:t.areaType?t.areaType:"isContact",timeRange:"",timeOptions:[],areaDetail:t.areaDetail},"COMPANY_CHOOSE"==t.areaType){var a=t.beginTime.split(" ")[1],i=t.endTime.split(" ")[1];this.firstState=!0,this.$set(this.baseInfo,"year",t.beginTime.split(" ")[0]),this.dateChange(t.beginTime.split(" ")[0]),this.usableTimesChange(a.substring(0,a.length-3)+"~"+i.substring(0,i.length-3)),this.$set(this.baseInfo,"timeRange",a.substring(0,a.length-3)+"~"+i.substring(0,i.length-3)),this.baseInfo.timeOptions.push(this.baseInfo.timeRange),this.$set(this.placeForm,"place",t.areaUseId),setTimeout(function(){e.placeRadioChange(t.areaUseId)},500),this.firstState=!0}else{var n=t.beginTime.split(" ")[1],s=t.endTime.split(" ")[1];this.$set(this.baseInfo,"startDate",t.beginTime.split(" ")[0]),this.$set(this.baseInfo,"startDate",t.beginTime.split(" ")[0]),this.$set(this.baseInfo,"startTime",[n.substring(0,n.length-3),s.substring(0,s.length-3)])}1==t.isContact&&this.$set(this.baseInfo,"areaType","isContact"),this.unitForm={contactPeople:t.contactPeople,contactPhone:t.contactPhone,email:t.email}}}},created:function(){this.catchUnitInfo(),this.setDefaultInfo()}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addInterview"}},[a("div",{staticClass:"baseInfo"},[e._m(0),e._v(" "),a("div",{staticClass:"baseForm"},[a("el-form",{ref:"baseInfoForm",attrs:{model:e.baseInfo,rules:e.baseInfoRules,"label-width":"150px"}},[a("el-form-item",{attrs:{prop:"examinationName",label:"笔/面试标题："}},[a("el-input",{model:{value:e.baseInfo.examinationName,callback:function(t){e.$set(e.baseInfo,"examinationName",t)},expression:"baseInfo.examinationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型：",prop:"type"}},[a("el-radio-group",{model:{value:e.baseInfo.type,callback:function(t){e.$set(e.baseInfo,"type",t)},expression:"baseInfo.type"}},[a("el-radio",{attrs:{label:"INTERVIEW"}},[e._v("面试")]),e._v(" "),a("el-radio",{attrs:{label:"WRITTEN"}},[e._v("笔试")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"w100",attrs:{label:"场地类型：",prop:"areaType"}},[a("el-radio-group",{model:{value:e.baseInfo.areaType,callback:function(t){e.$set(e.baseInfo,"areaType",t)},expression:"baseInfo.areaType"}},["ADMIN_ASSIGNMENT"==e.placeRule.allocationScheme||e.defaultInfo&&"ADMIN_ASSIGNMENT"==e.defaultInfo.areaType?a("el-radio",{attrs:{label:"ADMIN_ASSIGNMENT"}},[e._v("管理员分配")]):e._e(),e._v(" "),"COMPANY_CHOOSE"==e.placeRule.allocationScheme||e.defaultInfo&&"COMPANY_CHOOSE"==e.defaultInfo.areaType?a("el-radio",{attrs:{label:"COMPANY_CHOOSE"}},[e._v("选择可用场地")]):e._e(),e._v(" "),1==e.placeRule.isAllow||e.defaultInfo&&1==e.defaultInfo.isContact?a("el-radio",{attrs:{label:"isContact"}},[e._v("自行联系")]):e._e()],1)],1),e._v(" "),"isContact"==e.baseInfo.areaType?a("el-form-item",{attrs:{label:"场地：",prop:"areaDetail"}},[a("el-input",{model:{value:e.baseInfo.areaDetail,callback:function(t){e.$set(e.baseInfo,"areaDetail",t)},expression:"baseInfo.areaDetail"}})],1):e._e(),e._v(" "),"ADMIN_ASSIGNMENT"==e.baseInfo.areaType?a("el-form-item",{staticClass:"w100",attrs:{label:"场地要求："}},[a("el-input",{attrs:{placeholder:"请填入场地、时间要求等",type:"textarea",rows:"4",resize:"none"},model:{value:e.baseInfo.areaRequirement,callback:function(t){e.$set(e.baseInfo,"areaRequirement",t)},expression:"baseInfo.areaRequirement"}})],1):e._e(),e._v(" "),"isContact"==e.baseInfo.areaType||"ADMIN_ASSIGNMENT"==e.baseInfo.areaType?a("el-form-item",{staticClass:"w100",attrs:{prop:"date"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("em",{staticStyle:{color:"#d25050"}},[e._v("*")]),e._v("笔/面试时间：\n          ")]),e._v(" "),a("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.baseInfo.startDate,callback:function(t){e.$set(e.baseInfo,"startDate",t)},expression:"baseInfo.startDate"}}),e._v(" "),a("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm",format:"HH:mm","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.baseInfo.startTime,callback:function(t){e.$set(e.baseInfo,"startTime",t)},expression:"baseInfo.startTime"}})],1):e._e(),e._v(" "),"COMPANY_CHOOSE"==e.baseInfo.areaType?a("el-form-item",{staticClass:"w100"},[a("span",{attrs:{slot:"label"},slot:"label"},[a("em",{staticStyle:{color:"#d25050"}},[e._v("*")]),e._v("宣讲会时间：\n          ")]),e._v(" "),a("div",{staticClass:"dateBox"},[a("el-date-picker",{key:"rangeDate",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},on:{change:e.dateChange},model:{value:e.baseInfo.year,callback:function(t){e.$set(e.baseInfo,"year",t)},expression:"baseInfo.year"}}),e._v(" "),a("el-select",{attrs:{disabled:!e.baseInfo.timeOptions.length,placeholder:"请选择时间段"},on:{change:e.usableTimesChange},model:{value:e.baseInfo.timeRange,callback:function(t){e.$set(e.baseInfo,"timeRange",t)},expression:"baseInfo.timeRange"}},e._l(e.baseInfo.timeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1)]):e._e()],1)],1)]),e._v(" "),"COMPANY_CHOOSE"==e.baseInfo.areaType&&e.usablePlace.length?a("div",{staticClass:"placeinfo"},[a("div",{staticClass:"placeInfoForm"},[e._m(1),e._v(" "),a("div",{staticClass:"placeInfoForm"},[a("el-form",{attrs:{model:e.placeForm,rules:e.placeFormRule,"label-width":"170px"}},[e.baseInfo.timeRange?a("el-form-item",{staticClass:"w100",attrs:{prop:"place",label:"场地："}},[a("el-radio-group",{model:{value:e.placeForm.place,callback:function(t){e.$set(e.placeForm,"place",t)},expression:"placeForm.place"}},e._l(e.usablePlace,function(t,i){return a("el-radio",{key:i,attrs:{label:t.id},on:{change:e.placeRadioChange}},[e._v(e._s(t.name))])}),1),e._v(" "),e.placeForm.place?a("div",{staticClass:"usablePlace"},[a("em"),e._v(" "),a("h2",[e._v("可容纳人数："+e._s(e.curUsablePlaceInfo.peopleNum))]),e._v(" "),a("h2",{attrs:{title:e.curUsablePlaceInfo.description},domProps:{innerHTML:e._s("场地说明："+e.curUsablePlaceInfo.description)}})]):e._e()],1):e._e()],1)],1)])]):e._e(),e._v(" "),a("div",{staticClass:"unitinfo"},[e._m(2),e._v(" "),a("div",{staticClass:"unitForm"},[a("el-form",{ref:"unitInfoForm",attrs:{model:e.unitForm,rules:e.unitFormRules,"label-width":"150px"}},[a("el-form-item",{attrs:{prop:"contactPeople",label:"单位联系人："}},[a("el-input",{model:{value:e.unitForm.contactPeople,callback:function(t){e.$set(e.unitForm,"contactPeople",t)},expression:"unitForm.contactPeople"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contactPhone",label:"联系人电话："}},[a("el-input",{model:{value:e.unitForm.contactPhone,callback:function(t){e.$set(e.unitForm,"contactPhone",t)},expression:"unitForm.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"email",label:"邮箱："}},[a("el-input",{model:{value:e.unitForm.email,callback:function(t){e.$set(e.unitForm,"email",t)},expression:"unitForm.email"}})],1)],1)],1)]),e._v(" "),a("div",{staticClass:"formBtn"},[e.defaultInfo?e._e():a("a",{staticClass:"publish",on:{click:e.toSubmit}},[e._v("提交审核")]),e._v(" "),e.defaultInfo?a("div",[5==e.defaultInfo.status||3==e.defaultInfo.status?a("a",{staticClass:"publish",on:{click:e.toSubmit}},[e._v("重新提交")]):e._e()]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"clearfix title"},[t("span",[t("em"),t("i",[this._v("基本信息")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title clearfix"},[t("h1",[t("span",[t("em"),this._v(" "),t("i",[this._v("场地信息")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title clearfix"},[t("h1",[t("span",[t("em"),t("i",[this._v("单位信息")])])])])}]};var h=a("C7Lr")(b,v,!1,function(e){a("7Scd"),a("KV9M")},"data-v-45430e6c",null).exports,g=a("p+qa"),_={props:["defaultInfo","placeRule"],data:function(){var e=function(e,t,a){if(!t)return a(new Error("手机号不能为空"));if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(t))return a(new Error("请输入正确的手机号"));a()};return{reasonVisible:!1,reason:"",curReasonType:"",unitInfo:{},unitList:[],usablePlace:[],curUsablePlaceInfo:{},firstState:!0,baseInfo:{examinationName:"",type:"",areaDetail:"",areaRequirement:"",startDate:"",startTime:"",contactPhone:"",contactPeople:"",email:"",areaType:"",year:"",timeRange:"",timeOptions:[]},placeForm:{place:""},placeFormRule:{place:[{required:!0,trigger:"blur"}]},baseInfoRules:{examinationName:[{required:!0,message:"请填写笔/面试标题",trigger:"blur"}],type:[{required:!0,message:"请选择笔面试类型",trigger:"change"}],startDate:[{type:"date",required:!0,message:"请选择笔面试时间",trigger:"change"}],areaDetail:[{required:!0,message:"请填写场地名称",trigger:"blur"}],contactPeople:[{required:!0,message:"请输入联系人",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{validator:e,message:"请输入正确格式的手机号码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱",trigger:"blur"}],areaType:[{required:!0,message:"请选择场地类型",trigger:"change"}]},unitForm:{companyName:"",companyContactPeople:"",companyContactPhone:"",companyEmail:""},unitInfoRules:{companyName:[{required:!0,message:"请选择单位",trigger:"change"}],companyEmail:[{required:!0,message:"请输入单位邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱",trigger:"blur"}],companyContactPhone:[{required:!0,message:"请输入单位联系人电话",trigger:"blur"},{validator:e,message:"请输入正确格式的手机号码",trigger:"blur"}],companyContactPeople:[{required:!0,message:"请输入单位联系人",trigger:"blur"}],summary:[{required:!0,message:"请输入单位简介",trigger:"blur"}]}}},methods:{catchUnitList:function(){var e=this;Object(g.i)().then(function(t){t.state&&(e.unitList=t.data)})},dateChange:function(e){var t=this;Object(f.c)(e).then(function(e){if(t.baseInfo.timeRange="",t.firstState||(t.placeForm.place=""),e.length?t.baseInfo.timeOptions=e:t.baseInfo.timeOptions=[],t.defaultInfo){var a=t.defaultInfo.beginTime.split(" ")[0];if(t.defaultInfo.areaUseId&&t.baseInfo.year==a){var i=t.defaultInfo.beginTime.split(" ")[1],n=t.defaultInfo.endTime.split(" ")[1],s=i.substring(0,i.length-3)+"~"+n.substring(0,n.length-3);t.firstState?t.baseInfo.timeRange=s:t.baseInfo.timeRange="",t.baseInfo.timeOptions.indexOf(s)<0&&t.baseInfo.timeOptions.push(s)}else t.baseInfo.timeRange="";t.firstState=!1}})},placeRadioChange:function(e){var t=!0,a=!1,i=void 0;try{for(var n,s=p()(this.usablePlace);!(t=(n=s.next()).done);t=!0){var l=n.value;e==l.id&&(this.curUsablePlaceInfo=l)}}catch(e){a=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw i}}},usableTimesChange:function(e){var t=this,a=e.split("~");this.usablePlace=[],this.curUsablePlaceInfo={},this.placeForm.place="";var i=this.baseInfo.year+" "+a[0]+":00",n=this.baseInfo.year+" "+a[1]+":00";Object(f.b)(i,n).then(function(e){if(e.length?t.usablePlace=e:t.usablePlace=[],t.defaultInfo&&t.defaultInfo.areaUseId){var a=t.defaultInfo.beginTime.split(" ")[1],i=t.defaultInfo.endTime.split(" ")[1];a.substring(0,a.length-3)+"~"+i.substring(0,i.length-3)==t.baseInfo.timeRange&&t.usablePlace.push({name:t.defaultInfo.areaDetail,id:t.defaultInfo.areaUseId,peopleNum:t.defaultInfo.areaPeopleNum,description:t.defaultInfo.areaDescription})}})},showReason:function(e){this.reasonVisible=!0,this.curReasonType=e,this.reason=""},reject:function(){var e=this;if(!this.reason)return this.$message.error("请填写审核意见");var t=void 0;t="fail"==this.curReasonType?"/api/employment/audit/repulseExaminationAudit?id="+this.defaultInfo.id+"&reason="+this.reason:"/api/employment/audit/rejectExaminationAudit?id="+this.defaultInfo.id+"&reason="+this.reason,Object(s.e)({url:t,type:"put",success:function(t){t.state?(e.$message.success("操作成功"),e.$emit("backToParent")):(e.$message.error(t.message),e.$emit("backToParent")),e.reasonVisible=!1}})},unitChange:function(e){var t=this;Object(d.d)(e).then(function(e){e&&(t.unitInfo=e,t.unitForm.companyId=e.id,t.unitForm.companyContactPeople=e.contactPeople,t.unitForm.companyContactPhone=e.contactPhone,t.unitForm.companyEmail=e.mailAddress,t.$refs.unitInfoForm.validate())})},vali:function(){var e=this,t=!1,a=!1;return this.$refs.baseInfoForm.validate(function(a){var i=e.baseInfo;if("COMPANY_CHOOSE"==i.areaType){if(!i.year||!i.timeRange)return e.$message.error("请选择笔面试时间");if(!e.placeForm.place)return e.$message.error("请选择场地")}else if(!i.startTime||!i.startDate)return e.$message.error("请选择笔面试时间");t=a}),this.$refs.unitInfoForm.validate(function(e){e&&(a=e)}),t&&a},pass:function(){var e=this;if(this.vali()){var t=this.baseInfo,a=this.unitForm;if("COMPANY_CHOOSE"!=t.areaType){var i=t.startTime;t.beginTime=t.startDate+" "+i[0]+":00",t.endTime=t.startDate+" "+i[1]+":00"}if("COMPANY_CHOOSE"==t.areaType){var n=this.baseInfo.timeRange.split("~");t.beginTime=t.year+" "+n[0]+":00",t.endTime=t.year+" "+n[1]+":00",t.areaUseId=this.placeForm.place}var l=u()({},t,a);l.isContact="isContact"==t.areaType?1:0,Object(s.e)({url:"/api/employment/audit/agreeExaminationAudit",type:"put",data:l,success:function(t){t.state&&(e.$message.success("操作成功"),e.$emit("backToParent"))}})}},toSubmit:function(){var e=this;if(this.vali()){var t=this.baseInfo;if("COMPANY_CHOOSE"==this.baseInfo.areaType){var a=t.timeRange.split("~");t.beginTime=t.year+" "+a[0]+":00",t.endTime=t.year+" "+a[1]+":00",t.areaUseId=this.placeForm.place}else{var i=t.startTime;t.beginTime=t.startDate+" "+i[0]+":00",t.endTime=t.startDate+" "+i[1]+":00"}var n=this.unitForm,l=u()({},t,n);l.isContact="isContact"==t.areaType?1:0;var o=void 0;o=this.defaultInfo?"/api/employment/manage/examination/update":"/api/employment/manage/examination/addExamination",Object(s.e)({url:o,type:this.defaultInfo?"put":"post",data:l,success:function(t){t.state?(e.defaultInfo?e.$message.success("修改成功"):e.$message.success("提交成功"),e.$emit("backToParent")):e.$message.error(t.message)}})}},setDefault:function(){var e=this.defaultInfo;if(this.baseInfo={id:e.id,examinationName:e.title,type:e.type,areaType:e.areaType?e.areaType:"isContact",timeRange:"",timeOptions:[],contactPhone:e.contactPhone,contactPeople:e.contactPeople,email:e.email,areaDetail:e.areaDetail,areaRequirement:e.areaRequirement},this.unitForm={companyContactPeople:e.companyInfo.contactPeople,companyContactPhone:e.companyInfo.contactPhone,companyEmail:e.companyInfo.mailAddress},"COMPANY_CHOOSE"==e.areaType){var t=e.beginTime.split(" ")[1],a=e.endTime.split(" ")[1];this.firstState=!0,this.$set(this.baseInfo,"year",e.beginTime.split(" ")[0]),this.dateChange(e.beginTime.split(" ")[0]),this.usableTimesChange(t.substring(0,t.length-3)+"~"+a.substring(0,a.length-3)),this.$set(this.baseInfo,"timeRange",t.substring(0,t.length-3)+"~"+a.substring(0,a.length-3)),this.baseInfo.timeOptions.push(this.baseInfo.timeRange),this.$set(this.placeForm,"place",e.areaUseId),this.curUsablePlaceInfo={id:e.areaUseId,name:e.areaName,peopleNum:e.areaPeopleNum,description:e.areaDescription},this.firstState=!0}else{var i=e.beginTime.split(" ")[1],n=e.endTime.split(" ")[1];this.$set(this.baseInfo,"startDate",e.beginTime.split(" ")[0]),this.$set(this.baseInfo,"startTime",[i.substring(0,i.length-3),n.substring(0,n.length-3)])}}},created:function(){this.catchUnitList(),this.defaultInfo&&this.setDefault()}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addInterview"}},[a("div",{staticClass:"baseInfo"},[e._m(0),e._v(" "),a("div",{staticClass:"baseForm"},[a("el-form",{ref:"baseInfoForm",attrs:{model:e.baseInfo,rules:e.baseInfoRules,"label-width":"150px"}},[a("el-form-item",{attrs:{prop:"examinationName",label:"笔/面试标题："}},[a("el-input",{model:{value:e.baseInfo.examinationName,callback:function(t){e.$set(e.baseInfo,"examinationName",t)},expression:"baseInfo.examinationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型：",prop:"type"}},[a("el-radio-group",{model:{value:e.baseInfo.type,callback:function(t){e.$set(e.baseInfo,"type",t)},expression:"baseInfo.type"}},[a("el-radio",{attrs:{label:"INTERVIEW"}},[e._v("面试")]),e._v(" "),a("el-radio",{attrs:{label:"WRITTEN"}},[e._v("笔试")])],1)],1),e._v(" "),e.defaultInfo?a("el-form-item",{staticClass:"w100",attrs:{label:"场地类型：",prop:"areaType"}},[a("el-radio-group",{model:{value:e.baseInfo.areaType,callback:function(t){e.$set(e.baseInfo,"areaType",t)},expression:"baseInfo.areaType"}},["ADMIN_ASSIGNMENT"==e.placeRule.allocationScheme||e.defaultInfo&&"ADMIN_ASSIGNMENT"==e.defaultInfo.areaType?a("el-radio",{attrs:{label:"ADMIN_ASSIGNMENT"}},[e._v("管理员分配")]):e._e(),e._v(" "),"COMPANY_CHOOSE"==e.placeRule.allocationScheme||e.defaultInfo&&"COMPANY_CHOOSE"==e.defaultInfo.areaType?a("el-radio",{attrs:{label:"COMPANY_CHOOSE"}},[e._v("选择可用场地")]):e._e(),e._v(" "),1==e.placeRule.isAllow||e.defaultInfo&&1==e.defaultInfo.isContact?a("el-radio",{attrs:{label:"isContact"}},[e._v("自行联系")]):e._e()],1)],1):e._e(),e._v(" "),"COMPANY_CHOOSE"!=e.baseInfo.areaType?a("el-form-item",{staticClass:"w100",attrs:{prop:"date"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("em",{staticStyle:{color:"#d25050"}},[e._v("*")]),e._v("笔/面试时间：\n          ")]),e._v(" "),a("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.baseInfo.startDate,callback:function(t){e.$set(e.baseInfo,"startDate",t)},expression:"baseInfo.startDate"}}),e._v(" "),a("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm",format:"HH:mm","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.baseInfo.startTime,callback:function(t){e.$set(e.baseInfo,"startTime",t)},expression:"baseInfo.startTime"}})],1):e._e(),e._v(" "),"COMPANY_CHOOSE"==e.baseInfo.areaType?a("el-form-item",{staticClass:"w100"},[a("span",{attrs:{slot:"label"},slot:"label"},[a("em",{staticStyle:{color:"#d25050"}},[e._v("*")]),e._v("笔面试时间：\n          ")]),e._v(" "),a("div",{staticClass:"dateBox"},[a("el-date-picker",{key:"rangeDate",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},on:{change:e.dateChange},model:{value:e.baseInfo.year,callback:function(t){e.$set(e.baseInfo,"year",t)},expression:"baseInfo.year"}}),e._v(" "),a("el-select",{attrs:{disabled:!e.baseInfo.timeOptions.length,placeholder:"请选择时间段"},on:{change:e.usableTimesChange},model:{value:e.baseInfo.timeRange,callback:function(t){e.$set(e.baseInfo,"timeRange",t)},expression:"baseInfo.timeRange"}},e._l(e.baseInfo.timeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1)]):e._e(),e._v(" "),e.defaultInfo&&"isContact"==e.baseInfo.areaType||!e.defaultInfo?a("el-form-item",{attrs:{label:"笔面试地点：",prop:"areaDetail"}},[a("el-input",{model:{value:e.baseInfo.areaDetail,callback:function(t){e.$set(e.baseInfo,"areaDetail",t)},expression:"baseInfo.areaDetail"}})],1):e._e(),e._v(" "),"ADMIN_ASSIGNMENT"==e.baseInfo.areaType?a("el-form-item",{staticClass:"w100",attrs:{label:"场地要求："}},[a("el-input",{attrs:{placeholder:"请填入场地、时间要求等",type:"textarea",rows:"4",resize:"none"},model:{value:e.baseInfo.areaRequirement,callback:function(t){e.$set(e.baseInfo,"areaRequirement",t)},expression:"baseInfo.areaRequirement"}})],1):e._e()],1)],1)]),e._v(" "),"COMPANY_CHOOSE"==e.baseInfo.areaType?a("div",{staticClass:"placeinfo"},[a("div",{staticClass:"placeInfoForm"},[e._m(1),e._v(" "),a("div",{staticClass:"placeInfoForm"},[a("el-form",{attrs:{model:e.placeForm,rules:e.placeFormRule,"label-width":"170px"}},[e.baseInfo.timeRange?a("el-form-item",{staticClass:"w100",attrs:{prop:"place",label:"场地："}},[a("el-radio-group",{model:{value:e.placeForm.place,callback:function(t){e.$set(e.placeForm,"place",t)},expression:"placeForm.place"}},e._l(e.usablePlace,function(t,i){return a("el-radio",{key:i,attrs:{label:t.id},on:{change:e.placeRadioChange}},[e._v(e._s(t.name))])}),1),e._v(" "),e.placeForm.place?a("div",{staticClass:"usablePlace"},[a("em"),e._v(" "),a("h2",[e._v("可容纳人数："+e._s(e.curUsablePlaceInfo.peopleNum))]),e._v(" "),a("h2",{attrs:{title:e.curUsablePlaceInfo.description},domProps:{innerHTML:e._s("场地说明："+e.curUsablePlaceInfo.description)}})]):e._e()],1):e._e()],1)],1)])]):e._e(),e._v(" "),a("div",{staticClass:"unitInfo"},[e._m(2),e._v(" "),a("div",{staticClass:"unitForm"},[e.defaultInfo?a("el-form",{ref:"unitInfoForm",attrs:{model:e.unitForm,rules:e.unitInfoRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"单位联系人：",prop:"companyContactPeople"}},[a("el-input",{model:{value:e.unitForm.companyContactPeople,callback:function(t){e.$set(e.unitForm,"companyContactPeople",t)},expression:"unitForm.companyContactPeople "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话：",prop:"companyContactPhone"}},[a("el-input",{model:{value:e.unitForm.companyContactPhone,callback:function(t){e.$set(e.unitForm,"companyContactPhone",t)},expression:"unitForm.companyContactPhone "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"companyEmail"}},[a("el-input",{model:{value:e.unitForm.companyEmail,callback:function(t){e.$set(e.unitForm,"companyEmail",t)},expression:"unitForm.companyEmail "}})],1)],1):a("el-form",{ref:"unitInfoForm",attrs:{model:e.unitForm,rules:e.unitInfoRules,"label-width":"150px"}},[a("div",[a("el-form-item",{attrs:{label:"单位名称：",prop:"companyName"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择或输入公司名称",filterable:""},on:{change:e.unitChange},model:{value:e.unitForm.companyName,callback:function(t){e.$set(e.unitForm,"companyName",t)},expression:"unitForm.companyName"}},e._l(e.unitList,function(t,i){return e.unitList.length?a("el-option",{key:i,attrs:{label:t.companyName,value:t.id}}):e._e()}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位性质："}},[a("span",[e._v(e._s(e.unitInfo.propertyName))])])],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"单位联系人：",prop:"companyContactPeople"}},[a("el-input",{model:{value:e.unitForm.companyContactPeople,callback:function(t){e.$set(e.unitForm,"companyContactPeople",t)},expression:"unitForm.companyContactPeople "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位规模："}},[a("span",[e._v(e._s(e.unitInfo.scaleName))])])],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"电话：",prop:"companyContactPhone"}},[a("el-input",{model:{value:e.unitForm.companyContactPhone,callback:function(t){e.$set(e.unitForm,"companyContactPhone",t)},expression:"unitForm.companyContactPhone "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"companyEmail"}},[a("el-input",{model:{value:e.unitForm.companyEmail,callback:function(t){e.$set(e.unitForm,"companyEmail",t)},expression:"unitForm.companyEmail "}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"w100",attrs:{label:"单位地址："}},[a("span",[e._v(e._s(e.unitInfo.addressDetail))])]),e._v(" "),a("el-form-item",{staticClass:"w100",attrs:{label:"单位简介："}},[a("span",{domProps:{innerHTML:e._s(e.unitInfo.summary)}})])],1)],1)]),e._v(" "),e.defaultInfo?e._e():a("div",{staticClass:"formBtn"},[a("a",{staticClass:"publish",on:{click:e.toSubmit}},[e._v("发布")])]),e._v(" "),e.defaultInfo?a("div",{staticClass:"formBtn"},[1==e.defaultInfo.status?a("a",{staticClass:"publish",on:{click:e.toSubmit}},[e._v("修改")]):e._e(),e._v(" "),0==e.defaultInfo.status?a("div",[a("a",{on:{click:e.pass}},[e._v("通过")]),e._v(" "),a("a",{on:{click:function(t){return e.showReason("fail")}}},[e._v("不通过")]),e._v(" "),a("a",{on:{click:function(t){return e.showReason("reject")}}},[e._v("驳回重新提交")])]):e._e()]):e._e(),e._v(" "),e.reasonVisible?a("div",{staticClass:"reason btnGroup"},[a("el-dialog",{attrs:{visible:e.reasonVisible,title:"审核意见",width:"480px"},on:{"update:visible":function(t){e.reasonVisible=t}}},[a("div",{staticClass:"sumarryInput"},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:"4"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),e._v(" "),a("a",{staticStyle:{"margin-top":"20px"},on:{click:e.reject}},[e._v("提交")])],1)])],1):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"clearfix title"},[t("span",[t("em"),t("i",[this._v("基本信息")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title clearfix"},[t("h1",[t("span",[t("em"),this._v(" "),t("i",[this._v("场地信息")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"clearfix title"},[t("span",[t("em"),t("i",[this._v("单位信息")])])])}]};var y=a("C7Lr")(_,I,!1,function(e){a("v1nW"),a("TCiQ")},"data-v-0ea90328",null).exports,T=a("WD6V"),C=(T.a,{props:["loginType","interviewId","placeRule"],components:{oplog:T.a,editInterviewOfUnit:h,editInterviewOfAdmin:y},computed:{dataUrl:function(){return"/api/employment/manage/examination/getOperationDetailList?id="+this.interviewId}},data:function(){return{details:{},status:"",editStatus:!1,statusName:"",showLog:!1,companyInfo:{}}},methods:{catchDetails:function(){var e=this;"COMPANY"==this.loginType.loginType?l(this.interviewId).then(function(t){t.state&&(e.details=t.data,e.companyInfo=t.data.companyInfo,e.status=e.details.status,e.statusName=e.details.statusName)}):r(this.interviewId).then(function(t){t.state&&(e.details=t.data,e.companyInfo=t.data.companyInfo,e.status=e.details.status,e.statusName=e.details.statusName)})},recall:function(){var e=this;this.$confirm("撤回会释放占用的场地,是否继续撤回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o(e.details.id).then(function(t){t.state&&(e.$message.success("撤回成功"),e.statusName="已撤回",e.status=3)})}).catch(function(){e.$message({type:"info",message:"已取消撤回"})})},edit:function(){this.editStatus=!this.editStatus},backToParent:function(){this.$emit("backToParent")}},created:function(){this.catchDetails()}}),P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"details"}},[a("div",{staticClass:"statusBar box"},[a("p",[a("span",{class:{default:0==e.status,error:2==e.status||5==e.status}},[e._v(e._s(e.statusName))])]),e._v(" "),a("h3",[a("a",{on:{click:function(t){e.showLog=!e.showLog}}},[e._v("操作日志")]),e._v(" "),"COMPANY"==e.loginType.loginType?a("div",{staticClass:"pull-right"},[5==e.status||3==e.status?a("a",{on:{click:e.edit}},[a("i"),a("em",[e._v("编辑")])]):e._e()]):e._e(),e._v(" "),e.loginType.isAdmin?a("div",{staticClass:"pull-right"},[1==e.status||0==e.status?a("a",{on:{click:e.edit}},[a("i"),a("em",[e._v("编辑")])]):e._e()]):e._e()])]),e._v(" "),e.editStatus?e._e():a("div",[a("div",{staticClass:"baseInfo"},[e._m(0),e._v(" "),a("ul",{staticClass:"baseInfoList"},[a("li",[a("span",[e._v("笔面试标题：")]),e._v(" "),a("i",[e._v(e._s(e.details.title))])]),e._v(" "),a("li"),a("li",[a("span",[e._v("类型：")]),e._v(" "),a("i",[e._v(e._s("WRITTEN"==e.details.type?"笔试":"面试"))])]),e._v(" "),a("li",[a("span",[e._v("笔试面试时间：")]),e._v(" "),a("i",[e._v(e._s(e.details.beginTime+"~"+e.details.endTime))])]),e._v(" "),a("li",[a("span",[e._v("笔试面试场地：")]),e._v(" "),a("i",[e._v(e._s(e.details.areaDetail?e.details.areaDetail:"管理员分配场地"))])]),e._v(" "),e.details.areaRequirement?a("li",[a("span",[e._v("场地要求：")]),e._v(" "),a("i",[e._v(e._s(e.details.areaRequirement))])]):e._e(),e._v(" "),a("div",{staticClass:"box"},[a("li",[a("span",[e._v("单位联系人：")]),e._v(" "),a("i",[e._v(e._s(e.details.contactPeople))])]),e._v(" "),a("li",[a("span",[e._v("电话：")]),e._v(" "),a("i",[e._v(e._s(e.details.contactPhone))])])]),e._v(" "),a("li",[a("span",[e._v("邮箱：")]),e._v(" "),a("i",[e._v(e._s(e.details.email))])])])]),e._v(" "),e.loginType.isAdmin?a("div",{staticClass:"unitInfo"},[a("div",{staticClass:"title "},[e._m(1),e._v(" "),a("ul",{staticClass:"baseInfoList unitInfoList"},[a("div",[a("li",[a("span",[e._v("单位名称：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.companyName))])]),e._v(" "),a("li",[a("span",[e._v("单位性质：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.property))])])]),e._v(" "),a("div",[a("li",[a("span",[e._v("单位规模：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.scale))])]),e._v(" "),a("li",[a("span",[e._v("邮箱：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.mailAddress))])])]),e._v(" "),a("div",[a("li",[a("span",[e._v("单位联系人：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.contactPeople))])]),e._v(" "),a("li",[a("span",[e._v("电话：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.contactPhone))])])]),e._v(" "),a("li",[a("span",[e._v("单位地址：")]),e._v(" "),a("i",[e._v(e._s(e.companyInfo.addressDetail))])]),e._v(" "),a("li",{staticClass:"box"},[a("span",[e._v("单位简介：")]),e._v(" "),a("i",{domProps:{innerHTML:e._s(e.companyInfo.summary)}})])])])]):e._e()]),e._v(" "),e.editStatus&&"COMPANY"==e.loginType.loginType?a("div",[a("edit-interview-of-unit",{attrs:{placeRule:e.placeRule,defaultInfo:e.details},on:{backToParent:e.backToParent}})],1):e._e(),e._v(" "),e.editStatus&&e.loginType.isAdmin?a("div",[a("edit-interview-of-admin",{attrs:{placeRule:e.placeRule,defaultInfo:e.details},on:{backToParent:e.backToParent}})],1):e._e(),e._v(" "),"COMPANY"==e.loginType.loginType?a("div",{staticClass:"btnGroup"},[0==e.status?a("a",{staticClass:"reCall default",on:{click:e.recall}},[e._v("撤回")]):e._e()]):e._e(),e._v(" "),e.loginType.isAdmin?a("div",{staticClass:"btnGroup"}):e._e(),e._v(" "),a("div",{class:{show:e.showLog},attrs:{id:"timeline"}},[a("oplog",{attrs:{dataUrl:e.dataUrl}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title clearfix"},[t("h1",[t("span",[t("em"),this._v(" "),t("i",[this._v("基本信息")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"clearfix"},[t("span",[t("em"),this._v(" "),t("i",[this._v("单位信息")])])])}]};var N=a("C7Lr")(C,P,!1,function(e){a("ew/Q"),a("lERG")},"data-v-8b2c04b4",null).exports,x={props:["data"],data:function(){return{tableDataUrl:"",loginType:{},placeRule:{},details:"",defaultInfo:{},interviewId:"",curStatus:"list"}},components:{interviewDetail:N,addInterviewUnit:h,addInterviewAdmin:y},methods:{catchLoginType:function(){var e=this;Object(g.e)().then(function(t){e.loginType=t.data,e.setTableUrl(e.loginType.loginType)})},setTableUrl:function(e){"COMPANY"==e?this.tableDataUrl="/table-data/employment/examination/getList?timeStamp="+(new Date).getTime():"笔/面试管理"==this.data.title?this.tableDataUrl="/table-data/employment/manage/examination/getExaminationBySearch?timeStamp="+(new Date).getTime():this.tableDataUrl="/table-data/employment/audit/getExaminationAuditBySearch?timeStamp="+(new Date).getTime()},backToParent:function(){this.curStatus="list"},catchPlaceRules:function(){var e=this;Object(f.a)("EXAMINATION").then(function(t){t&&(e.placeRule=t[0])})}},computed:{columns:function(){var e=this;return"COMPANY"==this.loginType.loginType?[{id:"name",title:"笔试面试名称",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"beginTime",title:"时间",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"areaName",title:"场地",className:"text-left",width:130,hidden:!1},{id:"auditTime",title:"提交时间",className:"text-left",width:130,hidden:!1},{id:"status",title:"审核状态",className:"text-left",width:100,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"待审核",value:0},{label:"已通过",value:1},{label:"未通过",value:2},{label:"已撤回",value:3},{label:"已下架",value:4},{label:"驳回等待重新提交",value:5}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.statusName}},{id:"reason",title:"审核意见",className:"text-left",width:130,hidden:!1,formatter:function(e){if(!e.reason)return"-"}},{id:"opts",title:"操作",width:80,hidden:!1,formatter:function(t){return[{tag:"a",text:"查看",callback:function(t,a){e.interviewId=t.id,e.curStatus="details"}},{tag:"a",text:"撤回",className:"0"==t.status?"":"none",callback:function(t,a){o(t.id).then(function(t){t.state?(e.$message.success("撤回成功"),e.setTableUrl(e.loginType.loginType)):e.$message.error(t.message)})}}]}}]:"笔/面试管理"==this.data.title?[{id:"name",title:"笔面试名称",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"companyName",title:"单位名称",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"beginTime",title:"时间",className:"text-left",width:150,hidden:!1},{id:"status",title:"审核状态",className:"text-left",width:100,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"正常",value:0},{label:"已下架",value:4}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.statusName}},{id:"areaName",title:"场地",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"opts",title:"操作",width:200,hidden:!1,formatter:function(t){return[{tag:"a",text:"查看",callback:function(t,a){e.interviewId=t.id,e.curStatus="details"}},{tag:"a",text:1==t.status?"下架":"重新上架",callback:function(t,a){var i=1==t.status?"下架":"重新上架";e.$confirm("是否执行"+i+"操作","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.e)({url:"/api/employment/audit/soldOutExaminationAudit?id="+t.id,type:"put",success:function(t){t.state?(e.$message.success(i+"成功！"),e.setTableUrl(e.loginType.loginType)):(e.$message.error(t.message),e.setTableUrl(e.loginType.loginType))}})}).catch(function(){e.$message({type:"info",message:"已取消"})})}}]}}]:[{id:"companyName",title:"单位名称",className:"text-left",width:120,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"name",title:"笔面试标题",className:"text-left",width:120,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"beginTime",title:"笔面试时间",className:"text-left",width:120},{id:"areaName",title:"场地",className:"text-left",width:100,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"contactPeople",title:"联系人",className:"text-left",width:100},{id:"contactPhone",title:"联系电话",className:"text-left",width:100},{id:"auditTime",title:"提交时间",className:"text-left",width:150},{id:"status",title:"审核状态",className:"text-left",width:100,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"待审核",value:0},{label:"已通过",value:1},{label:"未通过",value:2},{label:"已撤回",value:3},{label:"已下架",value:4},{label:"驳回等待重新提交",value:5}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.statusName}},{id:"reason",title:"审核意见",className:"text-left",width:100,hidden:!1,formatter:function(e){if(!e.reason)return" - "}},{id:"opts",title:"操作",width:200,hidden:!1,formatter:function(t){return[{tag:"a",text:"查看",className:0==t.status?"none":"",callback:function(t,a){e.interviewId=t.id,e.curStatus="details"}},{tag:"a",text:"审核",className:0==t.status?"":"none",callback:function(t,a){r(t.id).then(function(t){t.state&&(e.defaultInfo=t.data,e.curStatus="edit")})}}]}}]}},created:function(){this.catchLoginType(),this.catchPlaceRules()}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contentBox",attrs:{id:"interview"}},["list"!=e.curStatus?a("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(t){e.curStatus="list"}}},[e._v("返回")]):e._e(),e._v(" "),"list"==e.curStatus?a("div",{staticClass:"interviewTable"},[a("v-table",{ref:"unitsManagerTable",attrs:{order:!0,url:e.tableDataUrl,columns:e.columns,pagesize:"10",search:!1,idField:"id"}},[a("div",{staticClass:"pull-right",staticStyle:{"margin-right":"20px"},attrs:{slot:"btn-group"},slot:"btn-group"},[a("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:function(t){e.curStatus="edit",e.defaultInfo=null}}},[e._v("新增笔试面试")])],1)])],1):e._e(),e._v(" "),"edit"==e.curStatus&&"COMPANY"==e.loginType.loginType?a("add-interview-unit",{attrs:{loginType:e.loginType,placeRule:e.placeRule},on:{backToParent:e.backToParent}}):e._e(),e._v(" "),"edit"==e.curStatus&&e.loginType.isAdmin?a("add-interview-admin",{attrs:{placeRule:e.placeRule,defaultInfo:e.defaultInfo,loginType:e.loginType},on:{backToParent:e.backToParent}}):e._e(),e._v(" "),"details"==e.curStatus?a("interview-detail",{attrs:{loginType:e.loginType,placeRule:e.placeRule,interviewId:e.interviewId},on:{backToParent:e.backToParent}}):e._e()],1)},staticRenderFns:[]};var F=a("C7Lr")(x,O,!1,function(e){a("cl9O"),a("LWSf"),a("TkS/")},"data-v-786aa442",null);t.default=F.exports},v1nW:function(e,t){}});