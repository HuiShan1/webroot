webpackJsonp([100],{EahG:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("a3Yh"),i=e.n(s),n=e("C331"),r={data:function(){var t;return t={barData:"",startTime:"",endTime:""},i()(t,"barData",""),i()(t,"Time",""),i()(t,"needData",{xAxisData:[],seriesYingfaData:[],seriesShifaData:[],seriesQitaData:[]}),t},created:function(){this.setOptionsData()},methods:{daochu:function(){window.location.href="/downloads/pwps/statistics/downLoadMount?startTime="+this.startTime+"&endTime="+this.endTime},selectStartTime:function(t){this.startTime=t.value.substring(0,10).substring(0,4)+t.value.substring(0,10).substring(5,7),this.endTime&&this.setOptionsData()},selectEndTime:function(t){this.endTime=t.value.substring(0,10).substring(0,4)+t.value.substring(0,10).substring(5,7),this.startTime&&this.setOptionsData()},reset:function(){this.$refreshBread(this.data)},setOptionsData:function(){var t=this,a="/api/pwps/statistics/mount?startTime="+this.startTime+"&endTime="+this.endTime;Object(n.c)({url:a,dataType:"json",type:"get",success:function(a){a.state?(0==a.data.length&&t.toast("没有符合条件的数据!"),t.jiexiDataBingXuanRan(a.data)):t.toast("统计数据获取失败!")}})},jiexiDataBingXuanRan:function(t){var a=this;this.needData={xAxisData:[],seriesYingfaData:[],seriesShifaData:[]},0==t.length?this.needData={xAxisData:[],seriesYingfaData:[],seriesShifaData:[]}:t.forEach(function(t,e){a.needData.xAxisData.push(t.unitName),a.needData.seriesYingfaData.push(t.totalPayMount),a.needData.seriesShifaData.push(t.realPayMount),a.Time=t.updateTime}),this.barData={title:"",legend:{data:["应发金额","实发金额"],top:"top"},xAxis:i()({data:this.needData.xAxisData,type:"category",axisLabel:{interval:0}},"axisLabel",{rotate:-45,formatter:function(t){return t.length>12?t.substring(0,12)+"...":t}}),yAxis:{type:"value",show:!0,name:"金额",axisLabel:{formatter:"{value} 元"}},seriesData:[{name:"应发金额",data:this.needData.seriesYingfaData,type:"bar"},{name:"实发金额",data:this.needData.seriesShifaData,type:"bar"}]}}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid",attrs:{id:"jinstatistics-page"}},[e("p",{staticClass:"title",staticStyle:{"text-align":"right",color:"rgb(158,158,158)","padding-right":"15px"}},[t._v("  以下数据统计截止至："+t._s(t.Time))]),t._v(" "),e("div",{staticClass:"row row-top ",staticStyle:{height:"80px !important"}},[e("div",{attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[e("div",{staticClass:"form-group pull-left "},[e("label",[t._v("时间")]),t._v(" "),e("v-datepicker-area",{ref:"datepicker",staticClass:"btn-block time-picker  time-item",on:{startSelected:t.selectStartTime,endSelected:t.selectEndTime}})],1),t._v(" "),e("div",{staticClass:"btn-group pull-left",staticStyle:{"margin-left":"30px"}},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.reset}},[t._v("重置")])]),t._v(" "),e("div",{staticClass:"btn-group pull-left",staticStyle:{"margin-left":"5px"}},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.daochu}},[t._v("导出")])])])]),t._v(" "),e("div",{staticClass:"row content"},[e("div",{staticClass:"table-item"},[e("v-EchartsBar",{attrs:{optionData:t.barData}})],1)])])},staticRenderFns:[]};var l=e("C7Lr")(r,o,!1,function(t){e("yZ5z")},"data-v-2b94be01",null);a.default=l.exports},yZ5z:function(t,a){}});