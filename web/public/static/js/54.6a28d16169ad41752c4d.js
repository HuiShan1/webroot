webpackJsonp([54],{"9P9J":function(t,e){},Gu7T:function(t,e,n){"use strict";e.__esModule=!0;var a,i=n("c/Tr"),s=(a=i)&&a.__esModule?a:{default:a};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,s.default)(t)}},PUN0:function(t,e,n){"use strict";var a=n("Xxa5"),i=n.n(a),s=n("exGp"),o=n.n(s),r=n("713C"),l=n("V/it"),c=n("B/WJ"),u=n("Se9A"),p=n("N9Ox"),f=n("XfSg"),d=(n("p+qa"),n("MVd6")),m=(Object,Object,Boolean,u.a,p.a,r.a,l.a,c.a,{props:{ojf:Object,myUnit:Object,isManager:Boolean},components:{ModuleContainer:u.a,ModuleLoader:p.a,UnitInfo:r.a,PositionsInfo:l.a,RecruitmentInfo:c.a},data:function(){return{loading:!0,myUnit:null,units:[],ojfUnitApply:new d.b,submiting:!1}},computed:{},created:function(){var t=this;return o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.myUnit&&(t.ojfUnitApply=d.b.fromUnit(t.myUnit)),!t.isManager){e.next=4;break}return e.next=4,t.initNoJoinedUnits();case 4:t.ojfUnitApply.ojf=t.ojf,t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()},methods:{initNoJoinedUnits:function(){var t=this;return o()(i.a.mark(function e(){var n,a,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getNoJoinedUnits(t.ojf.id);case 2:n=e.sent,a=n.state,s=n.message,o=n.data,a?t.units=o.map(function(t){return{id:t.id,name:t.companyName}}):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},submit:function(){var t=this;return o()(i.a.mark(function e(){var n,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.unitInfo.validate();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:if(!t.isManager){e.next=10;break}return e.abrupt("return",t.submitByManager());case 10:return e.next=12,f.a.apply(t.ojfUnitApply);case 12:n=e.sent,a=n.state,s=n.message,t.submiting=!1,a?t.$alert("提交申请成功","",{center:!0,showClose:!1}).then(function(){t.backToMyOjfList()}):t.$toast(s);case 17:case"end":return e.stop()}},e,t,[[0,5]])}))()},submitByManager:function(){var t=this;return o()(i.a.mark(function e(){var n,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.applyByManager(t.ojfUnitApply);case 2:n=e.sent,a=n.state,s=n.message,t.submiting=!1,a?t.$alert("预留成功","",{center:!0,showClose:!1}).then(function(){t.back()}):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},backToMyOjfList:function(){this.$emit("back-to-my-list",{refresh:!0})},back:function(){this.$emit("back-to-list")}}}),y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"back",on:{click:t.back}},[n("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),n("div",{staticClass:"page-title"},[t._v("\n    "+t._s("网招会名称："+t.ojf.name)+"\n  ")]),t._v(" "),t.loading?n("module-loader"):n("div",{staticClass:"module-container"},[n("unit-info",{ref:"unitInfo",attrs:{"my-unit":t.myUnit,units:t.units,edit:""},model:{value:t.ojfUnitApply,callback:function(e){t.ojfUnitApply=e},expression:"ojfUnitApply"}}),t._v(" "),n("positions-info",{attrs:{edit:""},model:{value:t.ojfUnitApply.positions,callback:function(e){t.$set(t.ojfUnitApply,"positions",e)},expression:"ojfUnitApply.positions"}}),t._v(" "),n("recruitment-info",{attrs:{edit:""},model:{value:t.ojfUnitApply.recruitment,callback:function(e){t.$set(t.ojfUnitApply,"recruitment",e)},expression:"ojfUnitApply.recruitment"}}),t._v(" "),n("module-container",{attrs:{actions:""}},[n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.submiting,expression:"submiting"}],attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v(t._s(t.isManager?"预留":"提交审核"))])],1)],1)],1)},staticRenderFns:[]},h=n("VU/8")(m,y,!1,null,null,null);e.a=h.exports},gaWH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("MVd6"),i={data:function(){var t=this;return{page:"LIST",table:{url:"/table-data/employment/platform/getNetworkMeetingList?ts=",search:{ts:+new Date,beginTime:"",endTime:""},columns:[{id:"name",title:"网招会名称",className:"text-left",width:100,hidden:!1,search:{type:"",data:{placeholer:"网招会名称",autoFocus:!1}},formatter:function(t){return a.a.fromApi(t).getNameHtmlWithStatus()}},{id:"startTime",title:"网招会开始时间",className:"text-left",width:140,hidden:!1,formatter:function(t){return new Date(t.beginTime).format("yyyy-MM-dd HH:mm")}},{id:"endTime",title:"网招会结束时间",className:"text-left",width:140,hidden:!1,formatter:function(t){return new Date(t.endTime).format("yyyy-MM-dd HH:mm")}},{id:"startApplyTime",title:"申请开始时间",className:"text-left line-height-normal",width:145,hidden:!1,formatter:function(t){return""+new Date(t.applyBeginTime).format("yyyy-MM-dd HH:mm")}},{id:"endApplyTime",title:"申请开始时间",className:"text-left line-height-normal",width:145,hidden:!1,formatter:function(t){return""+new Date(t.applyEndTime).format("yyyy-MM-dd HH:mm")}},{id:"opt",title:"操作",width:120,hidden:!1,formatter:function(e){return[{show:{tag:"a",text:"查看",callback:function(e,n){t.showOjf(a.a.fromApi(e))}}}.show]}}]},currentDcw:null}},computed:{tableUrl:function(){return this.table.url+"&beginTime="+(this.table.search.beginTime||"")+"&endTime="+(this.table.search.endTime||"")+"&ts="+this.table.search.ts}},methods:{showOjf:function(t){this.$emit("to-detail",t)},refreshTable:function(){this.table.search.ts=+new Date}}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("v-table",{attrs:{url:this.tableUrl,columns:this.table.columns,idField:"id",pagesize:"20",multiple:!1,search:!1,order:!0}})},staticRenderFns:[]},o=n("VU/8")(i,s,!1,null,null,null).exports,r=n("DkpT"),l={data:function(){var t=this;return{table:{url:"/table-data/employment/networkMeeting/getMyNetworkMeetingList?ts=",search:{ts:+new Date,beginTime:"",endTime:""},columns:[{id:"name",title:"网招会名称",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"beginTime",title:"网招会开始时间",className:"text-left",width:145,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"createTime",title:"提交时间",className:"text-left",width:145,hidden:!1},{id:"status",title:"审核状态",className:"text-left",width:80,hidden:!1,formatter:function(t){var e=r.c[t.status]||r.b[t.status];return'<span class="el-tag el-tag--small el-tag--dark el-tag--'+r.d[t.status]+'">'+e+"</span>"},search:{type:"select",data:{placeholer:"审核状态",autoFocus:!1,optionsLabel:"text",optionsValue:"id",options:r.e}}},{id:"auditReason",title:"审核意见",className:"text-left",width:100,hidden:!1},{id:"opt",title:"操作",width:100,hidden:!1,formatter:function(e){return[{show:{tag:"a",text:"查看",callback:function(e,n){t.toApplyDetail({ojfUnitApplyId:e.participantId,ojf:new a.a({id:e.id}),auditReason:e.auditReason})}}}.show]}}]}}},computed:{tableUrl:function(){return this.table.url+"&ts="+this.table.search.ts}},methods:{toApplyDetail:function(t){this.$emit("to-apply-detail",t)},refreshTable:function(){this.table.search.ts=+new Date}}},c={render:function(){var t=this.$createElement;return(this._self._c||t)("v-table",{attrs:{url:this.tableUrl,columns:this.table.columns,idField:"id",pagesize:"20",multiple:!1,search:!1,order:!0}})},staticRenderFns:[]},u=n("VU/8")(l,c,!1,null,null,null).exports,p=n("Gu7T"),f=n.n(p),d=n("Xxa5"),m=n.n(d),y=n("//Fk"),h=n.n(y),b=n("exGp"),v=n.n(b),j=n("Se9A"),g=n("p+qa"),A=n("XfSg"),U=n("+X9P"),w=n("0FSR"),k=(Object,j.a,U.a,w.a,{props:{ojf:Object},components:{ModuleContainer:j.a,BaseInfo:U.a,UnitsInfo:w.a},data:function(){return{loading:!1,showOpLogs:!1,myUnit:null,myApplyInfo:null,opLogDataUrl:""}},computed:{hasApplied:function(){return!(!this.myApplyInfo||this.myApplyInfo.status!==r.a.PASSED)},canApply:function(){return!this.hasApplied&&this.ojf.isApplying()}},created:function(){var t=this;return v()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.all([t.initUnits(),t.initMyUnit(),t.initMyApplyInfo()]);case 2:t.loading=!1;case 3:case"end":return e.stop()}},e,t)}))()},methods:{initUnits:function(){var t=this;return v()(m.a.mark(function e(){var n,i,s,o,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(t.ojf.id);case 2:n=e.sent,i=n.state,s=n.message,o=n.data,i?(r=t.ojf.units).push.apply(r,f()(a.a.fromApi(o).units)):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initMyUnit:function(){var t=this;return v()(m.a.mark(function e(){var n,a,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.f)();case 2:n=e.sent,a=n.state,i=n.message,s=n.data,a?t.myUnit=s:t.$toast(i);case 7:case"end":return e.stop()}},e,t)}))()},initMyApplyInfo:function(){var t=this;return v()(m.a.mark(function e(){var n,i,s,o,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.getMyOjfUnitApply(t.ojf.id);case 2:n=e.sent,i=n.state,s=n.code,o=n.message,r=n.data,i?r&&(t.myApplyInfo=a.b.fromApi(r)):"50001"===s?t.myApplyInfo=null:t.$toast(o);case 8:case"end":return e.stop()}},e,t)}))()},showMyApplyInfo:function(){var t=this;return v()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("to-apply-detail",{ojf:t.ojf,ojfUnitApplyId:t.myApplyInfo.id,from:"DETAIL"});case 1:case"end":return e.stop()}},e,t)}))()},showOjfUnitApply:function(t,e){this.$emit("to-apply-detail",{ojf:this.ojf,ojfUnitApplyId:t.id,from:"DETAIL"})},toApply:function(){this.$emit("to-apply",{myUnit:this.myUnit})},backToList:function(){this.$emit("back-to-list",{})}}}),x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"back",on:{click:t.backToList}},[n("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),n("div",{staticClass:"module-container"},[n("base-info",{model:{value:t.ojf,callback:function(e){t.ojf=e},expression:"ojf"}}),t._v(" "),n("units-info",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],on:{"show-ojf-unit-apply":t.showOjfUnitApply},model:{value:t.ojf.units,callback:function(e){t.$set(t.ojf,"units",e)},expression:"ojf.units"}}),t._v(" "),n("module-container",{attrs:{actions:"",loader:t.loading}},[t.hasApplied?n("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.showMyApplyInfo}},[t._v("查看我的参会信息")]):t.myApplyInfo?n("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.showMyApplyInfo}},[t._v("查看我的申请")]):this.ojf.isApplying()?n("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.toApply}},[t._v("申请")]):n("el-button",{attrs:{type:"info",size:"large",disabled:""}},[t._v("不在报名时间内")])],1)],1)])},staticRenderFns:[]},L=n("VU/8")(k,x,!1,null,null,null).exports,T=n("PUN0"),I=n("G1RR"),M=(T.a,I.a,{components:{UnitOjfDetail:L,UnitOjfApply:T.a,UnitOjfApplyDetail:I.a,UnitAllOjfList:o,UnitMyOjfList:u},data:function(){return{activeList:"ALL",page:"LIST",ojf:null,ojfUnitApply:null,ojfUnitApplyId:null,myUnit:null,applyDetailFrom:null}},watch:{activeList:function(t){var e={ALL:"allOjfList",MINE:"myOjfList"}[t];this.$refs[e].refreshTable()}},methods:{toApply:function(t){var e=t.myUnit;this.myUnit=e,this.page="APPLY"},toDetail:function(t){this.ojf=t,this.ojfUnitApply=null,this.myUnit=null,this.page="DETAIL"},toApplyDetail:function(t){var e=t.ojfUnitApplyId,n=t.ojf,a=t.from;this.ojf=n,this.ojfUnitApplyId=e,this.page="APPLY_DETAIL",this.applyDetailFrom=a},bakcToMyList:function(){this.page="LIST",this.activeList="MINE",this.$refs.myOjfList.refreshTable()},backToDetail:function(){this.page="DETAIL"},backToList:function(){this.page="LIST"},applyDetailBack:function(t){var e=t.from,n=t.refresh;this.page=e||"LIST",n&&this.$refs.myOjfList.refreshTable()}}}),_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"LIST"===t.page,expression:"page === 'LIST'"}],staticClass:"tab-content"},[n("el-tabs",{model:{value:t.activeList,callback:function(e){t.activeList=e},expression:"activeList"}},[n("el-tab-pane",{attrs:{label:"网招会列表",name:"ALL"}},[n("unit-all-ojf-list",{ref:"allOjfList",on:{"to-detail":t.toDetail}})],1),t._v(" "),n("el-tab-pane",{attrs:{label:"我的网招会",name:"MINE"}},[n("unit-my-ojf-list",{ref:"myOjfList",on:{"to-apply-detail":t.toApplyDetail}})],1)],1)],1),t._v(" "),"DETAIL"===t.page?n("div",[n("unit-ojf-detail",{attrs:{ojf:t.ojf},on:{"back-to-list":t.backToList,"to-apply":t.toApply,"to-apply-detail":t.toApplyDetail}})],1):t._e(),t._v(" "),"APPLY"===t.page?n("div",[n("unit-ojf-apply",{attrs:{ojf:t.ojf,"my-unit":t.myUnit},on:{"back-to-list":t.backToDetail,"back-to-my-list":t.bakcToMyList}})],1):t._e(),t._v(" "),"APPLY_DETAIL"===t.page?n("div",[n("unit-ojf-apply-detail",{attrs:{ojf:t.ojf,"ojf-unit-apply-id":t.ojfUnitApplyId,"is-unit":"",from:t.applyDetailFrom},on:{back:t.applyDetailBack,"back-to-my-list":t.bakcToMyList}})],1):t._e()])},staticRenderFns:[]};var D=n("VU/8")(M,_,!1,function(t){n("9P9J")},null,null);e.default=D.exports}});