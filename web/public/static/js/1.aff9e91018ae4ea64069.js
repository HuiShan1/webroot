webpackJsonp([1],{"6ujG":function(e,t){},"C/tN":function(e,t){},IMCC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),c=s("C331"),o=s("a/8i"),n=s("4DA3"),l=(n.a,o.default,{data:function(){return{toDetails:!1,searchValue:"",nature:"",sendTime:"",timeRange:"",regionList:[],recruitmentInfo:{},classificationChecked:[],showCollect:!1,collectList:[],showRecruit:!0,classificationList:[],classificationList_select:[],classificationList_slice:[],recruitmentList:[],checkUserInfo:null,total:15,curPage:0,showMoreType:!1,dataObj:{}}},methods:{onSearch:function(){var e=this;this.ScrollTop(300,200);var t="/api/employment/platform/getPositionListBySearch?pageSize=15&pageIndex="+this.curPage;this.searchValue&&(this.dataObj.keyWord=this.searchValue),this.nature&&(this.dataObj.positionProperty=this.nature),Object(c.e)({url:t,type:"post",data:this.dataObj,success:function(t){t&&t.state?(t.data&&t.data.content&&Array.isArray(t.data.content)&&(e.recruitmentList=[],t.data.content.forEach(function(t){var s="";t.issueTime&&(s+="发布于",s+=t.issueTime.split(" ")[0]),e.recruitmentList.push({id:t.id,positionName:t.positionName,workplace:t.workplace,companyName:t.companyName,issueTime:s,salary:t.salary,isCollect:t.isCollect,type:t.type})})),e.showRecruit=!1):(e.$message.error("获取招聘列表失败"),e.showRecruit=!1),e.showRecruit=!1}})},keyupSubmit:function(){var e=this;document.onkeydown=function(t){13===window.event.keyCode&&e.onSearch()}},ScrollTop:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[1];if(!s)return document.body.scrollTop=document.documentElement.scrollTop=t,t;var a=s/20,i=document.body.scrollTop+document.documentElement.scrollTop,c=(t-i)/a,o=setInterval(function(){a>0?(a--,e.ScrollTop(i+=c)):clearInterval(o)},20)},getlinkAgeData:function(e){this.regionList=e},handleCurrentChange:function(e){this.curPage=e-1,this.onSearch()},toApplayDetails:function(e){this.toDetails=!0,this.recruitmentInfo=e},getCollected:function(){this.$router.push({name:"employment",params:{toPage:"/student/collect"}})},timeRangeChange:function(e){e?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=e[0],this.dataObj.endTime=e[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()},timeChange:function(e){"0"==e&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())},natureChange:function(e){this.onSearch()},typeChange:function(e){e.length?this.dataObj.positionTypes=e:delete this.dataObj.positionTypes,this.onSearch()},isToday:function(e){var t=new Date,s=new Date(e);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()},_checkLogin:function(){var e=this;Object(c.e)({url:"/login/check",type:"get",success:function(t){t.state?e.checkUserInfo=t.data:e.checkUserInfo=null}})},setCollect:function(e,t){var s=this;this.checkUserInfo||"STUDENT"==this.checkUserInfo.type||(this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login"));var a="";e.isCollect?(a=t?"/api/employment/collection/cancelCollectByRelationId/"+e.relationId:"/api/employment/collection/cancelCollectByRelationId/"+e.id,Object(c.e)({url:a,type:"delete",success:function(e){e.state?(t?s.getCollected():s.onSearch(),s.$message.success("取消收藏成功")):s.$message.error("取消收藏失败")}})):Object(c.e)({url:"/api/employment/collection/addCollection",type:"post",data:{relationId:e.id},success:function(e){e.state?(t?s.getCollected():s.onSearch(),s.$message.success("收藏成功")):s.$message.error("收藏失败")}})},getInfoError:function(){this.toDetails=!1},getRouter:function(){this.$router.push({name:"employment",params:{toPage:"/schoolResumepx"}})},getPositionTypes:function(){var e=this;Object(c.e)({url:"/api/employment/system/findDictByTypeName?typeName=行业",type:"get",success:function(t){t.state&&(e.classificationList=t.data,e.classificationList_slice=t.data.slice(0,5))}})},checkMore:function(){this.showMoreType?(this.classificationList_slice=JSON.parse(i()(this.classificationList)).slice(0,5),this.showMoreType=!1):(this.classificationList_slice=JSON.parse(i()(this.classificationList)),this.showMoreType=!0)}},components:{linkage:n.a,ApplayDetails:o.default},created:function(){this._checkLogin(),this.onSearch(),this.keyupSubmit(),this.getPositionTypes()}}),r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"test-warp"},[s("div",{staticClass:"recruitmentInfoApply"},[e.toDetails?s("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(t){e.toDetails=!1}}},[e._v("返回")]):e._e(),e._v(" "),s("div",{staticClass:"rec-title"},[s("div",{staticClass:"title"},[e._v("招聘信息")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.checkUserInfo&&"STUDENT"==e.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type == 'STUDENT'"}],staticClass:"collect",on:{click:e.getCollected}},[e._v("我的收藏")])]),e._v(" "),e.toDetails?s("Applay-details",{attrs:{checkUserInfo:e.checkUserInfo,id:e.recruitmentInfo.id,recruitmentInfo:e.recruitmentInfo},on:{getRouter:e.getRouter,getInfoError:e.getInfoError}}):e._e(),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.toDetails,expression:"!toDetails"}]},[s("div",{staticClass:"rec-filtrate"},[s("div",{staticClass:"rec-filtrate-input"},[s("el-input",{staticClass:"search",attrs:{placeholder:"请输入要搜索的职位或公司",clearable:""},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),s("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}})],1),e._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[e._v("性质:")]),e._v(" "),s("div",{staticClass:"radio-item"},[s("el-radio-group",{on:{change:e.natureChange},model:{value:e.nature,callback:function(t){e.nature=t},expression:"nature"}},[s("el-radio",{attrs:{label:"FULL_TIME"}},[e._v("全职")]),e._v(" "),s("el-radio",{attrs:{label:"PRACTICE"}},[e._v("实习")])],1)],1),e._v(" "),s("div",{staticClass:"radio-item"})]),e._v(" "),s("div",{staticClass:"rec-filtrate-item seeMore"},[s("div",{staticClass:"title"},[e._v("分类:")]),e._v(" "),s("el-checkbox-group",{class:{isFlex:e.showMoreType},attrs:{max:3},on:{change:e.typeChange},model:{value:e.classificationChecked,callback:function(t){e.classificationChecked=t},expression:"classificationChecked"}},e._l(e.classificationList_slice,function(t){return s("el-checkbox",{key:t.value,attrs:{title:t.lebel,label:t.value,value:t.label}},[s("span",{attrs:{title:t.label}},[e._v(e._s(t.label))])])}),1),e._v(" "),s("div",{staticClass:"checkMore"},[s("el-button",{attrs:{icon:e.showMoreType?"el-icon-arrow-up":"el-icon-arrow-down"},on:{click:e.checkMore}},[e._v(e._s(e.showMoreType?"收起":"展开更多类型"))])],1)],1),e._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[e._v("发布时间:")]),e._v(" "),s("div",{staticClass:"radio-item"},[s("el-radio-group",{on:{change:e.timeChange},model:{value:e.sendTime,callback:function(t){e.sendTime=t},expression:"sendTime"}},[s("el-radio",{attrs:{label:"0"}},[e._v("不限")]),e._v(" "),s("el-radio",{attrs:{label:"1"}},[e._v("选择时间段")])],1),e._v(" "),s("div",{staticClass:"time",staticStyle:{display:"inline-block","margin-left":"10px"}},[s("el-date-picker",{attrs:{disabled:"1"!=e.sendTime,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.timeRangeChange},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1)],1),e._v(" "),s("div",{staticClass:"radio-item"})])]),e._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showRecruit,expression:"showRecruit"}],staticClass:"recruitmentInfoList"},[e.recruitmentList.length?s("ul",e._l(e.recruitmentList,function(t,a){return s("li",{key:a,class:["item"],on:{click:function(s){return e.toApplayDetails(t)}}},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[e._v(e._s(t.positionName))]),e._v(" "),s("span",{staticClass:"job-price"},[e._v(e._s(t.salary))])]),e._v(" "),s("div",{staticClass:"job-address"},[e._v(e._s("null"==t.workplace?"暂无地址信息":t.workplace))])]),e._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal",class:{hideInfo:e.checkUserInfo&&"STUDENT"==e.checkUserInfo.type}},[s("div",{staticClass:"job-company"},[e._v(e._s(t.companyName))]),e._v(" "),s("div",{staticClass:"job-time"},[e._v(e._s(t.issueTime))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.checkUserInfo&&"STUDENT"==e.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type=='STUDENT'"}],class:{hover:e.checkUserInfo&&"STUDENT"==e.checkUserInfo.type}},[s("img",{directives:[{name:"show",rawName:"v-show",value:!t.isCollect,expression:"!item.isCollect"}],staticClass:"like",attrs:{src:"/static/image/employment/like.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.setCollect(t,!1)}}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isCollect,expression:"item.isCollect"}],staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.setCollect(t,!1)}}}),e._v(" "),s("span",{class:{active:t.isCollect},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.setCollect(t,!1)}}},[e._v(e._s(t.isCollect?"已收藏":"收藏职位"))]),e._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"}},[e._v("申请职位")])],1)])])}),0):e._e(),e._v(" "),e.recruitmentList.length?e._e():s("p",{staticClass:"noResult"},[e._v("\n          暂无招聘信息！\n        ")])]),e._v(" "),s("div",{staticClass:"paginationBox"},[e.recruitmentList.length?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1)])],1),e._v(" "),s("el-dialog",{staticClass:"apply-position",attrs:{"show-close":!1,visible:e.showCollect,width:"60%",title:"收藏列表"},on:{"update:visible":function(t){e.showCollect=t}}},[s("ul",{staticClass:"recruitmentInfoList"},e._l(e.collectList,function(t,a){return s("li",{key:a,staticClass:"item"},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[e._v(e._s(t.positionName))]),e._v(" "),s("span",{staticClass:"job-price"},[e._v(e._s(t.salary))])]),e._v(" "),s("div",{staticClass:"job-address"},[e._v(e._s(t.workplace))])]),e._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal"},[s("div",{staticClass:"job-company"},[s("span",[e._v(e._s(t.companyName))]),s("i",[e._v(e._s(t.issueTime))])])]),e._v(" "),s("div",{staticClass:"hover"},[s("em",{on:{click:function(s){return e.setCollect(t,!0)}}},[s("img",{staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""}}),e._v(" "),s("span",{staticStyle:{"font-style":"normal"}},[e._v("取消收藏")])]),e._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"}},[e._v("申请这个职位")])],1)])])}),0)])],1)},staticRenderFns:[]};var u=s("VU/8")(l,r,!1,function(e){s("6ujG"),s("C/tN"),s("b8c2")},"data-v-e7f38e14",null);t.default=u.exports},b8c2:function(e,t){}});