webpackJsonp([0],{"/tWO":function(t,e,a){"use strict";a("M17r");var i=a("lxAt"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"jobApplyForm"}},[t.isShowLog?a("div",{staticClass:"log"},[a("button",{staticClass:"btn log-toggle",class:[t.logShow?"open":""],attrs:{title:"操作日志"},on:{click:function(e){t.logShow=!t.logShow}}},[t._v("\n        日志\n      ")]),t._v(" "),a("div",{staticClass:"log-content",class:[t.logShow?"active":""]},[t.isLogRecord?a("div",{staticClass:"log-item"},[a("span",{staticClass:"btn-block log-time"},[t._v("当前状态")]),t._v(" "),a("label",[a("strong",[t._v(t._s(t.logData.statusLabel))])])]):a("div",{staticClass:"log-item"},[t._m(0)]),t._v(" "),t._l(t.logData.histories,function(e,i){return a("div",{key:i,staticClass:"log-item"},[a("label",{staticClass:"btn-block log-time"},[t._v(t._s(e.createTime))]),t._v(" "),a("label",{staticClass:"btn-block log-detail"},[t._v("在"),a("strong",[t._v(t._s(e.node.nodeType.name))]),t._v("节点")]),t._v(" "),a("label",{staticClass:"btn-block log-detail"},[a("strong",[t._v(t._s(e.operator.name))]),a("strong",[t._v(t._s(t.actionTypeData[e.actionType])+"申请")])]),t._v(" "),"DISAGREE"===t.actionTypeData[e.actionType]?a("label",{staticClass:"btn-block log-detail"},[t._v("意见为："),a("strong",[t._v(t._s(e.opinion))])]):t._e(),t._v(" "),a("div",{staticClass:"log-records"},t._l(e.modifiedValues,function(e,i){return a("p",{key:i},[a("label",{staticClass:"btn-block log-detail"},[t._v("更新了"),a("strong",[t._v(t._s(e.valueTypeLabel))]),t._v("为"),a("strong",[t._v(t._s(e.newValueLabel))])])])}))])})],2)]):t._e(),t._v(" "),a("div",{staticClass:"jobApplyForm-header"},[a("i",{staticClass:"maticon back-icon-btn pull-left",domProps:{innerHTML:t._s(t.icons("navigate_before"))},on:{click:t._back}},[t._v("navigate_before")]),t._v(" "),a("div",{staticClass:"jobApplyForm-title"},[t._v("岗位申请表")])]),t._v(" "),a("div",{staticClass:"jobApplyForm-body",style:"max-height:"+t.scrollHeight+"px"},[a("div",{staticClass:"date-select-group"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("申请人姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.applyName,expression:"applyListData.applyName"}],staticClass:"form-control form-input",attrs:{type:"text",disabled:!0,placeholder:"请输入姓名"},domProps:{value:t.applyListData.applyName},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"applyName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",staticStyle:{"margin-left":"50px"}},[t._v("联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.contact,expression:"applyListData.contact"}],staticClass:"form-control form-input",attrs:{type:"text",disabled:!t.isApply,placeholder:"请输入联系方式"},domProps:{value:t.applyListData.contact},on:{change:t.isPhoneNo,input:function(e){e.target.composing||t.$set(t.applyListData,"contact",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"date-select-group"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label one-words-difference-margin"},[t._v("申请日期")]),t._v(" "),a("v-datepicker",{ref:"workStartTime",staticClass:"btn-block time-picker",attrs:{disabled:!0,clearButton:!1,showTime:!1},model:{value:t.applyListData.applyTime,callback:function(e){t.$set(t.applyListData,"applyTime",e)},expression:"applyListData.applyTime"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("工作开始时间")]),t._v(" "),a("v-datepicker",{ref:"workStartTime",staticClass:"btn-block time-picker",attrs:{disabled:!t.isApply,clearButton:!1,showTime:!1},model:{value:t.applyListData.workStartTime,callback:function(e){t.$set(t.applyListData,"workStartTime",e)},expression:"applyListData.workStartTime"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("工作结束时间")]),t._v(" "),a("v-datepicker",{ref:"workStartTime",staticClass:"btn-block time-picker",attrs:{disabled:!t.isApply,clearButton:!1,showTime:!1},model:{value:t.applyListData.workEndTime,callback:function(e){t.$set(t.applyListData,"workEndTime",e)},expression:"applyListData.workEndTime"}})],1)]),t._v(" "),a("div",{staticClass:"date-select-group"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"input-label"},[t._v("是否困难生")]),t._v(" "),a("v-select",{staticClass:"btn-block form-select",attrs:{value:t.applyListData.isDifficultyStudent,options:t.isTodifficultStudentData,optionsLabel:"text",optionsValue:"id",disabled:!t.isApply,search:"","close-on-select":""},on:{afterSelected:t.difficultStudentSelected}})],1),t._v(" "),"true"===t.applyListData.isDifficultyStudent?a("div",{staticClass:"form-group"},[a("label",{staticClass:"input-label"},[t._v("困难认定级别")]),t._v(" "),a("v-select",{staticClass:"btn-block form-select",attrs:{value:t.applyListData.difficultyLevel,options:t.difficultyLevelData,optionsLabel:"label",optionsValue:"value",disabled:!t.isApply,search:"","close-on-select":""},on:{afterSelected:t.levelSelected}})],1):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label one-words-difference-margin",attrs:{title:t.applyListData.validWorkTime}},[t._v("工作时间段")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.validWorkTime,expression:"applyListData.validWorkTime"}],staticClass:"form-control form-input",attrs:{type:"text",title:t.applyListData.validWorkTime,disabled:!t.isApply,placeholder:"请输入可工作时间段"},domProps:{value:t.applyListData.validWorkTime},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"validWorkTime",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group computer-skills"},[a("label",{staticClass:"form-label verticalAlign-top"},[t._v("计算机能力")]),t._v(" "),a("div",{staticClass:"computer-content"},[a("div",t._l(t.computerSkillsData,function(e,i){return a("div",{key:i,staticClass:"computer-skills-options"},[a("span",{on:{click:function(a){t.changeComputer(e,t.isApply)}}},[t.applyListData.computerSkill.indexOf(e.title)>=0?a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"icon-title"},[t._v(t._s(e.title))])])})),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"computer-skills-options"},[t.isApply?a("span",{on:{click:function(e){t.changeComputer(t.computerOther,t.isApply)}}},[t.computerOther.checked?a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):a("span",{on:{click:function(e){t.changeComputer(t.computerOther,t.isApply)}}},[t.computerOther.title&&t.applyListData.computerSkill.indexOf(t.computerOther.title)>=0?a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"icon-title"},[t._v("其他")])]),t._v(" "),a("span",{staticClass:"other"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.computerOther.title,expression:"computerOther.title"}],staticClass:"form-control search-input",attrs:{type:"text",disabled:!t.isApply},domProps:{value:t.computerOther.title},on:{input:function(e){e.target.composing||t.$set(t.computerOther,"title",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"form-group computer-skills"},[a("label",{staticClass:"form-label verticalAlign-top one-words-difference-margin"},[t._v("写作能力")]),t._v(" "),a("div",{staticClass:"computer-content"},[a("div",t._l(t.writingAbilityData,function(e,i){return a("div",{key:i,staticClass:"computer-skills-options"},[a("span",{on:{click:function(a){t.changeWriting(e,t.isApply)}}},[t.applyListData.writeSkill.indexOf(e.title)>=0?a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"icon-title"},[t._v(t._s(e.title))])])})),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"computer-skills-options"},[t.isApply?a("span",{attrs:{title:"222"},on:{click:function(e){t.changeWriting(t.writingOther,t.isApply)}}},[t.writingOther.checked?a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):a("span",{on:{click:function(e){t.changeWriting(t.writingOther,t.isApply)}}},[t.writingOther.title&&t.applyListData.writeSkill.indexOf(t.writingOther.title)>=0?a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"icon-title"},[t._v("其他")])]),t._v(" "),a("span",{staticClass:"other"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.writingOther.title,expression:"writingOther.title"}],staticClass:"form-control search-input",attrs:{type:"text",disabled:!t.isApply},domProps:{value:t.writingOther.title},on:{input:function(e){e.target.composing||t.$set(t.writingOther,"title",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[a("label",{staticClass:"input-label three-words-difference-margin verticalAlign-top"},[t._v("备注")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.remark,expression:"applyListData.remark"}],staticClass:"modal-textarea",attrs:{cols:"24",rows:"5",maxlength:"600"},domProps:{value:t.applyListData.remark},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"remark",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[a("label",{staticClass:"input-label one-words-difference-margin"},[t._v("添加附件")]),t._v(" "),t.isApply?a("span",[a("div",{staticClass:"btn upload"},[t._v("添加附件"),a("input",{attrs:{type:"file"},on:{change:function(e){t._fileUpload(e)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"file-div"},[t.applyListData.attachment.length>0?a("ul",{staticClass:"list-group"},t._l(t.applyListData.attachment,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[a("span",{staticClass:"pull-right"},[a("a",{attrs:{"data-href":t.fileUrlPrefix+e.hash},on:{click:t._downloadFile}},[t._v("下载")])]),t._v(" "),a("i",{staticClass:" maticon pull-right",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){t._removeFile(i)}}},[t._v("cancel")]),t._v(" "),t.supportPreview.indexOf(e.originalName.match(/([^.]+)$/)[1])>=0?a("p",{staticClass:"fileName"},[a("a",{staticClass:"a-style",on:{click:function(a){t._showAttachmentPreview(e)}}},[t._v(t._s(e.originalName))])]):a("p",{staticClass:"fileName"},[a("a",[t._v(t._s(e.originalName))])])])})):a("div",{staticClass:"list-group"},[t._v("无")])])])]),t._v(" "),"application"===t.formType?a("div",{staticClass:"jobApplyForm-footer"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn sumbit-form clearBtnBorder",attrs:{type:"button"},on:{click:t.sumbit}},[t._v("提交")])])]):"check"===t.formType?a("div",{staticClass:"jobApplyForm-footer"},["TODO"===t.formStatus?a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._pass}},[t._v("通过")]),t._v(" "),a("button",{staticClass:"btn unpass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._unpass}},[t._v("不通过")])]):t._e(),t._v(" "),t.formDetail.opts?a("div",{staticClass:"btn-group"},[t.formDetail.opts.canRevoke?a("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e()]):t._e()]):"applicationRecord"===t.formType?a("div",{staticClass:"jobApplyForm-footer"},[a("div",{staticClass:"btn-group"},[t.formDetail.opts.canRevoke?a("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e(),t._v(" "),t.formDetail.opts.canResubmit?a("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._resubimt}},[t._v("重新提交")]):t._e(),t._v(" "),t.formDetail.opts.canCancel?a("button",{staticClass:"btn unpass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._cancelApplication}},[t._v("取消申请")]):t._e()])]):a("div",{staticClass:"jobApplyForm-footer"}),t._v(" "),a("v-modal",{attrs:{show:t.showUnpassOpinionModal,width:"500"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("\n        确定不通过该申请吗？\n      ")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.opinion,expression:"opinion"}],staticClass:"unpass-modal-textarea",attrs:{cols:"24",rows:"5",placeholder:"请输入不通过的意见",maxlength:"600"},domProps:{value:t.opinion},on:{input:function(e){e.target.composing||(t.opinion=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showUnpassOpinionModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.submitUnpassOpinion}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("暂无相关日志")])])}]};var o=function(t){a("fFAA")},n=a("C7Lr")(i.a,s,!1,o,null,null);e.a=n.exports},"6pjK":function(t,e){},"7CEZ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),s=a.n(i),o=(a("n+6Y"),a("L7Pj")),n=a.n(o),r=a("C331"),l={inject:{windowObj:{default:null}},props:{departmentId:{default:null},appId:{default:null},formId:{default:null},initWay:{default:"create"},app:{default:null},businessId:{default:null},infoSetting:{default:null}},created:function(){var t=this,e=localStorage.getItem("lang");Object(r.e)(e)&&(this.lang=e),this.pageStamp=Object(r.a)(),this.layoutSetting.scrollContainer="#formSetPage"+this.pageStamp+" .form-part .cells-div",this.title!==this.app||this.app.name,this.formSetting.leftSideData.base.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.table.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.triggers.eventsList.forEach(function(e){e.name=t.translate.eventsList[e.id]}),this._getSettingData(),this.infoSetting?(Object(r.c)({url:"/api/information/columns/"+this.infoSetting.type,type:"get",success:function(e){e.state&&e.data&&e.data.length>0&&(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.info=e.data)}}),this.personalInfoSetting.infoLayoutUrl="/api/information/infoSettings/init/"+this.infoSetting.type,this._getPersonalInfoOf(this.infoSetting.tabs&&this.infoSetting.tabs[0])):this._getFormInfo()},data:function(){return{pageStamp:"",title:"",formSetting:{leftSideControl:{showFavorWigt:!1,showFormWigt:!1,showInfoWigt:!1,showSysWigt:!1,showFormName:"",showSysName:""},leftSideData:{base:[{title:"输入框",top:0,left:0,w:3,h:1,componentType:"input"},{title:"下拉单选框",top:0,left:0,w:3,h:1,componentType:"select"},{title:"单选框",top:0,left:0,w:3,h:1,componentType:"radio"},{title:"复选框",top:0,left:0,w:3,h:1,componentType:"checkbox"},{title:"数字框",top:0,left:0,w:3,h:1,componentType:"number"},{title:"日期",top:0,left:0,w:3,h:1,componentType:"datetime"},{title:"文本",top:0,left:0,w:3,h:1,componentType:"label"},{title:"图片",top:0,left:0,w:3,h:2,componentType:"image"},{title:"电子签名",top:0,left:0,w:3,h:2,componentType:"signature"},{title:"定位",top:0,left:0,w:6,h:3,componentType:"map"},{title:"附件",top:0,left:0,w:3,h:2,componentType:"attachment"},{title:"分割线",top:0,left:0,w:12,h:1,componentType:"splitLine"},{title:"省、地、市(县)",top:0,left:0,w:6,h:1,componentType:"address"},{title:"表格(下方区域配置表格字段)",top:0,left:0,w:12,h:1,componentType:"table"}],table:[{title:"输入框",componentType:"input"},{title:"下拉单选框",componentType:"select"},{title:"单选框",componentType:"radio"},{title:"复选框",componentType:"checkbox"},{title:"数字框",componentType:"number"},{title:"日期",componentType:"datetime"}],info:[],favor:[],form:[],sys:[]},attributesShow:{input:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","rows"],verification:["regexExpression","maxLength","minLength"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","precision"],verification:["maxValue","minValue"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},datetime:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","dateFormat"],verification:["maxDate","minDate"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},radio:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect"],verification:["maxSelect","minSelect"],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{xResizable:!0,yResizable:!1,basic:["exportable","options","autoSelect"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},address:{xResizable:!1,yResizable:!1,basic:["exportable"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},table:{xResizable:!1,yResizable:!1,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataSet"},{type:"bool",id:"deleteByKey"}],basic:["exportable","autoNumber","checkable"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},label:{xResizable:!0,yResizable:!0,basic:["content"],style:["borderTop","borderBottom","color"]},splitLine:{xResizable:!1,yResizable:!1,style:["color"]},image:{xResizable:!0,yResizable:!0,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],basic:["exportable"],verification:["maxWidth","maxHeight"],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}]},signature:{xResizable:!0,yResizable:!0,basic:["exportable"]},map:{xResizable:!0,yResizable:!0,basic:["exportable","map"]},attachment:{xResizable:!0,yResizable:!0,verification:["fileMaxNumber","fileFormat","fileSize"]}},attributes:{placeholder:{type:"text"},rows:{type:"number",min:1},options:{type:"options"},autoSelect:{type:"bool"},precision:{type:"number",min:0},dateFormat:{type:"select",data:[{id:"yyyy-MM-dd",name:"yyyy-MM-dd"},{id:"yyyyMMdd",name:"yyyyMMdd"},{id:"yyyy-MM-dd hh:ii:ss",name:"yyyy-MM-dd hh:ii:ss"},{id:"yyyy-MM",name:"yyyy-MM"}]},autoNumber:{type:"bool"},checkable:{type:"bool"},exportable:{type:"bool"},content:{type:"richText"},color:{type:"color"},borderBottom:{type:"bool"},borderTop:{type:"bool"},regexExpression:{type:"text"},maxWidth:{type:"number"},maxHeight:{type:"number"},minWidth:{type:"number"},minHeight:{type:"number"},maxLength:{type:"number",min:0},minLength:{type:"number",min:0},maxSelect:{type:"number",min:1},minSelect:{type:"number",min:1},maxValue:{type:"number"},minValue:{type:"number"},maxDate:{type:"datetime"},minDate:{type:"datetime"},fileFormat:{type:"multi",required:!0,data:[{id:".txt",name:".txt"},{id:".doc",name:".doc"},{id:".docx",name:".docx"},{id:".wps",name:".wps"},{id:".pdf",name:".pdf"},{id:".ppt",name:".ppt"},{id:".pptx",name:".pptx"},{id:".xls",name:".xls"},{id:".xlsx",name:".xlsx"},{id:".rar",name:".rar"},{id:".zip",name:".zip"},{id:".png",name:".png"},{id:".jpg",name:".jpg"},{id:".jpeg",name:".jpeg"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"},{id:".lrc",name:".lrc"},{id:".rm",name:".rm"},{id:".rmvb",name:".rmvb"},{id:".mp3",name:".mp3"},{id:".mp4",name:".mp4"},{id:".wma",name:".wma"},{id:".wav",name:".wav"},{id:".avi",name:".avi"},{id:".wfs",name:".wfs"}]},fileMaxNumber:{type:"number",min:1},fileSize:{type:"select",data:[{id:51200,name:"50MB"},{id:10240,name:"10MB"},{id:5120,name:"5MB"},{id:2048,name:"2MB"},{id:1024,name:"1MB"}]},map:{type:"map"}},triggers:{eventsList:[{id:"FOCUS",name:"获取焦点"},{id:"BLUR",name:"失去焦点"},{id:"CHANGE",name:"值改变"}],actionsList:[{name:"showComponent",properties:{field:[]}},{name:"hideComponent",properties:{field:[]}},{name:"setText"},{name:"triggerEvent"},{name:"script"}],conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},triggerNotAllowWigt:["table","label","image","attachment","splitLine","signature","map"],actionNotAllowSetWigt:["table","attachment","splitLine","signature","map"],methodsList:[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"delete",name:"DELETE"},{id:"put",name:"PUT"},{id:"patch",name:"PATCH"}],richTextConfig:{toolbars:[["source","undo","redo","500","italic","underline","strikethrough","forecolor","backcolor","lineheight","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","horizontal","date","time","spechars","attachment"]],initialFrameHeight:280},editorShow:!1,mapShow:!1,originalSettingStr:""},layoutSetting:{transition:!0,scriptShow:!1,margin:[8,6,8,6],cellsLines:100,cellLineHeight:86,cellWidth:62,cellHeight:65,draggableX:0,draggableY:0,timer:null,timer2:null,delay:300,scrollContainer:""},searching:!1,searchingText:"",containerDom:null,scaleTarget:null,scaleData:{_startX:0,_startY:0},dragTarget:null,dragData:{show:!1,title:"输入框",top:0,left:0,w:3,h:1,x:0,y:0},dragType:"",cellsDom:null,wigtDataArr:[],code:"",curTarget:null,optionsShow:!1,optionsway:"",urlAddr:"",newOptStr:"",dataSetOptions:[],dataFieldOptions:[],dictionaryOptions:[],initialTime:"currentTime",newNameStr:"",newValueStr:"",newCaseNameStr:"",eventShow:"",curCase:null,oldCase:null,curAction:null,showFieldEvents:!1,showFieldValue:"",triggerSetTextField:null,newObj:{},newObj2:{},preview:!1,isClick:!1,wigtDataArrHistory:[],historyIndex:0,isRedoOrBack:!1,reviseFromId:"",reviseRemark:null,personalInfoSetting:{curInfoId:"",infoIndexJson:{},oldIndexJsonStr:{},infoLayoutUrl:"",changedIds:[]},tabStyleParam:{scrollDeltaX:300,duration:.5},tabShow:!1,lang:"zh-cn"}},computed:{cellsArray:function(){for(var t=[],e=0;e<this.layoutSetting.cellsLines;e++){for(var a=[],i=0;i<12;i++)a.push("");t.push(a)}return t},dataSetId:function(){var t=this,e="";return this.dataSetOptions.forEach(function(a){a.name===t.curTarget.initialization.properties.dataSet&&(e=a.id)}),e},dataSetIdOfCollection:function(){var t=this,e="";return this.dataSetOptions.forEach(function(a){a.name===t.curTarget.collector.dataSet&&(e=a.id)}),e},isValid:function(){return this.dragData.x>=0&&this.dragData.y>=0&&12-this.dragData.x>=this.dragData.w},conditionField:function(){var t=this,e={};return this.wigtDataArr.forEach(function(a){a.name===t.curCase.condition.component&&(e=a)}),e},translate:function(){return Object(r.e)(this.lang).formManage},conditionAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(a){!t.formSetting.triggerNotAllowWigt.indexOf(a.componentType)>=0&&e.push(a)}),e},actionSetValueAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(a){t.formSetting.actionNotAllowSetWigt.indexOf(a.componentType)<0&&e.push(a)}),e},triggerAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(a){t.formSetting.attributesShow[a.componentType].events&&e.push(a)}),e},leftBaseHeight:function(){return 48*Math.ceil(this.formSetting.leftSideData.base.length/2)+70},isChange:function(t){return!!this.formSetting.originalSettingStr&&this.formSetting.originalSettingStr!==s()({title:this.title,code:this.code,components:this.wigtDataArr})},isChangeOfInfo:function(){if(this.personalInfoSetting.curInfoId&&this.wigtDataArr&&this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]){var t=this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId);this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]!==s()({code:this.code,components:this.wigtDataArr})?t<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId):t>=0&&this.personalInfoSetting.changedIds.splice(t,1)}return this.personalInfoSetting.changedIds.length>0}},watch:{wigtDataArr:{deep:!0,handler:function(){var t=this;this.infoSetting||(this.isRedoOrBack?this.isRedoOrBack=!1:(this.layoutSetting.timer2&&clearTimeout(this.layoutSetting.timer2),this.layoutSetting.timer2=setTimeout(function(){t.historyIndex<t.wigtDataArrHistory.length&&t.wigtDataArrHistory.splice(t.historyIndex),t.wigtDataArrHistory.push(JSON.parse(s()(t.wigtDataArr))),t.historyIndex++},200)))}},windowObj:{deep:!0,handler:function(t){this._pauseTransition(),this._justifyLayoutParam()}}},mounted:function(){var t=this;this.containerDom=document.getElementById("formSetPage"+this.pageStamp),n()(""+this.layoutSetting.scrollContainer).on("scroll",function(){t._pauseTransition(),t._justifyLayoutParam()}),n()("#formSetPage"+this.pageStamp).keydown(function(e){if(1==e.ctrlKey){if(83===e.keyCode)return t._saveLayout(),e.preventDefault(),!1;if(90===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex--,t.historyIndex<=0)return t.historyIndex++,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(s()(t.wigtDataArrHistory[t.historyIndex-1]))}if(89===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex++,t.historyIndex>t.wigtDataArrHistory.length)return t.historyIndex--,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(s()(t.wigtDataArrHistory[t.historyIndex-1]))}}return!0}),n()("#formSetPage"+this.pageStamp).on("mousewheel",function(e,a){if(n()(e.target).is(t.layoutSetting.scrollContainer)||n()(e.target).parents(t.layoutSetting.scrollContainer)[0]||n()(e.target).is(".widget-cell")||n()(e.target).parents(".widget-cell")[0]){if(n()(e.target).is(".script-div")||n()(e.target).parents(".script-div")[0])return;var i=n()(t.layoutSetting.scrollContainer).scrollTop();n()(t.layoutSetting.scrollContainer).scrollTop(i+e.originalEvent.deltaY)}}),t._justifyLayoutParam()},methods:{_back:function(){(this.isChange||this.isChangeOfInfo)&&confirm(this.translate.backTip)?this._saveLayout():this.$emit("back")},_gotoRoleSet:function(){this.$emit("gotoRoleSet")},_searchKeyUp:function(t){13===t.keyCode&&(this.searchingText=t.target.value)},_getSettingData:function(){var t=this;Object(r.c)({url:"/api/document/data/types",type:"get",success:function(e){e.state?t.dataSetOptions=e.data:t.toast(e.message)}}).always(function(){Object(r.c)({url:"/api/document/data/types/columns/all",type:"get",success:function(e){e.state?(t.dataFieldOptions=e.data,t.dataFieldOptions.forEach(function(t){t.title=t.title+" ("+t.typeTitle+")",t.columnNameAndTypeName=t.columnName+"+"+t.typeName})):t.toast(e.message)}}).always(function(){Object(r.c)({url:"/api/system/dictTypes",type:"get",success:function(e){e.state?t.dictionaryOptions=e.data:t.toast(e.message)}}).always(function(){Object(r.c)({url:"/api/system/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.sys=e.data):t.toast(e.message)}})})})})},_getFormInfo:function(){var t=this;this.departmentId&&Object(r.c)({url:"/api/departments/"+this.departmentId+"/apps/forms/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.form=e.data):t.toast(e.message)}});var e=this.formId?"/api/apps/settings/forms/"+this.formId:"";"edit"===this.initWay?e=this.businessId?"/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting":"/api/apps/"+this.appId+"/settings/forms":this.title=this.app.name,e&&(this.$waiting.show(),Object(r.c)({url:e,type:"get",success:function(e){e.state?e.data&&("edit"===t.initWay&&(t.title=e.data.name,t.reviseFromId=e.data.fromId,t.reviseRemark=e.data.remark),setTimeout(function(){t._pageClick(),t._componentsProcess(e.data),t.formSetting.originalSettingStr=s()({title:t.title,code:t.code,components:t.wigtDataArr})},300)):t.toast(e.message)}}).always(function(){setTimeout(function(){t.$waiting.close()},300)}))},_componentsProcess:function(t){var e=this;t.components.forEach(function(t,a){t.location&&(e.$set(t,"x",parseInt(t.location.left)),e.$set(t,"y",parseInt(t.location.top))),t.size&&(e.$set(t,"w",parseInt(t.size.width)),e.$set(t,"h",parseInt(t.size.height))),e._initWigt(t)}),this.code=t.property?t.property.script:"",this.wigtDataArr=t.components,this.$nextTick(function(){e._clearEmptyLine()})},_getDataFieldOf:function(t){var e=[];return this.dataFieldOptions.forEach(function(a){a.typeName===t&&e.push(a)}),e},_getFieldOf:function(t){var e="";return this.dataFieldOptions.forEach(function(a){a.typeName===t.dataSet&&a.columnName===t.dataField&&(e=a.columnName+"+"+a.typeName)}),e+""},_getAttributesOfInitialMode:function(t){var e=[];return this.formSetting.attributesShow[t.componentType].initial.forEach(function(a){a.id===t.initialization.mode&&(e=a.attributes||[])}),e},_getFieldValue:function(t){var e=t.fieldName.split("_")[0],a=JSON.parse(s()(t));return"address"===e?(a.value.province||"")+(a.value.city||"")+(a.value.area||"")||this.translate.empty:a.value||this.translate.empty},_exchangeCollection:function(t){this.curTarget.collector||this.$set(this.curTarget,"collector",{flag:!1,dataSet:"",dataField:""}),this.curTarget.collector[t.id]=!this.curTarget.collector[t.id]},_initWigt:function(t){this.$set(t,"initialization",{mode:t.initialization&&t.initialization.mode||"",dynamic:t.initialization&&t.initialization.dynamic||!1,properties:{fixedValue:t.initialization&&t.initialization.properties&&t.initialization.properties.fixedValue||"",sqlQuery:t.initialization&&t.initialization.properties&&t.initialization.properties.sqlQuery||"",dataField:t.initialization&&t.initialization.properties&&t.initialization.properties.dataField||"",dataSet:t.initialization&&t.initialization.properties&&t.initialization.properties.dataSet||"",url:t.initialization&&t.initialization.properties&&t.initialization.properties.url||"",method:t.initialization&&t.initialization.properties&&t.initialization.properties.method||"",key:t.initialization&&t.initialization.properties&&t.initialization.properties.key||"",params:t.initialization&&t.initialization.properties&&t.initialization.properties.params||[],tableFields:t.initialization&&t.initialization.properties&&t.initialization.properties.tableFields||{}}}),this.$set(t,"properties",{basic:{placeholder:t.properties&&t.properties.basic&&t.properties.basic.placeholder||"",rows:t.properties&&t.properties.basic&&t.properties.basic.rows||1,options:t.properties&&t.properties.basic&&t.properties.basic.options||[],tableFields:t.properties&&t.properties.basic&&t.properties.basic.tableFields||[],precision:t.properties&&t.properties.basic&&t.properties.basic.precision||0,dateFormat:t.properties&&t.properties.basic&&t.properties.basic.dateFormat||"yyyy-MM-dd",autoNumber:t.properties&&t.properties.basic&&t.properties.basic.autoNumber||!1,autoSelect:t.properties&&t.properties.basic&&t.properties.basic.autoSelect||!1,checkable:t.properties&&t.properties.basic&&t.properties.basic.checkable||!1,exportable:t.properties&&t.properties.basic&&t.properties.basic.exportable||!0,content:t.properties&&t.properties.basic&&t.properties.basic.content||"",map:t.properties&&t.properties.basic&&t.properties.basic.map||{radius:300,center:{lat:"",lng:""}}},style:{color:t.properties&&t.properties.style&&t.properties.style.color||"#000000",fontSize:t.properties&&t.properties.style&&t.properties.style.fontSize||"",borderTop:t.properties&&t.properties.style&&t.properties.style.borderTop||!1,borderBottom:t.properties&&t.properties.style&&t.properties.style.borderBottom||!1},verification:{regexExpression:t.properties&&t.properties.verification&&t.properties.verification.regexExpression||"",maxLength:t.properties&&t.properties.verification&&t.properties.verification.maxLength||"",minLength:t.properties&&t.properties.verification&&t.properties.verification.minLength||"",maxSelect:t.properties&&t.properties.verification&&t.properties.verification.maxSelect||"",minSelect:t.properties&&t.properties.verification&&t.properties.verification.minSelect||"",maxValue:t.properties&&t.properties.verification&&t.properties.verification.maxValue||"",minValue:t.properties&&t.properties.verification&&t.properties.verification.minValue||"",maxDate:t.properties&&t.properties.verification&&t.properties.verification.maxDate||"",minDate:t.properties&&t.properties.verification&&t.properties.verification.minDate||"",fileFormat:t.properties&&t.properties.verification&&t.properties.verification.fileFormat&&("string"==typeof t.properties.verification.fileFormat?t.properties.verification.fileFormat:t.properties.verification.fileFormat.join(","))||".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:t.properties&&t.properties.verification&&t.properties.verification.fileMaxNumber||"",fileSize:t.properties&&t.properties.verification&&t.properties.verification.fileSize||10240}}),this.$set(t,"collector",{flag:t.collector&&t.collector.flag||!1,deleteByKey:t.collector&&t.collector.deleteByKey||!1,dataSet:t.collector&&t.collector.dataSet||"",dataField:t.collector&&t.collector.dataField||"",tableFields:t.collector&&t.collector.tableFields||{},tableKeys:t.collector&&t.collector.tableKeys||[]}),this.$set(t,"events",[{name:"FOCUS",cases:t.events&&t.events[0]&&t.events[0].cases||[]},{name:"BLUR",cases:t.events&&t.events[1]&&t.events[1].cases||[]},{name:"CHANGE",cases:t.events&&t.events[2]&&t.events[2].cases||[]}])},_searchWigt:function(t){this.searchingText=t.target.value},_showWigtContainer:function(t){for(var e in this.formSetting.leftSideControl)!0===this.formSetting.leftSideControl[e]&&e!==t&&(this.formSetting.leftSideControl[e]=!1);this.formSetting.leftSideControl[t]=!this.formSetting.leftSideControl[t]},_showFormWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="form"+t?"":"form"+t},_showInfoWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="info"+t?"":"info"+t},_showSysWigt:function(t){this.formSetting.leftSideControl.showSysName=this.formSetting.leftSideControl.showSysName==="sys"+t?"":"sys"+t},_optionsTxtChange:function(t,e,a){var i=e[a];e.splice(a,1),e.indexOf(t.target.value)>=0?(this.$toast("选项已存在列表中"),e.splice(a,0,i)):e.splice(a,0,t.target.value)},_justifyLayoutParam:function(){this.layoutSetting.draggableX=n()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().left-n()(this.containerDom).offset().left,this.layoutSetting.draggableY=n()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().top-n()(this.containerDom).offset().top},_clearEmptyLine:function(){var t=0,e=0;this.wigtDataArr.forEach(function(t){e<t.y+t.h-1&&(e=t.y+t.h-1)});for(var a=0;a<=e;){t=a;for(var i=0;i<this.wigtDataArr.length;i++)if(a>=this.wigtDataArr[i].y&&a<=this.wigtDataArr[i].y+this.wigtDataArr[i].h-1){a+=1;break}if(t===a){var s=!0;if(this.wigtDataArr.forEach(function(e){e.y>t&&(s=!1,e.y=e.y-1)}),s)break;e-=1}}},_testTwoNode:function(t,e){return(t.x+t.w-1>=e.x&&t.x<=e.x||t.x<=e.x+e.w-1&&t.x>=e.x||t.x>=e.x&&t.x+t.w-1<=e.x+e.w-1||t.x<=e.x&&t.x+t.w-1>=e.x+e.w-1)&&(t.y+t.h-1>=e.y&&t.y<=e.y||t.y<=e.y+e.h-1&&t.y>=e.y||t.y>=e.y&&t.y+t.h-1<=e.y+e.h-1||t.y<=e.y&&t.y+t.h-1>=e.y+e.h-1)},_collisionDetect:function(t){var e=this;this.wigtDataArr.forEach(function(a){if(t.name!==a.name){var i=a.y-t.y;(t.x+t.w-1>=a.x&&t.x<=a.x||t.x<=a.x+a.w-1&&t.x>=a.x||t.x>=a.x&&t.x+t.w-1<=a.x+a.w-1||t.x<=a.x&&t.x+t.w-1>=a.x+a.w-1)&&(t.y+t.h-1>=a.y&&t.y<=a.y||t.y<=a.y+a.h-1&&t.y>=a.y||t.y>=a.y&&t.y+t.h-1<=a.y+a.h-1||t.y<=a.y&&t.y+t.h-1>=a.y+a.h-1)&&e.wigtDataArr.forEach(function(e){e.y+e.h-1>=t.y&&e.name!==t.name&&(e.y=e.y+t.h-i)})}}),this.$nextTick(function(){e._clearEmptyLine()})},_mouseDown:function(t){var e=this;t.cancelBubble=!0,this.isClick=!0,this.layoutSetting.timer=setTimeout(function(){e.isClick=!1},300),setTimeout(function(){if(!t.button&&!e.isClick){e._pauseTransition();var a=null;if(n()(t.target).is(".drag")?a=t.target:n()(t.target).is(".form-label")||n()(t.target).is(".table-item-div .gm-scroll-view")?a=n()(t.target).parents(".drag")[0]:n()(t.target).is(".duplicate")&&(a=n()(t.target).parents(".drag")[0]),a){var i,o;if(a.getAttribute("data-wigtType")||n()(t.target).is(".duplicate"))for(o in e.dragTarget=document.getElementById("dragDom"),e.dragType="create",i="form"===a.getAttribute("data-wigtType")?JSON.parse(s()(e.formSetting.leftSideData.form[a.getAttribute("data-formindex")].wigts[a.getAttribute("data-key")])):"info"===a.getAttribute("data-wigtType")?JSON.parse(s()(e.formSetting.leftSideData.info[a.getAttribute("data-infoindex")].wigts[a.getAttribute("data-key")])):"base"===a.getAttribute("data-wigtType")?JSON.parse(s()(e.formSetting.leftSideData.base[a.getAttribute("data-key")])):"sys"===a.getAttribute("data-wigtType")?JSON.parse(s()(e.formSetting.leftSideData.sys[a.getAttribute("data-sysindex")].wigts[a.getAttribute("data-key")])):JSON.parse(s()(e.wigtDataArr[a.getAttribute("data-key")])))e.dragData[o]=i[o];else{for(o in e.dragTarget=a,e.dragType="move",i=JSON.parse(s()(e.wigtDataArr[a.getAttribute("data-key")])))e.dragData[o]=i[o];n()(e.dragTarget).addClass("active")}e.dragData.show=!0,e.dragData.top=a.offsetTop,e.dragData.left=a.offsetLeft}}},this.layoutSetting.delay)},_pauseTransition:function(){var t=this;this.layoutSetting.transition=!1,setTimeout(function(){t.layoutSetting.transition=!0},100)},_mouseUp:function(t){var e=this;if(clearTimeout(this.layoutSetting.timer),!t.button&&!this.isClick){if(this.scaleTarget&&this._scaleMouseUp(t),this.dragData.show&&this.dragTarget&&this.isValid){if(n()(".cell.active").removeClass("active"),"create"===this.dragType){var a={};for(var i in this.dragData)a[i]=this.dragData[i];a.name=a.componentType+"_"+Object(r.a)(),"table"===a.componentType&&a.properties.basic.tableFields.forEach(function(t){t.name=a.componentType+"_"+t.componentType+"_"+Object(r.a)()});var o=!1;this.wigtDataArr.forEach(function(t){t.name===a.name&&(o=!0)}),o?console.log("生成失败，组件同名！"):(this.curTarget=a,this.wigtDataArr.push(a),this._collisionDetect(a))}else n()(this.dragTarget).removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.dragData.name){for(var a in t)t[a]=e.dragData[a];e._collisionDetect(t)}});this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}else if(this.dragTarget&&this.dragTarget.getAttribute("data-key")){var l=JSON.parse(s()(this.wigtDataArr[this.dragTarget.getAttribute("data-key")]));for(var c in l)this.dragData[c]=l[c];this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}this.infoSetting&&(this.dragData.location||this.$set(this.dragData,"location",{}),this.$set(this.dragData.location,"left",this.dragData.x),this.$set(this.dragData.location,"top",this.dragData.y),this.dragData.size||this.$set(this.dragData,"size",{}),this.$set(this.dragData.size,"width",this.dragData.w),this.$set(this.dragData.size,"height",this.dragData.h)),this.dragTarget=null,this.dragData.show=!1,this.dragType=""}},_mouseMove:function(t){if(!t.button&&!this.isClick&&(this.scaleTarget&&this._scaleMouseMove(t),this.dragTarget)){var e,a;if(this.dragData.top=t.pageY-this.dragTarget.offsetHeight/3-n()(this.containerDom).offset().top,this.dragData.left=t.pageX-this.dragTarget.offsetWidth/3-n()(this.containerDom).offset().left,this.dragTarget.style.top=this.dragData.top+"px",this.dragTarget.style.left=this.dragData.left+"px",e=Math.round((this.dragData.left-this.layoutSetting.draggableX)/this.layoutSetting.cellWidth),a=Math.round((this.dragData.top-this.layoutSetting.draggableY)/this.layoutSetting.cellLineHeight),n()(".cell.active").removeClass("active"),this.dragData.x=e,this.dragData.y=a,e>=0&&a>=0&&12-e>=this.dragData.w)for(var i=0;i<this.dragData.h;i++)for(var s=0;s<this.dragData.w;s++)n()("#formSetPage"+this.pageStamp+" .cell .cell[data-x="+(e+s)+"][data-y="+(a+i)+"]").addClass("active")}},_scaleMouseDown:function(t){if(!t.button){this.scaleTarget=n()(t.target).parents(".drag"),this.scaleTarget.addClass("active");var e=JSON.parse(s()(this.wigtDataArr[this.scaleTarget.attr("data-key")]));for(var a in e)this.scaleData[a]=e[a];this.scaleData._startX=t.pageX,this.scaleData._startY=t.pageY,n()(t.target).is(".vertical-resize")?this.scaleData.way="vertical":this.scaleData.way="horizontal"}},_scaleMouseUp:function(t){var e=this;t.button||(this.scaleTarget.removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.scaleData.name){for(var a in t)a===("vertical"===e.scaleData.way?"h":"w")?(t[a]=e.scaleData[a]+e.scaleData["d"+a]<=0?1:e.scaleData[a]+e.scaleData["d"+a],"vertical"!==e.scaleData.way&&(t[a]=e.scaleData.x+t[a]>12?12-e.scaleData.x:t[a])):t[a]=e.scaleData[a];e._collisionDetect(t)}}),"vertical"===this.scaleData.way?this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]-4+"px":this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+"px",this.scaleTarget=null)},_scaleMouseMove:function(t){if(!t.button&&this.scaleTarget){var e=t.pageX,a=t.pageY;"vertical"===this.scaleData.way?(this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]+(a-this.scaleData._startY)+"px",this.scaleData.dh=Math.round((a-this.scaleData._startY)/this.layoutSetting.cellLineHeight)):(this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+(e-this.scaleData._startX)+"px",this.scaleData.dw=Math.round((e-this.scaleData._startX)/this.layoutSetting.cellWidth))}},_remove:function(t){var e=this;this.wigtDataArr.forEach(function(a,i){e.curTarget&&e.curTarget.name===t.name&&(e.curTarget=null),a.name===t.name&&e.wigtDataArr.splice(i,1)}),this._pauseTransition(),this.$nextTick(function(){e._clearEmptyLine()})},_removeTableItem:function(t,e,a){t.collector&&t.collector.tableFields&&delete t.collector.tableFields[a],t.initialization&&t.initialization.tableFields&&delete t.initialization.tableFields[a];var i=t.collector.tableKeys.indexOf(a);i>=0&&t.collector.tableKeys.splice(i,1),t.properties.basic.tableFields.splice(e,1)},_drag:function(t){t.dataTransfer.setData("data",t.target.getAttribute("data-key"))},_dragover:function(t){n()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_drop:function(t){if(n()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.table[t.dataTransfer.getData("data")],a={};(a=JSON.parse(s()(e))).name="table_"+a.componentType+"_"+Object(r.a)();var i=n()(t.target).parents(".drag").attr("data-key");void 0!==i&&this.wigtDataArr[i].properties.basic.tableFields&&this.wigtDataArr[i].properties.basic.tableFields.push(a)}},_pageClick:function(t){this._justifyLayoutParam(),this.curTarget=null},_widgetClick:function(t){t.cancelBubble=!0;var e=null;n()(t.target).is(".drag")?e=n()(t.target):n()(t.target).is(".form-label")||n()(t.target).is(".table-item-div .gm-scroll-view")?e=n()(t.target).parents(".drag"):n()(t.target).is(".table-item")?e=n()(t.target):n()(t.target).is(".table-item span")&&(e=n()(t.target).parents(".table-item")),e&&(e.is(".drag")?this.curTarget=this.wigtDataArr[e.attr("data-key")]:e.is(".table-item")&&(this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.tableFields[e.attr("data-key")]),this.initialTime="currentTime"===this.curTarget.initialization.properties.fixedValue?"currentTime":"defined",this.newNameStr=this.newValueStr="")},_duplicate:function(t){var e={};(e=JSON.parse(s()(t))).name=e.componentType+"_"+Object(r.a)(),"table"===e.componentType&&e.properties.basic.tableFields.forEach(function(t,a){t.name=e.componentType+"_"+t.componentType+"_"+Object(r.a)()+a}),this.wigtDataArr.push(e),this._collisionDetect(t)},_attrSelect:function(t){},_afterSelectInitMode:function(t){this.curTarget.initialization.mode=t.val,"address"===this.curTarget.componentType?this.$set(this.curTarget.initialization.properties,t.val,{}):this.$set(this.curTarget.initialization.properties,t.val,"")},_afterSelectOfInit:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.initialization.properties,"dataField",e[0]||""),this.$set(this.curTarget.initialization.properties,"dataSet",e[1]||"")}else if("dataSet"===t.target.$attrs["data-attr"])this.$set(this.curTarget.initialization.properties,"dataSet",t.value);else if("fixedValue"===t.target.$attrs["data-attr"]){var a=t.target.$attrs["data-addType"];a&&this.$set(this.curTarget.initialization.properties[t.target.$attrs["data-attr"]],a,t.val)}else t.target.$attrs["data-attr"]&&this.$set(this.curTarget.initialization.properties,t.target.$attrs["data-attr"],t.value)},_afterSelectOfCollector:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.collector,"dataField",e[0]||""),this.$set(this.curTarget.collector,"dataSet",e[1]||"")}else"dataSet"===t.target.$attrs["data-attr"]?this.$set(this.curTarget.collector,"dataSet",t.value):t.target.$attrs["data-attr"]&&this.$set(this.curTarget.collector,t.target.$attrs["data-attr"],t.value)},_afterSelectOfTableInit:function(t,e){this.curTarget.initialization.properties.tableFields||this.$set(this.curTarget.initialization.properties,"tableFields",{}),this.$set(this.curTarget.initialization.properties.tableFields,e.name,t.value)},_afterSelectOfTableCollector:function(t,e){this.curTarget.collector.tableFields||this.$set(this.curTarget.collector,"tableFields",{}),this.$set(this.curTarget.collector.tableFields,e.name,t.value)},_checkTableKeys:function(t){this.curTarget.collector.tableKeys||this.$set(this.curTarget.collector,"tableKeys",[]);var e=this.curTarget.collector.tableKeys.indexOf(t.name);e>=0?this.curTarget.collector.tableKeys.splice(e,1):this.curTarget.collector.tableKeys.push(t.name)},_afterSelectedFields:function(t){var e=this,a=t.target.$attrs["data-action"];if("showComponent"===a||"hideComponent"===a){this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,"fields",[]);var i=t.target.selected?t.target.selected.split(","):[];t.val.split(",").forEach(function(t,a){e.curAction.properties.fields.push({name:t,title:i[a]})})}else if("triggerEvent"===a)t.option?(this.showFieldEvents=this.formSetting.attributesShow[t.option.componentType].events&&t.target.values,this.newObj.fieldTitle=t.target.selected,this.newObj.fieldName=t.target.values):(this.newObj.eventsId=t.val,this.newObj.eventName=t.target.selected);else if("setText"===a)if(t.option)this.newObj2.fieldName=this.newObj2.fieldTitle="","address"===t.option.componentType?this.$set(this.newObj2,"value",{}):this.newObj2.value="",this.triggerSetTextField=t.option,this.showFieldValue=t.target.values?t.option.componentType:"",this.newObj2.fieldTitle=t.target.selected,this.newObj2.fieldName=t.target.values;else if("address"!==this.showFieldValue)this.$set(this.newObj2,"value",t.value);else{var s=t.target.$attrs["data-address"];this.newObj2.value||this.$set(this.newObj2,"value",{}),this.$set(this.newObj2.value,s,t.val),"province"===s&&this.newObj2.value&&this.$set(this.newObj2.value,"city","")&&this.$set(this.newObj2.value,"area",""),"city"===s&&this.newObj2.value&&this.$set(this.newObj2.value,"area","")}else if("conditions"===a){var o=t.target.$attrs["data-field"];if(this.curCase.condition||this.$set(this.curCase,"condition",{}),this.$set(this.curCase.condition,o,t.val),"component"===o)this.$set(this.curCase,"condition",{}),this.$set(this.curCase.condition,o,t.val);else if("operator"===o)this.$set(this.curCase.condition,"operator",t.val),this.$set(this.curCase.condition,"data",{});else if("conVal"===o){var n=t.target.$attrs["data-con"];"province"===n&&this.curCase.condition.data&&this.$set(this.curCase.condition.data,"city","")&&this.$set(this.curCase.condition.data,"area",""),"city"===n&&this.curCase.condition.data&&this.$set(this.curCase.condition.data,"area",""),n&&(this.curCase.condition.data||this.$set(this.curCase.condition,"data",{}),this.$set(this.curCase.condition.data,n,t.val))}}},_addConditionProp:function(t){},_daySelectedOfValue:function(t){"setText"===t.target.$attrs["data-action"]&&this.$set(this.newObj2,"value",t.value)},_initOptions:function(t){var e=this,a="";if("string"==typeof t)a=t;else{if(!t.val)return;a="/api/system/dictTypes/"+t.val+"/dicts"}Object(r.c)({url:a,type:"get",success:function(t){t.state?(t.data.forEach(function(t){e.curTarget.properties.basic.options.push(t.label)}),e.optionsShow=!e.optionsShow):e.toast(t.message)}})},_addOption:function(t){var e=this.newOptStr?this.newOptStr:this.translate.attrName.options+Object(r.a)();this.newOptStr="",this.curTarget.properties[t].options.indexOf(e)>=0?this.$toast("选项已存在在列表中"):e?this.curTarget.properties[t].options.push(e):this.$toast("选项不能为空")},_addParam:function(t){var e=this;if(this.newNameStr&&this.newValueStr){var a=!1;this.curTarget.initialization.properties[t].forEach(function(t){t.name===e.newNameStr&&(a=!0)}),a?this.toast(this.translate.initial.keyExistTip):(this.curTarget.initialization.properties[t].push({name:this.newNameStr,value:this.newValueStr}),this.newNameStr=this.newValueStr="")}else this.toast(this.translate.initial.keyInValidTip)},_daySelected:function(t){var e=t.target.$attrs["data-type"],a=t.target.$attrs["data-attr"];this.curTarget.properties[e][a]=t.value},_daySelectedOfInit:function(t){this.curTarget.initialization.properties[t.target.$attrs["data-attr"]]=t.value},_daySelectedOfCondition:function(t){this.$set(this.curCase.condition.data,t.target.$attrs["data-attr"],t.value)},_timeFormat:function(t,e){if(!t)return"";var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e},_fileSizeCheck:function(t){"fileSize"===t&&this.curTarget.properties.verification[t]>this.formSetting.attributes[t].max&&(this.curTarget.properties.verification[t]=this.formSetting.attributes[t].max,this.toast(this.translate.fileMaxSizeTip+this.formSetting.attributes[t].max+"KB"))},_changeInitTime:function(t){this.initialTime=t,this.curTarget.initialization.properties.fixedValue="currentTime"===t?t:""},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_addNewCase:function(t){var e={};t.cases||this.$set(t,"cases",[]),this.$set(e,"name",this.newCaseNameStr?this.newCaseNameStr:"用例"+Object(r.a)()),this.$set(e,"condition",{}),this.$set(e,"actions",[]),t.cases.push(e),this._setCase(e)},_setCase:function(t){this.curCase=t,this.oldCase=JSON.parse(s()(t))},_addAction:function(t){this.curCase.actions||this.$set(this.curCase,"actions",[]);var e={};this.$set(e,"name",t),this.$set(e,"properties",{}),this.curAction=e,this.curCase.actions.push(e)},_addActionProp:function(){if(this.newObj.fieldName){var t=JSON.parse(s()(this.newObj));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.toast(this.translate.eventsList.addTip)},_addActionProp2:function(){if(this.newObj2.fieldName){var t=JSON.parse(s()(this.newObj2));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.toast(this.translate.eventsList.addTip)},_removeAction:function(t){this.curCase.actions.splice(t,1),this.curAction=null},_removeActionProp:function(t){this.$delete(this.curAction.properties,t)},_getFieldArr:function(t){var e=[];return t&&t.forEach(function(t){e.push(t.name)}),e.join(",")},_savecurCase:function(){this.curCase=null,this.curAction=null,this.showFieldValue=""},_cancelSave:function(){for(var t in this.oldCase)this.curCase[t]=this.oldCase[t];this.curAction=null,this.curCase=null,this.showFieldValue=""},_saveLayout:function(){var t=this;this.wigtDataArr.forEach(function(e){t.$set(e,"location",{}),t.$set(e.location,"top",e.y),t.$set(e.location,"left",e.x),t.$set(e,"size",{}),t.$set(e.size,"width",e.w),t.$set(e.size,"height",e.h)}),this._sortLayout(this.wigtDataArr);var e={};if(this.businessId?e={formId:this.reviseFromId,name:this.title,remark:this.reviseRemark,property:{script:this.code},components:this.wigtDataArr}:(e={name:this.title,property:{script:this.code},components:this.wigtDataArr},"edit"===this.initWay&&(e.id=this.formId)),this.infoSetting){var a=this._getChangedInfoArray()||[];this.$emit("submit",a),this.personalInfoSetting.changedIds=[]}else this.$emit("submit",e)},_sortLayout:function(t){t.sort(function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y})},_getPersonalInfoOf:function(t,e){var a=this;if(this.curTarget=null,t){if(this.personalInfoSetting.infoIndexJson[t.id])this.wigtDataArr=this.personalInfoSetting.infoIndexJson[t.id].components,this.personalInfoSetting.curInfoId=t.id;else{this.$waiting.show();var i={};"STUDENT"===this.infoSetting.type&&(i={educationLevel:this.infoSetting.educationLevel}),Object(r.c)({url:this.personalInfoSetting.infoLayoutUrl+"/"+t.id,type:"get",data:i,success:function(e){e.state?(a.$set(a.personalInfoSetting.infoIndexJson,t.id,e.data),setTimeout(function(){a._pageClick(),a._componentsProcess(e.data),a.wigtDataArr.forEach(function(t){a._collisionDetect(t),t.location||a.$set(t,"location",{}),t.location.left=t.x,t.location.top=t.y}),a.wigtDataArr.forEach(function(t){}),a.$set(a.personalInfoSetting.oldIndexJsonStr,t.id,s()({code:a.code,components:a.wigtDataArr})),a.personalInfoSetting.curInfoId=t.id},300)):a.$toast(e.message)}}).always(function(){setTimeout(function(){a.$waiting.close()},300)})}if(e>=0){var o=n()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),l=-n()("#formSetPage"+this.pageStamp+" .tab-list .tab-item").eq(e).position().left;o.css({left:l+"px","transition-duration":this.tabStyleParam.duration+"s"}),this.tabShow=!1}}},_judgeChange:function(){this.personalInfoSetting.curInfoId&&(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId].property.script=this.code,s()(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId])!==this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]&&this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId)<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId))},_getChangedInfoArray:function(){var t=this,e=[];return this.personalInfoSetting.changedIds.forEach(function(a){t._sortLayout(t.personalInfoSetting.infoIndexJson[a].components),e.push(t.personalInfoSetting.infoIndexJson[a])}),e},_scrollTab:function(t){var e=n()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),a=parseInt(e.css("left").replace("px",""));t?-(a-=this.tabStyleParam.scrollDeltaX)>=e.width()-n()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2&&(a=-(e.width()-n()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2)):-(a+=this.tabStyleParam.scrollDeltaX)<=0&&(a=0),e.css({left:a+"px","transition-duration":this.tabStyleParam.duration+"s"})},_markerClick:function(t){this.curTarget.properties.basic.map.center={lat:t.location.lat,lng:t.location.lng}}},destroyed:function(){n()("#formSetPage"+this.pageStamp).off("mousewheel"),n()(this.layoutSetting.scrollContainer).off("scroll")}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid formSetPage",attrs:{id:"formSetPage"+t.pageStamp,tabindex:"1"}},[a("div",{staticClass:"head"},[a("div",{staticClass:"pull-left back-div"},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),a("div",{staticClass:"pull-right opt-div"},[t.infoSetting?a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._gotoRoleSet}},[t._v("参与角色设置")]):t._e(),t._v(" "),a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:function(e){t.preview=!0}}},[t._v(t._s(t.translate.preview))]),t._v(" "),t.infoSetting?a("button",{staticClass:"btn save",class:{hasChange:t.isChangeOfInfo},on:{click:t._saveLayout}},[t._v(t._s(t.translate.sure))]):a("button",{staticClass:"btn save",class:{hasChange:t.isChange},on:{click:t._saveLayout}},[t._v(t._s(t.translate.sure))])])]),t._v(" "),a("div",{staticClass:"body flex-container",on:{mousemove:t._mouseMove,mouseup:t._mouseUp}},[a("GeminiScrollbar",{staticClass:"form-widget",class:t.layoutSetting.scriptShow?"hideTop":"",attrs:{scrollX:!1}},[a("div",{staticClass:"search-container",class:t.searching?"active":""},[a("div",{staticClass:"search-content"},[a("div",{staticClass:"search-head input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.searchPlaceholder},on:{keyup:t._searchKeyUp,change:t._searchWigt}}),t._v(" "),a("span",{staticClass:"input-group-addon",on:{click:function(e){t.searching=!1}}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))}},[t._v("cancel")])])]),t._v(" "),t.searchingText?a("div",{staticClass:"search-body"},[t._l(t.formSetting.leftSideData.base,function(e,i){return e.title.indexOf(t.searchingText)>=0?a("div",{key:"base"+i,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:e.title,"data-key":i,"data-wigtType":"base"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                "+t._s(e.title)+"\n                "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(t.translate.basic))])])]):t._e()}),t._v(" "),t._l(t.formSetting.leftSideData.form,function(e,i){return a("div",{key:"form"+i,staticClass:"col-xm-12"},t._l(e.wigts,function(s,o){return s.title.indexOf(t.searchingText)>=0?a("div",{key:"formwigt"+o,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:s.title,"data-key":o,"data-formindex":i,"data-wigtType":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(s.title)+"\n                  "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}))}),t._v(" "),t._l(t.formSetting.leftSideData.info,function(e,i){return a("div",{key:"info"+i,staticClass:"col-xm-12"},t._l(e.wigts,function(s,o){return s.title.indexOf(t.searchingText)>=0?a("div",{key:"infowigt"+o,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:s.title,"data-key":o,"data-infoindex":i,"data-wigtType":"info"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(s.title)+"\n                  "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}))}),t._v(" "),t._l(t.formSetting.leftSideData.sys,function(e,i){return a("div",{key:"sy"+i,staticClass:"col-xm-12"},t._l(e.wigts,function(s,o){return s.title.indexOf(t.searchingText)>=0?a("div",{key:"sywigt"+o,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:s.title,"data-key":o,"data-sysindex":i,"data-wigtType":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(e.title)+"\n                  "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}))})],2):t._e()])]),t._v(" "),t.searching?t._e():a("div",{staticClass:"part-head"},[a("h3",{staticClass:"pull-left"},[t._v(t._s(t.translate.library))]),t._v(" "),a("span",{staticClass:"circle1 pull-right",on:{click:function(e){t.searching=!0}}},[a("span",{staticClass:"circle2"},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("search"))}},[t._v("search")])])]),t._v(" "),a("div",{staticClass:"wigt-scroll",style:"height:"+t.leftBaseHeight+"px"},[a("div",{staticClass:"widget-container",class:t.curTarget&&"table"===t.curTarget.componentType?"active":""},t._l(t.formSetting.leftSideData.table,function(e,i){return a("div",{key:i,staticClass:"widget-div",class:"table"===e.componentType?"col-xs-12":"col-xs-6"},[a("div",{staticClass:"widget normal",attrs:{title:e.title,"data-key":i,draggable:""},on:{dragstart:t._drag}},[t._v(t._s(e.title))])])})),t._v(" "),a("div",{staticClass:"widget-container",class:t.curTarget&&"table"===t.curTarget.componentType?"":"active"},t._l(t.formSetting.leftSideData.base,function(e,i){return a("div",{key:i,staticClass:"widget-div col-xs-6"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":i,"data-wigtType":"base"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}))])]),t._v(" "),t.searching?t._e():a("div",{staticClass:"part-bottom"},[a("ul",{staticClass:"list-group"},[t.formSetting.leftSideData.favor&&t.formSetting.leftSideData.favor.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFavorWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showWigtContainer("showFavorWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFavorWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.favor)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFavorWigt?"in":""})]):t._e(),t._v(" "),t.formSetting.leftSideData.form&&t.formSetting.leftSideData.form.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showWigtContainer("showFormWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.other)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormWigt?"in":""},[a("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.form,function(e,i){return a("li",{key:i,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormName==="form"+i?"active":"",attrs:{title:e.title}},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showFormWigt(i)}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormName==="form"+i?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormName==="form"+i?"in":""},t._l(e.wigts,function(e,s){return a("div",{key:s,staticClass:"widget-div col-xs-12"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":s,"data-formindex":i,"data-wigtType":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}))])}))])]):t._e(),t._v(" "),t.formSetting.leftSideData.info&&t.formSetting.leftSideData.info.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showInfoWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showWigtContainer("showInfoWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showInfoWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.info)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showInfoWigt?"in":""},[a("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.info,function(e,i){return a("li",{key:i,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormName==="info"+i?"active":"",attrs:{title:e.title}},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showInfoWigt(i)}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormName==="info"+i?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormName==="info"+i?"in":""},t._l(e.wigts,function(e,s){return a("div",{key:s,staticClass:"widget-div col-xs-12"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":s,"data-infoindex":i,"data-wigtType":"info"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}))])}))])]):t._e(),t._v(" "),t.formSetting.leftSideData.sys&&t.formSetting.leftSideData.sys.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showSysWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showWigtContainer("showSysWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showSysWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.allCom)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showSysWigt?"in":""},[a("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.sys,function(e,i){return a("li",{key:i,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showSysName==="sys"+i?"active":"",attrs:{title:e.title}},[a("a",{attrs:{role:"button"},on:{click:function(e){t._showSysWigt(i)}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showSysName==="sys"+i?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showSysName==="sys"+i?"in":""},t._l(e.wigts,function(e,s){return a("div",{key:s,staticClass:"widget-div col-xs-12"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":s,"data-sysindex":i,"data-wigtType":"sys"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}))])}))])]):t._e()])])]),t._v(" "),a("div",{staticClass:"col-md-12 form-part",attrs:{scrollX:!1},on:{click:t._pageClick}},[a("div",{staticClass:"script-btn",on:{click:function(e){t.layoutSetting.scriptShow=!t.layoutSetting.scriptShow}}},[t.layoutSetting.scriptShow?a("span",[t._v(t._s(t.translate.layout))]):a("span",[t._v(t._s(t.translate.script))]),t._v(" "),a("div",{class:t.layoutSetting.scriptShow?"code-script":""},[t.layoutSetting.scriptShow?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("format_align_left"))}},[t._v("format_align_left")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("code"))}},[t._v("code")])])]),t._v(" "),t.layoutSetting.scriptShow?a("div",{staticClass:"script-div"},[t._m(0),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{placeholder:"这里放入你的脚本代码哟~"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]):t._e(),t._v(" "),a("div",{staticClass:"cells-div"},[t.infoSetting?a("div",{staticClass:"form-title info-title"},[a("span",{staticClass:"tab-pre",on:{click:function(e){t._scrollTab(0)}}}),t._v(" "),a("span",{staticClass:"tab-next",on:{click:function(e){t._scrollTab(1)}}}),t._v(" "),a("div",{staticClass:"tab-container"},[a("div",{staticClass:"tab-list"},t._l(t.infoSetting.tabs,function(e,i){return a("div",{key:i,staticClass:"tab-item",class:{active:t.personalInfoSetting.curInfoId===e.id},on:{click:function(a){t._getPersonalInfoOf(e)}}},[t._v(t._s(e.title)),t.personalInfoSetting.changedIds.indexOf(e.id)>=0?a("i",[t._v("*")]):t._e()])})),t._v(" "),t.tabShow?t._e():a("div",{staticClass:"text-center more"},[a("i",{staticClass:"maticon",class:{active:t.tabShow},staticStyle:{"margin-top":"32px",transform:"rotate(-90deg)",cursor:"pointer"},attrs:{title:"类别总览"},domProps:{innerHTML:t._s(t.icons("chevron_left"))},on:{click:function(e){t.tabShow=!t.tabShow}}})])])]):a("h2",{staticClass:"form-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"info-value",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),t._l(t.cellsArray,function(e,i){return a("div",{key:i,staticClass:"container-fluid cell-row"},t._l(t.cellsArray[i],function(t,e){return a("div",{key:e,staticClass:"cell",attrs:{"data-x":e,"data-y":i}},[a("div")])}))})],2)]),t._v(" "),a("GeminiScrollbar",{staticClass:"form-attrs",class:t.layoutSetting.scriptShow?"hideTop":"",attrs:{scrollX:!1}},[a("div",{staticClass:"part-head"},[a("h3",[a("i",{staticClass:"maticon help",attrs:{title:t.translate.help},domProps:{innerHTML:t._s(t.icons("info"))}},[t._v("info")])]),t._v(" "),t.curTarget?a("div",{staticClass:"info-part"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.title)+"*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.title,expression:"curTarget.title"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.title},on:{input:function(e){e.target.composing||t.$set(t.curTarget,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("nameID")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.name,expression:"curTarget.name"}],staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:t.curTarget.name},on:{input:function(e){e.target.composing||t.$set(t.curTarget,"name",e.target.value)}}})])]):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].basic?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.basicAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].basic,function(e,i){return a("div",{key:i,staticClass:"type-attr"},[a("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.basic,e,a.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.basic,e,a.target.value)}}}):"number"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.basic,e,a.target.value)}}}):"bool"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled"},[a("div",{staticClass:"bool-div"},[a("span",{class:t.curTarget.properties.basic[e]?"active":"",on:{click:function(a){t.curTarget.properties.basic[e]=!t.curTarget.properties.basic[e]}}},[t._v(t._s(t.curTarget.properties.basic[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic[e],callback:function(a){t.$set(t.curTarget.properties.basic,e,a)},expression:"curTarget.properties.basic[b]"}}):"multi"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic[e],callback:function(a){t.$set(t.curTarget.properties.basic,e,a)},expression:"curTarget.properties.basic[b]"}}):"datetime"===t.formSetting.attributes[e].type?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%","data-type":"basic"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.basic[e],callback:function(a){t.$set(t.curTarget.properties.basic,e,a)},expression:"curTarget.properties.basic[b]"}}):"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e(),t._v(" "),"richText"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled form-control"},[a("a",{staticClass:"rich-text-toggle",staticStyle:{cursor:"pointer"},on:{click:function(e){t.formSetting.editorShow=!0}}},[t._v("配置富文本")])]):t._e(),t._v(" "),"map"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled form-control"},[a("a",{staticClass:"map-toggle",staticStyle:{cursor:"pointer"},on:{click:function(e){t.formSetting.mapShow=!0}}},[t._v("配置定位参数")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name text-center"},[t._v(t._s(t.translate.way))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),a("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?a("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dictionaryOptions,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.basic[e],function(i,s){return a("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:i,list:t.curTarget.properties.basic[e]},expression:"{ item: opt, list: curTarget.properties.basic[b]}"}],key:s,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text"},domProps:{value:i},on:{change:function(a){t._optionsTxtChange(a,t.curTarget.properties.basic[e],s)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t.curTarget.properties.basic[e].splice(s,1)}}},[t._v("cancel")])])])}),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{change:function(e){t._addOption("basic")},input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].style?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.styleAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].style,function(e,i){return a("div",{key:i,staticClass:"type-attr"},[a("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.style,e,a.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.style,e,a.target.value)}}}):"number"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.style,e,a.target.value)}}}):"bool"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled"},[a("div",{staticClass:"bool-div"},[a("span",{class:t.curTarget.properties.style[e]?"active":"",on:{click:function(a){t.curTarget.properties.style[e]=!t.curTarget.properties.style[e]}}},[t._v(t._s(t.curTarget.properties.style[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"style","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.style[e],callback:function(a){t.$set(t.curTarget.properties.style,e,a)},expression:"curTarget.properties.style[b]"}}):"multi"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"style","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.style[e],callback:function(a){t.$set(t.curTarget.properties.style,e,a)},expression:"curTarget.properties.style[b]"}}):"datetime"===t.formSetting.attributes[e].type?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%","data-type":"style"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.style[e],callback:function(a){t.$set(t.curTarget.properties.style,e,a)},expression:"curTarget.properties.style[b]"}}):"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),a("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?a("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{url:"/api/system/dictTypes","options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.style[e],function(i,s){return a("div",{key:s,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t.curTarget.properties.style[e].splice(s,1)}}},[t._v("cancel")])])])}),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(e){t._addOption("style")}}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].verification?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.verifyAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].verification,function(e,i){return a("div",{key:i,staticClass:"type-attr"},[a("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.verification[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.verification,e,a.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.verification[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.properties.verification,e,a.target.value)}}}):"number"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.verification[e]},on:{change:function(a){t._fileSizeCheck(e)},input:function(a){a.target.composing||t.$set(t.curTarget.properties.verification,e,a.target.value)}}}):"bool"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled"},[a("div",{staticClass:"bool-div"},[a("span",{class:t.curTarget.properties.verification[e]?"active":"",on:{click:function(a){t.curTarget.properties.verification[e]=!t.curTarget.properties.verification[e]}}},[t._v(t._s(t.curTarget.properties.verification[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"verification","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(a){t.$set(t.curTarget.properties.verification,e,a)},expression:"curTarget.properties.verification[b]"}}):"multi"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":t.curTarget.properties.verification[e],required:t.formSetting.attributes[e].required,"data-type":"verification","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(a){t.$set(t.curTarget.properties.verification,e,a)},expression:"curTarget.properties.verification[b]"}}):"datetime"===t.formSetting.attributes[e].type?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%",format:t.curTarget.properties.basic.dateFormat,required:t.formSetting.attributes[e].required,"data-type":"verification"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.verification[e],callback:function(a){t.$set(t.curTarget.properties.verification,e,a)},expression:"curTarget.properties.verification[b]"}}):"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),a("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?a("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{url:"/api/system/dictTypes","options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.verification[e],function(i,s){return a("div",{key:s,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t.curTarget.properties.verification[e].splice(s,1)}}},[t._v("cancel")])])])}),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(e){t._addOption("verification")}}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].collector?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.collectionAttr))]),t._v(" "),a("div",{staticClass:"type-attr"},[t._l(t.formSetting.attributesShow[t.curTarget.componentType].collector,function(e,i){return"flag"!==e.id&&t.curTarget.collector&&t.curTarget.collector.flag||"flag"===e.id?a("div",{key:i,staticClass:"input-group"},[a("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.collector[e.id]))]),t._v(" "),"bool"===e.type?a("div",{staticClass:"form-control info-value disabled"},[a("div",{staticClass:"bool-div"},[a("span",{class:t.curTarget.collector&&t.curTarget.collector[e.id]?"active":"",on:{click:function(a){t._exchangeCollection(e)}}},[t._v(t._s(t.curTarget.collector&&t.curTarget.collector[e.id]?t.translate.on:t.translate.off))])])]):"table"===t.curTarget.componentType&&"dataSet"===e.id?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataSetOptions||[],"data-attr":e.id,"data-prop":"collector","options-value":"name","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfCollector},model:{value:t.curTarget.collector.dataSet,callback:function(e){t.$set(t.curTarget.collector,"dataSet",e)},expression:"curTarget.collector.dataSet"}}):"table"!==t.curTarget.componentType&&"dataField"===e.id?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataFieldOptions||[],"data-attr":e.id,"data-prop":"collector",value:t._getFieldOf(t.curTarget.collector),"options-value":"columnNameAndTypeName","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfCollector}}):t._e()],1):t._e()}),t._v(" "),"table"===t.curTarget.componentType&&t.curTarget.collector.dataSet?a("div",{staticClass:"table-initial-div"},[a("div",{staticClass:"input-group",staticStyle:{padding:"5px 0"}},[a("label",{staticClass:"info-name input-group-addon pull-left",style:{maxWidth:"42px"}},[t._v("表头")]),t._v(" "),a("label",{staticClass:"info-name input-group-addon pull-left",staticStyle:{width:"30%","text-align":"center"}},[t._v("字段")]),t._v(" "),a("label",{staticClass:"info-name input-group-addon pull-right",staticStyle:{width:"30%","text-align":"right"}},[t._v("索引")])]),t._v(" "),t._l(t.curTarget.properties.basic.tableFields,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("label",{staticClass:"info-name input-group-addon",style:{maxWidth:"42px"},attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",style:{width:"148px"},attrs:{autoSelect:!1,options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.collector.dataSet):t.dataFieldOptions||[],value:t.curTarget.collector.tableFields&&t.curTarget.collector.tableFields[e.name],"options-value":"columnName","options-label":"title","close-on-select":""},on:{afterSelected:function(a){t._afterSelectOfTableCollector(a,e)}}}),t._v(" "),a("label",{staticClass:"info-name input-group-addon"},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons(t.curTarget.collector.tableKeys&&t.curTarget.collector.tableKeys.indexOf(e.name)>=0?"check_box":"check_box_outline_blank"))},on:{click:function(a){t._checkTableKeys(e)}}})])],1)})],2):t._e()],2)]):t._e(),t._v(" "),t.curTarget&&(t.curTarget.name.indexOf("table_")<0||"table"===t.curTarget.componentType)&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].initial?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.defaultValue))]),t._v(" "),a("div",{staticClass:"type-attr"},[a("div",{staticClass:"input-group"},[a("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributesShow[t.curTarget.componentType].initial,autoSelect:!1,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectInitMode},model:{value:t.curTarget.initialization.mode,callback:function(e){t.$set(t.curTarget.initialization,"mode",e)},expression:"curTarget.initialization.mode"}})],1),t._v(" "),t.curTarget.initialization.mode?a("div",{staticClass:"prop-div"},[t._l(t._getAttributesOfInitialMode(t.curTarget),function(e,i){return a("div",{key:i,class:"fixedValue"===e&&"datetime"!==t.curTarget.componentType&&"address"!==t.curTarget.componentType||"params"!==e&&"sqlQuery"!==e?"input-group":"form-group",attrs:{title:t.translate.initial[e]}},[a("label","fixedValue"===e?{staticClass:"info-name",class:"datetime"!==t.curTarget.componentType&&"address"!==t.curTarget.componentType?"input-group-addon":"form-label"}:{staticClass:"info-name",class:"params"!==e&&"sqlQuery"!==e?"input-group-addon":"form-label"},[t._v(t._s(t.translate.initial[e]))]),t._v(" "),"fixedValue"===e&&"datetime"===t.curTarget.componentType?a("div",{staticClass:"form-control info-value disabled"},[a("label",{attrs:{for:"currentTime"}},[t._v(t._s(t.translate.initial.currentTime))]),t._v(" "),a("input",{attrs:{type:"radio",name:"dayType",id:"currentTime"},domProps:{checked:"currentTime"===t.initialTime},on:{change:function(e){t._changeInitTime("currentTime")}}}),t._v(" "),a("label",{staticStyle:{"margin-left":"20px"},attrs:{for:"yes"}},[t._v(t._s(t.translate.initial.definedTime))]),t._v(" "),a("input",{attrs:{type:"radio",name:"dayType",id:"yes"},domProps:{checked:"defined"===t.initialTime},on:{change:function(e){t._changeInitTime("defined")}}})]):"fixedValue"!==e||"select"!==t.curTarget.componentType&&"radio"!==t.curTarget.componentType?"fixedValue"===e&&"checkbox"===t.curTarget.componentType?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.curTarget.properties.basic.options),"data-attr":e,"options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(a){t.$set(t.curTarget.initialization.properties,e,a)},expression:"curTarget.initialization.properties[attr]"}}):"fixedValue"!==e||"input"!==t.curTarget.componentType&&"label"!==t.curTarget.componentType?"fixedValue"===e&&"number"===t.curTarget.componentType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.initialization.properties,e,a.target.value)}}}):t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.initialization.properties,e,a.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.curTarget.properties.basic.options),"data-attr":e,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(a){t.$set(t.curTarget.initialization.properties,e,a)},expression:"curTarget.initialization.properties[attr]"}}),t._v(" "),"fixedValue"===e&&"datetime"===t.curTarget.componentType&&"defined"===t.initialTime?a("v-datepicker",{staticClass:"info-value btn-block",staticStyle:{clear:"both"},attrs:{width:"100%","data-attr":e,format:t.curTarget.properties.basic.dateFormat},on:{daySelected:t._daySelectedOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(a){t.$set(t.curTarget.initialization.properties,e,a)},expression:"curTarget.initialization.properties[attr]"}}):t._e(),t._v(" "),"fixedValue"===e&&"address"===t.curTarget.componentType?a("div",[t.curTarget.initialization.properties[e]?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.provinceList,"data-attr":e,"data-addType":"province","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].province,callback:function(a){t.$set(t.curTarget.initialization.properties[e],"province",a)},expression:"curTarget.initialization.properties[attr].province"}}):t._e(),t._v(" "),t.curTarget.initialization.properties[e]&&t.curTarget.initialization.properties[e].province?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._getCityList(t.curTarget.initialization.properties[e].province),"data-attr":e,"data-addType":"city","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].city,callback:function(a){t.$set(t.curTarget.initialization.properties[e],"city",a)},expression:"curTarget.initialization.properties[attr].city"}}):t._e(),t._v(" "),t.curTarget.initialization.properties[e]&&t.curTarget.initialization.properties[e].city?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._getAreaList(t.curTarget.initialization.properties[e].city,t.curTarget.initialization.properties[e].province),"data-attr":e,"data-addType":"area","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].area,callback:function(a){t.$set(t.curTarget.initialization.properties[e],"area",a)},expression:"curTarget.initialization.properties[attr].area"}}):t._e()],1):t._e(),t._v(" "),"sqlQuery"===e?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control",attrs:{rows:"6",cols:"30"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.initialization.properties,e,a.target.value)}}}):"dataSet"===e?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataSetOptions||[],"data-attr":e,"options-value":"name","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(a){t.$set(t.curTarget.initialization.properties,e,a)},expression:"curTarget.initialization.properties[attr]"}}):"dataField"===e?a("v-select",{staticClass:"form-control info-value",attrs:{options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.initialization.properties.dataSet):t.dataFieldOptions||[],"data-attr":e,value:t._getFieldOf(t.curTarget.initialization.properties),"options-value":"columnNameAndTypeName","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfInit}}):"url"===e||"key"===e||"className"===e||"functionName"===e?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(a){a.target.composing||t.$set(t.curTarget.initialization.properties,e,a.target.value)}}}):"method"===e?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.methodsList,"data-attr":e,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(a){t.$set(t.curTarget.initialization.properties,e,a)},expression:"curTarget.initialization.properties[attr]"}}):"dynamic"===e?a("div",{staticClass:"form-control info-value disabled"},[a("div",{staticClass:"bool-div"},[a("span",{class:t.curTarget.initialization.properties[e]?"active":"",on:{click:function(a){t.$set(t.curTarget.initialization.properties,e,!t.curTarget.initialization.properties[e])}}},[t._v(t._s(t.curTarget.initialization.properties[e]?t.translate.on:t.translate.off))])])]):t._e(),t._v(" "),"params"===e?a("div",{staticClass:"options-div active"},[t._l(t.curTarget.initialization.properties[e],function(i,s){return a("div",{key:s,staticClass:"param-div"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("name")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i.name}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[t._v("    ")])]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("value")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i.value}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t.curTarget.initialization.properties[e].splice(s,1)}}},[t._v("cancel")])])])])}),t._v(" "),a("div",{staticClass:"param-div"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("name")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newNameStr,expression:"newNameStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.initial.paramKey},domProps:{value:t.newNameStr},on:{input:function(e){e.target.composing||(t.newNameStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[t._v("    ")])]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("value")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValueStr,expression:"newValueStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.initial.paramValue},domProps:{value:t.newValueStr},on:{input:function(e){e.target.composing||(t.newValueStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(a){t._addParam(e)}}},[t._v("add")])])])])],2):t._e()],1)}),t._v(" "),"table"===t.curTarget.componentType&&"systemValue"===t.curTarget.initialization.mode&&t.curTarget.initialization.properties.dataSet?a("div",{staticClass:"table-initial-div"},t._l(t.curTarget.properties.basic.tableFields,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("label",{staticClass:"info-name input-group-addon"},[t._v(t._s(e.title))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{autoSelect:!1,options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.initialization.properties.dataSet):t.dataFieldOptions||[],value:t.curTarget.initialization.properties.tableFields&&t.curTarget.initialization.properties.tableFields[e.name],"options-value":"columnName","options-label":"title","close-on-select":""},on:{afterSelected:function(a){t._afterSelectOfTableInit(a,e)}}})],1)})):t._e()],2):t._e(),t._v(" "),"fixedValue"!==t.curTarget.initialization.mode?a("div",{staticClass:"input-group info-value disabled",staticStyle:{"max-width":"auto"}},[a("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.initial.dynamic))]),t._v(" "),a("div",{staticClass:"bool-div"},[a("span",{class:t.curTarget.initialization.dynamic?"active":"",on:{click:function(e){t.$set(t.curTarget.initialization,"dynamic",!t.curTarget.initialization.dynamic)}}},[t._v(t._s(t.curTarget.initialization.dynamic?t.translate.on:t.translate.off))])])]):t._e()])]):t._e(),t._v(" "),t.curTarget&&(t.curTarget.name.indexOf("table_")<0||t.curTarget.name.indexOf("table_")>=0&&"table"===t.curTarget.componentType)&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].events?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.events))]),t._v(" "),a("ul",{staticClass:"list-group event-list"},t._l(t.curTarget.events,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[a("span",{staticClass:"case-name",on:{click:function(a){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v(t._s(t.translate.eventsList[e.name]+"("+e.cases.length+")"))]),t._v(" "),t.eventShow===e.name?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("expand_less"))},on:{click:function(a){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v("expand_less")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("expand_more"))},on:{click:function(a){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v("expand_more")]),t._v(" "),t.eventShow===e.name?a("ul",{staticClass:"list-group case-list",on:{click:function(t){t.stopPropagation()}}},[t._l(e.cases,function(i,s){return a("li",{key:s,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled"},[t._v(t._s(i.name))]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.eventsList.set},domProps:{innerHTML:t._s(t.icons("view_quilt"))},on:{click:function(e){e.stopPropagation(),t._setCase(i)}}},[t._v("view_quilt")]),t._v(" "),a("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("delete"))},on:{click:function(t){t.stopPropagation(),e.cases.splice(s,1)}}},[t._v("delete")])])])}),t._v(" "),a("li",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCaseNameStr,expression:"newCaseNameStr"}],staticClass:"form-control info-value text-left",attrs:{type:"text",placeholder:t.translate.eventsList.caseName},domProps:{value:t.newCaseNameStr},on:{input:function(e){e.target.composing||(t.newCaseNameStr=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(a){a.stopPropagation(),t._addNewCase(e)}}},[t._v("add")])])])],2):t._e()])}))]):t._e()])])],1),t._v(" "),t.infoSetting&&t.tabShow?a("div",{staticClass:"info-cover",class:{active:t.tabShow},on:{click:function(e){t.tabShow=!1}}},[a("div",{staticClass:"tab-container3 container-fluid",class:{active:t.tabShow},on:{click:function(t){t.stopPropagation()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShow,expression:"tabShow"}],staticClass:"row"},t._l(t.infoSetting.tabs,function(e,i){return a("div",{key:i,staticClass:"col-md-3 tab-item2",class:{active:t.personalInfoSetting.curInfoId===e.id},attrs:{title:e.title},on:{click:function(a){t._getPersonalInfoOf(e,i)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])})),t._v(" "),a("div",{staticClass:"text-center more",on:{click:function(e){t.tabShow=!t.tabShow}}},[a("i",{staticClass:"maticon",class:{active:t.tabShow},attrs:{title:"类别总览"},domProps:{innerHTML:t._s(t.icons("chevron_left"))}})])])]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"create"===t.dragType,expression:"dragType === 'create'"}],staticClass:"drag-dom",class:t.layoutSetting.transition?"transition":"",style:{width:t.layoutSetting.cellWidth*t.dragData.w+"px",height:t.layoutSetting.cellLineHeight*t.dragData.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px"},attrs:{id:"dragDom"},on:{mouseup:t._mouseUp,mousemove:t._mouseMove}},[a("label",{staticClass:"form-label"},[t._v(t._s(t.dragData.title))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dragData.show,expression:"dragData.show"}],staticClass:"drag-dom-shadow",class:{error:!t.isValid},style:{width:t.layoutSetting.cellWidth*t.dragData.w-t.layoutSetting.margin[1]-t.layoutSetting.margin[3]+"px",height:t.layoutSetting.cellLineHeight*t.dragData.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px",left:t.dragData.x*t.layoutSetting.cellWidth+t.layoutSetting.draggableX+t.layoutSetting.margin[3]+"px",top:t.dragData.y*t.layoutSetting.cellLineHeight+t.layoutSetting.draggableY+t.layoutSetting.margin[0]+"px"},on:{mouseup:t._mouseUp,mousemove:t._mouseMove}},[a("label",{staticClass:"form-label"},[t._v(t._s(t.dragData.title))])]),t._v(" "),t._l(t.wigtDataArr,function(e,i){return t.formSetting.attributesShow[e.componentType]?a("div",{directives:[{name:"show",rawName:"v-show",value:!t.layoutSetting.scriptShow,expression:"!layoutSetting.scriptShow"}],key:i,staticClass:"widget-cell drag",class:{transition:t.layoutSetting.transition,selected:t.curTarget&&t.curTarget.name===e.name},style:{width:t.layoutSetting.cellWidth*e.w-t.layoutSetting.margin[1]-t.layoutSetting.margin[3]+"px",height:t.layoutSetting.cellLineHeight*e.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px",left:e.x*t.layoutSetting.cellWidth+t.layoutSetting.draggableX+t.layoutSetting.margin[3]+"px",top:e.y*t.layoutSetting.cellLineHeight+t.layoutSetting.draggableY+t.layoutSetting.margin[0]+"px",padding:"table"===e.componentType?"0":""},attrs:{"data-key":i,"data-type":e.componentType},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp,click:t._widgetClick}},["checkbox"===e.componentType?a("div",{staticClass:"pull-left special-icon"},[a("i",{staticClass:"maticon pull-right font18",staticStyle:{"margin-top":"-10px"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")])]):t._e(),t._v(" "),"radio"===e.componentType?a("div",{staticClass:"pull-left special-icon"},[a("i",{staticClass:"maticon pull-right font18",staticStyle:{"margin-top":"-10px"},domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")]),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")]),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")])]):t._e(),t._v(" "),"image"===e.componentType?a("i",{staticClass:"maticon picture",domProps:{innerHTML:t._s(t.icons("photo"))}},[t._v("photo")]):"select"===e.componentType?a("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")]),t._v(t._s(e.title))]):"radio"===e.componentType?a("label",{staticClass:"form-label",staticStyle:{border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"checkbox"===e.componentType?a("label",{staticClass:"form-label",staticStyle:{border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"datetime"===e.componentType?a("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("event"))}},[t._v("event")]),t._v(t._s(e.title))]):"splitLine"===e.componentType?a("label",{staticClass:"form-label pull-left",style:"border-color:"+e.properties.style.color+";",attrs:{disabled:""}},[t._v(t._s(e.title))]):"attachment"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{border:"none"},attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("attachment"))}},[t._v("attachment")]),t._v(t._s(e.title)+"\n      ")]):"map"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{border:"none"},attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("my_location"))}},[t._v("location")]),t._v(t._s(e.title)+"\n      ")]):"label"===e.componentType?a("label",{staticClass:"form-label pull-left",style:"border:none;",attrs:{disabled:""}},[t._v(t._s(e.title))]):"table"===e.componentType||"signature"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{padding:"0 12px",border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):a("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[t._v(t._s(e.title))]),t._v(" "),"table"===e.componentType?a("GeminiScrollbar",{staticClass:"table-item-div",attrs:{scrollY:!1},nativeOn:{dragover:function(e){return t._dragover(e)},drop:function(e){return t._drop(e)},click:function(e){return t._widgetClick(e)}}},t._l(e.properties.basic.tableFields,function(s,o){return a("div",{key:o,staticClass:"table-item",class:t.curTarget&&t.curTarget.name===s.name?"selected":"",attrs:{"data-key":o,"data-index":i,title:s.title},on:{click:t._widgetClick}},[a("span",[t._v(t._s(s.title))]),t._v(" "),a("i",{staticClass:"maticon remove table-item-close",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t._removeTableItem(e,o,s.name)}}},[t._v("cancel")])])})):t._e(),t._v(" "),a("div",{staticClass:"pull-right cell-opt"},[a("i",{staticClass:"maticon remove",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t._remove(e)}}},[t._v("cancel")]),t._v(" "),t.formSetting.attributesShow[e.componentType].xResizable?a("i",{staticClass:"maticon resize-horizontal horizontal-resize",attrs:{title:t.translate.hrTip},domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{mousedown:t._scaleMouseDown,mouseup:t._scaleMouseUp,mousemove:t._scaleMouseMove}},[t._v("trending_flat")]):t._e(),t._v(" "),a("i",{staticClass:"maticon duplicate",attrs:{title:t.translate.duplicateTip},domProps:{innerHTML:t._s(t.icons("content_copy"))},on:{click:function(a){t._duplicate(e)}}},[t._v("content_copy")]),t._v(" "),t.formSetting.attributesShow[e.componentType].yResizable?a("i",{staticClass:"maticon resize-vertical vertical-resize",attrs:{title:t.translate.vrTip},domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{mousedown:t._scaleMouseDown,mouseup:t._scaleMouseUp,mousemove:t._scaleMouseMove}},[t._v("trending_flat")]):t._e()])],1):t._e()}),t._v(" "),a("div",{staticClass:"trigger-cover",class:t.curCase?"active":""},[a("div",{staticClass:"trigger-content",on:{click:function(t){t.stopPropagation()}}},[a("i",{staticClass:"maticon close-cover",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){t.curCase=null}}},[t._v("cancel")]),t._v(" "),t.curCase&&t.curCase.condition?a("div",{staticClass:"condition-part"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.condition))]),t._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("v-select",{ref:"componentSelect",staticClass:"info-value btn-block",staticStyle:{"max-width":"auto"},attrs:{options:t.conditionAllowedWigt,placeholder:t.translate.eventsList.fieldsList,autoSelect:!1,"options-value":"name","options-label":"title",width:"100%","data-action":"conditions","data-field":"component"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.component,callback:function(e){t.$set(t.curCase.condition,"component",e)},expression:"curCase.condition.component"}})],1),t._v(" "),t.curCase.condition&&t.curCase.condition.component?a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("v-select",{staticClass:"info-value btn-block",staticStyle:{"max-width":"auto"},attrs:{options:t.formSetting.attributesShow[t.curCase.condition.component.split("_")[0]].conditions,placeholder:t.translate.eventsList.condition,autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"operator"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.operator,callback:function(e){t.$set(t.curCase.condition,"operator",e)},expression:"curCase.condition.operator"}})],1),t._v(" "),t.curCase.condition.operator&&t.curCase.condition.data?a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"row"},["between"===t.curCase.condition.operator||"notBetween"===t.curCase.condition.operator||t.curCase.condition.component&&"address"===t.curCase.condition.component.split("_")[0]?a("div",{staticClass:"col-sm-8"},["address"!==t.curCase.condition.component.split("_")[0]?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-6"},["number"===t.curCase.condition.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.minValue,expression:"curCase.condition.data.minValue"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"minValue"},domProps:{value:t.curCase.condition.data.minValue},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"minValue",e.target.value)}}}):a("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"minValue","data-field":"conVal"},on:{daySelected:t._daySelectedOfCondition},model:{value:t.curCase.condition.data.minValue,callback:function(e){t.$set(t.curCase.condition.data,"minValue",e)},expression:"curCase.condition.data.minValue"}})],1),t._v(" "),t.curCase.condition.data?a("div",{staticClass:"col-xs-6"},["number"===t.curCase.condition.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.maxValue,expression:"curCase.condition.data.maxValue"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"maxValue"},domProps:{value:t.curCase.condition.data.maxValue},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"maxValue",e.target.value)}}}):a("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"maxValue","data-field":"conVal"},on:{daySelected:t._daySelectedOfCondition},model:{value:t.curCase.condition.data.maxValue,callback:function(e){t.$set(t.curCase.condition.data,"maxValue",e)},expression:"curCase.condition.data.maxValue"}})],1):t._e()]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-4"},[a("v-select",{staticClass:"info-value btn-block",attrs:{options:t.provinceList,autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"province"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.province,callback:function(e){t.$set(t.curCase.condition.data,"province",e)},expression:"curCase.condition.data.province"}})],1),t._v(" "),t.curCase.condition.data.province?a("div",{staticClass:"col-xs-4"},[a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._getCityList(t.curCase.condition.data.province),autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"city"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.city,callback:function(e){t.$set(t.curCase.condition.data,"city",e)},expression:"curCase.condition.data.city"}})],1):t._e(),t._v(" "),t.curCase.condition.data.city&&t.curCase.condition.data.province?a("div",{staticClass:"col-xs-4"},[a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._getAreaList(t.curCase.condition.data.city,t.curCase.condition.data.province),autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"area"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.area,callback:function(e){t.$set(t.curCase.condition.data,"area",e)},expression:"curCase.condition.data.area"}})],1):t._e()])]):a("div",{staticClass:"col-sm-4"},["select"===t.curCase.condition.component.split("_")[0]||"radio"===t.curCase.condition.component.split("_")[0]?a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._optionsFixed(t.conditionField?t.conditionField.properties.basic.options:[]),autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"value"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.value,callback:function(e){t.$set(t.curCase.condition.data,"value",e)},expression:"curCase.condition.data.value"}}):"checkbox"===t.curCase.condition.component.split("_")[0]?a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._optionsFixed(t.conditionField.properties.basic.options),autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"value",multiple:""},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.value,callback:function(e){t.$set(t.curCase.condition.data,"value",e)},expression:"curCase.condition.data.value"}}):t.curCase.condition.component&&"datetime"===t.curCase.condition.component.split("_")[0]?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"value","data-field":"conVal"},on:{daySelected:t._daySelectedOfCondition},model:{value:t.curCase.condition.data.value,callback:function(e){t.$set(t.curCase.condition.data,"value",e)},expression:"curCase.condition.data.value"}}):"input"===t.curCase.condition.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.value,expression:"curCase.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"text","data-attr":"value"},domProps:{value:t.curCase.condition.data.value},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"value",e.target.value)}}}):"number"===t.curCase.condition.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.value,expression:"curCase.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"value"},domProps:{value:t.curCase.condition.data.value},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"value",e.target.value)}}}):t._e()],1)])]):t._e()])]):t._e()])])]):t._e(),t._v(" "),a("div",{staticClass:"action-part"},[a("div",{staticClass:"col-md-4 opt-area"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.actionList))]),t._v(" "),a("ul",{staticClass:"list-group action-list"},t._l(t.formSetting.triggers.actionsList,function(e,i){return a("li",{key:i,staticClass:"list-group-item",on:{click:function(a){t._addAction(e.name)}}},[t._v("\n              "+t._s(t.translate.eventsList[e.name])+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"col-md-4 opt-area"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.orgAction))]),t._v(" "),t.curCase?a("ul",{staticClass:"list-group action-desc-list"},t._l(t.curCase.actions,function(e,i){return a("li",{key:i,staticClass:"list-group-item action-desc",on:{click:function(a){t.curAction=e}}},[a("div",{staticClass:"action-desc-head"},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){e.stopPropagation(),t._removeAction(i)}}},[t._v("cancel")]),t._v(" "),a("span",[t._v(t._s(t.translate.eventsList[e.name])+":")])]),t._v(" "),"showComponent"===e.name||"hideComponent"===e.name?a("div",{staticClass:"list-group"},t._l(e.properties.fields,function(e,i){return a("span",{key:i,staticClass:"list-group-item",attrs:{title:e.name}},[t._v("\n                  "+t._s(e.title)+"\n                ")])})):"setText"===e.name?a("ul",{staticClass:"list-group"},t._l(e.properties,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[t._v("\n                  "+t._s(t.translate.eventsList.set)+" "),a("span",{attrs:{title:e.fieldName}},[t._v(t._s(e.fieldTitle))]),t._v(" "+t._s(t.translate.eventsList.valueTo)+" "),a("span",[t._v(t._s(t._getFieldValue(e)))])])})):"triggerEvent"===e.name?a("ul",{staticClass:"list-group"},t._l(e.properties,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[t._v("\n                  "+t._s(t.translate.eventsList.trigger)+" "),a("span",{attrs:{title:e.fieldName}},[t._v(t._s(e.fieldTitle))]),t._v(" "),a("span",[t._v(t._s(e.eventName))]),t._v(" "+t._s(t.translate.eventsList.events)+"\n                ")])})):"script"===e.name?a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[t._v("\n                  "+t._s(e.properties.script)+"\n                ")])]):t._e()])})):t._e()]),t._v(" "),a("div",{staticClass:"col-md-4 opt-area"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.setAction))]),t._v(" "),t.curAction?a("div",{staticClass:"set-container"},["showComponent"===t.curAction.name||"hideComponent"===t.curAction.name?a("div",{staticClass:"components-div"},[a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.fieldsList))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",staticStyle:{"max-width":"auto"},attrs:{options:t.wigtDataArr,autoSelect:!1,value:t.curAction.properties?t._getFieldArr(t.curAction.properties.fields):"","options-value":"name","options-label":"title",width:"100%","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}})],1):t._e(),t._v(" "),"setText"===t.curAction.name?a("div",{staticClass:"settext-div"},[t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.valueList))]):t._e(),t._v(" "),t._l(t.curAction.properties,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(e.fieldTitle))]),t._v(" "),a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:t._getFieldValue(e)}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){t._removeActionProp(i)}}},[t._v("cancel")])])])}),t._v(" "),t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?a("div",{staticClass:"div-line"}):t._e(),t._v(" "),a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.setText))]),t._v(" "),a("div",[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFields))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.actionSetValueAllowedWigt,"options-value":"name","options-label":"title","data-action":t.curAction.name},on:{optionClick:t._afterSelectedFields}}),t._v(" "),t._m(1)],1),t._v(" "),t.showFieldValue?a("div",{staticClass:"input-group",staticStyle:{display:"block"}},[a("span",{staticClass:"info-name",class:["label","datetime","address"].indexOf(t.showFieldValue)>=0?"btn-block":"input-group-addon"},[t._v(t._s(t.translate.eventsList.formFieldsValue))]),t._v(" "),"select"===t.showFieldValue||"radio"===t.showFieldValue?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.triggerSetTextField.properties.basic.options),"options-value":"id","options-label":"name","data-action":t.curAction.name},on:{afterSelected:t._afterSelectedFields}}):"checkbox"===t.showFieldValue?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.triggerSetTextField.properties.basic.options),"options-value":"id","options-label":"name","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}}):"datetime"===t.showFieldValue?a("v-datepicker",{staticClass:"info-value btn-block action-datetime",attrs:{format:t.triggerSetTextField.properties.basic.dateFormat,width:"100%","data-action":t.curAction.name},on:{daySelected:t._daySelectedOfValue}}):"number"===t.showFieldValue?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newObj2.value,expression:"newObj2.value"}],staticClass:"form-control info-value",attrs:{type:"number"},domProps:{value:t.newObj2.value},on:{input:function(e){e.target.composing||t.$set(t.newObj2,"value",e.target.value)}}}):"input"===t.showFieldValue?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newObj2.value,expression:"newObj2.value"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.newObj2.value},on:{input:function(e){e.target.composing||t.$set(t.newObj2,"value",e.target.value)}}}):"label"===t.showFieldValue?a("div",{staticStyle:{position:"relative"}},[a("u-editor",{attrs:{config:t.formSetting.richTextConfig},model:{value:t.newObj2.value,callback:function(e){t.$set(t.newObj2,"value",e)},expression:"newObj2.value"}})],1):"address"===t.showFieldValue?a("div",{staticClass:"btn-block"},[a("v-select",{staticClass:"info-value",attrs:{options:t.provinceList,"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"province"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.province,callback:function(e){t.$set(t.newObj2.value,"province",e)},expression:"newObj2.value.province"}}),t._v(" "),t.newObj2.value&&t.newObj2.value.province?a("v-select",{staticClass:"info-value",attrs:{options:t._getCityList(t.newObj2.value.province),"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"city"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.city,callback:function(e){t.$set(t.newObj2.value,"city",e)},expression:"newObj2.value.city"}}):t._e(),t._v(" "),t.newObj2.value&&t.newObj2.value.city?a("v-select",{staticClass:"info-value",attrs:{options:t._getAreaList(t.newObj2.value.city,t.newObj2.value.province),"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"area"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.area,callback:function(e){t.$set(t.newObj2.value,"area",e)},expression:"newObj2.value.area"}}):t._e()],1):t._e()],1):t._e(),t._v(" "),a("button",{staticClass:"btn btn-block action-add",on:{click:t._addActionProp2}},[a("i",{staticClass:"maticon pull-left",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))}},[t._v("add")]),t._v(" 新增事件值")])])],2):t._e(),t._v(" "),"triggerEvent"===t.curAction.name&&t.curAction.properties?a("div",{staticClass:"triggerEvents-div"},[t.curAction.properties&&JSON.stringify(t.curAction.properties)!=={}?a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.eventsList))]):t._e(),t._v(" "),t._l(t.curAction.properties,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(e.fieldTitle))]),t._v(" "),a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:e.eventName}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){t._removeActionProp(i)}}},[t._v("cancel")])])])}),t._v(" "),t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?a("div",{staticClass:"div-line"}):t._e(),t._v(" "),a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.addEvent))]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFields))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.triggerAllowedWigt,"options-value":"name","options-label":"title","data-action":t.curAction.name},on:{optionClick:t._afterSelectedFields}}),t._v(" "),t._m(2)],1),t._v(" "),t.showFieldEvents?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFieldsEvents))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.triggers.eventsList,"options-value":"id","options-label":"name","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:t._addActionProp}},[t._v("add")])])],1):t._e()],2):t._e(),t._v(" "),"script"===t.curAction.name?a("div",{staticClass:"components-div"},[a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.script))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curAction.properties.script,expression:"curAction.properties.script"}],attrs:{rows:"20",placeholder:"这里放入你的脚本代码哟~"},domProps:{value:t.curAction.properties.script},on:{input:function(e){e.target.composing||t.$set(t.curAction.properties,"script",e.target.value)}}})]):t._e()]):t._e()])]),t._v(" "),a("div",{staticClass:"footer-part"},[a("a",{attrs:{href:"javacript:;"},on:{click:t._cancelSave}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("a",{attrs:{href:"javacript:;"},on:{click:t._savecurCase}},[t._v(t._s(t.translate.sure))])])])]),t._v(" "),t.preview?a("div",{staticClass:"preview-container"},[a("preview",{attrs:{data:t.wigtDataArr,title:t.title,script:t.code,previewType:"pre",infoSetting:t.infoSetting?{tabs:t.infoSetting.tabs,curInfoId:t.personalInfoSetting.curInfoId}:null},on:{tabExchange:t._getPersonalInfoOf,back:function(e){t.preview=!1}}})],1):t._e(),t._v(" "),t.formSetting.editorShow?a("div",{staticClass:"editor-cover"},[a("div",{staticClass:"editor-content modal-content"},[t._m(3),t._v(" "),t.curTarget?a("div",{staticClass:"modal-body",staticStyle:{padding:"0",overflow:"hidden"}},[a("u-editor",{attrs:{config:t.formSetting.richTextConfig},model:{value:t.curTarget.properties.basic.content,callback:function(e){t.$set(t.curTarget.properties.basic,"content",e)},expression:"curTarget.properties.basic['content']"}})],1):t._e(),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.formSetting.editorShow=!1}}},[t._v("确定")])])])]):t._e(),t._v(" "),t.formSetting.mapShow?a("div",{staticClass:"editor-cover"},[a("div",{staticClass:"editor-content modal-content"},[t._m(4),t._v(" "),t.curTarget?a("div",{staticClass:"modal-body",staticStyle:{width:"100%",padding:"0",overflow:"hidden"}},[a("v-map",{staticClass:"map",attrs:{center:t.curTarget.properties.basic.map.center,search:!0,location:!1,searchText:"请输入地名设置中心点",radius:t.curTarget.properties.basic.map.radius},on:{markerClick:t._markerClick}}),t._v(" "),a("div",{staticClass:"form-group map-params"},[a("span",[t._v("中心位置：经纬度("+t._s(t.curTarget.properties.basic.map.center.lat)+","+t._s(t.curTarget.properties.basic.map.center.lng)+")")]),t._v(" "),a("div",[a("span",[t._v("定位半径")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic.map.radius,expression:"curTarget.properties.basic.map['radius']"}],staticClass:"form-control text-right map-radius-input",attrs:{type:"number",placeholder:"定位半径"},domProps:{value:t.curTarget.properties.basic.map.radius},on:{input:function(e){e.target.composing||t.$set(t.curTarget.properties.basic.map,"radius",e.target.value)}}}),t._v(" "),a("span",[t._v("米（m）")])])])],1):t._e(),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.formSetting.mapShow=!1}}},[t._v("确定设置")])])])]):t._e()],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tip"},[a("label",[t._v("可能用到的数据（请严格按照下方提示取值，否则将影响脚本的正常执行，window不可忽略。）")]),t._v(" "),a("p",[a("strong",[t._v("表单实例：")]),t._v("window.vue")]),t._v(" "),a("p",[a("strong",[t._v("表单实例id：")]),t._v("window.vue.defaultData.id")]),t._v(" "),a("p",[a("strong",[t._v("表单所属人、代理人：")]),t._v("window.vue.defaultData.applicant、window.vue.defaultData.proxyApplicant")]),t._v(" "),a("p",[a("strong",[t._v("组件name与值的集合：")]),t._v("window.vue.formData")]),t._v(" "),a("p",[a("strong",[t._v("当前操作表单人的信息：")]),t._v("window.vue.$account")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[e("i",{staticClass:"maticon"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[e("i",{staticClass:"maticon"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("\n          文本编辑\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("\n          定位范围设置\n          "),e("span",{staticClass:"pull-right"},[this._v("点击定位图标设置当前中心，以定位中心为圆心设置定位半径")])])])}]};var d=a("C7Lr")(l,c,!1,function(t){a("X3H3")},null,null);e.default=d.exports},Do79:function(t,e,a){"use strict";a("L7Pj");var i=a("n+6Y"),s=(a("C331"),{props:{isShowDateOfDay:{default:!0},tableType:{default:null},tableData:{default:null},timeQuantumArray:{default:null},dataType:{default:null},consultantId:{default:null},studentId:{default:null}},data:function(){return{weekData:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],dayOfWeek:[1,2,3,4,5,6,7],tableCells:[],dateOfday:[],weekStartTime:"",weekEndTime:"",currentFirstDate:"",dateStart:"",dateEnd:"",newTableData:[],selectedTabelCells:[],curSelectedDate:"",loadingText:"数据加载中~"}},watch:{timeQuantumArray:{deep:!0,handler:function(){this._initData()}},tableData:{deep:!0,handler:function(){this._initData()}}},created:function(){this.setDate(new Date),"setting"===this.dataType?this._initData():0===this.newTableData.length&&this._initData()},methods:{_initData:function(){for(var t in this.loadingText="数据加载中~",this.newTableData=[],this.tableCells=[],this.timeQuantumArray)for(var e in this.newTableData.push({timeQuantum:this.timeQuantumArray[t].timeQuantum,tableData:[]}),this.dayOfWeek)this.tableCells.push({tablex:this.dayOfWeek[e],tabley:this.timeQuantumArray[t].timeQuantum,timeSettingId:this.timeQuantumArray[t].id,isChecked:!1,data:{}});if("setting"===this.dataType)for(var t in this.tableCells)for(var e in i.a.set(this.tableCells[t].data,"dayTimeTeacher",[]),i.a.set(this.tableCells[t].data,"dayOfWeek",null),i.a.set(this.tableCells[t].data,"timeSetting",{}),this.tableData){var a=this.tableData[e].timeSetting.timeQuantumStart+"-"+this.tableData[e].timeSetting.timeQuantumEnd;this.tableData[e].dayOfWeek===this.tableCells[t].tablex&&a===this.tableCells[t].tabley&&(this.tableCells[t].data.dayTimeTeacher.push(this.tableData[e]),this.tableCells[t].data.dayOfWeek=this.tableData[e].dayOfWeek,this.tableCells[t].data.timeSetting=this.tableData[e].timeSetting)}else for(var t in this.tableData)for(var e in this.tableCells)this.tableData[t].dayOfWeek===this.tableCells[e].tablex&&this.tableData[t].timeQuantum===this.tableCells[e].tabley&&(this.tableCells[e].data=this.tableData[t]);for(var t in this.newTableData)for(var e in this.tableCells)this.newTableData[t].timeQuantum===this.tableCells[e].tabley&&this.newTableData[t].tableData.push(this.tableCells[e]);0===this.newTableData.length?this.loadingText="暂无排班~":this.loadingText=""},_selectTabelCell:function(t){var e=this;if(!this.consultantId)return this.toast("请先检索咨询师");if("addPersonnel"===this.dataType){if(!this.studentId)return this.toast("请先检索学生");if(t.data.dayTimeTeacher[0].isReserved)return this.toast("预约已满")}t.isChecked=!t.isChecked,t.isChecked?this.selectedTabelCells.push(t):this.selectedTabelCells.forEach(function(a,i){a.tablex===t.tablex&&a.tabley===t.tabley&&e.selectedTabelCells.splice(i,1)}),this.$emit("selectTabelCell",this.selectedTabelCells)},_editConsultant:function(t,e){"check"!==this.tableType&&"disabled"!==e&&this.$emit("editConsultant",t)},changeDate:function(t){var e=this,a=window.event||t;setTimeout(function(){e.$date({dateFormat:"yyyy-MM-dd",value:e.curSelectedDate||"",type:"init",event:a,onSelect:function(t){e._daySelectedOfValue({value:t})}})},100)},_daySelectedOfValue:function(t){this.curSelectedDate=t.value,this.dateOfday=[],this.setDate(this._parserDate(t.value))},_parserDate:function(t){var e=Date.parse(t);return isNaN(e)?new Date:new Date(Date.parse(t.replace(/-/g,"/")))},lastWeek:function(){this.dateOfday=[],this.setDate(this.addDate(this.currentFirstDate,-7))},nextWeek:function(){this.dateOfday=[],this.setDate(this.addDate(this.currentFirstDate,7))},addDate:function(t,e){return t.setDate(t.getDate()+e),t},setDate:function(t){var e=t.getDay()-1;t=this.addDate(t,-1*e),this.currentFirstDate=new Date(t);for(var a=0;a<this.weekData.length;a++){var i=this.getWeekDay(0==a?t:this.addDate(t,1),a);i<10&&(i="0"+i),this.dateOfday.push(i)}this.weekStartTime&&this.weekEndTime&&this.$emit("getWeekTime",{weekStartTime:this.weekStartTime,weekEndTime:this.weekEndTime,dateStart:this.dateStart,dateEnd:this.dateEnd})},_getTableCellBg:function(t){if(t.data&&t.data.timeSetting){var e=t.data.timeSetting.timeQuantumStart.split(":")[0];if(parseInt(e)<12&&t.data.dayTimeTeacher.length>0)return"morning-bg-color";if(parseInt(e)>=12&&t.data.dayTimeTeacher.length>0)return"afternoon-bg-color"}},getWeekDay:function(t,e){var a=t.getDate();if(0===e||6===e){var i=t.getFullYear(),s=t.getMonth()+1;s<=9&&(s="0"+s);var o=t.getDate();o<=9&&(o="0"+o),0===e?(this.weekStartTime=i+"年"+s+"月"+o+"日",this.dateStart=i+"-"+s+"-"+o):(this.weekEndTime=i+"年"+s+"月"+o+"日",this.dateEnd=i+"-"+s+"-"+o)}return a}}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"reserveTable"}},[a("div",{staticClass:"table-header"},[t._t("header-select"),t._v(" "),t.isShowDateOfDay?a("div",{staticClass:"week"},[a("div",{staticClass:"week-lable"},[t._v("周")]),t._v(" "),a("div",{staticClass:"week-select"},[a("i",{staticClass:"glyphicon glyphicon-menu-left week-before-icon",on:{click:t.lastWeek}}),t._v(" "),a("i",{staticClass:"maticon week-icon",domProps:{innerHTML:t._s(t.icons("event"))},on:{click:function(e){t.changeDate(e)}}},[t._v("event")]),t._v(" "),a("i",{staticClass:"glyphicon glyphicon-menu-right week-after-icon",on:{click:t.nextWeek}})])]):t._e()],2),t._v(" "),a("div",{staticClass:"table-body"},[t._t("body-slot"),t._v(" "),a("div",{staticClass:"table-content"},[a("div",{staticClass:"table-top"},[t.isShowDateOfDay?a("div",{staticClass:"table-date"},[a("div",{staticClass:"table-left-time"},[t._v("日期")]),t._v(" "),t._l(t.dateOfday,function(e,i){return a("div",{key:i,staticClass:"date-day"},[t._v(t._s(e))])})],2):t._e(),t._v(" "),a("div",{staticClass:"table-date"},[a("div",{staticClass:"table-left-time"},[t._v("时间段")]),t._v(" "),t._l(t.weekData,function(e,i){return a("div",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),t.newTableData.length>0?a("GeminiScrollbar",{staticClass:"table-srcoll",attrs:{scrollX:!1}},t._l(t.newTableData,function(e,i){return"add"===t.tableType?a("div",{key:i,staticClass:"table-info"},[a("div",{staticClass:"table-time"},[t._v(t._s(e.timeQuantum))]),t._v(" "),t._l(e.tableData,function(e,i){return a("div",{key:i,staticClass:"name-container black-font-color can-click",class:[e.isChecked?"selected-bg-color":""],on:{click:function(a){t._selectTabelCell(e)}}},[e.data&&e.data.dayTimeTeacher&&0===e.data.dayTimeTeacher.length?a("div",{staticClass:"one-name"}):e.data&&e.data.dayTimeTeacher&&1===e.data.dayTimeTeacher.length?a("div",{staticClass:"one-name"},t._l(e.data.dayTimeTeacher,function(e,i){return a("div",{key:i,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])})):e.data&&e.data.dayTimeTeacher&&2===e.data.dayTimeTeacher.length?a("div",{staticClass:"two-name"},t._l(e.data.dayTimeTeacher,function(e,i){return a("div",{key:i,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])})):a("div",{staticClass:"other-name"},t._l(e.data.dayTimeTeacher,function(e,i){return a("div",{key:i,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}))])})],2):a("div",{staticClass:"table-info"},[a("div",{staticClass:"table-time"},[t._v(t._s(e.timeQuantum))]),t._v(" "),t._l(e.tableData,function(e,i){return e.data&&e.data.id?a("div",{key:i,staticClass:"name-container white-font-color",class:[t._getTableCellBg(e),"check"===t.tableType?"":"can-click"],on:{click:function(a){t._editConsultant(e,"click")}}},[e.data&&e.data.dayTimeTeacher&&0===e.data.dayTimeTeacher.length?a("div",{staticClass:"one-name"}):e.data&&e.data.dayTimeTeacher&&1===e.data.dayTimeTeacher.length?a("div",{staticClass:"one-name"},t._l(e.data.dayTimeTeacher,function(e,i){return a("div",{key:i,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])})):e.data&&e.data.dayTimeTeacher&&2===e.data.dayTimeTeacher.length?a("div",{staticClass:"two-name"},t._l(e.data.dayTimeTeacher,function(e,i){return a("div",{key:i,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])})):a("div",{staticClass:"other-name"},t._l(e.data.dayTimeTeacher,function(e,i){return a("div",{key:i,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}))]):a("div",{staticClass:"name-container white-font-color",on:{click:function(a){t._editConsultant(e,"disabled")}}},[a("div",{staticClass:"other-name"})])})],2)})):a("div",{staticClass:"loading"},[t._v("\n       "+t._s(t.loadingText)+"\n     ")]),t._v(" "),a("div",{staticClass:"clear"})],1)],2)])},staticRenderFns:[]};var n=a("C7Lr")(s,o,!1,function(t){a("zt0P")},null,null);e.a=n.exports},HzJ8:function(t,e,a){t.exports={default:a("UCoN"),__esModule:!0}},M17r:function(t,e,a){"use strict";(function(t){a("n+6Y"),a("C331")}).call(e,a("L7Pj"))},NnAP:function(t,e,a){var i=a("6Bon"),s=a("MGMR");t.exports=a("UB+n").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},OFsB:function(t,e){},UCoN:function(t,e,a){a("xsjh"),a("zRHv"),t.exports=a("NnAP")},X3H3:function(t,e){},bTp3:function(t,e,a){"use strict";a("n+6Y"),a("6fg8");var i=a("2GJD"),s={props:{height:{default:"200px"},data:{default:null}},created:function(){},data:function(){return{flow:null}},watch:{data:function(){this.flow.load(this.data)}},mounted:function(){var t=this;this.flow=Object(i.a)("#flow",{readonly:!1,adjustBranches:!0,data:this.data,debug:!1,animate:!0,animateDuration:200,edgeMaxOffset:20,fixApplyNode:!1,colWidth:300,rowHeight:100,top:58,slideWorkspaceValidAreaOffset:120,slideWorkspaceStep:10,joinPointOffset:15,textLineDistance:10,startNodeWidth:108,startNodeHeight:44,startNodeRadius:22,endNodeWidth:108,endNodeHeight:44,endNodeRadius:22,processNodeWidth:208,processNodeHeight:44,conditionNodeWidth:242,conditionNodeHeight:64,waitingNodeInterval:12,waitingProcessNodeText:"节点",waitingProcessNodeWidth:64,waitingProcessNodeHeight:44,waitingConditionNodeText:"条件",waitingConditionNodeWidth:78,waitingConditionNodeHeight:78,waitingEndNodeText:"结束",waitingEndNodeWidth:64,waitingEndNodeHeight:44,deleteConfirm:!1,deleteConfirmText:"确定要删除此节点吗?"}),this.flow.on("selected",function(e){t.$emit("nodeSelected",e)}),this.flow.on("link_node",function(e){t.$emit("nodeLinked",e)}),this.flow.on("create_node",function(e){t.$emit("nodeCreated",e)}),this.flow.on("delete_node",function(e){t.$emit("nodeRemoved",e)}),this.flow.on("wait_to_create_or_link",function(e){t.$emit("waitToCreate",e)})},methods:{refreshNodeText:function(t,e){this.flow.setNodeName(t,e)},toCreateBranch:function(t){this.flow.toCreateBranch(t)},setLineText:function(t,e,a){this.flow.setLineText(t,e,a)},getNodeById:function(t){return this.flow.getNode(t)},refresh:function(){this.flow.refresh()},export:function(){var t=[],e=this.flow.export();for(var a in e)e[a].id=a,t.push(e[a]);return t}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("svg",{staticClass:"v-flow",style:"height:"+this.height,attrs:{id:"flow"}})},staticRenderFns:[]};var n=a("C7Lr")(s,o,!1,function(t){a("6pjK")},null,null);e.a=n.exports},fFAA:function(t,e){},lh7w:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),s=a.n(i),o=a("n+6Y"),n=a("L7Pj"),r=a.n(n),l=a("C331"),c=a("bTp3");o.a.component("v-flow",c.a);o.a.component("v-flow",c.a);var d={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},type:{default:""},userType:{default:null}},created:function(){var t=this,e=localStorage.getItem("lang");for(var a in Object(l.e)(e)&&(this.lang=e),this.businessId?(this.reviseFlowUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/flowSetting",this.reviseFormUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting"):"sc"===this.type?this.reviseFlowUrl="/api/sc/activities/types/"+this.appId+"/flowSetting":(this.reviseFlowUrl="/api/apps/"+this.appId+"/settings/flows",this.reviseFormUrl="/api/apps/"+this.appId+"/settings/forms"),Object(l.c)({url:this.reviseFlowUrl,type:"get",success:function(e){e.state?e.data&&(t.flowData.id=e.data.id,t.flowData.chart=e.data.chart,t.curFlow=e.data.settings,t.curFlow.nodes.forEach(function(e,a){t.$set(e,"id",e.id),t.$set(e,"name",e.name),t.$set(e,"category",e.category),t.$set(e,"distributary",e.distributary),t.$set(e,"operators",e.operators||[]),t.$set(e,"operations",e.operations||{}),t.$set(e,"dataAuthorities",e.dataAuthorities||[]),t.$set(e,"links",e.links||[])})):t.toast(e.message)}}),"sc"===this.type?(this.curFlow.name=this.appName+"流程",this.components=[],this.$set(this.curFlow,"formSettingName",this.appName+"表单"),this.$set(this.curFlow,"formSettingId","sc")):Object(l.c)({url:this.reviseFormUrl,type:"get",success:function(e){e.state?(t.curFlow.name=e.data.name+"流程",t.components=e.data.components,t.components.forEach(function(e,a){t.$set(e,"checked",!1)}),t.$set(t.curFlow,"formSettingName",e.data.name),t.$set(t.curFlow,"formSettingId",e.data.id)):t.toast(e.message)}}),"sc"===this.type&&this.distributaryData.push({id:"byOrganization",name:"以组织关系分流"}),"4"===this.userType&&this.distributaryData.splice(1,2),this.distributaryData.forEach(function(e,a){e.name=t.translate.distributaryData[e.id]}),this.operatorData.forEach(function(e,a){e.name=t.translate.operatorData[e.id]}),"sc"===this.type&&(this.permissionData=[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"batch",name:"批量操作",checked:!1}]),this.permissionData.forEach(function(e,a){e.name=t.translate.permissionData[e.id],e.data&&e.data.forEach(function(e,a){e.name=t.translate.permissionData[e.id],e.options&&e.options.forEach(function(e,a){e.name=t.translate.permissionData[e.id]})})}),this.attributesShow)this.attributesShow[a].conditions.forEach(function(e,a){e.name=t.translate.condition[e.id]});this._initRoleList("bySchool"),this._initRoleList("byCollege"),this._initRoleList("byClass")},data:function(){return{distributaryData:[{id:"bySchool",name:"不分流"},{id:"byClass",name:"以班级关系分流"},{id:"byTeacher",name:"以带生关系分流"},{id:"byCollege",name:"以学院关系分流"}],roleList:{},components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map"]}],permissionData:[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"revocation",name:"撤回",checked:!1},{id:"deliverTo",name:"转交",checked:!1},{id:"sendTo",name:"抄送",checked:!1},{id:"batch",name:"批量操作",checked:!1},{id:"cancelByUser",name:"发起者在此节点可以取消流程",checked:!1}],permission:{reject:{usable:!0,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!0},deliverTo:{usable:!0},sendTo:{usable:!0},batch:{usable:!0},cancelByUser:{usable:!0}},attributesShow:{input:{conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},datetime:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},radio:{conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{conditions:[{id:"=",name:"等于",data:"value"}]},address:{conditions:[{id:"=",name:"等于",data:"value"}]}},batchCheck:"",newRoleName:"",roleEditing:!1,roleAddErrorMsg:"",chart:{},curNode:{},curLink:{},otherLink:{nextNodeId:""},curFlow:{id:"",name:"",formSettingId:"",formSettingName:"",nodes:[{id:"start",name:"",category:"start",distributary:null,operators:[],operations:{},dataAuthorities:[],links:[]}]},flowData:{id:"",chart:[],settings:{}},curTargetNode:null,isChange:!1,reviseFlowUrl:"",reviseFormUrl:"",lang:"zh-cn"}},computed:{isApplyNode:function(){return!(!this.curTargetNode||!this.curTargetNode.parents)&&"start"===this.curTargetNode.parents[0]},translate:function(){return Object(l.e)(this.lang).flowSetManage},roleCheckAllCount:function(){var t=this,e=0;return this.curNode&&this.curNode.operators&&this.roleList[this.curNode.distributary]&&this.roleList[this.curNode.distributary].forEach(function(a){t.curNode.operators.indexOf(parseInt(a.id))>=0&&e++}),e},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},initDataOfChart:function(){var t=this,e=null;return this.flowData.chart&&this.flowData.chart.nodes&&this.flowData.chart.nodes.length>0&&(e={},this.flowData.chart.nodes.forEach(function(t,a){e[t.id]=t})),setTimeout(function(){t._refreshFlow()},300),e},curComponent:function(){var t=this,e={};return this.components.forEach(function(a,i){t.curNode.links[0]&&t.curNode.links[0].condition&&t.curNode.links[0].condition.component===a.name&&(e=a)}),e}},mounted:function(){var t=this;r()("#flowSetPage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveFlow(),t.$emit("back"),e.preventDefault(),!1)})},methods:{_back:function(){this.isChange&&confirm(this.translate.backTip)?this._saveFlow():this.$emit("back")},_setApplyOnce:function(t){this.curNode.attribute||this.$set(this.curNode,"attribute",{}),this.$set(this.curNode.attribute,"applyOnceLimit",t)},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_saveFlow:function(){this.curFlow.nodes.length<this.$refs.flow.export().length?this.curFlow.nodes.splice(0,0,{id:"start",name:"",category:"start"}):this.curFlow.nodes.splice(0,1,{id:"start",name:"start",category:"start"});var t={id:this.flowData.id,chart:{nodes:this.$refs.flow.export()},settings:this.curFlow};t.settings.nodes.forEach(function(e){"condition"!==e.category&&(e.links=[],t.chart.nodes.forEach(function(t){e.id===t.id&&t.links.forEach(function(t){e.links.push({nextNodeId:t.id})})}))});var e=!0,a="";t.settings.nodes.forEach(function(t){"end"!==t.category&&(t.links&&0===t.links.length&&(e=!1,a+=t.name+"下一节点不明哟~\n"),t.links.forEach(function(i){i.nextNodeId||(e=!1,a+=t.name+"下一节点不明哟~\n")}))}),e?(this.$emit("submit",t),this.isChange=!1):this.toast(a)},_afterSelectedDis:function(t,e){var a=this;this.isChange=!0,this.roleEditing=!1;var i=[];e.operators.forEach(function(t,s){a._roleIdIsInDistributary(t,e.distributary)&&i.push(t)}),e.operators=i,this.$refs.flow.setLineText(e.id,t.target.selected)},_afterSelectedDisOf:function(t,e){var a=this;this.isChange=!0,this.roleEditing=!1;var i=[];e.roleIds.forEach(function(t,s){a._roleIdIsInDistributary(t,e.distributary)&&i.push(t)}),e.roleIds=i},_roleIdIsInDistributary:function(t,e){var a=!1;return this.roleList[e].forEach(function(e){e.id===t&&(a=!0)}),a},_initRoleList:function(t){var e=this;this.roleList[t]||(this.$set(this.roleList,t,[]),"bySchool"===t||"byCollege"===t?Object(l.c)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===t?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?e.roleList[t]=a.data.reverse():e.toast(a.message)}}):"byClass"===t&&Object(l.c)({url:"/api/relClass/classCommittees",type:"get",success:function(a){a.state?(a.data.forEach(function(t){t.name=t.text,t.id=parseInt(t.id)}),e.roleList[t]=a.data.reverse()):e.toast(a.message)}}))},_getAuthorityOf:function(t,e){var a="",i=!1;return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(a=e.authority,i=!0)}),i||(e.dataAuthorities.push({componentName:t.name,authority:"optional"}),a="optional"),a},_setAuthorityOf:function(t,e,a){var i=this,s=!1;a.dataAuthorities&&a.dataAuthorities.forEach(function(a){t.name===a.componentName&&(s=!0,i.$set(a,"authority",e))}),s||a.dataAuthorities.push({componentName:t.name,authority:e})},_batchSure:function(){var t=this;this.isChange=!0,this.components.forEach(function(e,a){e.checked&&(t._getAuthorityOf(e,t.curNode)?t._setAuthorityOf(e,t._verifyBatch(e,t.batchCheck),t.curNode):t.curNode.dataAuthorities.push({authority:t._verifyBatch(e,t.batchCheck),componentName:e.name}),e.checked=!1)}),this.batchCheck=""},_verifyBatch:function(t,e){var a=!1;return this.operatorData.forEach(function(i){i.id===e&&i.coms.indexOf(t.componentType)>=0&&(a=!0)}),a?e:""},_permissionClick:function(t){this.isChange=!0,this.curNode.operations[t.id].usable=!this.curNode.operations[t.id].usable},_attrOptionClick:function(t,e,a){this.isChange=!0,this.$set(this.curNode.operations[t.id].properties,e.id,a.id)},_changeCheckState:function(t,e,a){var i=this;this.isChange=!0;var s=!1;0===e&&(s=!0),t.forEach(function(t){t.checked=s}),"operators"===a&&(this.curNode[a]=[],t.forEach(function(t){s&&i.curNode[a].push(parseInt(t.id))}))},_checkOperators:function(t){this.isChange=!0,this.curNode.operators||this.$set(this.curNode,"roleIds",[]);var e=this.curNode.operators.indexOf(parseInt(t.id));e>=0?this.curNode.operators.splice(e,1):this.curNode.operators.push(parseInt(t.id))},_changeRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]),e.roleIds.length>0?e.roleIds=[]:t.forEach(function(t){e.roleIds.push(parseInt(t.id))})},_checkCopyRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]);var a=e.roleIds.indexOf(parseInt(t.id));a>=0?e.roleIds.splice(a,1):e.roleIds.push(parseInt(t.id))},_addNewProxyUser:function(){this.curNode.proxyUsers||this.$set(this.curNode,"proxyUsers",[]),this.curNode.proxyUsers.push({distributary:"bySchool",roleIds:[]})},_addNewCopyUser:function(){this.curNode.copyUsers||this.$set(this.curNode,"copyUsers",[]),this.curNode.copyUsers.push({distributary:"bySchool",roleIds:[]})},_checkComponent:function(t){var e=this;this.isChange=!0,this.curNode.links.forEach(function(a,i){a.condition&&(a.condition.component=t.name,e.$set(a.condition,"data",{}),"other"!==a.condition.operator&&e.$set(a.condition,"operator",""))})},_saveNewRole:function(t,e){var a=this;this.isChange=!0,""===t.replace(/\s/g,"")&&(this.roleAddErrorMsg=this.roleEmptyTip),this.roleList[e.distributary].forEach(function(e){t===e.name&&(a.roleAddErrorMsg&&(a.roleAddErrorMsg+=","),a.roleAddErrorMsg+=a.translate.roleExistTip)}),this.roleAddErrorMsg?setTimeout(function(){a.roleAddErrorMsg=""},1500):Object(l.c)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===e.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){i.state?(a.roleList[e.distributary].unshift({id:i.data,name:t}),e.operators?e.operators.push(parseInt(i.data)):e.roleIds.push(parseInt(i.data)),a.roleEditing=!1,a.newRoleName=""):a.toast(i.message)}})},_nodeSelected:function(t){var e=this;this.roleEditing=!1,this.curTargetNode=t.target,this.curFlow.nodes.forEach(function(a,i){if(a.id===t.target.id){if(e.curNode=a,e.curNode.copyUsers)for(var s in e.curNode.copyUsers);if(e.curNode.proxyUsers)for(var s in e.curNode.proxyUsers);"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,a){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)})}})},_nodeWaited:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(a,i){a.id===t.target.id&&(e.curNode=a,"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,a){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)}))})},_nodeRemoved:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(a,i){a.id===t.target.id&&e.curFlow.nodes.splice(i,1)});var a=[];this.curFlow.nodes.forEach(function(e,i){t.target.parents.indexOf(e.id)>=0&&a.push(e)}),a.forEach(function(a,i){"condition"===a.category&&a.links.forEach(function(a){a.nextNodeId===t.target.id&&e.$set(a,"nextNodeId","")})})},_nodeLinked:function(t){this.isChange=!0,"condition"===this.curNode.category&&(this.curLink.nextNodeId=t.target.id)},_nodeCreated:function(t){this.isChange=!0;var e={};this.$set(e,"id",t.target.id),this.$set(e,"name",t.target.name),this.$set(e,"category",t.target.type),this.$set(e,"distributary",""),this.$set(e,"operators",[]),this.$set(e,"operations",JSON.parse(s()(this.permission))),this.$set(e,"dataAuthorities",[]),this.$set(e,"links",[]),e.links.push({nextNodeId:"",condition:{component:"",operator:"other",data:{}}}),this.components.forEach(function(t,a){e.dataAuthorities.push({componentName:t.name,authority:"readonly"})}),this.curFlow.nodes.push(e),"condition"===this.curNode.category?this.curLink.nextNodeId=t.target.id:this.curNode=e},_syncToFlow:function(){this.isChange=!0,this.$refs.flow.refreshNodeText(this.curNode.id,this.curNode.name)},_afterSelectedCondition:function(t,e){this.isChange=!0,this.$set(e.condition,"data",{}),e.condition.component&&"address"===e.condition.component.split("_")[0]&&this.$set(e.condition.data,"value",{province:"",city:"",area:""})},_afterSelectedValue:function(t,e){this.isChange=!0;var a=t.target.$attrs["data-addType"];a&&("province"!==a&&e.condition.data.value||this.$set(e.condition.data,"value",{}),"city"===a&&this.$set(e.condition.data.value,"area",""),this.$set(e.condition.data.value,a,t.val))},_daySelectedOfValue:function(t){this.isChange=!0;var e=t.target.$attrs["data-index"];this.curNode.links[e].condition.data||this.$set(this.curNode.links[e].condition,"data",{}),this.$set(this.curNode.links[e].condition.data,"value",t.value)},_addNewCondition:function(t){this.isChange=!0;var e={nextNodeId:"",condition:{component:this.curComponent.name,operator:"other"===t?t:"",data:{}}};"other"===t?(this.otherLink=this.curNode.links[0],this._createBranch(this.otherLink)):this.curNode.links.push(e)},_createBranch:function(t){this.isChange=!0,t.nextNodeId||(this.curLink=t,this.$refs.flow.toCreateBranch(this.curNode.id))},_removeLink:function(t,e){this.isChange=!0,""===t.nextNodeId?this.curNode.links.splice(e,1):this.toast(this.translate.removeNodeTip)},_getNodeById:function(t){return this.$refs.flow.getNodeById(t)},_refreshFlow:function(t){this.$refs.flow.refresh()},_showRoleEdit:function(t){this.roleEditing=!(t>=0)||t,this.newRoleName=""},_newRowInputFocus:function(t){this.newRoleName="copy"===t?"(抄送)"+this.appName+this.curNode.name+"管理员":"proxy"===t?"(代理)"+this.appName+this.curNode.name+"管理员":this.appName+this.curNode.name+"管理员"}},watch:{windowObj:{deep:!0,handler:function(t){this.$refs.flow&&this.$refs.flow.refresh()}}},destroyed:function(){}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"flowSetPage",tabindex:"1"}},[a("div",{staticClass:"head text-center"},[a("div",{staticClass:"pull-left back-div"},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),a("div",{staticClass:"flow-title"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curFlow.name,expression:"curFlow.name"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.flowNameTip,maxlength:"15"},domProps:{value:t.curFlow.name},on:{input:function(e){e.target.composing||t.$set(t.curFlow,"name",e.target.value)}}})]),t._v(" "),a("a",{attrs:{href:"javascript:;"}},[t.curFlow.formSettingId?a("span",[t._v(t._s(t.translate.relevanceTip2)+"："+t._s(t.curFlow.formSettingName))]):a("span",[t._v(t._s(t.translate.relevanceTip))])])]),t._v(" "),a("div",{staticClass:"pull-right opt-div"},[a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("button",{staticClass:"btn save",class:{hasChange:t.isChange},on:{click:t._saveFlow}},[t._v(t._s(t.translate.sure))])])]),t._v(" "),a("i",{staticClass:"maticon refresh",domProps:{innerHTML:t._s(t.icons("refresh"))},on:{click:t._refreshFlow}},[t._v("refresh")]),t._v(" "),a("v-flow",{ref:"flow",attrs:{height:"300px",data:t.initDataOfChart},on:{nodeSelected:t._nodeSelected,nodeLinked:t._nodeLinked,nodeCreated:t._nodeCreated,nodeRemoved:t._nodeRemoved,waitToCreate:t._nodeWaited}}),t._v(" "),a("div",{staticClass:"down-part"},[a("div",{staticClass:"info-container"},[a("div",{staticClass:"info-bar"},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("info"))}},[t._v("info")])]),t._v(" "),t.curNode.id&&"process"===t.curNode.category&&t.curTargetNode&&"start"!==t.curTargetNode.id?a("GeminiScrollbar",{staticClass:"info-body",attrs:{scrollY:!1,autoshow:!1}},[a("div",{staticClass:"col-container"},[a("div",{staticClass:"col",class:t.isApplyNode?"col-216":"col-144"},[t.isApplyNode?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.applicant))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{change:t._syncToFlow,input:function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)}}}),t._v(" "),"sc"!==t.type?a("label",{staticClass:"apply-once",class:t.curNode.attribute&&t.curNode.attribute.applyOnceLimit?"active":""},[t.curNode.attribute&&t.curNode.attribute.applyOnceLimit?a("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:function(e){t._setApplyOnce(!1)}}},[t._v("check_box")]):a("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:function(e){t._setApplyOnce(!0)}}},[t._v("check_box_outline_blank")]),t._v("\n                "+t._s(t.translate.applyOnceLimit)+"\n              ")]):t._e()]):a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.nodeName))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{change:t._syncToFlow,input:function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)}}})])]),t._v(" "),t.isApplyNode?t._e():a("div",{staticClass:"col col-167"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),a("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,"options-value":"id","options-label":"name"},on:{afterSelected:function(e){t._afterSelectedDis(e,t.curNode)}},model:{value:t.curNode.distributary,callback:function(e){t.$set(t.curNode,"distributary",e)},expression:"curNode.distributary"}})],1)]),t._v(" "),a("div",{staticClass:"col",class:!t.isApplyNode&&["byTeacher","byOrganization"].indexOf(t.curNode.distributary)<0&&""!=t.curNode.distributary?"col-340":"col-0"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.roleSet)),"byClass"===t.curNode.distributary||t.roleEditing?t._e():a("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:t._showRoleEdit}},[t._v(t._s(t.translate.createNewRole))])]),t._v(" "),t.roleEditing?a("div",{staticClass:"input-group new-role"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){t._newRowInputFocus("default")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("span",{staticClass:"input-group-addon sure",on:{click:function(e){t._saveNewRole(t.newRoleName,t.curNode)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),!0===t.roleEditing?a("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),a("div",{staticClass:"role-list"},[t.roleList[t.curNode.distributary]&&t.roleList[t.curNode.distributary].length>0?a("div",{staticClass:"role-list-item"},[a("span",{staticClass:"all-check",on:{click:function(e){t._changeCheckState(t.roleList[t.curNode.distributary],t.roleCheckAllCount,"operators")}}},[0===t.roleCheckAllCount?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.roleCheckAllCount===t.roleList[t.curNode.distributary].length?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[t.curNode.distributary],function(e,i){return a("div",{key:i,staticClass:"role-list-item hover input-group"},[a("span",{staticClass:"input-group-addon",on:{click:function(a){t._checkOperators(e)}}},[t.curNode.operators.indexOf(parseInt(e.id))>=0?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"form-control",class:t.curNode.operators.indexOf(parseInt(e.id))>=0?"active":"",attrs:{title:e.name}},[t._v(t._s(e.name))])])})],2)])]),t._v(" "),"sc"!==t.type?a("div",{staticClass:"col col-340"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.readWritePermission))]),t._v(" "),a("div",{staticClass:"batch-head",style:t.componentsCheckAllCount>0?"opacity:1;":"opacity:0;z-index:-1;"},[a("span",[t._v(t._s(t.translate.alreadyChecked)+t._s(t.componentsCheckAllCount)+t._s(t.translate.setInto))]),t._v(" "),a("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name"},model:{value:t.batchCheck,callback:function(e){t.batchCheck=e},expression:"batchCheck"}}),t._v(" "),a("a",{staticClass:"sure",attrs:{href:"javascript:;"},on:{click:t._batchSure}},[t._v(t._s(t.translate.sure))])],1),t._v(" "),a("div",{staticClass:"role-list",staticStyle:{position:"absolute"}},[a("div",{staticClass:"role-list-item"},[a("span",{staticClass:"all-check",on:{click:function(e){t._changeCheckState(t.components,t.componentsCheckAllCount,"dataAuthorities")}}},[0===t.componentsCheckAllCount?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.componentsCheckAllCount===t.components.length?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]),t._v(" "),t._l(t.components,function(e,i){return a("div",{key:i,staticClass:"role-list-item components-check hover"},[a("div",{staticClass:"col-xs-5"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon",on:{click:function(t){e.checked=!e.checked}}},[e.checked?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"form-control",class:e.checked?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])])]),t._v(" "),0===t.componentsCheckAllCount?a("div",{staticClass:"col-xs-7"},t._l(t.operatorData,function(i,s){return i.coms.indexOf(e.componentType)>=0?a("span",{key:s,staticClass:"operator",class:t._getAuthorityOf(e,t.curNode)===i.id?"active":"",on:{click:function(a){t._setAuthorityOf(e,i.id,t.curNode)}}},[t._v(t._s(i.name))]):a("span",{staticClass:"operator disabled"},[t._v(t._s(i.name))])})):t._e()])})],2)])]):t._e(),t._v(" "),t.isApplyNode?t._e():a("div",{staticClass:"col col-268"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.operatingPermission))]),t._v(" "),a("div",{staticClass:"role-list"},t._l(t.permissionData,function(e,i){return a("div",{key:i,staticClass:"role-list-item"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon",on:{click:function(a){t._permissionClick(e)}}},[t.curNode.operations[e.id].usable?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"form-control",class:t.curNode.operations[e.id].usable?"active":"",attrs:{title:e.title}},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"per-attr-div",class:t.curNode.operations[e.id].usable&&e.data?"active":""},t._l(e.data,function(i,s){return a("div",{key:s,staticClass:"per-attr"},[a("label",[t._v(t._s(i.name))]),t._v(" "),a("div",{staticClass:"per-attr-options"},t._l(i.options,function(s,o){return a("div",{key:o,staticClass:"input-group",on:{click:function(a){t._attrOptionClick(e,i,s)}}},[a("span",{staticClass:"input-group-addon",class:t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[i.id]===s.id?"active":""},[t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[i.id]===s.id?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")])]),t._v(" "),a("span",{staticClass:"form-control",class:t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[i.id]===s.id?"active":""},[t._v(t._s(s.name))])])}))])}))])}))])]),t._v(" "),t._l(t.curNode.copyUsers,function(e,i){return t.isApplyNode?t._e():a("div",{staticClass:"col col-copy-item"},[a("div",{staticClass:"col col-167"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn auto-copy-remove",on:{click:function(e){t.curNode.copyUsers.splice(i,1)}}},[t._v("移除自动抄送")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),a("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,"options-value":"id","options-label":"name"},on:{afterSelected:function(a){t._afterSelectedDisOf(a,e)}},model:{value:e.distributary,callback:function(a){t.$set(e,"distributary",a)},expression:"copyUser.distributary"}})],1)]),t._v(" "),a("div",{staticClass:"col",class:!t.isApplyNode&&["byTeacher","byOrganization"].indexOf(e.distributary)<0&&""!==e.distributary?"col-340":"col-0"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.roleSet)),"byClass"!==e.distributary&&!1===t.roleEditing?a("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:function(e){t._showRoleEdit(i)}}},[t._v(t._s(t.translate.createNewRole))]):t._e()]),t._v(" "),t.roleEditing===i?a("div",{staticClass:"input-group new-role"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){t._newRowInputFocus("copy")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("span",{staticClass:"input-group-addon sure",on:{click:function(a){t._saveNewRole(t.newRoleName,e)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),t.roleEditing>=0?a("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),a("div",{staticClass:"role-list"},[t.roleList[e.distributary]&&t.roleList[e.distributary].length>0?a("div",{staticClass:"role-list-item"},[a("span",{staticClass:"all-check",on:{click:function(a){t._changeRoleIds(t.roleList[e.distributary],e)}}},[0===e.roleIds.length?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):e.roleIds.length===t.roleList[e.distributary].length?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[e.distributary],function(i,s){return a("div",{key:s,staticClass:"role-list-item hover input-group"},[a("span",{staticClass:"input-group-addon",on:{click:function(a){t._checkCopyRoleIds(i,e)}}},[e.roleIds.indexOf(parseInt(i.id))>=0?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"form-control",class:e.roleIds.indexOf(parseInt(i.id))>=0?"active":"",attrs:{title:i.name}},[t._v(t._s(i.name))])])})],2)])])])}),t._v(" "),t.isApplyNode?t._e():a("div",{staticClass:"col col-167"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn auto-copy-add",on:{click:t._addNewCopyUser}},[t._v("添加自动抄送")])])]),t._v(" "),t._l(t.curNode.proxyUsers,function(e,i){return t.isApplyNode&&"sc"!==t.type?a("div",{staticClass:"col col-copy-item"},[a("div",{staticClass:"col col-167"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn auto-copy-remove",on:{click:function(e){t.curNode.proxyUsers.splice(i,1)}}},[t._v("移除代理")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),a("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,required:"true","options-value":"id","options-label":"name"},on:{afterSelected:function(a){t._afterSelectedDisOf(a,e)}},model:{value:e.distributary,callback:function(a){t.$set(e,"distributary",a)},expression:"proxyUser.distributary"}})],1)]),t._v(" "),a("div",{staticClass:"col",class:["byTeacher","byClass"].indexOf(e.distributary)<0&&""!=e.distributary?"col-340":"col-0"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.roleSet)),"byClass"!==e.distributary&&!1===t.roleEditing?a("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:function(e){t._showRoleEdit(i)}}},[t._v(t._s(t.translate.createNewRole))]):t._e()]),t._v(" "),t.roleEditing===i?a("div",{staticClass:"input-group new-role"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){t._newRowInputFocus("proxy")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("span",{staticClass:"input-group-addon sure",on:{click:function(a){t._saveNewRole(t.newRoleName,e)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),t.roleEditing>=0?a("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),a("div",{staticClass:"role-list"},[t.roleList[e.distributary]&&t.roleList[e.distributary].length>0?a("div",{staticClass:"role-list-item"},[a("span",{staticClass:"all-check",on:{click:function(a){t._changeRoleIds(t.roleList[e.distributary],e)}}},[0===e.roleIds.length?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):e.roleIds.length===t.roleList[e.distributary].length?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[e.distributary],function(i,s){return a("div",{key:s,staticClass:"role-list-item hover input-group"},[a("span",{staticClass:"input-group-addon",on:{click:function(a){t._checkCopyRoleIds(i,e)}}},[e.roleIds.indexOf(parseInt(i.id))>=0?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),a("span",{staticClass:"form-control",class:e.roleIds.indexOf(parseInt(i.id))>=0?"active":"",attrs:{title:i.name}},[t._v(t._s(i.name))])])})],2)])])]):t._e()}),t._v(" "),t.isApplyNode&&"sc"!==t.type?a("div",{staticClass:"col col-167"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn auto-copy-add",on:{click:t._addNewProxyUser}},[t._v("添加代理")])])]):t._e()],2)]):t.curNode.id&&"condition"===t.curNode.category?a("GeminiScrollbar",{staticClass:"info-body",attrs:{scrollY:!1,autoshow:!1}},[a("div",{staticClass:"col-container"},[a("div",{staticClass:"col col-144"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.conditionName))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{change:t._syncToFlow,input:function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col col-216"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.translate.conditionField))]),t._v(" "),a("div",{staticClass:"role-list"},t._l(t.components,function(e,i){return t.attributesShow[e.componentType]?a("div",{key:i,staticClass:"role-list-item hover input-group"},[a("span",{staticClass:"input-group-addon",on:{click:function(a){t._checkComponent(e)}}},[t.curComponent.name===e.name?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")])]),t._v(" "),a("span",{staticClass:"form-control",class:t.curComponent.name===e.name?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])]):t._e()}))])]),t._v(" "),t.curComponent&&t.curComponent.name?a("div",{staticClass:"col col-550"},[a("ul",{staticClass:"list-group links-list"},[t._l(t.curNode.links,function(e,i){return e.condition&&"other"!==e.condition.operator?a("li",{key:i,staticClass:"list-group-item"},[""===e.nextNodeId?a("i",{staticClass:"maticon remove-link",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){t._removeLink(e,i)}}},[t._v("cancel")]):t._e(),t._v(" "),a("div",{staticClass:"link-div container-fluid"},[a("div",{staticClass:"link-part col-sm-2 con"},[a("v-select",{staticClass:"info-value disabled",staticStyle:{width:"auto"},attrs:{options:t.attributesShow[t.curComponent.componentType]?t.attributesShow[t.curComponent.componentType].conditions:[],autoSelect:!1,"options-value":"id","options-label":"name","data-index":i,"close-on-select":""},on:{afterSelected:function(a){t._afterSelectedCondition(a,e)}},model:{value:e.condition.operator,callback:function(a){t.$set(e.condition,"operator",a)},expression:"link.condition.operator"}})],1),t._v(" "),e.condition.operator&&e.condition.data?a("div",{staticClass:"link-part col-sm-5"},["select"===t.curComponent.componentType||"radio"===t.curComponent.componentType?a("v-select",{staticClass:"info-value disabled",attrs:{options:t._optionsFixed(t.curComponent.properties.basic.options),"options-value":"id","options-label":"name","data-index":i,"close-on-select":""},on:{afterSelected:function(a){t._afterSelectedValue(a,e)}},model:{value:e.condition.data.value,callback:function(a){t.$set(e.condition.data,"value",a)},expression:"link.condition.data.value"}}):"checkbox"===t.curComponent.componentType?a("v-select",{staticClass:"info-value disabled",attrs:{options:t._optionsFixed(t.curComponent.properties.basic.options),"options-value":"id","options-label":"name","data-index":i,multiple:""},on:{afterSelected:function(a){t._afterSelectedValue(a,e)}},model:{value:e.condition.data.value,callback:function(a){t.$set(e.condition.data,"value",a)},expression:"link.condition.data.value"}}):"datetime"===t.curComponent.componentType?a("v-datepicker",{staticClass:"info-value disabled btn-block",attrs:{showTime:!1,width:"100%","data-index":i},on:{daySelected:t._daySelectedOfValue},model:{value:e.condition.data.value,callback:function(a){t.$set(e.condition.data,"value",a)},expression:"link.condition.data.value"}}):"address"===t.curComponent.componentType&&e.condition.data.value?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[a("v-select",{staticClass:"info-value disabled",attrs:{options:t.provinceList,autoSelect:!1,"options-value":"name","options-label":"name","data-index":i,"data-addType":"province"},on:{afterSelected:function(a){t._afterSelectedValue(a,e)}},model:{value:e.condition.data.value.province,callback:function(a){t.$set(e.condition.data.value,"province",a)},expression:"link.condition.data.value.province"}})],1),t._v(" "),e.condition.data.value.province?a("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[a("v-select",{staticClass:"info-value disabled",attrs:{options:t._getCityList(e.condition.data.value.province),autoSelect:!1,"options-value":"name","options-label":"name","data-index":i,"data-addType":"city"},on:{afterSelected:function(a){t._afterSelectedValue(a,e)}},model:{value:e.condition.data.value.city,callback:function(a){t.$set(e.condition.data.value,"city",a)},expression:"link.condition.data.value.city"}})],1):t._e(),t._v(" "),e.condition.data.value.city?a("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[a("v-select",{staticClass:"info-value disabled",attrs:{options:t._getAreaList(e.condition.data.value.city,e.condition.data.value.province),autoSelect:!1,"options-value":"name","options-label":"name","data-index":i,"data-addType":"area"},on:{afterSelected:function(a){t._afterSelectedValue(a,e)}},model:{value:e.condition.data.value.area,callback:function(a){t.$set(e.condition.data.value,"area",a)},expression:"link.condition.data.value.area"}})],1):t._e()]):"number"===t.curComponent.componentType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.data.value,expression:"link.condition.data.value"}],staticClass:"form-control info-value",staticStyle:{"margin-left":"10px"},attrs:{type:"number",placeholder:"请输入数字"},domProps:{value:e.condition.data.value},on:{input:function(a){a.target.composing||t.$set(e.condition.data,"value",a.target.value)}}}):"input"===t.curComponent.componentType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.data.value,expression:"link.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:"请输入文字"},domProps:{value:e.condition.data.value},on:{input:function(a){a.target.composing||t.$set(e.condition.data,"value",a.target.value)}}}):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"link-part col-sm-5"},[a("i",{staticClass:"maticon pull-right line-toggle",class:e.nextNodeId?"left-side":"",domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{click:function(a){t._createBranch(e)}}},[t._v("trending_flat")]),t._v(" "),e.nextNodeId?a("div",{staticClass:"con-node text-center pull-right"},[t._v("\n                        "+t._s(t._getNodeById(e.nextNodeId).name)+"\n                      ")]):t._e()])])]):t._e()}),t._v(" "),a("div",{staticClass:"create-branch-div"},[a("a",{attrs:{href:"javascript:;"},on:{click:t._addNewCondition}},[t._v(t._s(t.translate.createBranch))])]),t._v(" "),a("li",{staticClass:"list-group-item"},[a("div",{staticClass:"link-div container-fluid"},[a("div",{staticClass:"link-part col-sm-3"},[t._v("\n                      "+t._s(t.translate.other)+"\n                    ")]),t._v(" "),a("div",{staticClass:"link-part col-sm-4"}),t._v(" "),a("div",{staticClass:"link-part col-sm-5"},[a("i",{staticClass:"maticon pull-right line-toggle",class:t.otherLink.nextNodeId?"left-side":"",domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{click:function(e){t._addNewCondition("other")}}},[t._v("trending_flat")]),t._v(" "),t.otherLink.nextNodeId?a("div",{staticClass:"con-node text-center pull-right"},[t._v("\n                        "+t._s(t._getNodeById(t.otherLink.nextNodeId).name)+"\n                      ")]):t._e()])])])],2)]):t._e()])]):t._e()],1)])],1)},staticRenderFns:[]};var u=a("C7Lr")(d,p,!1,function(t){a("OFsB")},null,null);e.default=u.exports},lxAt:function(t,e,a){"use strict";(function(t){a("n+6Y");var i=a("C331");e.a={inject:{windowObj:{default:null}},props:{data:{default:null},isApply:{default:null},formDetail:{default:null},userInfo:{default:null},formType:{default:null}},data:function(){return{curRouter:"jobDetail",computerSkillsData:[],computerSkillsArr:["PPT","Word","Excel","Photoshop","Access","视频制作","网站制作"],writeSkillArr:["新闻写作","调研报告","应用文写作","文字编辑"],computerOther:{checked:!1,title:""},writingAbilityData:[],writingOther:{checked:!1,title:""},addedFileArr:[],deleteFileArr:[],supportPreview:["doc","docx","wps","pdf","ppt","pptx","xls","xlsx","png","jpg","jpeg","bmp","txt"],applyListData:{position:{id:""},applyName:"",contact:"",applyTime:"",workStartTime:"",workEndTime:"",isDifficultyStudent:"",difficultyLevel:"",validWorkTime:"",computerSkill:[],writeSkill:[],remark:"",attachment:[]},isTodifficultStudentData:[],difficultyLevelData:[],fileData:[],formStatus:"",logShow:!1,isShowLog:!1,scrollHeight:null,logData:{},actionTypeData:{AGREE:"同意",DISAGREE:"不同意",REJECT:"驳回",REVOKE:"撤回",RESUBMIT:"重新提交",CANCEL:"取消申请"},isLogRecord:!1,showUnpassOpinionModal:!1,opinion:""}},created:function(){var t=this;if(Object(i.c)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"困难等级"},success:function(e){e.state?t.difficultyLevelData=e.data:t.toast(e.message)}}),this.isTodifficultStudentData=[{id:"true",text:"是"},{id:"false",text:"否"}],"application"!==this.formType)this.initData();else{var e=new Date,a=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var o=e.getDate();o=o<10?"0"+o:o,this.applyListData.applyTime=a+"-"+s+"-"+o,this.applyListData.position.id=this.formDetail.id,this.applyListData.applyName=this.userInfo.userName}this.computerSkillsData=[{id:"PPT",checked:!1,title:"PPT"},{id:"Word",checked:!1,title:"Word"},{id:"Excel",checked:!1,title:"Excel"},{id:"Photoshop",checked:!1,title:"Photoshop"},{id:"Access",checked:!1,title:"Access"},{id:"视频制作",checked:!1,title:"视频制作"},{id:"网站制作",checked:!1,title:"网站制作"}],this.writingAbilityData=[{id:"新闻写作",checked:!1,title:"新闻写作"},{id:"调研报告",checked:!1,title:"调研报告"},{id:"应用文写作",checked:!1,title:"应用文写作"},{id:"文字编辑",checked:!1,title:"文字编辑"}]},mounted:function(){var e=this;setTimeout(function(){var a=t("#jobApplyForm").height();e.scrollHeight=a-t(".jobApplyForm-header").height()},100)},methods:{initData:function(){var t=this;if(this.formDetail){for(var e in this.formDetail.status&&(this.formStatus=this.formDetail.status),this.isShowLog=this.formDetail.isShowLog,this.applyListData={applyName:this.formDetail.form.name,contact:this.formDetail.form.contact,applyTime:this.formDetail.createTime.split(" ")[0],idCarcNo:this.formDetail.form.idCardNo,workStartTime:this.formDetail.form.workStartTime,workEndTime:this.formDetail.form.workEndTime,isDifficultyStudent:this.formDetail.form.isDifficultyStudent,difficultyLevel:this.formDetail.form.difficultyLevel,validWorkTime:this.formDetail.form.validWorkTime,computerSkill:this.formDetail.form.computerSkill,writeSkill:this.formDetail.form.writeSkill,remark:this.formDetail.form.remark,attachment:this.formDetail.form.attachment||[]},null===this.applyListData.isDifficultyStudent?this.applyListData.isDifficultyStudent="":this.applyListData.isDifficultyStudent=this.applyListData.isDifficultyStudent?"true":"false",this.applyListData.computerSkill)this.applyListData.computerSkill[e]&&this.computerSkillsArr.indexOf(this.applyListData.computerSkill[e])<0&&(this.computerOther={checked:!0,title:this.applyListData.computerSkill[e]});for(var e in this.applyListData.writeSkill)this.applyListData.writeSkill[e]&&this.writeSkillArr.indexOf(this.applyListData.writeSkill[e])<0&&(this.writingOther={checked:!0,title:this.applyListData.writeSkill[e]});if("unitJobView"===this.formType)Object(i.c)({url:"/api/pwps/workflow/runtime/position/"+this.formDetail.formId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.toast(e.message)}});else{if("schoolJobView"===this.formType)return;Object(i.c)({url:"/api/pwps/workflow/runtime/instances/"+this.formDetail.formId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.toast(e.message)}})}}},isPhoneNo:function(){if(!/^1[3456789]\d{9}$/.test(this.applyListData.contact))return this.toast("联系方式格式不对"),void(this.applyListData.contact="")},_back:function(){this.$emit("back")},changeComputer:function(t,e){if(e){t.checked=!t.checked;var a=this.applyListData.computerSkill.indexOf(t.title);a>=0?this.applyListData.computerSkill.splice(a,1):t.title&&this.applyListData.computerSkill.push(t.title)}},changeWriting:function(t,e){if(e){t.checked=!t.checked;var a=this.applyListData.writeSkill.indexOf(t.title);a>=0?this.applyListData.writeSkill.splice(a,1):t.title&&this.applyListData.writeSkill.push(t.title)}},_fileUpload:function(){var t=this;this.$waiting.show({text:"附件上传中..."});var e=new FormData;e.append("file",event.target.files[0]),e.append("fieldName",event.target.files[0].name),Object(i.c)({url:this.uploadFile,type:"post",data:e,contentType:!1,processData:!1,success:function(e){"88888"===e.code?(t.applyListData.attachment.push({hash:e.data.hash,originalName:e.data.originalName,size:e.data.size}),t.addedFileArr.push(e.data.hash),t.$toast("附件上传成功")):t.$toast(e.message)}}).always(function(){t.$waiting.close()})},_downloadFile:function(t){var e=t.target.getAttribute("data-href"),a=document.createElement("iframe");a.src=e,a.style.display="none",document.body.appendChild(a)},_removeFile:function(t){confirm("确定删除该附件吗？")&&(this.deleteFileArr.push(this.applyListData.attachment[t].hash),this.applyListData.attachment.splice(t,1))},_showAttachmentPreview:function(t,e){var a=this.fileUrlPrefix+t.hash;this.$preview({name:t.originalName,url:a,type:"image"===e?"png":t.originalName.match(/([^.]+)$/)[1]})},sumbit:function(){return""===this.applyListData.isDifficultyStudent?this.toast("请选择是否困难生"):"true"!==this.applyListData.isDifficultyStudent||""!==this.applyListData.difficultyLevel&&this.applyListData.difficultyLevel?!this.formDetail.isToDifficultyStudent||"false"!==this.applyListData.isDifficultyStudent&&this.applyListData.isDifficultyStudent?(this.applyListData.computerSkill.indexOf(this.computerOther.title)<0&&this.applyListData.computerSkill.push(this.computerOther.title),this.applyListData.writeSkill.indexOf(this.writingOther.title)<0&&this.applyListData.writeSkill.push(this.writingOther.title),void this.$emit("submit",{applicationsData:this.applyListData})):this.toast("你不是困难生，不能申请该岗位"):this.toast("请选择困难认定级别")},_pass:function(){this.$emit("pass")},_unpass:function(){this.opinion="",this.showUnpassOpinionModal=!0},submitUnpassOpinion:function(){if(!this.opinion)return this.toast("请输入不通过的意见");this.$emit("unpass",{opinion:this.opinion})},_revoke:function(){this.$emit("revoke")},_resubimt:function(){return""===this.applyListData.isDifficultyStudent?this.toast("请选择是否困难生"):"true"!==this.applyListData.isDifficultyStudent||""!==this.applyListData.difficultyLevel&&this.applyListData.difficultyLevel?!this.formDetail.isToDifficultyStudent||"false"!==this.applyListData.isDifficultyStudent&&this.applyListData.isDifficultyStudent?(this.applyListData.computerSkill.indexOf(this.computerOther.title)<0&&this.applyListData.computerSkill.push(this.computerOther.title),this.applyListData.writeSkill.indexOf(this.writingOther.title)<0&&this.applyListData.writeSkill.push(this.writingOther.title),void this.$emit("resubimt",this.applyListData)):this.toast("你不是困难生，不能申请该岗位"):this.toast("请选择困难认定级别")},_cancelApplication:function(){this.$emit("cancelApplication")},difficultStudentSelected:function(t){this.applyListData.isDifficultyStudent=t.value,"false"===t.value&&(this.applyListData.difficultyLevel="")},levelSelected:function(t){this.applyListData.difficultyLevel=t.value}},watch:{windowObj:{deep:!0,handler:function(){var e=t("#jobApplyForm").height().toFixed(1);this.scrollHeight=e-t(".jobApplyForm-header").height().toFixed(1)}}}}}).call(e,a("L7Pj"))},zt0P:function(t,e){}});