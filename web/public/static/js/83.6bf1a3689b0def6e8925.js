webpackJsonp([83],{"498K":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i("3cXf"),e=i.n(s),o=i("n+6Y"),n=i("C331"),l=i("/tWO");o.a.component("jobApplyForm",l.a);o.a.component("jobApplyForm",l.a);var c={props:{data:{default:null},account:{userId:"",userName:"",type:""}},data:function(){return{curRouter:"jobDetail",jobDetailData:{},positionType:"",userInfo:{},jobDetailType:"apply"}},created:function(){var t=this;this.data.type&&(this.jobDetailType=this.data.type),this.jobDetailData=JSON.parse(e()(this.data.data)),Object(n.c)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"岗位类型"},success:function(a){a.state?a.data&&a.data.forEach(function(a,i){a.value===t.jobDetailData.positionType&&(t.positionType=a.label)}):t.toast(a.message)}})},methods:{applyJob:function(){this.curRouter="jobApplyForm",this.userInfo=this.account},_back:function(){this.curRouter="jobDetail"},_submit:function(t){var a=this;Object(n.c)({url:"/api/pwps/workflow/runtime/applications",dataType:"json",type:"post",data:t.applicationsData,success:function(t){t.state?(a.toast("操作成功"),a.$nextTick(function(){a.$refreshBread(a.data.lastRoute)}),a.$removeBread(a.data)):"30802"===t.code?a.toast("您已提交过申请,请勿重复提交"):"30801"===t.code?a.toast("您已在岗,请勿重复提交"):a.toast(t.message)}})}}},r={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return"jobDetail"===t.curRouter?i("div",{attrs:{id:"jobDetail"}},[i("div",{staticClass:"jobDetail-header"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"job-name"},[t._v(t._s(t.jobDetailData.positionName))]),t._v(" "),i("div",{staticClass:"job-info"},[t._v(t._s(t.positionType)+"·"+t._s(t.jobDetailData.unit.name)+"·负责人："+t._s(t.jobDetailData.manager.name))])]),t._v(" "),i("div",{staticClass:"col-md-4"},[i("label",{staticClass:"job-wage pull-right"},[t._v(t._s(t.jobDetailData.rewardStandard)+"元/小时")])])])]),t._v(" "),i("div",{staticClass:"jobDetail-body"},[t._m(0),t._v(" "),i("div",{staticClass:"job-description-content"},[i("div",{staticClass:"title"},[t._v("岗位职责：")]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.jobDetailData.description)}}),t._v(" "),i("div",{staticClass:"title"},[t._v("岗位要求：")]),t._v(" "),i("div",{staticStyle:{"margin-bottom":"33px"},domProps:{innerHTML:t._s(t.jobDetailData.positionRequire)}}),t._v(" "),i("div",{staticClass:"other-title"},[t._v("岗位工作时间段："),i("div",{staticClass:"content"},[t._v(t._s(t.jobDetailData.workingTime))])]),t._v(" "),i("div",{staticClass:"other-title"},[t._v(t._s(t.jobDetailData.isToDifficultyStudent?"仅限困难生申请":""))]),t._v(" "),i("div",{staticClass:"other-title"},[t._v("岗位人数上限："),i("div",{staticClass:"content"},[t._v(t._s(t.jobDetailData.personCount))])])])]),t._v(" "),"apply"===t.jobDetailType?i("div",{staticClass:"jobDetail-footer"},[i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn sumbit-form clearBtnBorder",attrs:{type:"button"},on:{click:t.applyJob}},[t._v("申请岗位")])])]):t._e()]):i("jobApplyForm",{attrs:{formType:"application",isApply:!0,formDetail:t.jobDetailData,userInfo:t.userInfo},on:{back:t._back,submit:t._submit}})},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"job-description-title"},[this._v("\n      岗位描述\n      "),a("div",{staticClass:"bottom-line"})])}]};var p=i("C7Lr")(c,r,!1,function(t){i("6WRP")},null,null);a.default=p.exports},"6WRP":function(t,a){}});