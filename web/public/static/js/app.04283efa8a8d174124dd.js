webpackJsonp([105],{"/7gP":function(e,t){},0:function(e,t,i){i("briU"),e.exports=i("NHnr")},1:function(e,t){},"1hgp":function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},2:function(e,t){},"27On":function(e,t){},"2GJD":function(e,t,i){"use strict";var n=i("3cXf"),a=i.n(n),r=i("hRKE"),o=i.n(r),s=i("aA9S"),l=i.n(s),c=function(e){_.version="0.5.6";var t={win:e.window,doc:e.window.document},i=t.win.Snap;i||console.warn("Workflow Designer: Dependency Snap.svg Not Found");var n=function(e,t){var i=!1;for(var n in e)if(e[n]===t){i=!0;break}return i},r=function(){return Math.ceil(+new Date*Math.random()/1e6)},s=function(e,t){if(!e)return null;var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t},c=function(e,t,i){var n;return function(){var a=this,r=arguments,o=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(a,r)},t),o&&e.apply(a,r)}},d=function(e){for(var t=0,i=e.length,n=-1,a=0;a<i;a++)t+=(n=e.charCodeAt(a))>=0&&n<=128?1:2;return t},u=function(e,t,i){for(var n,a="",r=e.length,o=t,s=t/2;s<r&&!(((n=e.charCodeAt(s))<0||n>128)&&++o>=i);s++,o++)a+=e[s];return a};i.plugin(function(e,t,i,n){e.viewBox=function(e,t,i,n){return[e,t,i,n].join(",")},t.prototype.hide=function(){return this.attr({visibility:"hidden"}),this},t.prototype.show=function(){return this.attr({visibility:"visible"}),this},t.prototype.fadeIn=function(e,t){var i=this,n=this.attr("opacity");return this.attr({opacity:0}),t?(setTimeout(function(){i.animate({opacity:n},e)},t),this):(i.animate({opacity:n},e),this)},t.prototype.fadeOut=function(e,t){var i=this;return e=e||300,t?(setTimeout(function(){i.animate({opacity:0},e)},t),this):(i.animate({opacity:0},e),this)},t.prototype.getStartPosition=function(){var e=this.getBBox();return{x:e.x,y:e.y}},t.prototype.getEndPosition=function(){var e=this.getBBox();return{x:e.x2,y:e.y2}}});var h='<path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/>',p='<path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/>';function f(e,t){this._constants=new function(){return{NODE_TYPE:{START:"start",APPLY:"apply",PROCESS:"process",CONDITION:"condition",END:"end",WAITING:"waiting"},EVENT:{NODE_OUT:"node_out",CANCEL_OUT:"cancel_out",CREATE_NODE:"create_node",LINK_NODE:"link_node",DELETE_NODE:"delete_node",SELECTED:"selected",CANCEL_SELECTED:"cancel_selected",START_ADJUST_BRANCHES:"start_adjust_branches",END_ADJUST_BRANCHES:"end_adjust_branches"},EVENT_CLIENT:{SELECTED:"selected",CANCEL_SELECTED:"cancel_selected",WAIT_TO_CREATE_OR_LINK:"wait_to_create_or_link",CANCEL_CREATE_OR_LINK:"cancel_create_or_link",CREATE_NODE:"create_node",LINK_NODE:"link_node",DELETE_NODE:"delete_node"}}};t=l()({startNodeText:"开始",endNodeText:"结束",applyNodeText:"申请",processNodeText:"节点",conditionNodeText:"条件",readonly:!1,datetimeMode:!1,datetimeFormat:"yyyy年M月dd日 h:mm",datetimeStartText:"业务期开始",fixApplyNode:!0,nodeTextPreviewLength:6},t),this._options=t,this._selector=e,this._clientEventTarget=new m,this._coreEventTarget=new m,this._nodesHandler=new g(this._constants,t),this._view=new v(this._selector,this._constants,this._coreEventTarget,t);var i=this;t.readonly&&this._coreEventTarget.lock();var n=t.data;if(n||(n={start:{type:this._constants.NODE_TYPE.START,name:t.startNodeText,links:[]}},t.fixApplyNode&&(n.start.links.push({id:"apply"}),n.apply={type:this._constants.NODE_TYPE.APPLY,name:t.applyNodeText,links:[]})),!this._nodesHandler.verifyData(n))return new Error("invalid init data");this._nodesHandler.recover(n),this._view.sync(this._nodesHandler.getNodes(),this._nodesHandler.getLinks()),this._coreEventTarget.addEvent(this._constants.EVENT.NODE_OUT,function(e){var t=e.target.parent(),n=t.data("id"),a=i._nodesHandler.getReachableAndUnreachableNodesId(n);i._view.setReachable(a.reachable),i._view.setUnreachable(a.unreachable),i._view.nodeOutWaiting(t),i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.WAIT_TO_CREATE_OR_LINK,from:i._nodesHandler.getNodeById(n),target:null,event:e.event})}),this._coreEventTarget.addEvent(this._constants.EVENT.CANCEL_OUT,function(e){i._view.cancelNodeOutWaiting(e.target),i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.CANCEL_CREATE_OR_LINK,from:i._nodesHandler.getNodeById(e.target.data("id")),target:null,event:e.event})}),this._coreEventTarget.addEvent(this._constants.EVENT.CREATE_NODE,function(e){var t=e.target,n=e.parent,a=e.lineText,r=n.data("id"),o=n.data("type"),s=t.data("type"),l=i._nodesHandler.createNode({type:s}),c=i._nodesHandler.addToBranch(r,l);i._nodesHandler.addChild(r,l,!0),i._nodesHandler.addNode(l);var d=i._view.appendNode(n,l,a);if(i._view.updateNodes(c),a&&i._nodesHandler.setLinkText(r,l.id,a),i._view.addDragEvent([l.id]),o!==i._constants.NODE_TYPE.CONDITION){if(i._options.datetimeMode&&(d.data("type")===i._constants.NODE_TYPE.CONDITION||d.data("type")===i._constants.NODE_TYPE.END))return;i._view.setSelected(d)}i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.CREATE_NODE,from:i._nodesHandler.getNodeById(r),target:l,event:e.event})}),this._coreEventTarget.addEvent(this._constants.EVENT.LINK_NODE,function(e){var t=e.target,n=e.parent,a=e.lineText,r=n.data("id"),o=n.data("type");i._nodesHandler.addChild(r,t.data("id")),i._view.linkToNode(n,t,a),a&&i._nodesHandler.setLinkText(r,t.data("id"),a),i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.LINK_NODE,from:i._nodesHandler.getNodeById(r),target:i._nodesHandler.getNodeById(t.data("id")),event:e.event}),o!==i._constants.NODE_TYPE.CONDITION&&i._view.setSelected(t)}),this._coreEventTarget.addEvent(this._constants.EVENT.DELETE_NODE,function(e){var t=e.target.parent(),n=t.data("id"),a=i._nodesHandler.getNodeById(n),r=(i._nodesHandler.getParents(n),i._nodesHandler.deleteNode(n));i._view.deleteNode(t),i._view.updateNodes(r),i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.DELETE_NODE,target:a,event:e.event})}),this._coreEventTarget.addEvent(this._constants.EVENT.SELECTED,function(e){var t=e.target;(!i._options.datetimeMode||t.data("type")!==i._constants.NODE_TYPE.CONDITION&&t.data("type")!==i._constants.NODE_TYPE.END)&&(i._view.setSelected(t),i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.SELECTED,target:i._nodesHandler.getNodeById(t.data("id")),event:e.event}))}),this._coreEventTarget.addEvent(this._constants.EVENT.CANCEL_SELECTED,function(){i._view.hasSelected()&&(i._view.setSelected(),i._clientEventTarget.fireEvent({type:i._constants.EVENT_CLIENT.CANCEL_SELECTED,event:event.event}))}),this._coreEventTarget.addEvent(this._constants.EVENT.START_ADJUST_BRANCHES,function(e){e.target.data("id")}),this._coreEventTarget.addEvent(this._constants.EVENT.END_ADJUST_BRANCHES,function(e){if(e.hasMoved){var t=e.conditionEle.data("id");i._nodesHandler.rearrangeBranches(t,e.indexes)}})}function m(){this.handlers={}}function g(e,t){this._nodes={},this._linksText={},this._constants=e,this._options=t}function v(e,i,n,a){var r={debug:!1,animate:!0,animateDuration:200,blurEdge:!1,blurEdgeWidth:36,edgeMaxOffset:20,debugIdClassName:"wf-node-id-debug",colWidth:300,rowHeight:100,colWidthOffsetLeftRatio:1/3,top:58,slideWorkspaceValidAreaOffset:120,slideWorkspaceStep:10,adjustBranches:!0,className:"wf-main",bgColorEven:"#cfd8dc",nodeSelectedClassName:"selected",nodeClassName:"wf-node",nodeBoxClassName:"wf-node-box",nodeTextClassName:"wf-node-text",nodePlaceholderClassName:"wf-node-placeholder",nodeDraggingClassName:"wf-node-dragging",arrowClassName:"wf-node-arrow",arrowHeadClassName:"wf-node-arrow-head",arrowStickClassName:"wf-node-arrow-stick",arrowBoxClassName:"wf-node-arrow-box",arrowTailClassName:"wf-node-arrow-tail",deleteBtnClassName:"wf-node-delete",raceLineClassName:"wf-race-line",linkLineClassName:"wf-line-link",linkLineEndClassName:"wf-line-link-end",linkLineTextClassName:"wf-line-link-text",datetimeTitleClassName:"wf-datetime-title",datetimeValueClassName:"wf-datetime-value",joinPointOffset:15,textLineDistance:10,startNodeWidth:108,startNodeHeight:44,startNodeRadius:22,startNodeClassName:"wf-node-start",endNodeWidth:108,endNodeHeight:44,endNodeRadius:22,endNodeClassName:"wf-node-end",processNodeWidth:208,processNodeHeight:44,processNodeClassName:"wf-node-process",processNodeRadius:0,conditionNodeWidth:242,conditionNodeHeight:64,conditionNodeClassName:"wf-node-condition",questionNodeClassName:"wf-node-question",waitingCurrentNodeClassName:"wf-node-waiting-current",waitingReachableNodeClassName:"wf-node-reachable",waitingUnreachableNodeClassName:"wf-node-unreachable",waitingNodeClassName:"wf-node-waiting",waitingNodeInterval:12,waitingProcessNodeText:"节点",waitingProcessNodeWidth:64,waitingProcessNodeHeight:44,waitingConditionNodeText:"条件",waitingConditionNodeWidth:78,waitingConditionNodeHeight:78,waitingEndNodeText:"结束",datetimeDefaultText:"未设置",waitingEndNodeWidth:64,waitingEndNodeHeight:44,deleteConfirm:!0,deleteConfirmText:"确定要删除此节点吗?"};r.startNodeRadius=r.startNodeHeight/2,this._constants=i,this._options=l()(r,a||{}),this._selector=e,this._ele=t.doc.getElementById(this._selector.replace("#","")),this._gridSystem=new b,this._lines=[],this._nodes={},this._coreEventTarget=n,this._raceLine=void 0,this._raceLineText=void 0,this._container=void 0,this.svg=void 0,this._bg=void 0,this._bgUndertone=void 0,this._bgStrip=void 0,this._containerWidth=0,this._containerHeight=0,this._containerViewBoxWidth=0,this._containerViewBoxHeight=0,this._width=0,this._height=0,this._x=0,this._y=0,this._scale=1,this._minScale=1,this._maxScale=2,this._scaleStep=.1,this._minWidth=0,this._minHeight=0,this._rows=0,this._cols=0,this._tempRow=0,this._tempCol=0,this._slideWorkspaceTimer=void 0,this._waitToLink=!1,this.initSvg()}function b(){this._grid=[],this._gridTemp=[],this._links={},this._placeholderPrefix="placeholder",this._waitingRow=-1}function y(e,t){this.col=e||0,this.row=t||0,this._steps=[]}function _(e,t){return i?void 0!==t&&"object"!==(void 0===t?"undefined":o()(t))?console.error("invalid options"):new f(e,t||{}):console.error("Dependency Snap.svg Not Found")}return f.prototype={constructor:f,on:function(e,t){this._clientEventTarget.addEvent(e,t)},setLineText:function(e,t,i){var n=this._nodesHandler.getNodeById(e);if(!e||!n)return console.error("invalid id",e),!1;this._nodesHandler.setLinkText(null,e,t,i),this._view.setLineText(e,t,i)},setNodeName:function(e,t){var i=this._nodesHandler.getNodeById(e);if(!e||!i)return console.error("invalid id",e),!1;i=this._nodesHandler.setNodeName(e,t),this._view.setNodeName(e,i.namePreview)},toCreateBranch:function(e,t){if(!this._nodesHandler.isType(e,this._constants.NODE_TYPE.CONDITION))return console.error("invalid id or invalid node type",e),!1;if(this._view.isWaitingToLink())return console.warn("please link node in upper workspace"),!1;var i=this._nodesHandler.getReachableAndUnreachableNodesId(e);this._view.setReachable(i.reachable),this._view.setUnreachable(i.unreachable),this._view.nodeOutWaiting(e,t),this._clientEventTarget.fireEvent({type:this._constants.EVENT_CLIENT.WAIT_TO_CREATE_OR_LINK,from:this._nodesHandler.getNodeById(e),target:null})},changeBranchText:function(e,t,i){if(!this._nodesHandler.isType(e,this._constants.NODE_TYPE.CONDITION))return console.error("invalid id or invalid node type",e),!1;this._view.setConditionLineText(e,t,i)},export:function(){return this._nodesHandler.export()},load:function(e){if(!this._nodesHandler.verifyData(e))return new Error("invalid init data");this._nodesHandler.clear(),this._nodesHandler.recover(e),this._view=new v(this._selector,this._constants,this._coreEventTarget,this._options),this._view.sync(this._nodesHandler.getNodes(),this._nodesHandler.getLinks())},setDatetime:function(e,t){var i=this._nodesHandler.setDatetime(e,t);return i.success?(this._view.setNodeDatetime(e,i.node.datetimePreview),{success:!0}):i},loadDatetime:function(e){var t=this;i.is(e,"array")?(this._nodesHandler.clearDatetime(),e.forEach(function(e){var i=t._nodesHandler.setDatetime(e.id,e.datetime);i.success?t._view.setNodeDatetime(e.id,i.node.datetimePreview):console.error("load datetime error:",i.message,e)})):console.error("load datetime array: param must be an array like [{ id: start, datetime: xxx}]")},exportDatetime:function(e){return this._nodesHandler.exportDatetime(e)},exportBeginEndTime:function(){return this._nodesHandler.exportBeginEndTime()},check:function(){console.log(this)},getNode:function(e){return this._nodesHandler.getNodeById(e)},refresh:function(){this._view._resizeBox(),this._view.sync(this._nodesHandler.getNodes(),this._nodesHandler.getLinks())},testWorkflow:function(){var e=this._nodesHandler.getQuestionNodes(!0);return this._view.setQuestionNodes(e),!e.length},markQuestionNode:function(e){var t=this._nodesHandler.getNodeById(e);this._view.setQuestionNodes([t])}},m.prototype={constructor:m,addEvent:function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),"function"==typeof t?this.handlers[e].push(t):console.warn("handler should be a function:",t)},fireEvent:function(e){this._lock||(e.target||(e.target=this),this.handlers[e.type]instanceof Array&&this.handlers[e.type].forEach(function(t){t(e)}))},removeEvent:function(){},lock:function(){this._lock=!0},unlock:function(){this._lock=!1}},g.prototype={constructor:g,verifyData:function(e){var t=this._constants.NODE_TYPE,a=[t.START,t.PROCESS,t.CONDITION,t.END,t.APPLY];if(!e||!e[t.START])return console.error("data is empty or luck of start node",e),!1;var r=e[t.START];if("object"!==(void 0===r?"undefined":o()(r)))return console.error("every node should be type of object",e),!1;for(var s in e){var l=e[s];if("object"!==(void 0===l?"undefined":o()(l)))return console.error("every node should be type of object",e),!1;if(!n(a,l.type))return console.error("wrong node type",l),!1;if(!i.is(l.links,"array"))return console.error("links should be type of array",l),!1;if(l.links.length)for(var c in l.links){var d=l.links[c];if("object"!==(void 0===d?"undefined":o()(d)))return console.error("link node should be type of object",l),!1;if(!d.id)return console.error("link node should have property: id",l),!1;if(!e[d.id])return console.error("id not found",d),!1}}return!0},recover:function(e){var t=this,i=e[this._constants.NODE_TYPE.START],n=this.createNode(i);this.addNode(n);var a=[{id:n.id,links:i.links}];if(this._options.fixApplyNode){var r=e[i.links[0].id];r.type=this._constants.NODE_TYPE.APPLY;var o=this.createNode(r);this.addNode(o),this.addChild(n.id,o),a=[{id:o.id,links:r.links}]}for(;a.length;){var s=[];a.forEach(function(i){var n=i.id;i.links.forEach(function(i){var a=e[i.id],r=t._nodes[i.id],o=!1;if(!r){var l={type:a.type,name:a.name,id:i.id,data:a.data,datetime:a.datetime};r=t.createNode(l),t.addNode(r),o=!0}t.addChild(n,r),o&&t.addToBranch(n,r),i.upText&&t.setLinkText(n,r.id,i.upText),i.downText&&t.setLinkText(n,r.id,i.downText,!0),o&&a.links.length&&s.push({id:r.id,links:a.links})})}),a=s}return!0},createNode:function(e){var t={id:this._generateNodeId(e.type),name:"",namePreview:"",type:e.type,datetime:e.datetime&&new Date(e.datetime),datetimePreview:s(e.datetime&&new Date(e.datetime),this._options.datetimeFormat),datetimeTitle:"",parents:[],children:[],accessNodes:[],branch:null,branches:[],data:e.data||{}};for(e.id&&(t.id=e.id);this._nodes[t.id];)t.id=this._generateNodeId(e.type);switch(e.type===this._constants.NODE_TYPE.START&&(t.id=this._constants.NODE_TYPE.START,t.branch="0",t.root="main"),e.type){case this._constants.NODE_TYPE.START:t.name=this._options.startNodeText;break;case this._constants.NODE_TYPE.APPLY:t.name=this._options.applyNodeText;break;case this._constants.NODE_TYPE.PROCESS:t.name=this._options.processNodeText;break;case this._constants.NODE_TYPE.CONDITION:t.name=this._options.conditionNodeText;break;case this._constants.NODE_TYPE.END:t.name=this._options.endNodeText;break;default:console.error("no such type",e.type)}return e.name&&(t.name=e.name),t.namePreview=this._getStandardizedName(t.name),t.datetimeTitle=e.type===this._constants.NODE_TYPE.START?this._options.datetimeStartText:t.namePreview+"截止时间",t},addNode:function(e){return!this._nodes[e.id]&&(this._nodes[e.id]=e,!0)},deleteNode:function(e){var t,i,a=[],r=this._nodes[e],o=this._nodes[r.root];if(o&&n(o.children,e)){var s=o.branches.indexOf(r.branch);-1!==s&&(o.branches.splice(s,1),a.push(o))}for(var l in delete this._nodes[e],this._nodes)[(i=this._nodes[l]).children,i.accessNodes,i.parents].forEach(function(i){(t=i.indexOf(e))>-1&&i.splice(t,1)});for(var c in this._linksText)this._linksText[c][e]&&delete this._linksText[c][e];return a},addToBranch:function(e,t){if(void 0===this._nodes[e])return console.error("node id",e,"no existed");"string"==typeof t&&(t=this.getNodeById(t));var i=[],n=this,a=this._nodes[e];if(a.type===this._constants.NODE_TYPE.CONDITION)if(i.push(a),a.branches.length)if(1===a.branches.length){a.branches=[1],a.accessNodes.forEach(function(e){var t=n._nodes[e];t.root===a.root&&t.branch===a.branch&&(t.root=a.id,t.branch=1,i.push(t))}),t.branch=a.branches.length+1,t.root=a.id,a.branches.push(t.branch)}else a.branches.length>1&&(t.branch=a.branches.length+1,t.root=a.id,a.branches.push(t.branch));else t.root=a.root,t.branch=a.branch,a.branches.push(a.branch);else t.root=a.root,t.branch=a.branch;return i},addChild:function(e,t){if(void 0===this._nodes[e])return console.error("node id",e,"no existed");"string"==typeof t&&(t=this.getNodeById(t));var i=this._nodes[e];i.children.push(t.id),t.parents.push(e);var a=[i];for(var r in this._nodes){var o=this._nodes[r];n(o.accessNodes,e)&&a.push(o)}return a.forEach(function(e){n(e.accessNodes,t.id)||e.accessNodes.push(t.id),t.accessNodes.forEach(function(t){n(e.accessNodes,t)||e.accessNodes.push(t)})}),this._linksText[e]=this._linksText[e]||{},this._linksText[e][t.id]={},!0},setLinkText:function(e,t,i,n){var a=n?"down":"up";if(e)this._linksText[e][t][a]=i;else for(var e in this._linksText)this._linksText[e][t]&&(this._linksText[e][t][a]=i)},getReachableAndUnreachableNodesId:function(e){var t=[],i=[].concat(this._nodes[e].accessNodes);for(var a in this._nodes){var r=this._nodes[a];r.id!==e&&(n(i,e)||n(t,e)||(r.type!==this._constants.NODE_TYPE.START?n(r.accessNodes,e)?i.push(a):t.push(a):i.push(a)))}return{reachable:t,unreachable:i}},getNodeById:function(e){return this._nodes[e]},setNodeName:function(e,t){var i=this.getNodeById(e);return i.name=t,i.namePreview=this._getStandardizedName(t),i},_getStandardizedName:function(e){var t=d(e),i=2*this._options.nodeTextPreviewLength;return t<=i?e:u(e,0,i)+"..."},setDatetime:function(e,t){var i=this.getNodeById(e);if(!i)return{success:!1,message:"id:"+e+" 不存在"};if(!t)return{success:!0,node:i};var n=new Date(t),a=this._checkDatetime(e,new Date(t));return a.success?(i.datetime=n,i.datetimePreview=s(n,this._options.datetimeFormat),{success:!0,node:i}):a},clearDatetime:function(){for(var e in this._nodes){var t=this._nodes[e];t.datetime=null,t.datetimePreview=null}},_checkDatetime:function(e,t){var i,a=function(e){return new Date(s(e,"yyyy-MM-dd hh:mm"))},r=a(t),o=this._nodes[e],l=!0,c="";for(var d in this._nodes)if((i=this._nodes[d]).datetime)if(n(i.accessNodes,e)){if(a(i.datetime)-r>0){l=!1,c=o.datetimeTitle+"不得早于"+i.datetimeTitle;break}}else if(n(o.accessNodes,i.id)&&a(i.datetime)-r<0){l=!1,c=o.datetimeTitle+"不得晚于"+i.datetimeTitle;break}return{success:l,message:c}},exportDatetime:function(e){var t=[],i=this._constants.NODE_TYPE;for(var a in this._nodes){var r=this._nodes[a];n([i.START,i.PROCESS,i.APPLY],r.type)&&((e||r.type!==this._constants.NODE_TYPE.START)&&t.push({id:r.id,datetime:r.datetime,type:r.type}))}return t},exportBeginEndTime:function(){var e=this,t={beginTime:null,endTime:null},i=null;return this.exportDatetime(!0).forEach(function(n){n.datetime&&(n.type!==e._constants.NODE_TYPE.START?i?n.datetime-i>0&&(i=n.datetime):i=n.datetime:t.beginTime=n.datetime)}),t.endTime=i,t},getParents:function(e){return this._nodes[e].parents},isType:function(e,t){return!!this._nodes[e]&&this._nodes[e].type===t},export:function(){var e={};for(var t in this._nodes){var i=this._nodes[t],n=t;for(var a in e[n]={type:i.type===this._constants.NODE_TYPE.APPLY?this._constants.NODE_TYPE.PROCESS:i.type,name:i.name,links:[],data:i.data},i.children){var r=i.children[a];e[n].links.push({id:r,upText:this._linksText[t][r].up,downText:this._linksText[t][r].down})}}return e},getNodes:function(){return this._nodes},getLinks:function(){return this._linksText},getMovableNodesByNewNodeId:function(e){for(var t,i,a,r=e;(t=this._nodes[r]).parents.length;){if(t.parents.length>1){a=r;break}if(r=t.parents[0],this.isType(r,this._constants.NODE_TYPE.CONDITION)){i=r;break}}if(a)return[e];if(!i)return[];var o=this._nodes[i];if(o.children.length<2)return this._isNodeMovable(i)?[e]:[];for(var s=this,l=[],c=o.children,d=[];c.length;)d=[],c.forEach(function(e){n(l,e)||(l.push(e),(t=s._nodes[e]).children.length&&t.children.forEach(function(e){n(d,e)||d.push(e)}))}),c=d;return l},getUnmovableNodes:function(e){if(e.length>1)return[];if(!e.length)return[];for(var t,i,n,a=e[0];;){if(t=this._nodes[a],this.isType(a,this._constants.NODE_TYPE.CONDITION)){i=a;break}if(!t.parents.length)break;if(t.parents.length>1){n=a;break}a=t.parents[0]}if(n)return[];if(!i)return[];var r=[],o=this._nodes[i];if(o.children.length>1)return[];if(this._isNodeMovable(i))return[];r.push(i);for(var s=o.children[0];s&&this._nodes[s].children.length<=1;)r.push(s),s=(t=this._nodes[s]).children[0];return r},rearrangeBranches:function(e,t){var i=this,n=this._nodes[e],a=[];t.forEach(function(t){n.children.forEach(function(n){i._nodes[n].root===e&&i._nodes[n].branch===t&&a.push(n)})});for(var r=0;r<n.children.length;++r){var o=n.children[r];this._nodes[o].root===e&&(n.children[r]=a.splice(0,1)[0])}},getFulcrum:function(e){},getQuestionNodes:function(e){var t,i,n,a=[];for(var r in this._nodes)if(!((t=this._nodes[r]).type===this._constants.NODE_TYPE.END||e&&t.children.length)){for(var o in n=!1,i=t.accessNodes)if(-1!==i[o].indexOf("end_")){n=!0;break}n||a.push(t)}return a},_isNodeMovable:function(e){for(var t=this._nodes[e],i=!1;t;){if(t.parents.length>=2||t.children.length>=2){i=!0;break}t=this._nodes[t.parents[0]]}return i},clear:function(){this._nodes={},this._linksText={}},_generateNodeId:function(e){return e+"_"+r()},_getDatetimePreview:function(e){}},v.prototype={constructor:v,initSvg:function(){var e=this;this._resizeBox();var n=this._options,a=this._ele.getAttribute("class");a?a+=" "+n.className:a=n.className,this._options.datetimeMode&&(a+=" wf-datetime-mode"),this._ele.setAttribute("class",a),n.blurEdge?(this._containerWithBlurEdge=i(this._selector),this._container=this._containerWithBlurEdge.paper.svg(n.blurEdgeWidth,0,this._containerViewBoxWidth,this._containerViewBoxHeight),this._prevAreaBtn=this._containerWithBlurEdge.paper.group().attr({class:"wf-move-edge-btn"}),this._nextAreaBtn=this._containerWithBlurEdge.paper.group().attr({class:"wf-move-edge-btn"}),this._prevAreaBtn.append(this._containerWithBlurEdge.paper.rect(0,0,24,24).attr({class:"wf-move-edge-btn-box"})),this._prevAreaBtn.append(i.fragment(h)),this._nextAreaBtn.append(this._containerWithBlurEdge.paper.rect(0,0,24,24).attr({class:"wf-move-edge-btn-box"})),this._nextAreaBtn.append(i.fragment(p)),this._prevAreaBtn.transform(i.matrix().translate(8,20)),this._nextAreaBtn.transform(i.matrix().translate(this._containerViewBoxWidth+36+8,20))):(this._container=i(this._selector),this._container.attr({viewBox:"0,0,"+this._containerViewBoxWidth+","+this._containerViewBoxHeight})),this._smileTip=this._container.paper.text(this._containerWidth/2-50,this._containerHeight/2,this._options.datetimeMode?"":"别拉了  ┐(-｡ｰ;)┌").attr({fill:"#586D7A"}),this._width=this._containerWidth,this._height=this._containerHeight,this.svg=this._container.paper.svg(0,0,this._width,this._height).attr({class:"wf-workspace"}),n.blurEdge&&(this._blurEdgeLeft=this._container.paper.rect(0,0,n.blurEdgeWidth,this._height).attr({class:"wf-blur-edge-left",fill:this._container.paper.gradient("l(0, 1, 1, 1)rgba(245,245,245,1)-rgba(245,245,245,0)")}),this._blurEdgeRight=this._container.paper.rect(0,0,n.blurEdgeWidth,this._height).attr({class:"wf-blur-edge-right",fill:this._container.paper.gradient("l(0, 1, 1, 1)rgba(245,245,245,0)-rgba(245,245,245,1)")})),this._options.readonly&&this.svg.addClass("readonly"),this._bg=this.svg.group();var r=c(function(e,t){o(e,t,!0,50)},50),o=function(e,t,n,a){if(d(),!n)return l(e,t),void u();i.animate([0,0],[e,t],function(e){l(e[0],e[1])},a,function(){u()})},s=function(t){var i=e._container.attr("viewBox");t<0?(e._scale+=e._scaleStep,e._scale=e._scale>e._maxScale?e._maxScale:e._scale):(e._scale-=e._scaleStep,e._scale=e._scale<e._minScale?e._minScale:e._scale),e._containerViewBoxWidth=e._containerWidth*e._scale,e._containerViewBoxHeight=e._containerHeight*e._scale,e._container.attr({viewBox:i.x+","+i.y+","+e._containerViewBoxWidth+","+e._containerViewBoxHeight}),e._setMinWorkspaceWidth(e._containerViewBoxWidth+i.x),e._setMinWorkspaceHeight(e._containerViewBoxHeight+i.y),e._refreshBlurEdge()};this.svg.node.onmousewheel=function(t){if(t.altKey)return s(t.wheelDelta);var i=!1,n=t.wheelDeltaX/4,a=t.wheelDeltaY/4,l=e._x-a;(l<0||l+e._containerWidth>e._width)&&(i=!0),i?r(4*a,4*n):o(a,n)},this._bgUndertone=this.svg.paper.rect(0,0,this._width,this._height).attr({class:"wf-bg-undertone"}),this._bgStrip=this.svg.paper.path("M0,"+this._height/2+" L"+this._width+","+this._height/2).attr({class:"wf-bg-strip",strokeWidth:this._height,strokeDasharray:this._options.colWidth,strokeDashoffset:this._options.colWidth*this._options.colWidthOffsetLeftRatio}),this._bg=this.svg.group(this._bgUndertone,this._bgStrip),this._bg.click(function(){e._coreEventTarget.fireEvent({type:e._constants.EVENT.CANCEL_SELECTED})});var l=function(t,i){var n=e._x-t,a=e._y-i;n<-1&&(n=-e._options.edgeMaxOffset*(t-n)*.001),a<-1&&(a=-e._options.edgeMaxOffset*(i-a)*.001);var r=e._width-e._containerViewBoxWidth,o=e._height-e._containerViewBoxHeight;n>r&&(n=r+e._options.edgeMaxOffset*(n-t-r)*.001),a>o&&(a=o+e._options.edgeMaxOffset*(a-i-o)*.001),e._smileTip.attr({x:e._containerWidth/8+n-50,y:e._containerHeight/2+a}),e._container.attr({viewBox:n+","+a+","+e._containerViewBoxWidth+","+e._containerViewBoxHeight}),e._refreshBlurEdge()},d=function(){var t=e._container.attr("viewBox")||{x:0,y:0};e._x=t.x,e._y=t.y},u=this._replaceWorkspaceWhenSkewing.bind(this);this._bg.drag(l,d,u),this._shadowFilter=this.svg.paper.filter(i.filter.shadow(1,2,2,"#333",.2)).attr({id:"shadow"}),this._datetimeShadowFilter=this.svg.paper.filter(i.filter.shadow(1,1,2,"#303030",.3)).attr({id:"shadow-datetime"}),this._heavyShadowFilter=this.svg.paper.filter(i.filter.shadow(1,2,4,"#586D7A",.5)).attr({id:"shadow-heavy"});var f=this._createArrowTail(),m=this._createArrowHead(),g=f.marker(0,0,4,4,2,2),v=m.marker(16,6,6,6,16,9);if(this._raceLine=this.svg.paper.path("M0,0 L1,1").attr({class:this._options.raceLineClassName,markerStart:g,markerEnd:v}).hide(),this._raceLineText=this.svg.paper.text(0,0,"").attr({class:this._options.linkLineTextClassName}).hide(),this._options.blurEdge){var b=c(function(e,t){o(e,t,!0,100)},50);this._prevAreaBtn.click(function(){b(200,0)}),this._nextAreaBtn.click(function(){b(-200,0)})}t.win.onresize=function(){e._resizeBox()}},clear:function(){this._getNodesByClassNames([this._options.nodeClassName,this._options.linkLineClassName,this._options.linkLineTextClassName]).forEach(function(e){e.remove()}),this._gridSystem.clear(),this._lines=[],this._nodes={}},sync:function(e,t){var i=this;this.clear();for(var n=[{id:null,links:[e[this._constants.NODE_TYPE.START].id]}];n.length;){var a=[];n.forEach(function(n){var r=n.id,o=i._getNodeById(r);n.links.forEach(function(n){var s,l,c=i._nodes[n];t[r]&&t[r][n]&&(s=t[r][n].up,l=t[r][n].down);var d=[],u=!1;c?d=i._gridSystem.linkNode(r,n):(c=i._createNode(e[n]),d=i._gridSystem.addToGrid(r,n),u=!0);var h=e[n].children.length;i._setNodeStatus(c,{out:h}),r&&i._linkNode(o,c,s,l),i._relocateNodes(d),u&&h&&a.push({id:n,links:e[n].children})})}),n=a}if(!this._options.readonly){var r=[];for(var o in e)r.push(o);this.addDragEvent(r)}this._options.blurEdge&&this._refreshBlurEdge()},nodeOutWaiting:function(e,n){this._waitToLink=!0;var a=this;"string"==typeof e&&(e=this._getNodeById(e)),this._setNodeStatus(e,{out:!0}),e.addClass(this._options.waitingCurrentNodeClassName),this._removeSelectedEvent(e);var r=e.data("out-position"),o=r.x+","+r.y;this._raceLine.attr({d:"M"+o+" L"+o}).show(),n&&(this._raceLineText.node.innerHTML=n,this._raceLineText.transform("rotate(0deg)").attr({y:-20}).show(),this.svg.append(this._raceLineText));var s=this._gridSystem.getWaitingNodesPosition(e.data("id")),l=this._gridSystem.addWaitingNodes(e.data("id"),s),c=a._width,d=a._height,u=this._getOffsetByPosition(s);c<this._width&&(this._x=this._width-this._containerViewBoxWidth,this._flushContainerViewBox()),d<this._height&&(this._y=this._height-this._containerViewBoxHeight,this._flushContainerViewBox()),this._waitingNodes=this._createWaitingNodes(u).after(a._raceLine),this._waitingNodes.selectAll("."+this._options.waitingNodeClassName).forEach(function(i){setTimeout(function(){i.mouseup(function(){a._coreEventTarget.fireEvent({type:a._constants.EVENT.CREATE_NODE,target:i,parent:e,lineText:n})})},301),i.mousemove(function(){t.win.clearInterval(a._slideWorkspaceTimer);var e=this.data("join-position");a._raceLine.attr({d:"M"+o+" L"+e.x+","+e.y}),n&&a._adjustTextToCenter(a._raceLineText,r,e)})}),[this._bg,e].forEach(function(e){e.mousemove(function(e){var s=a._options.slideWorkspaceValidAreaOffset,l=a._options.slideWorkspaceStep,c=!1,d=1;if(e.offsetX<s?(d=1-e.offsetX/s,c=!0):e.offsetX>a._containerWidth-s&&(d=1-(a._containerWidth-e.offsetX)/s,c=!0),e.offsetY<s?(d=1-e.offsetY/s,c=!0):e.offsetY>a._containerHeight-s&&(d=1-(a._containerHeight-e.offsetY)/s,c=!0),t.win.clearInterval(a._slideWorkspaceTimer),c){var u={x:a._containerWidth/2,y:a._containerHeight/2},h=i.angle(u.x,u.y,e.offsetX,e.offsetY);a._slideWorkspaceTimer=t.win.setInterval(function(){a._x-=i.cos(h)*d*l,a._y-=i.sin(h)*d*l,a._x<0?a._x=0:a._x>a._width-a._containerViewBoxWidth&&(a._x=a._width-a._containerViewBoxWidth),a._y<0?a._y=0:a._y>a._height-a._containerViewBoxHeight&&(a._y=a._height-a._containerViewBoxHeight),a._container.attr({viewBox:a._x+","+a._y+","+a._containerViewBoxWidth+","+a._containerViewBoxHeight}),a._refreshBlurEdge()},5)}var p=e.offsetX*a._scale-1+a._x,f=e.offsetY*a._scale-1+a._y;a._raceLine.attr({d:"M"+o+" L"+p+","+f}),n&&a._adjustTextToCenter(a._raceLineText,r,{x:p,y:f})})}),this._bg.unclick(),this._bg.click(function(){a._coreEventTarget.fireEvent({type:a._constants.EVENT.CANCEL_OUT,target:e})}),this._getNodesByClassNames(this._options.waitingReachableNodeClassName).forEach(function(i){a._removeSelectedEvent(i),i.mousemove(function(){t.win.clearInterval(a._slideWorkspaceTimer);var e=this.data("join-position");a._raceLine.attr({d:"M"+o+" L"+e.x+","+e.y}),n&&a._adjustTextToCenter(a._raceLineText,r,e)}),i.mouseup(function(){a._coreEventTarget.fireEvent({type:a._constants.EVENT.LINK_NODE,target:i,parent:e,lineText:n})})}),this._getNodesByClassNames(this._options.waitingUnreachableNodeClassName).forEach(function(e){}),this._relocateNodesWithAnimation(l)},cancelNodeOutWaiting:function(e){this._tempRow&&(this._rows-=this._tempRow,this._tempRow=0,this._setMinWorkspaceHeight()),this._tempCol&&(this._cols-=this._tempCol,this._tempCol=0,this._setMinWorkspaceWidth()),this._replaceWorkspaceWhenSkewing(),this._addSelectedEvent(e),this._setNodeStatus(e,{out:!1}),this._clearWaitingStatus(e);var t=this._gridSystem.removeWaitingNodes();this._relocateNodesWithAnimation(t)},appendNode:function(e,t,i){this._addSelectedEvent(e),this._clearWaitingStatus(e);var n=this._gridSystem.addToGrid(e.data("id"),t.id),a=this._createNode(t,this._getOffsetByPosition(this._gridSystem.getPositionById(t.id)));return this._linkNode(e,a,i),this._setNodeStatus(a,{out:!1}),this._setNodeStatus(e,{out:!0}),this._relocateNodesWithAnimation(n),a},updateNodes:function(e){var t=this;e.forEach(function(e){var i=t._getNodeById(e.id);i.data("branches",e.branches),i.data("branch",e.branch),i.data("root",e.root),t._options.debug&&(i.select("."+t._options.debugIdClassName).node.innerHTML=e.id+" | "+e.root+"."+e.branch)})},linkToNode:function(e,t,i){this._addSelectedEvent(e),this._clearWaitingStatus(e),this._linkNode(e,t,i),this._setNodeStatus(e,{out:!0});var n=this._gridSystem.linkNode(e.data("id"),t.data("id"));this._relocateNodesWithAnimation(n)},deleteNode:function(e){var t=this,i=e.data("id"),n=[],a=[];e.remove(),delete this._nodes[i],this._lines.forEach(function(e,t){e.to===i&&(e.ele.remove(),e.topText&&e.topText.remove(),e.bottomText&&e.bottomText.remove(),a.push(e.from),n.push(t))});var r=0;n.forEach(function(e){t._lines.splice(e-r++,1)}),a.forEach(function(e){var i=t._getNodeById(e),n=!1;t._lines.forEach(function(t){if(t.from===e)return n=!0,!1}),t._setNodeStatus(i,{out:n})});var o=this._gridSystem.remove(i);this._relocateNodesWithAnimation(o);var s=this._gridSystem._getMaxRow(),l=this._gridSystem._getMaxCol();return this._cols>l+1&&(--this._cols,this._width-=this._options.colWidth,this._width<this._containerViewBoxWidth&&(this._width=this._containerViewBoxWidth),this._minWidth=this._width),this._rows>s+1&&(--this._rows,this._height-=this._options.rowHeight,this._height<this._containerViewBoxHeight&&(this._height=this._containerViewBoxHeight),this._minHeight=this._height),this._replaceWorkspaceWhenSkewing(),!0},setLineText:function(e,t,i){for(var n in this._lines){var a=this._lines[n];if(a.to===e){var r="topText";i&&(r="bottomText"),a[r]?a[r].node.innerHTML=t:a[r]=this._createLineText(t),this._adjustTextToCenter(a[r],this._nodes[a.from].data("out-position"),this._nodes[e].data("join-position"),i)}}},setConditionLineText:function(e,t,i){var n=this;this._lines.forEach(function(a){a.from===e&&a.to===t&&(a.topText?a.topText.node.innerHTML=i:a.topText=n._createLineText(i),n._adjustTextToCenter(a.topText,n._nodes[a.from].data("out-position"),n._nodes[a.to].data("join-position")))})},setNodeName:function(e,t){var i=this.svg.select("#"+e+" ."+this._options.nodeTextClassName);i.node.innerHTML=t,this._adjustNodeNameToCenter(i)},setNodeDatetime:function(e,t){this.svg.select("#"+e+" ."+this._options.datetimeValueClassName).node.innerHTML=t||this._options.datetimeDefaultText},setReachable:function(e){this._addClass(e,this._options.waitingReachableNodeClassName)},setUnreachable:function(e){this._addClass(e,this._options.waitingUnreachableNodeClassName)},setSelected:function(e){var t=this;this._getNodesByClassNames(this._options.nodeSelectedClassName).forEach(function(e){e.removeClass(t._options.nodeSelectedClassName)}),e&&e.addClass(this._options.nodeSelectedClassName),e&&e.removeClass(this._options.questionNodeClassName)},hasSelected:function(e){return e?e.hasClass(this._options.nodeSelectedClassName):!!this._getNodesByClassNames(this._options.nodeSelectedClassName).length},isWaitingToLink:function(){return this._waitToLink},setQuestionNodes:function(e){var t;for(var i in e)t=e[i],this._nodes[t.id].addClass(this._options.questionNodeClassName)},_relocateNodes:function(e){var t=this,i=[];e.forEach(function(e){i.push(e.id);var n=t._getNodeById(e.id);t._moveNode(n,e.current)}),this._lines.forEach(function(e){if(n(i,e.from)||n(i,e.to)){var a=t._getNodeById(e.from).data("out-position"),r=t._getNodeById(e.to).data("join-position");e.ele.remove(),e.ele=t._createLine(a,r),e.topText&&t._adjustTextToCenter(e.topText,a,r),e.bottomText&&t._adjustTextToCenter(e.bottomText,a,r,!0)}})},_relocateNodesWithAnimation:function(e){var t=this;e.forEach(function(e){var i=t._getNodeById(e.id);t._moveNode(i,e.current,!0)})},_moveNode:function(e,t,n,a){var r,o,s=e.data("id"),l=e.select("."+this._options.nodeBoxClassName).getBBox(),c=this._getCenterPosition(e),d=this._getOffsetByPosition(t),u=c.x-l.width/2,h=c.y-l.height/2,p=d.x-c.x,f=d.y-c.y,m=this,g=e.data("out-position"),v=e.data("join-position");if(n&&this._options.animate)i.animate([0,0],[p,f],function(t){var n=t[0],a=t[1];e.data("out-position",{x:g.x+n,y:g.y+a}),e.data("join-position",{x:v.x+n,y:v.y+a}),e.transform(i.matrix().translate(u+n,h+a)),m._lines.forEach(function(e){e.from!==s&&e.to!==s||(e.from===s?(r={x:g.x+n,y:g.y+a},o=m._getNodeById(e.to).data("join-position")):e.to===s&&(r=m._getNodeById(e.from).data("out-position"),o={x:v.x+n,y:v.y+a}),e.ele.remove(),e.ele=m._createLine(r,o),e.topText&&m._adjustTextToCenter(e.topText,r,o),e.bottomText&&m._adjustTextToCenter(e.bottomText,r,o,!0))})},this._options.animateDuration,mina.easeinout,function(){a&&a()});else{var b=d.x-l.width/2,y=d.y-l.height/2;e.data("out-position",m._getOutPosition(d,l.width,e.data("type"))),e.data("join-position",m._getJoinUpPosition(d,l.width,e.data("type"))),e.transform(i.matrix().translate(b,y))}},_getNodeById:function(e){return this._nodes[e]},_getNodesByClassNames:function(e){"string"==typeof e&&(e=[e]);var t=e.map(function(e){return"."+e}).join(",");return this.svg.selectAll(t)},_getNodeByClassName:function(e){return this.svg.select("."+e)},_replaceWorkspaceWhenSkewing:function(){var e=this,t=e._container.attr("viewBox"),n=e._containerViewBoxWidth,a=e._containerViewBoxHeight;e._x=t.x,e._y=t.y;var r=e._x,o=e._y;r<0?r=0:r+n>e._width&&(r=e._width-n),o<0?o=0:o+a>e._height&&(o=e._height-a),i.animate([e._x,e._y],[r,o],function(t){var i=t[0],r=t[1];e._container.attr({viewBox:i+","+r+","+n+","+a}),e._smileTip.attr({x:e._containerWidth/8+i-50,y:e._containerHeight/2+r}),e._x=i,e._y=r,e._refreshBlurEdge()},e._options.animateDuration/2,mina.easeout)},_flushContainerViewBox:function(){var e=this,t=this._container.attr("viewBox");i.animate([t.x,t.y,t.width,t.height],[this._x,this._y,this._containerViewBoxWidth,this._containerViewBoxHeight],function(t){e._container.attr({viewBox:t.join(",")}),e._refreshBlurEdge()},this._options.animateDuration,mina.easeinout)},_addSelectedEvent:function(e){var t=this;if(e.select("."+this._options.nodeBoxClassName).click(function(i){t._coreEventTarget.fireEvent({type:t._constants.EVENT.SELECTED,target:e,event:i})}),e.select("."+this._options.nodeTextClassName).click(function(i){t._coreEventTarget.fireEvent({type:t._constants.EVENT.SELECTED,target:e,event:i})}),this._options.datetimeMode){var i=e.select("."+this._options.datetimeTitleClassName),n=e.select("."+this._options.datetimeValueClassName);i&&i.click(function(i){t._coreEventTarget.fireEvent({type:t._constants.EVENT.SELECTED,target:e,event:i})}),n&&n.click(function(i){t._coreEventTarget.fireEvent({type:t._constants.EVENT.SELECTED,target:e,event:i})})}return e},_removeSelectedEvent:function(e){e.select("."+this._options.nodeBoxClassName).unclick(),e.select("."+this._options.nodeTextClassName).unclick()},_adjustTextToCenter:function(e,t,n,a){var r,o,s=(n.x+t.x)/2,l=(n.y+t.y)/2,c=this._options.textLineDistance,d=i.angle(t.x,t.y,n.x,n.y);d<=90&&(r=c*Math.sin(i.rad(d)),o=-c*Math.cos(i.rad(d))),d>90&&d<=180&&(r=-c*Math.sin(i.rad(180-d)),o=-c*Math.cos(i.rad(180-d))),d>180&&d<=270&&(r=c*Math.sin(i.rad(d-180)),o=-c*Math.cos(i.rad(d-180))),d>270&&(r=-c*Math.sin(i.rad(360-d)),o=-c*Math.cos(i.rad(360-d))),e.transform("rotate(0deg)");var u=20*(1-Math.abs(90-d%180)/90),h=e.getBBox();a&&(r=-r,o=-o*(h.height+c-4+u)/c);var p={x:s+r-h.width/2,y:l+o},f=d;return d>90&&d<270&&(f+=180),e.attr({x:p.x,y:p.y}).transform("rotate("+f+"deg)"),e},_adjustNodeNameToCenter:function(e){var t=e.getBBox(),i=e.parent().getBBox().width/2-t.width/2;e.attr({x:i})},_clearWaitingStatus:function(e){var i=this;this._waitToLink=!1,e.unmousemove(),e.unclick(),this._bg.unmousemove(),this._bg.unclick(),this._bg.click(function(e){i._coreEventTarget.fireEvent({type:i._constants.EVENT.CANCEL_SELECTED,event:e})}),this._getNodesByClassNames([this._options.waitingReachableNodeClassName,+this._options.waitingNodeClassName]).forEach(function(e){e.unmousemove()}),e.removeClass(this._options.waitingCurrentNodeClassName),this._getNodesByClassNames(this._options.waitingReachableNodeClassName).forEach(function(e){e.removeClass(i._options.waitingReachableNodeClassName),e.unclick(),e.unmouseup(),i._addSelectedEvent(e)}),this._getNodesByClassNames(this._options.waitingUnreachableNodeClassName).forEach(function(e){e.removeClass(i._options.waitingUnreachableNodeClassName),e.unclick()}),this._raceLine.hide(),this._raceLineText.hide(),this._waitingNodes&&this._waitingNodes.remove(),t.win.clearInterval(this._slideWorkspaceTimer)},_removeClass:function(e,t){var i=e.map(function(e){return"#"+e}).join(",");i&&this.svg.selectAll(i).forEach(function(e){e.removeClass(t)})},_addClass:function(e,t){var i=e.map(function(e){return"#"+e}).join(",");i&&this.svg.selectAll(i).forEach(function(e){e.addClass(t)})},_linkNode:function(e,t,i,n){var a=e.data("id"),r=t.data("id"),o=e.data("out-position"),s=t.data("join-position"),l={from:a,to:r,ele:this._createLine(o,s)};return i&&(l.topText=this._createLineText(i),this._adjustTextToCenter(l.topText,o,s)),n&&(l.bottomText=this._createLineText(n),this._adjustTextToCenter(l.bottomText,o,s,!0)),this._lines.push(l),l},_createLine:function(e,t){var i=this.svg.paper.circle(1,1,1).attr({class:this._options.linkLineEndClassName}).marker(0,0,2,2,1,1),n=this.svg.paper.path("M"+e.x+","+e.y+" L"+t.x+","+t.y);return n.attr({class:this._options.linkLineClassName,markerStart:i,markerEnd:i}),n},_animateLine:function(e){var t=e.getTotalLength();e.attr({strokeDasharray:t,strokeDashoffset:t}).animate({strokeDashoffset:0},this._options.animateDuration,mina.easein)},_createLineText:function(e){return this.svg.text(0,0,e).attr({class:this._options.linkLineTextClassName})},_setNodeStatus:function(e,t){var i=this,a=e.data("status-out");if(void 0!==a&&(a=!!a),a===t.out)return!1;a=t.out,e.data("status-out",a?1:0);var r=e.select("."+this._options.arrowClassName),o=e.select("."+this._options.deleteBtnClassName);return a?(r&&r.unmousedown().hide(),o&&o.remove()):(r&&(r.show(),r.mousedown(function(e){i._coreEventTarget.fireEvent({type:i._constants.EVENT.NODE_OUT,target:r,event:e})})),n([this._constants.NODE_TYPE.START,this._constants.NODE_TYPE.APPLY],e.data("type"))||o||e.add(this._createDeleteBtn(e))),!0},_getOffsetByPosition:function(e){var t=e.row||0,i=e.col,n={x:i*this._options.colWidth+this._options.colWidth/2-this._options.colWidth*this._options.colWidthOffsetLeftRatio,y:t*this._options.rowHeight+this._options.top};return 0===i&&(n.x+=this._options.colWidth*this._options.colWidthOffsetLeftRatio/2),this._tempRow=0,this._tempCol=0,this._rows<t+1&&(this._rows=t+1,this._tempRow=1,this._setMinWorkspaceHeight()),this._cols<i+1&&(this._cols=i+1,this._tempCol=1,this._setMinWorkspaceWidth()),n},_setMinWorkspaceWidth:function(e){this._minWidth=Math.max(e||0,this._options.colWidth/3+this._cols*this._options.colWidth),this._width=this._minWidth,this._width<this._containerViewBoxWidth&&(this._width=this._containerViewBoxWidth),this._resizeBg()},_setMinWorkspaceHeight:function(e){this._minHeight=Math.max(e||0,this._options.top+this._rows*this._options.rowHeight),this._height=this._minHeight,this._height<this._containerViewBoxHeight&&(this._height=this._containerViewBoxHeight),this._resizeBg()},_resizeBox:function(){var e=this._ele.getBoundingClientRect();if(this._containerWidth=e.width,this._containerHeight=e.height,this._options.blurEdge&&this._containerWidth>0&&(this._containerWidth-=2*this._options.blurEdgeWidth),this._containerViewBoxWidth=this._containerWidth*this._scale,this._containerViewBoxHeight=this._containerHeight*this._scale,this._container){var t=this._container.attr("viewBox")||{x:0,y:0};this._container.attr({viewBox:t.x+","+t.y+","+this._containerViewBoxWidth+","+this._containerViewBoxHeight}),this._options.blurEdge&&(this._container.attr({width:this._containerViewBoxWidth,height:this._containerViewBoxHeight}),this._prevAreaBtn.transform(i.matrix().translate(8,20)),this._nextAreaBtn.transform(i.matrix().translate(this._containerViewBoxWidth+36+8,20))),this._refreshBlurEdge()}if(this.svg){var n=!1;this._containerWidth>this._width&&(this._width=this._containerWidth,n=!0),this._containerHeight>this._height&&(this._height=this._containerHeight,n=!0),n&&this._resizeBg()}},_resizeBg:function(){this._width<this._minWidth&&(this._width=this._minWidth),this._height<this._minHeight&&(this._height=this._minHeight),this.svg.attr({width:this._width,height:this._height}),this._bgUndertone.attr({width:this._width,height:this._height}),this._bgStrip.attr({d:"M0,"+this._height/2+" L"+this._width+","+this._height/2,strokeWidth:this._height})},_refreshBlurEdge:function(){if(this._options.blurEdge&&!(this._containerViewBoxWidth<=0)){var e=this._container.attr("viewBox")||{x:0,y:0};this._blurEdgeLeft.transform(i.matrix().translate(e.x,e.y)),this._blurEdgeRight.transform(i.matrix().translate(this._containerViewBoxWidth-36+e.x,e.y)),e.x+this._containerViewBoxWidth>=this._width?(this._blurEdgeRight.hide(),this._nextAreaBtn.hide()):(this._blurEdgeRight.show(),this._nextAreaBtn.show()),e.x>0?(this._blurEdgeLeft.show(),this._prevAreaBtn.show()):(this._blurEdgeLeft.hide(),this._prevAreaBtn.hide()),this._blurEdgeLeft.attr({height:this._containerViewBoxHeight}),this._blurEdgeRight.attr({height:this._containerViewBoxHeight})}},_createNode:function(e,t){var n;switch(e.type){case this._constants.NODE_TYPE.START:n=this._createStartNode(e);break;case this._constants.NODE_TYPE.APPLY:case this._constants.NODE_TYPE.PROCESS:n=this._createProcessNode(e);break;case this._constants.NODE_TYPE.CONDITION:n=this._createConditionNode(e);break;case this._constants.NODE_TYPE.END:n=this._createEndNode(e);break;default:console.error("no such type of node",e)}var a=n.getBBox(),r=(t=t||{x:0,y:0}).x-a.width/2,o=t.y-a.height/2;return n.transform(i.matrix().translate(r,o)).fadeIn(200),n.data("id",e.id),n.data("type",e.type),n.data("out-position",this._getOutPosition(t,a.width,e.type)),n.data("join-position",this._getJoinUpPosition(t,a.width,e.type)),n.data("movable",!1),n.data("root",e.root),n.data("branch",e.branch),n.data("branches",e.branches),this._addSelectedEvent(n),this._nodes[e.id]=n,this._options.debug&&n.add(this._createIdText(e.id+" | "+e.root+"."+e.branch)),n},addDragEvent:function(e){if(this._options.adjustBranches){var t,a=this,r=[];if(e.forEach(function(e){(t=a._getNodeById(e)).data("movable")||r.push(t)}),r.length){var o,s,l,c,d,u,h=[],p=[],f=[],m=[],g={},v=!1,b=!1,y=!0,_=0,w=function(){v?console.log("still moving, dont drag now"):(b=!1,y=!0,t=this)},x=function(e,r,w,x,C){if(!(++_<=3)&&(function(){if(!b){var e=[];c=t.data("branch");var i=t.data("root");if(!(o=a._nodes[i]))return y=!1,void S();h=a._getElementsByBranch(i,c),f=h.map(function(e){return e.data("id")});var r=1/0,s=1/0,v=0;h.forEach(function(e){a.svg.add(e),e.addClass(a._options.nodeDraggingClassName);var t=e.clone().addClass(a._options.nodePlaceholderClassName);t.insertAfter(a._bg),p.push(t);var i=e.select("."+a._options.nodeBoxClassName).getBBox(),n=a._getCenterPosition(e),o={leftTop:{x:n.x-i.width/2,y:n.y-i.height/2},out:e.data("out-position"),join:e.data("join-position")};o.leftTop.y<r&&(r=o.leftTop.y),n.y>v&&(v=n.y),n.y<s&&(s=n.y),g[e.data("id")]=o}),u=r,l=r,e=e.concat(f),d=v-s+a._options.rowHeight,m.push({branch:c,elements:h,heightStart:r,height:d,rows:d/a._options.rowHeight,offsetRows:0}),o.data("branches").forEach(function(t){if(t!==c){var n=a._getElementsByBranch(i,t);r=1/0,s=1/0,v=0,n.forEach(function(t){e.push(t.data("id"));var i=t.select("."+a._options.nodeBoxClassName).getBBox(),n=a._getCenterPosition(t);n.y-i.height/2<r&&(r=n.y-i.height/2),n.y>v&&(v=n.y),n.y<s&&(s=n.y)});var o=v-s+a._options.rowHeight;m.push({branch:t,elements:n,heightStart:r,height:o,rows:o/a._options.rowHeight,offsetRows:0})}}),m.sort(function(e,t){return e.heightStart-t.heightStart}),m.forEach(function(e,t){e.index=t,e.oldIndex=t});var _=[];for(var w in a._nodes)n(e,w)||_.push(w);a.setUnreachable(_)}}(),b=!0,y)){var T=1/0;h.forEach(function(e){var t=g[e.data("id")],n={x:t.leftTop.x,y:t.leftTop.y+r},a={x:t.out.x,y:t.out.y+r},o={x:t.join.x,y:t.join.y+r};n.y<T&&(T=n.y),e.transform(i.matrix().translate(n.x,n.y)),e.data("out-position",a),e.data("join-position",o)}),a._lines.forEach(function(e){(n(f,e.from)||n(f,e.to))&&a._syncLinePosition(e)}),s=T;var k=T>u;u=T;var A=void 0,E=-1,N=T;if(k&&(N=T+d-a._options.rowHeight),m.forEach(function(e){e.branch===c&&(A=e);var t=e.heightStart;k&&(t=e.heightStart+e.height-a._options.rowHeight),N>t&&(E=e.index+1)}),A){if(E!==A.index&&E!==A.index+1&&(0!==A.index||-1!==E))if(v)console.log("still moving");else{var P;v=!0;var R=d;E>A.index?(P=A.index+1,m[P].index-=1,m[P].heightStart-=A.height,m[P].offsetRows-=A.rows,A.index+=1,A.heightStart+=m[P].height,A.offsetRows+=m[P].rows,R=-R):(P=A.index-1,m[P].index+=1,m[P].heightStart+=A.height,m[P].offsetRows+=A.rows,A.index-=1,A.heightStart-=m[P].height,A.offsetRows-=m[P].rows),l=A.heightStart;var I,L,D,U=m[P],O=U.elements,M=[],B={};O.forEach(function(e){I=e.data("id"),M.push(I),L=e.select("."+a._options.nodeBoxClassName).getBBox(),D=a._getCenterPosition(e),B[I]={leftTop:{x:D.x-L.width/2,y:D.y-L.height/2},out:e.data("out-position"),join:e.data("join-position")}}),i.animate(0,R,function(e){O.forEach(function(t){I=t.data("id");var n=B[I];t.transform(i.matrix().translate(n.leftTop.x,n.leftTop.y+e)),t.data("out-position",{x:n.out.x,y:n.out.y+e}),t.data("join-position",{x:n.join.x,y:n.join.y+e})}),a._lines.forEach(function(e){(n(M,e.from)||n(M,e.to))&&a._syncLinePosition(e)})},a._options.animateDuration,mina.easeinout,function(){v=!1}),p.forEach(function(e){L=e.select("."+a._options.nodeBoxClassName).getBBox();var t={x:(D=a._getCenterPosition(e)).x-L.width/2,y:D.y-L.height/2-R/Math.abs(R)*U.height};e.transform(i.matrix().translate(t.x,t.y))}),m.sort(function(e,t){return e.index-t.index})}}else console.error("invalid branches",m)}},C=function(){if(y){v=!0;var e=m.map(function(e){return e.branch}),t=[];m.forEach(function(e){e.offsetRows&&t.push({offsetRows:e.offsetRows,ids:e.elements.map(function(e){return e.data("id")})})}),a._gridSystem.rearrangeBranches(t),p.forEach(function(e){e.remove()});var r,c,d,u={};h.forEach(function(e){r=e.data("id"),c=e.select("."+a._options.nodeBoxClassName).getBBox(),d=a._getCenterPosition(e),u[r]={leftTop:{x:d.x-c.width/2,y:d.y-c.height/2},out:e.data("out-position"),join:e.data("join-position")},e.removeClass(a._options.nodeDraggingClassName)}),i.animate(0,l-s,function(e){h.forEach(function(t){r=t.data("id");var n=u[r];t.transform(i.matrix().translate(n.leftTop.x,n.leftTop.y+e)),t.data("out-position",{x:n.out.x,y:n.out.y+e}),t.data("join-position",{x:n.join.x,y:n.join.y+e})}),a._lines.forEach(function(e){(n(f,e.from)||n(f,e.to))&&a._syncLinePosition(e)})},a._options.animateDuration/2,mina.easeinout,function(){S()}),a._coreEventTarget.fireEvent({type:a._constants.EVENT.END_ADJUST_BRANCHES,target:this,hasMoved:b,offsetRows:t,conditionEle:o,indexes:e}),a._getNodesByClassNames(a._options.waitingUnreachableNodeClassName).forEach(function(e){e.removeClass(a._options.waitingUnreachableNodeClassName)})}},S=function(){h=[],p=[],f=[],m=[],g={},o=void 0,c=void 0,d=void 0,u=void 0,b=!1,v=!1,_=0};r.forEach(function(e){e.data("movable",!0),e.select("."+a._options.nodeBoxClassName).drag(x,w.bind(e),C.bind(e)),e.select("."+a._options.nodeTextClassName).drag(x,w.bind(e),C.bind(e))})}}},_syncLinePosition:function(e){var t=this._getNodeById(e.from).data("out-position"),i=this._getNodeById(e.to).data("join-position");e.ele.remove(),e.ele=this._createLine(t,i),e.topText&&this._adjustTextToCenter(e.topText,t,i),e.bottomText&&this._adjustTextToCenter(e.bottomText,t,i,!0)},_getElementsByBranch:function(e,t){var i,a=this,r=[],o=[],s=[];for(var l in this._nodes)this._nodes[l].data("root")===e&&this._nodes[l].data("branch")===t&&(o.push(l),r.push(this._nodes[l]),s.push(this._nodes[l]));for(;s.length;)i=[],s.forEach(function(e){var t=e.data("id");for(var s in a._nodes){var l=a._nodes[s];l.data("root")!==t||n(o,s)||(r.push(l),o.push(s),i.push(l))}}),s=i;return r},_removeDragEvent:function(e){},_createWaitingNodes:function(e){var t=this.svg.paper.group(),n=this._options.waitingNodeInterval,a=this._options.waitingProcessNodeWidth,r=this._options.waitingConditionNodeWidth,o=this._options.waitingEndNodeWidth,s=e.x-(r/2+n+a),l=e.y,c={x:s,y:l},d={x:s+a+n,y:l},u={x:s+a+r+2*n,y:l},h=this._createWaitingProcessNode(),p=this._createWaitingConditionNode(),f=this._createWaitingEndNode();return h.data("type",this._constants.NODE_TYPE.PROCESS).data("join-position",this._getJoinUpPosition({x:c.x+a/2,y:c.y},a,this._constants.NODE_TYPE.WAITING)).data("temporary",1).transform(i.matrix().translate(c.x,c.y-h.getBBox().height/2)).fadeIn(300),p.data("type",this._constants.NODE_TYPE.CONDITION).data("join-position",this._getJoinUpPosition({x:d.x+r/2,y:d.y},r,this._constants.NODE_TYPE.WAITING)).data("temporary",1).transform(i.matrix().translate(d.x,d.y-p.getBBox().height/2)).fadeIn(300),f.data("type",this._constants.NODE_TYPE.END).data("join-position",this._getJoinUpPosition({x:u.x+o/2,y:u.y},o,this._constants.NODE_TYPE.WAITING)).data("temporary",1).transform(i.matrix().translate(u.x,u.y-f.getBBox().height/2)).fadeIn(300),t.add(h),t.add(p),t.add(f),t},_createWaitingProcessNode:function(){var e=this._options.waitingProcessNodeWidth,t=this._options.waitingProcessNodeHeight,i={centerX:e/2,centerY:t/2,width:e,height:t},n=this.svg.paper.rect(0,0,e,t);n.attr({class:this._options.nodeBoxClassName});var a=this._createNameText(this._options.waitingProcessNodeText,i),r=this.svg.paper.group(n,a);return r.attr({class:[this._options.nodeClassName,this._options.waitingNodeClassName].join(" ")}),r},_createWaitingConditionNode:function(){var e=this._options.waitingConditionNodeWidth,t=this._options.waitingConditionNodeHeight,i={centerX:e/2,centerY:t/2,width:e,height:t},n=this._createRhombus(e,t);n.attr({class:this._options.nodeBoxClassName});var a=this._createNameText(this._options.waitingConditionNodeText,i),r=this.svg.paper.group(n,a);return r.attr({class:[this._options.nodeClassName,this._options.waitingNodeClassName].join(" ")}),r},_createWaitingEndNode:function(){var e=this._options.waitingEndNodeWidth,t=this._options.waitingEndNodeHeight,i={centerX:e/2,centerY:t/2,width:e,height:t},n=this.svg.paper.rect(0,0,e,t,t/2);n.attr({class:this._options.nodeBoxClassName});var a=this._createNameText(this._options.waitingEndNodeText,i),r=this.svg.paper.group(n,a);return r.attr({class:[this._options.nodeClassName,this._options.waitingNodeClassName].join(" ")}),r},_createStartNode:function(e){var t=this._options.startNodeWidth,i=this._options.startNodeHeight,n={centerX:t/2,centerY:i/2,width:t,height:i,marginLeft:18},a=l()(n,e),r=this.svg.paper.rect(0,0,a.width,a.height,this._options.startNodeRadius);r.attr({class:this._options.nodeBoxClassName});var o=this._createNameText(e.namePreview||e.id,n),s=this._createArrow(n),c=this.svg.paper.group(r,o,s);if(this._options.datetimeMode){var d=this._createDateTimeTitle(e.datetimeTitle,n),u=this._createDateTimeValue(e.datetimePreview||this._options.datetimeDefaultText,n);c.add(d),c.add(u)}return c.attr({id:e.id,class:[this._options.nodeClassName,this._options.startNodeClassName].join(" "),transform:"translate("+e.offsetX+","+e.offsetY+")"}),c},_createEndNode:function(e){var t=this._options.endNodeWidth,i=this._options.endNodeHeight,n={centerX:t/2,centerY:i/2,width:t,height:i},a=l()(n,e),r=this.svg.paper.rect(0,0,a.width,a.height,this._options.endNodeRadius);r.attr({class:this._options.nodeBoxClassName});var o=this._createNameText(e.namePreview||e.id,n),s=this.svg.paper.group(r,o);return s.attr({id:e.id,class:[this._options.nodeClassName,this._options.endNodeClassName].join(" "),transform:"translate("+e.offsetX+","+e.offsetY+")"}),s},_createProcessNode:function(e){var t=this._options.processNodeWidth,i=this._options.processNodeHeight,n={centerX:t/2,centerY:i/2,width:t,height:i,marginLeft:26},a=l()(n,e),r=this.svg.paper.rect(0,0,a.width,a.height);r.attr({class:this._options.nodeBoxClassName});var o=this._createNameText(e.namePreview||e.id,n),s=this._createArrow(n),c=this.svg.paper.group(r,o,s);if(this._options.datetimeMode){var d=this._createDateTimeTitle(e.datetimeTitle,n),u=this._createDateTimeValue(e.datetimePreview||this._options.datetimeDefaultText,n);c.add(d),c.add(u)}return c.attr({id:e.id,class:[this._options.nodeClassName,this._options.processNodeClassName].join(" "),transform:"translate("+e.offsetX+","+e.offsetY+")"}),c},_createConditionNode:function(e){var t=this._options.conditionNodeWidth,i=this._options.conditionNodeHeight,n={centerX:t/2,centerY:i/2,width:t,height:i},a=l()(n,e),r=this._createRhombus(t,i);r.attr({class:this._options.nodeBoxClassName});var o=this._createNameText(e.namePreview||e.id,n),s=this.svg.paper.group(r,o);return s.attr({id:e.id,class:[this._options.nodeClassName,this._options.conditionNodeClassName].join(" "),transform:"translate("+a.offsetX+","+a.offsetY+")"}),s},_createNameText:function(e,t){var i=this.svg.paper.text(0,0,e),n=i.getBBox(),a=t.centerX-n.width/2,r=t.centerY+n.height/4+2;return i.attr({class:this._options.nodeTextClassName,x:a,y:r}),i},_createIdText:function(e){return this.svg.paper.text(0,-10,e).attr({class:this._options.debugIdClassName})},_createDateTimeTitle:function(e,t){var i=this.svg.paper.text(0,0,e);return i.attr({class:this._options.datetimeTitleClassName,x:t.marginLeft,y:t.centerY-5}),i},_createDateTimeValue:function(e,t){var i=this.svg.paper.text(0,0,e);return i.attr({class:this._options.datetimeValueClassName,x:t.marginLeft,y:t.centerY+15}),i},_createArrow:function(e){var t=this._createArrowHead(),i=this._createArrowStick(),n=this.svg.paper.rect(0,0,20,18).attr({class:this._options.arrowBoxClassName}),a=this.svg.paper.group(n,t,i),r=a.getBBox(),o=e.centerX+e.width/2-r.width-this._options.joinPointOffset*(2/3),s=e.centerY-r.height/2;return a.attr({class:this._options.arrowClassName,transform:"translate("+o+","+s+")"}),a},_createArrowHead:function(){return this.svg.paper.path("M16,6 L16,12 L20,9 L16,6").attr({class:this._options.arrowHeadClassName})},_createArrowTail:function(){return this.svg.paper.circle(2,2,2).attr({class:this._options.arrowTailClassName})},_createArrowStick:function(){return this.svg.paper.path("M0,9 L17,9").attr({class:this._options.arrowStickClassName,strokeWidth:2})},_createRhombus:function(e,t){var i=e/2,n=t/2,a=i+",0",r="0,"+n,o=e+","+n,s=i+","+t;return this.svg.paper.path("M"+a+"L"+r+"L"+s+"L"+o+"L"+a)},_createDeleteBtn:function(e){var n=this;this._options.debug&&e.select("."+this._options.debugIdClassName).remove();var a=e.getBBox(),r=-9,o=-9;switch(e.data("type")){case this._constants.NODE_TYPE.CONDITION:r+=a.width/2+3*a.width/14,o+=3*a.height/14;break;case this._constants.NODE_TYPE.END:r+=a.width-5,o+=5;break;default:r+=a.width}var s=this.svg.paper.group(this.svg.paper.circle(9,9,7.5),this.svg.paper.path("M1,0 L0,1 L3,4 L0,7 L1,8 L4,5 L7,8 L8,7 L5,4 L8,1 L7,0 L4,3 L1,0").transform("translate(5,5)"));return s.attr({class:this._options.deleteBtnClassName}).transform(i.matrix().translate(r,o)),s.click(function(e){n._options.deleteConfirm&&!t.win.confirm(n._options.deleteConfirmText)||n._coreEventTarget.fireEvent({type:n._constants.EVENT.DELETE_NODE,target:s,event:e})}),this._options.debug&&e.add(this._createIdText(e.data("id")+" | "+e.data("root")+"."+e.data("branch"))),s},_getOutPosition:function(e,t,i){var n={x:e.x+t/2-this._options.joinPointOffset,y:e.y};return i===this._constants.NODE_TYPE.CONDITION&&(n.x-=this._options.joinPointOffset),n},_getCenterPosition:function(e){this._options.debug&&!e.data("temporary")&&e.select("."+this._options.debugIdClassName).remove();var t=e.select("."+this._options.deleteBtnClassName);t&&t.remove();var i=e.getBBox(),a=e.select("."+this._options.nodeBoxClassName).getBBox().height,r={x:i.x+i.width/2,y:i.y+a/2};return this._options.debug&&!e.data("temporary")&&e.add(this._createIdText(e.data("id")+" | "+e.data("root")+"."+e.data("branch"))),n([this._constants.NODE_TYPE.START,this._constants.NODE_TYPE.APPLY],e.data("type"))||e.data("status-out")||e.add(this._createDeleteBtn(e)),r},_getJoinUpPosition:function(e,t,i){var n={x:e.x-t/2+this._options.joinPointOffset,y:e.y};return i===this._constants.NODE_TYPE.CONDITION&&(n.x+=this._options.joinPointOffset),i===this._constants.NODE_TYPE.WAITING&&(n.x-=this._options.joinPointOffset/2),n}},b.prototype={constructor:b,addToGrid:function(e,t){var i=this._cloneGrid();if(!e)return this._grid[0]=[t],this._getChangedNodes(i);var n,a=this._getPositionById(e);return(n=this._links[e]&&this._links[e].length?new y(a.col+1,Math.max(this._findMaxRowFromChildren(e)+1,a.row)):this._getNextPositionFromThisRow(a)).downThan(a)&&n.row!==this._waitingRow&&this._moveDownBottomNodesFromRow(n.row),this._setIdByPosition(n,t),this._links[e]=this._links[e]||[],this._links[e].push(t),this._getChangedNodes(i)},linkNode:function(e,t){var i=this._cloneGrid(),a=this;this._links[e]=this._links[e]||[],this._links[e].push(t);var r=this._getPositionById(e),o=this._getPositionById(t),s=o.col>r.col?0:r.col+1-o.col;if(0===s)return[];for(var l=[t],c=[],d=[],u=[],h=0;l.length;)c=[],l.forEach(function(e){if(!n(d,e)){var t=a._getPositionById(e);if(!t.rightThan(new y(r.col+h))){var i=t.clone().move(s,0);a._putPlaceholder(t),u.push({id:e,position:i}),d.push(e);var o=a._links[e];o&&o.length&&(c=c.concat(o))}}}),++h,l=c;return u.forEach(function(e){a._setIdByPosition(e.position,e.id)}),this._clearEmptyNodes(),this._getChangedNodes(i)},remove:function(e){var t=this._getPositionById(e),i=this._cloneGrid();for(var n in this._grid[t.col][t.row]=void 0,delete this._links[e],this._moveUpBranchesIfBranchDeleted(e,t),this._moveUpBottomRowsIfRowIsEmpty(t.row),this._links){var a=this._links[n],r=a.indexOf(e);r>=0&&a.splice(r,1)}return this._clearEmptyNodes(),this._getChangedNodes(i)},getPositionById:function(e){return this._getPositionById(e)},addWaitingNodes:function(e,t){if(this._isRowEmpty(t.row))return[];if(!this.getPositionById(e).upThan(t))return[];var i=this._cloneGrid();return this._waitingRow=t.row,this._moveDownBottomNodesFromRow(t.row),this._getChangedNodes(i)},removeWaitingNodes:function(){if(-1===this._waitingRow)return[];var e=this._cloneGrid();return this._moveUpBottomNodesFromRow(this._waitingRow),this._waitingRow=-1,this._getChangedNodes(e)},getWaitingNodesPosition:function(e){var t=this._getPositionById(e);if(!this._links[e]||!this._links[e].length)return this._getNextPositionFromThisRow(t);var i=Math.max(this._findMaxRowFromChildren(e)+1,t.row);return new y(t.col+1,i)},getFulcrum:function(e,t){var i=this,a=this._getPositionById(e),r=e,o=r;do{if(a.moveLeft(),(r=this._getIdByPosition(a))&&!this._isPlaceholder(r)){if(o=r,this._links[r].length>=2){var s=0;if(this._links[r].forEach(function(e){i.getPositionById(e).upThan(a)||++s}),s>=2)return r}t&&t.push(o)}}while(!a.isLeft());for(var l in a=this._getPositionById(o),this._links){var c=this._links[l];if(n(c,o)&&this._getPositionById(l).upThan(a))return l}console.error("grid error, can not find fulcrum",this._grid,this._links,e)},rearrangeBranches:function(e){var t,i=this,n=[];e.forEach(function(e){e.ids.forEach(function(a){t=i.getPositionById(a),i._setIdByPosition(t,void 0),n.push({id:a,position:t.clone().move(0,e.offsetRows)})})}),n.forEach(function(e){i._setIdByPosition(e.position,e.id)})},clear:function(){this._grid=[],this._links={}},_moveUpBranchesIfBranchDeleted:function(e,t){var i,a=this;for(var r in this._links){var o=this._links[r];this._getPositionById(r).row===t.row&&(o&&(o.length<2||n(o,e)&&(i=r)))}if(i){var s=!1;this._links[i].forEach(function(i){if(i!==e)return a._getPositionById(i).downThan(t)?(s=!0,!1):void 0}),s&&this._moveUpBottomNodesFromRow(t.row)}},_moveUpBottomRowsIfRowIsEmpty:function(e){this._isRowEmpty(e)&&this._moveUpBottomNodesFromRow(e)},_clearEmptyNodes:function(){for(var e,t=!0,i=this._grid.length-1;i>=0;--i){for(var n=this._grid[i].length-1;n>=0;--n){if((e=this._grid[i][n])&&!this._isPlaceholder(e)){t=!1;break}this._grid[i].splice(n,1)}t&&this._grid.splice(i,1)}},_getMaxRow:function(){this._clearEmptyNodes();for(var e=0,t=this._grid.length-1;t>=0;--t)e<this._grid[t].length-1&&(e=this._grid[t].length-1);return e},_getMaxCol:function(){return this._clearEmptyNodes(),this._grid.length-1},_isRowEmpty:function(e){for(var t,i=!1,n=0;n<this._grid.length;++n)if((t=this._grid[n][e])&&!this._isPlaceholder(t)){i=!0;break}return!i},_moveUpBottomNodesFromRow:function(e){for(var t,i,n,a=0;a<this._grid.length;++a)for(var r=e;r<this._grid[a].length;++r)t=new y(a,r),(n=this._getIdByPosition(t))&&!this._isPlaceholder(n)||(i=this._getIdByPosition(t.clone().moveDown()))&&(this._setIdByPosition(t,i),this._setIdByPosition(t.moveDown(),void 0))},_moveDownBottomNodesFromRow:function(e){for(var t,i,n=0;n<this._grid.length;++n)for(var a=this._grid[n].length-1;a>=e;--a)t=new y(n,a),(i=this._getIdByPosition(t))&&(this._setIdByPosition(t,void 0),this._setIdByPosition(t.moveDown(),i))},_setIdByPosition:function(e,t){this._grid[e.col]=this._grid[e.col]||[],this._grid[e.col][e.row]=t},_getChangedNodes:function(e){var t=this,i=[];return this._grid.forEach(function(n,a){n&&n.forEach(function(n,r){if(n&&!t._isPlaceholder(n)){var o=new y(a,r),s=t._getPositionById(n,e);o.equalTo(s)||i.push({id:n,current:o,prev:s})}})}),i},_hasChildren:function(e){return this._links[e]&&this._links[e].length},_cloneGrid:function(){return this._gridTemp=JSON.parse(a()(this._grid)),this._gridTemp},_getNextPositionFromThisRow:function(e,t){var i=e.clone();for(i.moveRight();!i.equalTo(t)&&this._getIdByPosition(i);)i.moveDown();return i},_findMaxRowFromChildren:function(e){for(var t=this,i=this._links[e],a=[],r=[],o=0;i.length;)a=[],i.forEach(function(e){if(!n(r,e)){r.push(e);var i=t.getPositionById(e);i.row>o&&(o=i.row),t._links[e]&&t._links[e].length&&(a=a.concat(t._links[e]))}}),i=a;return o},_putPlaceholder:function(e){this._grid[e.col]=this._grid[e.col]||[],this._grid[e.col][e.row]=this._generatePlaceholderId()},_isPlaceholder:function(e){return e&&-1!==e.indexOf(this._placeholderPrefix)},_generatePlaceholderId:function(){return this._placeholderPrefix+"_"+r()},_getIdByPosition:function(e){return this._grid[e.col]&&this._grid[e.col][e.row]},_getPositionById:function(e,t){var i;return(t=t||this._grid).forEach(function(t,n){if(t)return t.forEach(function(t,a){if(t===e)return i=new y(n,a),!1}),!i&&void 0}),i}},y.prototype={constructor:y,equalTo:function(e){return!!e&&(this.col===e.col&&this.row===e.row)},clone:function(){return new y(this.col,this.row)},_recordStep:function(){this._steps.push([this.col,this.row])},move:function(e,t){if(!(this.col+e<0||this.row+t<0))return this._recordStep(),this.col+=e,this.row+=t,this;console.error("can not move",this,e,t)},moveTo:function(e){return this._recordStep(),this.col=e.col,this.row=e.row,this},moveUp:function(){if(0!==this.row)return this._recordStep(),--this.row,this;console.error("cannot move up")},moveDown:function(){return this._recordStep(),++this.row,this},moveLeft:function(){if(0!==this.col)return this._recordStep(),--this.col,this;console.error("cannot move up")},moveRight:function(){return this._recordStep(),++this.col,this},moveToTop:function(){if(0!==this.row)return this._recordStep(),this.row=0,this;console.warn("already top")},moveBack:function(){var e=this._steps.pop();if(e)return this.col=e[0],this.row=e[1],this;console.warn("already the first step",e)},upThan:function(e){return this.row<e.row},downThan:function(e){return this.row>e.row},leftThan:function(e){return this.col<e.col},rightThan:function(e){return this.col>e.col},getDirectionTo:function(e){return{up:this.upThan(e),down:this.downThan(e),left:this.leftThan(e),right:this.rightThan(e)}},getLastPosition:function(){var e=this._steps[this._steps.length-1];return e?new y(e[0],e[1]):this.clone()},isTop:function(){return 0===this.row},isLeft:function(){return 0===this.col}},_.toString=function(){return"Workflow Designer v"+this.version+"\n"+i},_._={},t.win.WorkflowDesigner=_,_}(window||this);t.a=c},3:function(e,t){},"383Q":function(e,t){},"3Nue":function(e,t){},4:function(e,t){},"4KXY":function(e,t){},"4Obk":function(e,t){},"4U4y":function(e,t){},"4rfY":function(e,t,i){"use strict";Number,String,Number,String;var n=["-moz-box-","-webkit-box-",""],a={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var i=0;i<n.length;i++)e[n[i]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-flexbox-item",style:this.style},[this._t("default")],2)},staticRenderFns:[]},o=i("C7Lr")(a,r,!1,null,null,null);t.a=o.exports},"4sVQ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("a3Yh"),a=i.n(n),r=i("n+6Y"),o=(i("L7Pj"),i("C331")),s={props:{account:{default:function(){return null}}},created:function(){var e=this,t=this;Object(o.c)({url:"/login/check",type:"get",success:function(i){if(t.studentType=i.data.type,"FRESHMAN"!==i.data.type){var n=e.GetQueryString("key"),a=e.openRouters[n];a?t.addBread(a):(t.curRoute="/applicationList/MWorkHall",t.bread=[{title:"办事大厅",route:"/applicationList/MWorkHall",closeable:!1,data:null}])}else t.curRoute="/applicationList/MFreshmanApplication",t.bread=[{title:"新生应用",route:"/applicationList/MFreshmanApplication",closeable:!1,data:null}];if(!i.state)return e.$emit("initAccount",null);e.$emit("initAccount",{userId:i.data.id,userName:i.data.name,type:i.data.type,schoolId:i.data.schoolId})}})},data:function(){var e;return e={taglist:[{icon:"flag",title:"第二课堂",route:"/activity/MSecondClassRoom"},{icon:"assignment",title:"办事大厅",route:"/applicationList/MWorkHall"},{icon:"notifications",title:"消息",route:"/notifications/notifications"},{icon:"account_circle",title:"个人中心",route:"/accountCircle/MAccountCircle"}],freshmanTaglist:[{icon:"",title:"",route:"/placeholderRoute"},{icon:"subject",title:"公告",route:"/announcement/MAnnouncement"},{icon:"blur_circular",title:"应用",route:"/applicationList/MFreshmanApplication"},{icon:"account_circle",title:"我的",route:"/accountCircle/MFreshmanStatus"},{icon:"",title:"",route:"/placeholderRoute"}],bread:[],historyBread:[],curRoute:"",update:!1,tabbarRouteArray:["/activity/MSecondClassRoom","/applicationList/MWorkHall","/notifications/notifications","/accountCircle/MAccountCircle"],freshmanTabbarRouteArray:["/announcement/MAnnouncement","/applicationList/MFreshmanApplication","/accountCircle/MFreshmanStatus"],disableRoute:["/notifications/notifications","/placeholderRoute"],studentType:"",toastText:"",isShowToast:!1},a()(e,"update",""),a()(e,"openRouters",{secondclass:{title:"第二课堂",route:"/activity/MSecondClassRoom"}}),e},computed:{},watch:{curRoute:function(){var e=this;this.historyBread.forEach(function(t,i){t===e.curRoute&&e.historyBread.splice(i,1)}),this.historyBread.forEach(function(t,i){var n=!1;e.bread.forEach(function(e){t===e.route&&(n=!0)}),n||e.historyBread.splice(i,1)}),this.historyBread.splice(0,0,this.curRoute)}},methods:{addBread:function(e){if(this.disableRoute.indexOf(e.route)>=0)return"/placeholderRoute"!==e.route&&this.$vux.toast.show({text:"尚未上线 敬请期待",position:"bottom",type:"text"}),!1;var t=!1;this.bread.forEach(function(i,n){i.route===e.route&&(t=!0)}),t||(e.data||r.a.set(e,"data",this._getParams(e.route)),this.bread.push(e)),this.curRoute=e.route},removeBread:function(e){var t=this;t.bread.forEach(function(i,n){i.route===e.route&&t.bread.splice(n,1)}),t.curRoute===e.route&&(t.curRoute=t.historyBread[1]),e.isUpdateLastPage&&this._refresh()},_refresh:function(){var e=this;this.update=this.curRoute,setTimeout(function(){e.update=""},100)},_getParams:function(e){var t={};if(-1!==e.indexOf("?"))for(var i=e.substr(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return t},GetQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"mobileLayout"}},[e._l(e.bread,function(t,n){return i("transition",{key:n,attrs:{name:"slide-fade"}},[i("router-view",{staticClass:"router-view",style:"z-index:"+(e.curRoute===t.route?100:0)+";",attrs:{curRoute:t,name:t.route.split("?")[0],role:t.data&&t.data.id,update:e.curRoute===t.route&&e.curRoute===e.update,data:t,account:e.account},on:{addBread:e.addBread,removeBread:e.removeBread}})],1)}),e._v(" "),"FRESHMAN"!==e.studentType?i("div",[e.tabbarRouteArray.indexOf(e.curRoute)>=0?i("tabbar",{staticClass:"mobile-tabbar"},e._l(e.taglist,function(t,n){return i("tabbar-item",{key:n,class:e.curRoute===t.route?"active":"",attrs:{selected:e.curRoute===t.route},on:{"on-item-click":function(i){e.addBread(t)}}},[i("i",{staticClass:"maticon",attrs:{slot:"icon"},domProps:{innerHTML:e._s(e.icons(t.icon))},slot:"icon"}),e._v(" "),i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.title))])])}),1):e._e()],1):i("div",[e.freshmanTabbarRouteArray.indexOf(e.curRoute)>=0?i("tabbar",{staticClass:"mobile-freshman-tabbar"},e._l(e.freshmanTaglist,function(t,n){return i("tabbar-item",{key:n,class:e.curRoute===t.route?"active":"",attrs:{selected:e.curRoute===t.route},on:{"on-item-click":function(i){e.addBread(t)}}},[i("i",{staticClass:"maticon",attrs:{slot:"icon"},domProps:{innerHTML:e._s(e.icons(t.icon))},slot:"icon"}),e._v(" "),i("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.title))])])}),1):e._e()],1)],2)},staticRenderFns:[]};var c=i("C7Lr")(s,l,!1,function(e){i("FwgR")},null,null);t.default=c.exports},"5CvF":function(e,t,i){"use strict";Number,String,String,String,String,String;var n={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){var e={"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction};return e}}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===this.orient,"vux-flex-row":"horizontal"===this.orient},style:this.styles},[this._t("default")],2)},staticRenderFns:[]};var r=i("C7Lr")(n,a,!1,function(e){i("nuMz")},null,null);t.a=r.exports},"6KRO":function(e,t){},"7Jh7":function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},"8os4":function(e,t){!function(){window.UEDITOR_HOME_URL="/static/ueditor/";var e=window.UEDITOR_HOME_URL||t();function t(e,t){return function(e,t){var i=t;/^(\/|\\\\)/.test(t)?i=/^.+?\w(\/|\\\\)/.exec(e)[0]+t.replace(/^(\/|\\\\)/,""):/^[a-z]+:/i.test(t)||(e=e.split("#")[0].split("?")[0].replace(/[^\\/]+$/,""),i=e+""+t);return function(e){var t=/^[a-z]+:\/\//.exec(e)[0],i=null,n=[];(e=(e=e.replace(t,"").split("?")[0].split("#")[0]).replace(/\\/g,"/").split(/\//))[e.length-1]="";for(;e.length;)".."===(i=e.shift())?n.pop():"."!==i&&n.push(i);return t+n.join("/")}(i)}(e||self.document.URL||self.location.href,t||(i=document.getElementsByTagName("script"))[i.length-1].src);var i}window.UEDITOR_CONFIG={UEDITOR_HOME_URL:e,serverUrl:e+"config.json",uploadPath:"/upload/storage/files",toolbars:[["undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","|","rowspacingtop","rowspacingbottom","lineheight","|","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","insertimage","attachment","|","horizontal","date","time","spechars","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","drafts"]],initialFrameHeight:320,enableAutoSave:!1,saveInterval:500,elementPathEnabled:!1,autoHeightEnabled:!1,scaleEnabled:!1,xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,whitList:{a:["target","href","title","class","style"],abbr:["title","class","style"],address:["class","style"],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src","class","style"],b:["class","style"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","class","style"],br:[],caption:["class","style"],center:[],cite:[],code:["class","style"],col:["align","valign","span","width","class","style"],colgroup:["align","valign","span","width","class","style"],dd:["class","style"],del:["datetime"],details:["open"],div:["class","style"],dl:["class","style"],dt:["class","style"],em:["class","style"],font:["color","size","face"],footer:[],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],header:[],hr:[],i:["class","style"],img:["src","alt","title","width","height","id","_src","loadingclass","class","data-latex","style"],ins:["datetime"],li:["class","style"],mark:[],nav:[],ol:["class","style"],p:["class","style"],pre:["class","style"],s:[],section:[],small:[],span:["class","style"],sub:["class","style"],sup:["class","style"],strong:["class","style"],table:["width","border","align","valign","class","style"],tbody:["align","valign","class","style"],td:["width","rowspan","colspan","align","valign","class","style"],tfoot:["align","valign","class","style"],th:["width","rowspan","colspan","align","valign","class","style"],thead:["align","valign","class","style"],tr:["rowspan","align","valign","class","style"],tt:[],u:[],ul:["class","style"],video:["autoplay","controls","loop","preload","src","height","width","class","style"]}},window.UE={getUEBasePath:t}}()},"9FCh":function(e,t){},ApDO:function(e,t){},Aw0T:function(e,t){},C331:function(e,t,i){"use strict";t.d=function(e){s=e},t.c=function(e,t){if(t)return o.a.ajax(e);!1!==e.contentType&&(e.contentType="application/json",null==e.type&&(e.type="get"),null!==e.data&&"get"!==e.type.toLowerCase()&&"delete"!==e.type.toLowerCase()&&(e.data=a()(e.data)));e.headers=e.headers||{},e.headers["X-Requested-With"]="XMLHttpRequest",e.crossDomain=!0;var i=e.success||function(){console.log("success function not found")};return e.success=function(e){e.unauthorized&&s?s.readyToAsyncLogin(this):i(e)},o.a.ajax(e)},t.b=function(e,t,i){var n=void 0;return function(){var a=this,r=arguments,o=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(a,r)},t),o&&e.apply(a,r)}},t.a=function(){return(new Date).getTime()},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-cn";e||(e="zh-cn");return{"zh-cn":{formEngineFields:{tableTitle:"参与角色",college:"学院",name:"姓名",stuId:"学号"},mainPage:{tableName:"首页",myAffairs:"我的事务",affairs:"事务",examineAll:"查看全部",myInitiate:"我的发起",myWaitHandle:"我的待办",transferToMe:"转交给我",copySendToMe:"抄送给我",initiate:"我的",waitHandle:"待办",transfer:"转交",copySend:"抄送",opt:"操作",check:"查看",statistics:"统计",myProcessInstance:"我发起的",waiting:"我待办的",myProcess:"我处理的",apply:"应用",placeholder:"搜索内容",updatedTime:"发起时间",status:"状态",back:"返回",student:"学生应用",teacher:"教工应用",freshman:"新生应用",popularApply:"热门应用",noDataText:"没有相关事务",searchName:"业务",myAffairPlaceholder:"请输入搜索内容",startTime:"筛选时间起点",endTime:"筛选时间终点",process:"等待处理",end:"已结束",of:"的",you:"你",handleNode:"经办节点",handleTime:"经办时间",announce:"公告",all:"全部",school:"全校",college:"全院",instructor:"辅导员",noMore:"--没有更多数据咯--",more:"查看更多>>",empty:"暂无数据哟~"},departmentManage:{tableName:"部门列表",search:"搜索与筛选",addNew:"新增",addSuccessTip:"新增成功",addFailedTip:"新增失败",department:"部门",departmentName:"部门名称",opt:"操作",departmentNamePlaceholder:"请搜索部门名称",cancel:"取消",edit:"编辑",editSuccessTip:"编辑成功",editFailedTip:"编辑失败",remove:"删除",removeConfirmTip:"确认要删除吗？删除后数据将无法恢复",removeSuccessTip:"删除成功",removeFailedTip:"删除失败",cancelConfirmTip:"确认要关闭弹窗吗？关闭后数据将无法恢复",confirm:"确定"},personnelManage:{tableName:"人员列表",search:"搜索与筛选",addNew:"新增",addSuccessTip:"新增成功",addFailedTip:"新增失败",personnel:"人员",personnelName:"人员名称",opt:"操作",personnelNamePlaceholder:"请输入姓名",personnelIdPlaceholder:"请输入学工号",cancel:"取消",edit:"编辑",editSuccessTip:"编辑成功",editFailedTip:"编辑失败",remove:"删除",removeConfirmTip:"确认要删除吗？删除后数据将无法恢复",removeSuccessTip:"删除成功",removeFailedTip:"删除失败",confirm:"确定",check:"检测",studentId:"学工号",studentName:"姓名",department:"部门",departmentName:"部门名称",permissions:"权限",cancelEditText:"确认要关闭弹窗吗？关闭后数据将无法恢复",enterStudentId:"请输入学工号"},relationshipManage:{tableName:"学生列表",search:"搜索",addNew:"添加",edit:"编辑",set:"设置",submitSuccessTip:"提交成功",submitFailedTip:"提交失败",batch:"批量",reset:"重置",isSet:"是否分配",delete:"删除",sure:"确定",back:"返回",cancel:"取消",name:"姓名",studentId:"学号",teacherAndStudentId:"学工号",department:"系别",studentType:"学生类别",grade:"年级",phoneNumber:"手机号码",optRecord:"操作记录",college:"学院",instructor:"辅导员",exchange:"更换",export:"导出",transfer:"转移",advancedSearch:"高级搜索",namePlaceholder:"请输入姓名",studentIdPlaceholder:"请输入学号",submit:"提交",check:"检测",relationship:"带生关系",transferOutText:"转出的辅导员学工号",transferInText:"转入的辅导员学工号",transferText:"设置成功后转出辅导员分管的所有学生将全部转至转入辅导员下",notSelectedText:"您尚未勾选任何学生，通过列表中序号左侧勾选框勾选",selectedText:"您已勾选",namesStudent:"名学生",resetSelectedText:"确定重置他们的辅导员吗",setSelectedText:"请在下方输入辅导员工号",transferResultText:"该辅导员共分管",overriteImport:"覆盖导入",incrementImport:"增量导入",instructorBatchSet:"辅导员带生关系批量设置",resetHoverText:"勾选学生后点击<重置>可将辅导员置为空",enterStudentId:"请输入学工号"},relationClassManage:{classTabName:"班级管理",memberTabName:"人员管理"},classManage:{tableName:"班级列表",addNew:"新增",search:"搜索与筛选",add:"添加",create:"创建",classes:"编班",export:"导出",confirmAdd:"确认添加",edit:"编辑",batch:"批量",set:"设置",sure:"确定",cancel:"取消",opt:"操作",name:"姓名",studentId:"学号",student:"学生",learnLevel:"学习层次",teacherAndStudentId:"学工号",department:"系别",studentType:"学生类别",grade:"年级",college:"学院",instructor:"辅导员",class:"班级",classFullName:"班级全称",established:"成立时间",dissolutionTime:"解散时间",headTeacher:"班主任",members:"成员",classMembers:"班级成员",numberOfMembers:"成员数",namePlaceholder:"请输入姓名",studentIdPlaceholder:"请输入学号",submit:"提交",check:"检测",templateSelect:"模板选择",relationship:"带生关系",situation:"情况",remove:"删除",removeConfirmTip:"确认要删除吗？删除后数据将无法恢复",removeSuccessTip:"删除成功",removeFailedTip:"删除失败",editSuccessTip:"编辑成功",editFailedTip:"编辑失败",orderNumber:"序号",faculty:"系",bigClass:"大类",facultyPlaceholder:"选择一个辨别度比较强的来作为班级名称要素或不填",orderNumberPlaceholder:"可多选，若不分班则不选",will:"将要",already:"已",all:"所有",inChargeOf:"我分管的",not:"未",serve:"任职",startTime:"开始时间",endTime:"结束时间",committee:"委员",historyRecord:"历史记录",position:"职位",classCommittee:"班委",customize:"自定义",submitSuccessTip:"恭喜您，创建成功",submitFailedTip:"提交失败",willBeCreated:"将要创建",pieceClass:"个班级",classNameText:"班级名为",createdText:"该条件下已创建",noClassText:"该条件下还没有班级，快来创建吧~",classText:"班",noExist:"该学号不存在",improveClassInfo:"请完善班级信息",overriteImport:"覆盖导入",incrementImport:"增量导入",noSelectedCollege:"请选择学院",noSelectedGrade:"请选择年级",noSelectedLevel:"请选择学习层次",enterStudentId:"请输入学工号",cancelEditText:"确认要关闭弹窗吗？关闭后数据将无法恢复"},classMembers:{tableName:"班级成员列表",search:"搜索与筛选",addNew:"新增",batch:"批量",reset:"重置",sure:"确定",cancel:"取消",opt:"操作",name:"姓名",studentId:"学号",student:"学生",department:"系别",studentType:"学生类别",grade:"年级",college:"学院",instructor:"辅导员",position:"职位",class:"班级",single:"单条",remove:"移除",submit:"提交",removeConfirmTip:"确定移除该成员吗?",removeSuccessTip:"移除成功",removeFailedTip:"移除失败",check:"检测",singleAddText:"请先输入学工号，点击<检测>",submitSuccessTip:"提交成功",submitFailedTip:"提交失败",noExist:"该学号不存在",parentPage:"返回班级列表",overriteImport:"覆盖导入",incrementImport:"增量导入",placeholder:"请输入您分管学院的学生学工号",enterStudentId:"请输入学工号"},classMembersManage:{tableName:"人员列表",search:"搜索与筛选",sure:"确定",cancel:"取消",opt:"操作",name:"姓名",studentId:"学号",student:"学生",department:"系别",studentType:"学生类别",grade:"年级",college:"学院",instructor:"辅导员",class:"班级名称",classes:"编班",submit:"提交",already:"已",not:"未",classFullName:"班级全称",notSelectedText:"您尚未勾选任何学生，通过列表中序号左侧勾选框勾选",selectedText:"已选中",namesStudent:"名学生",writeClassName:"请填写班级名称",studentIdPlaceholder:"请输入学号",classNamePlaceholder:"请输入班级名称",instructorPlaceholder:"请输入辅导员",situation:"情况",submitSuccessTip:"提交成功",submitFailedTip:"提交失败"},collegeManage:{tableName:"学院管理",importTableName:"学院列表",search:"搜索与筛选",college:"学院",set:"设置",add:"添加",check:"检测",principal:"负责人",setSuccessTip:"设置成功",addSuccessTip:"新增成功",setFailedTip:"设置失败",addFailedTip:"新增失败",userId:"学工号",studentId:"学号",collegeCode:"学院代码",name:"姓名",updatedTime:"更新时间",opt:"操作",examine:"查看",cancel:"取消",edit:"编辑",editSuccessTip:"编辑成功",editFailedTip:"编辑失败",remove:"删除",removeConfirmTip:"删除会影响到系统所有的学院信息？确认要删除此学院吗？",removeSuccessTip:"删除成功",removeFailedTip:"删除失败",confirm:"确定",placeholder:"请输入学工号",import:"导入",editConfirmText:"编辑可能影响到系统所有的学院信息？确认要编辑学院名称吗？",submit:"提交",submitSuccessTip:"提交成功",submitFailedTip:"提交失败",collegeNamePlaceholder:"请输入学院名称",overriteImport:"覆盖导入",incrementImport:"增量导入"},import:{import:"导入",startImport:"开始导入",importing:"正在导入...",batch:"批量",error:"错误",tip:"提示",back:"返回",importFristText:"批量导入功能为您提供将现有数据大量同步到系统的便利",importSecondText:"请先下载下方的Excel模板，将您要导入的数据编辑在模板内，再选择“开始导入”，之后我们会把您编辑的数据覆盖到系统中",errorResultText:"您可以下载下方的Excel文件，出错的地方已为您用红色标注出来，直接修改即可再次导入",submitSuccessTip:"提交成功",submitFailedTip:"提交失败",cancel:"取消",submit:"确定"},formEngineInfo:{dropOff:"下架",release:"发布",applyNamePlaceholder:"设置应用名称(25字以内)",error:"出错啦",form:"表单",pleaseSet:"请设置",playersSet:"参与角色设置",remarkPlaceholder:"可以输入对该应用的简单说明，仅管理员可看到此说明",businessPeriod:"业务期",addNew:"新增",releaseBusinessPeriod:"发布本业务期",stopBusinessPeriod:"停用本业务期",businessPeriodDisabled:"本业务期已停用",businessTip:"请保存创建之后再进行其它操作哟",saveBusinessDeploy:"保存本业务期配置",businessName:"名称",businessNamePlaceholder:"请输入业务期名称(30字以内)",grade:"年级",basicInfoTip:"来自应用同步",unboundForm:"未绑定表单",unlimited:"无限制",allFreshmen:"所有新生",allInstructor:"所有辅导员",filterByCondition:"按条件筛选",studentType:"学生类型",studentGrade:"学生年级",inSchoolStatus:"在校状态",uploadList:"上传名单",batchUpload:"批量上传",againUpload:"重新上传",export:"导出",noData:"暂无数据",noSet:"未设置",startTime:"开始时间",endTime:"结束时间",selectModal:"选择模板",modalTip:"请选择对应模板初始化表单",blankFormTemplate:"空白表单模板",modal:"模板",cancel:"取消",confirm:"确定",name:"姓名",userNo:"学号",freshmanNo:"新生账号",teacherNo:"教工号",instructorNo:"学工号",college:"学院",notAtSchool:"不在校",inSchool:"在校",baseInfo:"基本信息",timeSet:"时间设置",facePeople:"面向人员",description:"指南",schoolYear:"学年",level:"级",appNameTip:"点击右侧按钮编辑应用名称",appNote:"应用说明",peopleList:"人员列表",templateName:"学生名单导入模板",overriteImport:"覆盖导入",incrementImport:"增量导入",releaseBusinessConfirm:"确认发布本业务吗？",announcing:"发布中...",releaseBusinessSuccess:"业务期发布成功",stopBusinessConfirm:"业务停用之后将不可开启,确定停用该业务期？",removeBusinessConfirm:"确定删除该业务期？",removeSuccessTip:"删除成功",addNewTip:"请先设置该应用的表单和参与角色哟~",startTimeTip:"开始时间不能晚于结束时间",endTimeTip:"结束时间不能早于开始时间",saveBusinessSuccess:"业务期保存成功",releaseTip:"应用发布后将对用户可见，确定发布吗？",dropOffTip:"应用下架后将对用户不可见，确定下架吗？",success:"成功！",nameError:"出错啦：名称不能为空",modifySuccess:"修改成功",editIcon:"修改图标",directJump:"点击应用直接跳转",useBusiness:"点击申请跳转（使用业务期）",linkUrlPlaceholder:"请输入第三方链接"},joinRoleSetManage:{cancel:"取消",sure:"保存",relevanceTip:"请关联表单",relevanceTip2:"关联表单",nodeName:"节点名称",distributarySet:"分流配置",roleSet:"角色设置",createNewRole:"创建新的角色",readWritePermission:"读写权限",alreadyChecked:"已选",setInto:"项，设置为",operatingPermission:"操作权限",conditionName:"条件名称",conditionField:"条件字段",createBranch:"新建分支",other:"其它",backTip:"是否保存？",commitTip:"保存成功!",roleEmptyTip:"角色名不能为空",roleExistTip:"角色名已存在",removeNodeTip:"请先在流程图中删除该条件的连接点！",distributaryData:{bySchool:"全校统一汇总",byClass:"以班级关系分配",byTeacher:"以带生关系分配",byCollege:"以学院关系分配"},operatorData:{required:"必填",optional:"选填",readonly:"只读",hide:"隐藏"}},freshmanMainPage:{apply:"应用",searchPlaceholder:"搜索您要办理的事务",guide:"迎新指南",tuitionFeeInfoStatus:"学费缴费",accommodationPaymentInfoStatus:"住宿缴费",studentAppearanceConsistency:"学生相貌一致性",admissionsInformationConsistency:"录取信息一致性",baseInformationConsistency:"基本信息一致性",studentsArrivingAtSchool:"学生到校指标",greenChannelApplicationStatus:"绿色通道申请",reservationsOnTheStatusOfApplicationForAdmissionStatus:"保留入学资格申请",announce:"公告",status:"状态",all:"全部",school:"全校",college:"全院",instructor:"辅导员",personInfoResult:"个人信息完善",arriveSchoolInfoResult:"抵校信息填写",militaryTrainingClothesInfoResult:"军训服装信息填写",noMore:"--没有更多数据咯--",more:"查看更多>>",empty:"暂无数据哟~"},freshmanManage:{tableName:"迎新管理",studentIdBinding:"学号绑定",add:"新增",freshmanAccount:"新生账号",editFreshmanGuide:"编辑新生指南",account:"账号",password:"新生密码",endTime:"迎新登录截止时间",studentId:"学号",name:"姓名",cancel:"取消",save:"保存",saveSuccessTip:"保存成功",saveFailedTip:"保存失败",overrideImport:"覆盖导入",incrementImport:"增量导入",execlName:"学号更新模板",freshmanInfoExeclName:"新生信息导入模板"},announcementManage:{name:"名称",announcement:"公告",writeAnnouncement:"写公告",publishTime:"发布时间",opt:"操作",pageViews:"浏览量",delete:"删除",continueEditing:"继续编辑",publish:"发布",draft:"存为草稿",titlePlaceholder:"请输入标题(30字以内)",contentPlaceholder:"请输入公告内容",insertPicture:"插入图片",insertAttachment:"插入附件",deleteConfirmText:"确认要删除此公告吗？",deleteSuccessTip:"删除成功！",saveSuccessTip:"保存成功！",publishSuccessTip:"发布成功！",titleTip:"标题不能为空",cancelEditText:"确认要关闭弹窗吗？关闭后数据将无法恢复",system:"所属系统"},organizationManage:{schoolTitle:"校级组织",collegeTitle:"院级组织",name:"组织名称",instructor:"指导老师",add:"新增",organization:"组织",cancel:"取消",confirm:"确定",namePlaceholder:"输入组织名称",instructorPlaceholder:"输入组织指导老师工号",batch:"批量",batchAddOrganization:"批量新增组织",export:"导出",opt:"操作",edit:"编辑",dsable:"禁用",enable:"启用",overriteImport:"覆盖导入",incrementImport:"增量导入",optTips:"操作成功",orgNameTips:"组织名称不能为空",orgInstructorNoTips:"指导老师工号不能为空",userNoExistedTip:"学号不能为空",member:"成员",position:"职务",back:"返回",userNo:"学号",enter:"输入",info:"信息",studentName:"姓名",college:"学院",delete:"移除",startTime:"开始时间",endTime:"结束时间",table:"列表",memberRemoveConfirmTip:"确定移除该成员吗？",positionRemoveConfirmTip:"确定移除该职务吗？",memberRemoveSuccessTip:"移除成功",memberRemoveFailedTip:"移除失败"},activityTypeManage:{title:"活动定位管理",opt:"操作",edit:"编辑",name:"活动类型名称",add:"新增",activityType:"活动定位",cancel:"取消",confirm:"确定",typeNamePlaceholder:"输入分类名称",setActivityReviewProcess:"设置活动审核流程",delete:"删除",removeConfirmTip:"确认要删除吗?",removeFailedTip:"删除失败"},activityContentTypeManage:{add:"新增",type:"类别",name:"名称",cancel:"取消",confirm:"确定",delete:"删除",category:"类别",select:"筛选",edit:"编辑",child:"子",typeNamePlaceholder:"请输入15字以内的类别名称",childTypePlaceholder:"同时新增一个或多个子类别(不能超过15字)"},activityDown:{title:"活动下架",activityName:"活动名称",publishTime:"发布时间",promulgator:"发布者",activityStatus:"活动状态",auditStatus:"审核状态",opt:"操作",down:"下架",downTips:"确认要下架活动吗？",deleteSuccessTip:"下架成功",deleteFailedTip:"下架失败"},account:{logout:"注销",login:"登录",visitor:"访客"},comboAndDate:{daysOfWeek:["日","一","二","三","四","五","六"],limit:"到达选取上线啦，最多选择{{limit}}条",loading:"加载中...",minLength:"最小长度",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],notSelected:"请选择",required:"必填",search:"搜索",datePlaceholder:"请选择日期"},nav:{navigation:"导航",searchPlaceholder:"搜索您要办理的事务"},table:{hiddenCol:"隐藏列",pageAllCheck:"全选页",tableAllCheck:"全选表",checked:"选中",strip:"条",searchCancel:"取消",searchGo:"搜索",colCheck:"选中",colOrder:"#",pageGoPlaceholder:"页",pageGoBtn:"跳转",page:"页",searchPlaceholder:"搜索 ",unsigned:"未定义",loading:"数据加载中~",isNullTip:"暂无数据哟~",total:"共",records:"条信息",eachPage:"每页"},tree:{searchPlaceholder:"输入搜索内容",searchIconTitle:"搜索",editIconTitle:"编辑",addIconTitle:"新增",deleteIconTitle:"删除",saveIconTitle:"保存",newNodeTitle:"新的节点"},manageTypeLayout:{},permission:{resource:"资源",optionId:"操作ID",optionName:"操作名",optionPlaceholder:"不能含有：号",resourceVal:"资源值",resourcePlaceholder:"不能含有：号",permissionList:"权限列表",cancel:"取消",saveSuccessTip:"修改成功",saveFailedTip:"修改失败",addSuccessTip:"新增成功",addFailedTip:"新增失败",add:"新增",edit:"编辑",confirmMsg:"确定删除该权限？",deleteSuccessTip:"删除成功",deleteFailedTip:"删除失败"},role:{tableName:"角色列表",addNew:"新增",addSuccessTip:"新增成功",addFailedTip:"新增失败",role:"角色",roleName:"角色名",usersGroup:"用户组",groupName:"用户组名",opt:"操作",roleNamePlaceholder:"请输入角色名称",cancel:"取消",bindResource:"绑定资源",resourceList:"资源列表",bind:"绑定",bindSuccessTip:"绑定成功",bindFailedTip:"绑定失败",bindUser:"绑定角色",bindUsers:"绑定用户组",usersList:"用户组列表",roleList:"角色列表",edit:"修改",editSuccessTip:"修改成功",editFailedTip:"修改失败",remove:"删除",removeConfirmTip:"确认删除？",removeSuccessTip:"删除成功",removeFailedTip:"删除失败",bindLimits:"绑定权限"},menuManage:{treeTitle:"菜单列表( 点击具体菜单绑定用户组 )",userTreeTitle:"绑定用户组",cancel:"取消",bind:"绑定",bindFailedTip:"绑定失败"},wordsManage:{tableName:"字典类型表",addNew:"新增",wordType:"字典类型",typeName:"字典类型名称",opt:"操作",wordsTree:"字典树",wordInfo:"字典信息",cancel:"取消",close:"关闭",edit:"修改",editSuccessTip:"修改成功",editFailedTip:"修改失败",remove:"删除",removeConfirmTip:"确认删除？",removeSuccessTip:"删除成功",removeFailedTip:"删除失败",addFailedTip:"新增失败",checkWords:"查看字典",dictValue:"字典值",sort:"排序值"},accountManage:{tableName:"账号列表"},projectManage:{typeTable:"项目类型列表",projectTable:"项目列表",projectName:"项目名称",opt:"操作",hrefType:"跳转类型",typeForm:"关联流程",typeOuter:"外链地址",showName:"用户面板展示名称",proType:"项目类型",school:"学校",college:"学院",addNew:"新增项目",addBusiness:"创建业务",checkBusiness:"查看业务",edit:"编辑",remove:"删除",removeConfirmTip:"确定删除该记录吗？",required:"必填",back:"返回",cancel:"取消",sure:"保存",checkPros:"查看项目",saveIconTitle:"保存",saveFailedTip:"保存失败"},schoolProManager:{tableName:"项目负责人列表",optLog:"操作日志",collegeName:"学院名称",projectName:"项目名",manager:"负责人",isSet:"是否设置负责人",set:"设置负责人",test:"检测",add:"添加负责人",testErrorTip:"未匹配到具体负责人哟~",managerExistTip:"负责人已存在",back:"返回",opt:"操作",yes:"是",no:"否"},bussinessManage:{bussinessTable:"业务表",bussinessName:"业务名称",projectName:"所属项目",bussinessLimit:"是否有时间限制",bussinessStart:"开始时间",bussinessEnd:"结束时间",schoolYear:"学年",bussinessStatus:"进行中",opt:"操作",addNew:"新增业务",edit:"编辑业务",remove:"删除",removeConfirmTip:"确定删除该记录吗？",back:"返回",cancel:"取消",sure:"保存",required:"必填",yes:"有",no:"无"},appManage:{student:"学生应用",teacher:"教工应用",freshman:"新生应用",instructor:"辅导员应用",workflow:"流程引擎",link:"第三方链接",form:"表单引擎",appManage:"应用管理",createApp:"创建应用",createAppPlaceholder:"请输入应用名称(25字内)",createAppType:"新建应用分类",createAppTypePlaceholder:"请输入16字内的应用分类名称",selectAppType:"选择应用类型",hot:"热门事务",cancel:"取消",sure:"确定",appExistTip:"当前应用列表下存在应用，不能删除！",appTypeRemoveConfirm:"确定移除该应用类型吗？",appRemoveConfirm:"确定移除该应用吗？",appAddTip1:"应用类名不能为空哟~",appAddTip2:"请为该类选择一个大类哟~",appAddTip3:"热门应用新增失败咯~",editTip1:"暂未开放",editTip2:"请设置好对应的应用信息哟~",saveSuccessTip1:"表单保存成功！",saveSuccessTip2:"流程保存成功！",saveSuccessTip3:"参与角色设置保存成功！",import:"导入",importApp:"导入应用",selectFile:"选择文件"},formManage:{empty:"空",backTip:"是否保存？",cancel:"取消",preview:"预览",sure:"保存",library:"控件库",searchPlaceholder:"搜索内容",from:"来自",basic:"基础控件",favor:"收藏控件",other:"其它表单控件",info:"所有信息控件",allCom:"全部系统内控件",script:"脚本",layout:"布局",help:"表单控件属性配置区域",title:"名称",basicAttr:"基本属性",styleAttr:"样式属性",verifyAttr:"校验属性",collectionAttr:"采集器属性",events:"触发器",on:"开",off:"关",init:"选项配置",defaultValue:"默认值",way:"方式",api:"接口",dict:"字典",add:"新增",remove:"删除",duplicateTip:"长按复制",hrTip:"拖拽更改宽度",vrTip:"拖拽更改高度",optionTip:"请输入选项名称",fileMaxSizeTip:"文件最大不得超过：",fieldTypeList:{input:"输入框",number:"数字框",radio:"单选框",checkbox:"复选框",select:"下拉单选框",datetime:"日期",label:"文本",image:"图片",splitLine:"分割线",attachment:"附件",map:"定位",table:"表格",address:"省地市",signature:"电子签名"},attrName:{placeholder:"提示文字",rows:"最大行高",options:"选项",precision:"精度(小数点后几位)",dateFormat:"日期格式",autoNumber:"行号显示",checkable:"行选中",autoSelect:"自动选中",exportable:"允许导出",content:"内容",color:"线条颜色",borderTop:"上边线",borderBottom:"下边线",fontSize:"字体大小(px)",regexExpression:"正则规范",maxWidth:"图宽(px)",maxHeight:"图高(px)",minWidth:"最小宽限制(px)",minHeight:"最小高限制(px)",maxLength:"最大长度",minLength:"最小长度",maxSelect:"最大选择数",minSelect:"最小选择数",maxValue:"最大值",minValue:"最小值",maxDate:"最大日期",minDate:"最小日期",fileFormat:"文件类型",fileMaxNumber:"最大数量",fileSize:"文件最大(KB)"},initial:{fixedValue:"固定值",sqlQuery:"sql语句",dataSet:"数据集",dataField:"数据字段",url:"api地址",method:"请求方式",key:"返回数据字段",params:"请求参数",className:"类名",functionName:"方法名",currentTime:"当前时间",definedTime:"自选时间",paramKey:"参数key",paramValue:"参数值",paramObj:"新增参数对",dynamic:"实时更新",keyInValidTip:"参数对值不能为空",keyExistTip:"参数key已存在"},collector:{flag:"是否采集",dataSet:"数据集",dataField:"数据字段",deleteByKey:"采集删除"},eventsList:{FOCUS:"获得焦点",BLUR:"失去焦点",CHANGE:"值改变",showComponent:"控件显示",hideComponent:"控件隐藏",setText:"设置值",triggerEvent:"触发其它事件",script:"用户自定义脚本",formFields:"表单控件",formFieldsEvents:"控件事件",formFieldsValue:"控件值",fieldsList:"控件列表",valueList:"赋值列表",eventsList:"事件列表",actionList:"动作列表",orgAction:"组织动作",setAction:"配置动作",addEvent:"添加事件",addTip:"事件信息不全，请检查配置",set:"设置",valueTo:"值为",trigger:"触发",events:"事件",condition:"条件",caseName:"用例名称"}},flowSetManage:{cancel:"取消",sure:"保存",relevanceTip:"请关联表单",relevanceTip2:"关联表单",nodeName:"节点名称",applicant:"表单所属人",applyOnceLimit:"流程只允许一次申请",distributarySet:"分流配置",roleSet:"角色设置",createNewRole:"创建新的角色",newRolePlaceholder:"应用名称+节点名称+管理员",readWritePermission:"读写权限",alreadyChecked:"已选",setInto:"项，设置为",operatingPermission:"操作权限",conditionName:"条件名称",conditionField:"条件字段",createBranch:"新建分支",other:"其它",backTip:"是否保存？",commitTip:"保存成功!",roleEmptyTip:"角色名不能为空",roleExistTip:"角色名已存在",removeNodeTip:"请先在流程图中删除该条件的连接点！",distributaryData:{bySchool:"不分流",byClass:"以班级关系分流",byTeacher:"以带生关系分流",byCollege:"以学院关系分流",byOrganization:"以组织关系分配"},operatorData:{required:"必填",optional:"选填",readonly:"只读",hide:"隐藏"},permissionData:{reject:"驳回",rejectTo:"驳回至",lastNode:"上一节点",optional:"由此节点选择",rejectBackTo:"驳回后返回",flowWay:"按流程原路返回",revocation:"撤回",deliverTo:"转交",sendTo:"抄送",batch:"批量操作",cancelByUser:"发起者在此节点可以取消流程"},condition:{"=":"等于",include:"包含",exclude:"不包含","<":"小于","<=":"小于等于",">":"大于",">=":"大于等于","!=":"不等于",between:"介于",notBetween:"非介于"}},orgManage:{tableName:"组织机构列表",importExcel:"导入数据",downLoad:"下载模板",orgName:"组织名称",orgCode:"机构代码",orgParentCode:"父机构代码",leaderName:"负责人",tags:"关联标签",opt:"操作",edit:"编辑",remove:"删除",removeConfirmTip:"确定删除该组织吗？",cancel:"取消",bindSuccessTip:"绑定标签 修改成功",tagsPlaceholder:"自定义标签，注意用','隔开~",pCodeTip:"未找到匹配的父机构",leaderTip:"未找到匹配的负责人"},infoManage:{addNew:"新增",edit:"编辑",show:"查看",studentIdBinding:"学号绑定",editBase:"编辑基本信息",tableName:"教师列表",tableNameStu:"学生列表",tableNameParticipator:"参与角色列表",cancel:"取消",back:"返回",save:"保存",confirm:"确定",search:"搜索",remove:"删除",modelDownload:"下载",modelImport:"模板导入",imageImport:"图片导入",initModel:"教师初始化模板",initModelStu:"学生初始化模板",baseModel:"教师基本信息模板",baseModelParticipator:"参与角色基本信息模板",baseModelStu:"学生基本信息模板",baseModelNewStu:"学号更新模板",statusModelStu:"学生学籍信息模板",stuBaseInfo:"基本信息",opt:"操作",importSuccessTip:"导入成功",importFailedTip:"导入失败",overrideImport:"覆盖导入",incrementImport:"增量导入",advancedSearch:"高级搜索",layoutManage:"布局管理",setTip:"请选择需要配置布局的培养层次(默认全部)",nullColumnTypesTip:"未检测到学生信息类别，不可设置布局!",successTip:"数据保存成功",startSet:"开始设置",reset:"重置",export:"导出",schoolStudentManage:"全校学生信息",collegeStudentManage:"本院学生信息",myStudentManage:"分管学生信息",loading:"加载中...",teacherFields:{teacherId:"教工号",organisation:"单位号",name:"姓名",nameSpell:"姓名拼音",usedName:"曾用名",sex:"性别",birthday:"出生日期",birthPlace:"出生地",nativePlace:"籍贯",nation:"民族",nationality:"国籍",identificationType:"身份证件类型码",idCardType:"身份证件类型码",identificationNo:"身份证号",idCardNo:"身份证号",idCardValidity:"身份证有效期",maritalStatus:"婚姻状况",hongKongMacaoTaiwanOversea:"港澳台侨外码",healthStatus:"健康状态",faith:"宗教信仰",bloodType:"血型",highestEducation:"最高学历",degreeOfEducation:"文化程度",joinTheWorkingYears:"参加工作年月",timeToSchool:"来校时间",timeStartWage:"起薪日期",timeStartTeaching:"从教年月",authorizedStrength:"编制",workerCategory:"职工类别",courseSituation:"任课情况",fileNo:"档案编号",fileText:"档案文本",onTheJobState:"在职状态",speciality:"特长",photo:"照片",subjectType:"学科类别",primaryDiscipline:"一级学科",secondaryDiscipline:"二级学科",postalCode:"邮政编码",mailingAddress:"通信地址",homeAddress:"家庭地址",currentAddress:"现地址",registeredPermanentResidence:"户口所在地",accountCategory:"户口类别",officePhone:"办公电话",homePhone:"住宅电话",mobilePhone:"移动电话",fax:"传真电话",mail:"电子信箱",homePage:"主页",campusNo:"校区号"},infoFields:{studentId:"学号",freshmanId:"新生账号",examinationNumber:"考生编号",accountId:"账号",password:"密码",college:"学院代码",collegeName:"学院名称",department:"系别代码",grade:"年级",studentType:"学生类别",teacherId:"教工号",name:"姓名",nameSpell:"拼音姓名",usedName:"曾用名",passportName:"护照姓名",chineseName:"中文姓名",foreignFirstName:"外文姓",foreignLastName:"外文名",sex:"性别",organisation:"所在单位",phone:"联系方式",phoneNumber:"手机号码",instructor:"当前辅导员",mail:"电子邮箱",identificationNo:"身份证号",idCardType:"身份证件类型码",idCardNo:"身份证号",idCardValidity:"身份证有效期",birthday:"出生日期",originPlace:"生源地",region:"地区",nativePlace:"籍贯",villageStudent:"是否农村大学生",accountsNature:"原户口性质",domicilePlace:"户口所在地",continent:"洲别",motherLanguage:"母语",livingCity:"居住城市",birthPlace:"出生地点",faith:"宗教信仰",current:"是否应届",personnelRelationsIn:"人事关系是否转入我校",recordIn:"档案是否转入我校",haveEarning:"是否有固定工资收入",greenChannel:"是否绿色通道",loansEntrance:"是否通过生源地贷款入学",physicalCondition:"健康状况",weight:"体重",bloodType:"血型",height:"身高",areaType:"区域类别",dataSource:"数据来源",chineseLevel:"汉语水平",englishLevel:"英语水平",computerLevel:"计算机水平",expenditureMethod:"经费办法",userId:"用户id",permanentAddress:"常住地址",maritalStatus:"婚姻状况",undergraduateCollegesProfessional:"本科毕业院校所学专业",masterDegreeCollegesProfessional:"硕士毕业院校及所学专业",drGraduationCollegesProfessional:"博士毕业(或在读)院校及所学专业",speciality:"特长",hobbies:"爱好",mandarinLevel:"普通话水平",onTheJobState:"在岗状态",workerCategory:"职工类别",mainResearchTopics:"主要研究领域",asTheFirstClass:"担任第一课堂情况",certificates:"持有证书",namepy:"姓名拼音",highestEducation:"最高学历",degree:"学位",timeToSchool:"来校时间",typeOfTch:"教职工类别",adminPost:"行政职务",executiveLevel:"行政级别",professionalAndTechnicalProfession:"专业技术职务",workersTechnicalLevel:"工人技术等级",nation:"民族",politicalStatus:"政治面貌",hongKongMacaoTaiwanOversea:"港澳台侨外码",healthStatus:"健康状态",nationality:"国籍",source:"数据来源"}},announce:{title:"公告标题",addNew:"发布公告",tableName:"公告列表",showTime:"预发布时间",sure:"发布",back:"返回",opt:"操作",edit:"编辑",remove:"删除",removeConfirmTip:"确定删除该记录吗？"},instructorManage:{tableName:"学生列表",addNew:"新增",edit:"编辑",set:"辅导员绑定",isSet:"是否分配",remove:"解除绑定",removeConfirmTip:"确定解除绑定辅导员吗？",sure:"确定",back:"返回",cancel:"取消",name:"姓名",studentId:"学工号",college:"学院",instructor:"辅导员",testErrorTip:"匹配不到辅导员哟",yes:"已分配",no:"未分配",exchangeInstructor:"辅导员变更",exchange:"更换"},dictionaryManage:{tableTitle:"字典列表",addNew:"新增条目",dictionaryTypeName:"名称",dictionaryNameInputPlaceholder:"字典名称",dictionaryCreateOption:"新建选项",dictionaryOptionInputPlaceholder:"选项名称",dictionaryOption:"选项",operation:"操作",dictionaryTypeSearchPlaceholder:"请输入搜索的字典名称",dictionaryType:"字典",edit:"编辑",remove:"删除",cancel:"取消",submit:"确定",removeConfirmTip:"确定删除此选项吗？",editSuccessTip:"修改成功"},systemRoleManage:{tableTitle:"系统角色列表",add:"添加",clear:"清空",edit:"编辑",roleName:" 角色名",operation:"操作",addUserTip:"请先检测用户",addUserConfirmTip:"确认添加用户到该角色吗？",user:"用户",role:"角色",userNo:"工号",username:"姓名",check:"检测",cancel:"取消",submit:"提交",clearComfirmTip:"你确定清空该角色下的所有用户吗?",checkUserTip:"请先输入用户的工号",userNoExistedTip:"用户不存在"},schoolRoleManage:{tableTitle:"校级角色列表",add:"添加",clear:"清空",edit:"编辑",roleName:" 角色名",operation:"操作",addUserTip:"请先检测用户",addUserConfirmTip:"确认添加用户到该角色吗？",user:"用户",role:"角色",userNo:"工号",username:"姓名",check:"检测",cancel:"取消",submit:"提交",clearComfirmTip:"你确定清空该角色下的所有用户吗?",checkUserTip:"请先输入用户的工号",userNoExistedTip:"用户不存在",exchangeDimensionLabel1:"切换到用户维度",exchangeDimensionLabel2:"切换到角色维度",roleDescription:"角色说明"},collegeRoleManage:{tableTitle:"院级角色列表",add:"添加",clear:"清空",operation:"操作",addUserTip:"请先检测用户",addUserConfirmTip:"确认添加用户到该角色吗？",user:"用户",role:"角色",userNo:"工号",username:"姓名",check:"检测",cancel:"取消",submit:"提交",clearComfirmTip:"你确定清空该角色下的所有用户吗?",checkUserTip:"请先输入用户的工号",userNoExistedTip:"用户不存在",exchangeDimensionLabel1:"切换到用户维度",exchangeDimensionLabel2:"切换到角色维度",noManageCollegeTip:"你没有分管任何学院"},collegeRoleApproverManage:{tableTitle:"院级角色列表",add:"添加",edit:"编辑",clear:"清空",operation:"操作",addUserTip:"请先检测用户",addUserConfirmTip:"确认添加用户到该角色吗？",roleName:" 角色名",user:"用户",role:"角色",userNo:"工号",username:"姓名",check:"检测",cancel:"取消",submit:"提交",clearComfirmTip:"你确定清空该角色下的所有用户吗?",checkUserTip:"请先输入用户的工号",userNoExistedTip:"用户不存在",exchangeDimensionLabel1:"切换到用户维度",exchangeDimensionLabel2:"切换到角色维度",noManageCollegeTip:"你没有分管任何学院",inputEmpNo:"请输入学工号",relationApplication:"关联应用"},schoolRoleApproverManage:{tableTitle:"校级角色审批人列表",add:"添加",edit:"编辑",clear:"清空",roleName:"角色名",userName:"用户名",operation:"操作",roleNameSearchPlaceholder:"请输入搜索的角色名",addUserTip:"请先检测用户",addUserConfirmTip:"确认添加用户到该角色吗？",user:"用户",userNo:"工号",username:"姓名",check:"检测",cancel:"取消",submit:"提交",clearComfirmTip:"你确定清空该角色下的所有用户吗?",checkUserTip:"请先输入用户的工号",userNoExistedTip:"用户不存在",exchangeDimensionLabel1:"切换到用户维度",exchangeDimensionLabel2:"切换到角色维度",inputEmpNo:"请输入学工号",relationApplication:"关联应用"},approverRoleManage:{addButton:"新增角色",tableTitle:"审批人角色列表",edit:"编辑",delete:"删除",roleName:"角色名称",operation:"操作",roleNameSearchPlaceholder:"请输入搜索的角色名",nameIsNull:"角色名不能为空",levelIsNull:"所属级别不能为空",addRoleConfirmTip:"确认添加该角色吗？",editRoleConfirmTip:"确认修改该角色吗？",level:"所属级别",role:"角色",cancel:"取消",submit:"提交",clearComfirmTip:"你确定删除该角色吗?",noManageCollegeTip:"你没有任何部门的管理角色权限"},userCertification:{tableTitle:"账号列表",import:"导入",account:"账号",password:"密码",templateExcelName:"账号导入模板",overrideImport:"覆盖导入"},iSign:{new:"新建",cancel:"取消",editName:"修改名称",editProjectName:"修改项目名称",editCategoryName:"修改分类名称",sure:"确定",listTypeManage:"管理",listTypeProxy:"代理",listTypeMine:"我的",search:"搜索",check:"检测",addProject:"新建项目",addProjectPlaceholder:"输入项目名称",addCategoryPlaceholder:"输入分类名称",selectCategory:"选择分类",peopleRestrition:"人员限制",proxySettings:"代理设置",addSign:"新建签到",add:"新建",export:"导出",refresh:"刷新",addSignPlaceholder:"输入签到名称",signStartPlaceholder:"选择签到开始时间",signEndPlaceholder:"选择签到结束时间",useDynamicCode:"使用动态码",endTimeMustBeAfterStartTime:"签到结束时间必须在签到开始时间之后",endTimeMustBeAfterNow:"签到结束时间必须在当前时间之后",signInfo:{userName:"姓名",userNo:"学号",college:"学院",signStatus:"状态",editPeople:"添加人员",stat:"统计",recordByHand:"手动签到",remove:"移除",start:"开始",end:"结束",addPersonPlaceholder:"输入学工号",recordByHandPlaceholder:"输入手动签到原因",signTime:"签到时间",remark:"备注"},error:{networkError:"网络连接错误",dataError:"数据错误，请刷新页面重试",pleaseFillInName:"请填写名称",pleaseFillInCategoryName:"请填写分类名称",pleaseFillInProjectName:"请填写项目名称",pleaseChooseCategoryOrAddCategory:"请选择项目分类或新建项目分类",pleaseFillInSignName:"请填写签到名称",pleaseChooseStartTime:"请选择开始时间",pleaseChooseEndTime:"请选择结束时间",categoryNameIsExisted:"该分类已经存在"},tip:{addSignSuccess:"新增签到成功",addProjectSuccess:"新增项目成功",addCategorySuccess:"新增分类成功",deleteSuccess:"删除成功",removeSuccess:"移除成功",modifySuccess:"修改成功",setSuccess:"设置成功",saveSuccess:"保存成功"}},employmentUnitManage:{tableName:"用工单位管理",unitName:"单位名称",level:"级别",manager:"管理员",principal:"负责人",opt:"操作",edit:"编辑",batch:"批量",newAdd:"新增",employmentUnit:"用工单位",cancel:"取消",confirm:"确定",importBtnName:"增量导入",userId:"工号",userName:"姓名",check:"检测",add:"添加",checkManagerUserIdTip:"请先输入管理员的学工号",checkPrincipalUserIdTip:"请先输入负责人的学工号",userIdPlaceholder:"请输入学工号",userNoExistedTip:"用户不存在",addUserTip:"请先检测用户",userEistedTip:"用户已存在，请勿重复添加",unitNameNoExistedTip:"单位名称不能为空"},unitJobManage:{tableName:"单位岗位管理",jobDeclare:"岗位申报",jobUserManage:"岗位人员管理",job:"岗位",newAdd:"新增"},accommodationResources:{tableName:"住宿资源列表",add:"新增",single:"单个",batch:"批量",confirm:"确定",cancel:"取消",campus:"校区",park:"园区",building:"楼栋",buildingProperty:"楼栋属性",numberOfLayers:"层数",numberOfRooms:"每层房间数"}},en:{mainPage:{tableName:"mainPage",myAffairs:"my affairs",affairs:"affairs",examineAll:"examine all",myInitiate:"my initiate",myWaitHandle:"my wait handle",transferToMe:"transfer to me",copySendToMe:"copy to me",initiate:"initiate",waitHandle:"wait handle",transfer:"transfer",copySend:"copy send",check:"check",opt:"options",statistics:"statistics",myProcessInstance:"I initiate",waiting:"I wait handle",myProcess:"I process",apply:"apply",placeholder:"search content",permissions:"permissions",updatedTime:"updated time",status:"status",back:"back",student:"student apply",teacher:"teacher apply",freshman:"freshman apply",popularApply:"popular apply",noDataText:"No related affairs",searchName:"name",myAffairPlaceholder:"Please enter content",startTime:"start time",endTime:"end time",process:"waiting for processing",end:"end",of:"of",you:"you",handleNode:"handle node",handleTime:"handle time",announce:"announce",all:"all",school:"school",college:"college",instructor:"instructor",noMore:"It is all, tks!",more:"Go on to check!",empty:"No message, tks!"},departmentManage:{tableName:"Department List",search:"search",addNew:"add",addSuccessTip:"add successfully",addFailedTip:"Failed",department:"Department",departmentName:"DepartmentName",opt:"options",departmentNamePlaceholder:"department name please",cancel:"cancel",edit:"edit",editSuccessTip:"edit successfully",editFailedTip:"Failed",remove:"remove",removeConfirmTip:"Are you sure to remove this record?",removeSuccessTip:"remove successfully",removeFailedTip:"Failed",confirm:"confirm",cancelConfirmTip:"Do you want to close the popup window? Data will not be recovered after it is closed",enterStudentId:"Please enter user ID"},personnelManage:{tableName:"Personnel List",search:"search",addNew:"add",addSuccessTip:"add successfully",addFailedTip:"Failed",personnel:"personnel",personnelName:"personnelName",opt:"options",personnelNamePlaceholder:"personnel name please",personnelIdPlaceholder:"student ID please",cancel:"cancel",edit:"edit",editSuccessTip:"edit successfully",editFailedTip:"Failed",remove:"remove",removeConfirmTip:"Are you sure to remove this record?",removeSuccessTip:"remove successfully",removeFailedTip:"Failed",confirm:"confirm",check:"check",studentId:"student ID",studentName:"name",department:"department",departmentName:"department name",permissions:"permissions",cancelEditText:"Do you want to close the popup window? Data will not be recovered after it is closed",enterStudentId:"Please enter user ID"},relationshipManage:{tableName:"Student List",search:"search",addNew:"add",edit:"edit",set:"set ",setSuccessTip:"set successfully",setFailedTip:"Failed",batch:"batch ",reset:"reset",isSet:"isSet",delete:"delete",sure:"sure",cancel:"cancel",name:"name",studentId:"student ID",teacherAndStudentId:"user ID",department:"department",studentType:"student type",grade:"grade",phoneNumber:"phoneNumber",optRecord:"operation Record",college:"college",instructor:"instructor",export:"export",transfer:"transfer",advancedSearch:"advanced Search",namePlaceholder:"Please enter the name",studentIdPlaceholder:"Please enter the student ID",submit:"submit",check:"check",relationship:"relationship",transferOutText:"transfer out instructor ID",transferInText:"transfer into instructor ID",transferText:"all students transferred out of the instructor after successful setting will be transferred to the instructor",notSelectedText:"you have not checked any students, check the box by the left side of the number in the list",selectedText:"you have checked",namesStudent:"students",resetSelectedText:"are you sure to reset their instructor?",setSelectedText:"please enter the instructor number below",transferResultText:"the instructor is in charge of",overriteImport:"overrite import",incrementImport:"increment import",instructorBatchSet:"instructor relationship batch set",resetHoverText:"Check student and click <Reset> to empty the instructor",enterStudentId:"Please enter user ID"},relationClassManage:{classTabName:"classManage",memberTabName:"personnelManage"},classManage:{tableName:"Class List",addNew:"add",search:"search",add:"add",create:"create ",classes:"Classes",export:"export",confirmAdd:"confirm add",edit:"edit",batch:"batch",set:"set",sure:"sure",cancel:"cancel",opt:"operating",name:"name",studentId:"student ID",student:"student",learnLevel:"learn level",teacherAndStudentId:"user ID",department:"department",studentType:"student type",grade:"grade",college:"college",instructor:"instructor ",class:"class",classFullName:"class full name",established:"found time",dissolutionTime:"dissolution time",headTeacher:"head teacher ",members:"member",classMembers:"class members",numberOfMembers:"number of members",namePlaceholder:"Please enter the name",studentIdPlaceholder:"Please enter the student ID",submit:"submit",check:"check",templateSelect:"template select",relationship:"relationship",situation:"situation",remove:"remove",removeConfirmTip:"Are you sure to remove",removeSuccessTip:"remove successfully",removeFailedTip:"Failed",orderNumber:"order number",faculty:"faculty",bigClass:"big class",facultyPlaceholder:"Select a strong discrimination as the class name element or do not fill in",orderNumberPlaceholder:"Can be multi-selected, but not selected if there is no division into classes",will:"will ",already:"already ",all:"all",inChargeOf:"I am in charge of",not:"not",serve:"serve ",startTime:"start time",endTime:"end time",committee:"committee",historyRecord:"history record",position:"position",classCommittee:"class committee",customize:"customize ",submitSuccessTip:"submitted successfully",submitFailedTip:"Failed",editSuccessTip:"edit successfully",editFailedTip:"Failed",willBeCreated:"will be created",pieceClass:"piece class",classNameText:"class name",createdText:"Created under this condition",noClassText:"There is no class under this condition. Come and create it",classText:"class ",noExist:"The student ID does not exist",improveClassInfo:"Please improve class information",overriteImport:"overrite import",incrementImport:"increment import",noSelectedCollege:"Please select a college",noSelectedGrade:"Please select grade",noSelectedLevel:"Please choose a level of study",enterStudentId:"Please enter user ID",cancelEditText:"Do you want to close the popup window? Data will not be recovered after it is closed"},classMembers:{tableName:"Class Members List",search:"search",addNew:"add",batch:"batch",reset:"reset",sure:"sure",cancel:"cancel",opt:"operating",name:"name",studentId:"student ID",student:"student",department:"department",studentType:"student type",grade:"grade",college:"college",instructor:"instructor",position:"position",class:"class",single:"single",remove:"remove",submit:"submit",removeConfirmTip:"Are you sure to remove",removeSuccessTip:"remove successfully",removeFailedTip:"Failed",check:"check",singleAddText:"Please enter user ID and click <check>",submitSuccessTip:"submitted successfully",submitFailedTip:"Failed",noExist:"The student ID does not exist",parentPage:"back class list",overriteImport:"overrite import",incrementImport:"increment import",placeholder:"Please enter the number of students you are in charge of the college",enterStudentId:"Please enter user ID"},classMembersManage:{tableName:"Personnel List",search:"search",sure:"sure",cancel:"cancel",opt:"operating",name:"name",studentId:"student ID",student:"student",department:"department",studentType:"student type",grade:"grade",college:"college",instructor:"instructor",class:"class name",classes:"classes",submit:"submit",already:"already",not:"not",classFullName:"class full name",notSelectedText:"you have not checked any students, check the box by the left side of the number in the list",selectedText:"you have checked",namesStudent:"students",writeClassName:"Please fill in the class name",studentIdPlaceholder:"Please enter student ID",classNamePlaceholder:"Please enter class name",instructorPlaceholder:"Please enter instructor",situation:"situation",submitSuccessTip:"submitted successfully",submitFailedTip:"Failed"},collegeManage:{tableName:"College Manage",importTableName:"College List",search:"search",college:"college",set:"set",add:"add",check:"check",principal:"principal",addSuccessTip:"add successfully",setSuccessTip:"set successfully",addFailedTip:"Failed",setFailedTip:"set Failed",userId:"user ID",studentId:"student ID",collegeCode:"college code",name:"name",updatedTime:"updated time",opt:"operating",examine:"examine",cancel:"cancel",edit:"edit",editSuccessTip:"edit successfully",editFailedTip:"failed",remove:"remove",removeConfirmTip:"Delete will affect all college information system? Are you sure you want to delete this college?",removeSuccessTip:"remove successfully",removeFailedTip:"failed",confirm:"confirm",placeholder:"Please enter user ID",import:"import",editConfirmText:"Editing may affect all college information in the system? Are you sure you want to edit the college name?",submit:"submit",submitSuccessTip:"submit successfully",submitFailedTip:"failed",collegeNamePlaceholder:"Please enter college name",overriteImport:"overrite import",incrementImport:"increment import"},import:{import:"import",startImport:"start import",importing:"importing",batch:"batch ",error:"error",tip:"tip",back:"back ",importFristText:"The bulk import feature gives you the convenience of massively synchronizing existing data to your system",importSecondText:'Please download the Excel template below, edit the data you want to import in the template, and select "Start Import". After that, we will overwrite your edited data in the system',errorResultText:"You can download the Excel file below. The error has been marked out in red for you.",submitSuccessTip:"submitted successfully",submitFailedTip:"Failed",cancel:"cancel",submit:"submit"},formEngineInfo:{dropOff:"drop off",release:"release",applyNamePlaceholder:"Set application name (less than 25 words)",error:"error",form:"form",pleaseSet:"please set",playersSet:"players set",remarkPlaceholder:"You can enter a brief description of the app, only administrators can see this description",businessPeriod:"business period",addNew:"add",releaseBusinessPeriod:"release this business period",stopBusinessPeriod:"stop this business period",businessPeriodDisabled:"This business period has been disabled",businessTip:"Please save the creation and then perform other operations",saveBusinessDeploy:"Save this business period configuration",businessName:"name",businessNamePlaceholder:"Please enter business name (less than 30 words)",grade:"grade",basicInfoTip:"from application synchronization",unboundForm:"unbound form",unlimited:"unlimited",allFreshmen:"All freshmen",allInstructor:"All Instructor",filterByCondition:"filter by condition",studentType:"student type",studentGrade:"student grade",inSchoolStatus:"school status",uploadList:"upload list",batchUpload:"batch upload",againUpload:"again upload",export:"export",noData:"no data",noSet:"not set",startTime:"start time",endTime:"end time",selectModal:"select modal",modalTip:"Please select the corresponding template to initialize the form",blankFormTemplate:"blank form template",modal:"modal",cancel:"cancel",confirm:"confirm",name:"name",userNo:"userNo",freshmanNo:"freshmanNo",teacherNo:"teacherNo",instructorNo:"instructorNo",college:"college",notAtSchool:"not at school",inSchool:"in school",baseInfo:"base info",facePeople:"face people",timeSet:"time set",description:"description",schoolYear:"school year",level:"level",appNameTip:"Click on the right button to edit the application name",appNote:"application note",peopleList:"people list",templateName:"student list import template",overriteImport:"overwrite import",incrementImport:"increment import",releaseBusinessConfirm:"Confirm the release of this business?",announcing:"release...",releaseBusinessSuccess:"successful business release",stopBusinessConfirm:"Unavailable after business deactivation,Are you sure you want to disable this business period?",removeBusinessConfirm:"Are you sure to delete this business period?",removeSuccessTip:"successfully deleted",addNewTip:"Please set up the app’s form and participating roles~",startTimeTip:"start time cannot be later than end time",endTimeTip:"end time cannot be earlier than start time",saveBusinessSuccess:"business period saved successfully",releaseTip:"App will be visible to users after they are published, Are you sure to release?",dropOffTip:"App will not be visible to users after it is removed, Are you sure you want to leave?",success:"success",nameError:"error:name is required",modifySuccess:"successfully modified",editIcon:"edit icon",directJump:"Click on the app to jump directly",useBusiness:"Click to apply for a jump (using the business period)",linkUrlPlaceholder:"Please enter a third party link"},freshmanMainPage:{apply:"Applications",searchPlaceholder:"Input the name of application, please!",guide:"freshman guide",tuitionFeeInfoStatus:"tuition fee",accommodationPaymentInfoStatus:"accommodation payment",comparisonOfPhotos:"comparison of photos",underLineInformationConsistencyComparisonIndex:"under line information consistency comparison index",studentsArrivingAtSchool:"students arriving at school",greenChannelApplicationStatus:"green channel application",reservationsOnTheStatusOfApplicationForAdmissionStatus:"reservations on the status of application for admission",announce:"announce",status:"status",all:"all",school:"school",college:"college",instructor:"instructor",personInfoResult:"Personal Information",arriveSchoolInfoResult:"School Arriving",militaryTrainingClothesInfoResult:"Training Cloth Infomation",noMore:"It is all, tks!",more:"Go on to check!",empty:"No message, tks!"},freshmanManage:{tableName:"freshman manage",studentIdBinding:"student number binding",add:"add",freshmanAccount:"freshman account",editFreshmanGuide:"edit freshman guide",account:"account",password:"freshman password",endTime:"freshman login deadline",studentId:"studentId",name:"name",cancel:"cancel",save:"save",saveSuccessTip:"save successfully",saveFailedTip:"failed",overriteImport:"overrite import",incrementImport:"increment import",execlName:"student ID update template",freshmanInfoExeclName:"freshman information import template"},announcementManage:{name:"name",announcement:"announcement",writeAnnouncement:"write announcement",publishTime:"publish time",opt:"operate",pageViews:"pageviews",delete:"delete",continueEditing:"continue editing",publish:"publish",draft:"save as draft",titlePlaceholder:"Please enter a title",contentPlaceholder:"Please enter the announcement content",insertPicture:"insert picture",insertAttachment:"insert attachment",deleteConfirmText:"Are you sure you want to delete this announcement?",deleteSuccessTip:"delete successfully",saveSuccessTip:"save successfully",publishSuccessTip:"publish successfully",titleTip:"The title can not be blank",cancelEditText:"Do you want to close the popup window? Data will not be recovered after it is closed",system:"system"},organizationManage:{schoolTitle:"school organization",collegeTitle:"college organization",add:"add",organization:"organization",cancel:"cancel",confirm:"confirm",namePlaceholder:"enter organizationt name",instructorPlaceholder:"enter instructor ID",instructor:"instructor",addOrganization:"add organization",batchAddOrganization:"batch add organization",export:"export",opt:"opt",edit:"edit",dsable:"dsable",enable:"启用",overriteImport:"overrite import",incrementImport:"increment import",optTips:"Successful operation",orgNameTips:"Organization name is required",orgInstructorNoTips:"Instructor ID is required"},activityTypeManage:{title:"activity type manage",opt:"opt",edit:"edit",name:"activity type name",add:"add",activityType:"activity type",cancel:"cancel",confirm:"confirm",typeNamePlaceholder:"enter activity type name",setActivityReviewProcess:"Set up an activity review process",delete:"delete",removeConfirmTip:"Are you sure to remove this record?",removeFailedTip:"Failed"},activityContentTypeManage:{add:"add",type:"type",name:"name",cancel:"cancel",confirm:"confirm",delete:"delete",category:"category",select:"select",edit:"edit",child:"child",typeNamePlaceholder:"Please enter a category name within 15 words",childCategoryPlaceholder:"Add one or more subcategories at the same time (can not exceed 15 words)"},account:{logout:"Logout",login:"Log in",visitor:"visitor"},comboAndDate:{daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],limit:"Limit reached ({{limit}} items max).",loading:"Loading...",minLength:"Min. Length",months:["January","February","March","April","May","June","July","August","September","October","November","December"],notSelected:"Nothing Selected",required:"Required",search:"Search",datePlaceholder:"choose a date"},nav:{navigation:"guide",searchPlaceholder:"Search for business"},table:{hiddenCol:"HiddenCols",pageAllCheck:"Page",tableAllCheck:"All",checked:"checked",strip:"",searchCancel:"cancel",searchGo:"search",colCheck:"check",colOrder:"#",pageGoPlaceholder:"page number",pageGoBtn:"GO",searchPlaceholder:"search",unsigned:"unsign",isNullTip:"Data not found ~",total:"Total records",records:"",eachPage:"each page"},tree:{searchPlaceholder:"search for",searchIconTitle:"search",editIconTitle:"edit",addIconTitle:"add",deleteIconTitle:"delete",saveIconTitle:"save",newNodeTitle:"new node"},manageTypeLayout:{},permission:{resource:"Resource",optionId:"optionID",optionName:"OptionName",optionPlaceholder:'can\'t contain ":"',resourceVal:"ResourceValue",resourcePlaceholder:'can\'t contain ":"',permissionList:"Permission List",cancel:"cancel",saveSuccessTip:"save successfully",saveFailedTip:"Failed",addSuccessTip:"add successfully",addFailedTip:"Failed",add:"save",edit:"save",confirmMsg:"Are you sure to delete this limit?",deleteSuccessTip:"delete successfully",deleteFailedTip:"Failed"},role:{tableName:"Roles List",addNew:"add",addSuccessTip:"add successfully",addFailedTip:"Failed",role:"Role",roleName:"RoleName",usersGroup:"Users Group",groupName:"Group Name",opt:"options",roleNamePlaceholder:"role name please",cancel:"cancel",bindResource:"Binding Resource",resourceList:"Resource List",bind:"bind",bindSuccessTip:"bind successfully",bindFailedTip:"Failed",bindUser:"Binding Role",bindUsers:"Binding Group of Users",usersList:"User Group List",roleList:"Roles List",edit:"edit",editSuccessTip:"edit successfully",editFailedTip:"Failed",remove:"remove",removeConfirmTip:"Are you sure to remove this record?",removeSuccessTip:"remove successfully",removeFailedTip:"Failed",bindLimits:"Binding Limits"},menuManage:{treeTitle:"Menu List( Click item to bind user groups )",userTreeTitle:"Binding Users",cancel:"cancel",bind:"bind",bindFailedTip:"Failed"},wordsManage:{tableName:"DictTypes Table",addNew:"Add",wordType:"Dictionary Type",typeName:"TypeName",opt:"options",wordsTree:"Dictionary Tree",wordInfo:"Dictionary Infomation",cancel:"cancel",close:"close",edit:"edit",editSuccessTip:"Edit successfully",editFailedTip:"Failed",remove:"remove",removeConfirmTip:"Are you sure to remove this record？",removeSuccessTip:"Remove successfully",removeFailedTip:"Failed",addFailedTip:"Failed",checkWords:"Check Type",dictValue:"Dictionary Value",sort:"Sort Value"},projectManage:{typeTable:"List of project type",projectTable:"Table of Project",projectName:"Project Name",opt:"options",hrefType:"Type of Hrefs",typeForm:"Form",typeOuter:"Webside of Outer",showName:"Name in other system",proType:"Project Type",school:"school",college:"college",addNew:"add project",addBusiness:"business",checkBusiness:"check",edit:"edit",remove:"remove",removeConfirmTip:"Are sure to remove this record？",back:"back",cancel:"cancel",sure:"save",checkPros:"Project Detail",saveIconTitle:"save",saveFailedTip:"Save failed"},schoolProManager:{tableName:"Projects Managers List",optLog:"options log",collegeName:"College Name",projectName:"Project Name",manager:"Managers",isSet:"ManagerAssigned",set:"Assign Manager",test:"search No.",add:"add new manager",testErrorTip:"Not matched~",managerExistTip:"Manager Exist",back:"back",opt:"option",yes:"Yes",no:"No"},bussinessManage:{bussinessTable:"Business Table",bussinessName:"Business Name",projectName:"Project Name",bussinessLimit:"Time Limit",bussinessStart:"Start Time",bussinessEnd:"End Time",schoolYear:"School Year",bussinessStatus:"Business Status",opt:"options",addNew:"add",edit:"edit",remove:"remove",removeConfirmTip:"Are you sre to remove this record？",back:"back",cancel:"cancel",sure:"save",required:"is required",yes:"Yes",no:"No"},appManage:{student:"Application of Students",teacher:"Application of Teachers",freshman:"Application of Freshments",instructor:"Application of Instructor",workflow:"Workflow Engine",link:"Third party Link",form:"Form Engine",appManage:"Application Management",createApp:"Create Application",createAppPlaceholder:"Name of Application please.(25 letters limit)",createAppType:"Create Application Types",createAppTypePlaceholder:"Name of Application Type please. (16 letters limit)",selectAppType:"Create Application with type",hot:"Hot Application",cancel:"cancel",sure:"sure",appExistTip:"Application exist, operation limit！",appTypeRemoveConfirm:"Are you sure to remove this type?",appRemoveConfirm:"Are you sure to remove this application?",appAddTip1:"Name of type is required!",appAddTip2:"Category of type is required!",appAddTip3:"Operation failed!",editTip1:"Unopened",editTip2:"Required info is null!",saveSuccessTip1:"Operation success.",saveSuccessTip2:"Operation success.",saveSuccessTip3:"Operation success."},formManage:{empty:"Empty",backTip:"Save it, then leave?",cancel:"cancel",preview:"preview",sure:"save",library:"Components library",searchPlaceholder:"Search for",from:"From",basic:"Basic Components",favor:"Collected Components",other:"Form Components",info:"All Components of Infomation",allCom:"System Components",script:"Scripts",layout:"Layouts",help:"Attributes setting of the component",title:"name",basicAttr:"Basic Attributes",styleAttr:"Styles",verifyAttr:"Verification",collectionAttr:"collector",events:"Actions",on:"on",off:"off",init:"options setting",defaultValue:"Initial Value",way:"wayOfInit",api:"API",dict:"Dict",add:"add",remove:"remove",duplicateTip:"Duplicate with long tap",hrTip:"Change the with with dragging",vrTip:"Change the height with dragging",optionTip:"Option name, please",fileMaxSizeTip:"The max file size is: ",fieldTypeList:{input:"Input",number:"Number",radio:"Radio",checkbox:"Checkbox",select:"Select",datetime:"Datetime",label:"LabelText",image:"Image",splitLine:"SplitLine",attachment:"Attachment",map:"Location",table:"Table",address:"Address",signature:"Signature"},attrName:{placeholder:"InputTip",rows:"MaxLineHeight",options:"Options",precision:"precision(decimal places)",dateFormat:"DateFormat",autoNumber:"RowNumShow",checkable:"LineCheck",autoSelect:"AutoSelect",exportable:"Exportable",content:"content",color:"LineColor",fontSize:"FontSize(px)",regexExpression:"RegularExpression",maxWidth:"ImageWidth(px)",maxHeight:"ImageHeight(px)",minWidth:"MinWidth(px)",minHeight:"MinHeight(px)",maxLength:"MaxLength",minLength:"MinLength",maxSelect:"MaxSelections",minSelect:"minSelections",maxValue:"MaxValue",minValue:"MinValue",maxDate:"MaxDate",minDate:"minDate",fileFormat:"DocumentType",fileMaxNumber:"MaxUploaderofDocument",fileSize:"MaxSizeofDocument(KB)"},initial:{fixedValue:"FixedValue",sqlQuery:"SQLQuery",dataSet:"Dataset",dataField:"DataField",url:"API",method:"Method",key:"DataKey",params:"Params",className:"Class Name",functionName:"Function Name",currentTime:"CurrentTime",definedTime:"DefinedTime",paramKey:"Key",paramValue:"Value",paramObj:"parameter",dynamic:"latest data",keyInValidTip:"Key or Value cannot be null!",keyExistTip:"Key is already exist!"},collector:{flag:"flag",dataSet:"Dataset",dataField:"DataField",deleteByKey:"CollectToDelete"},eventsList:{FOCUS:"FOCUS",BLUR:"BLUR",CHANGE:"VALUE CHANGE",showComponent:"Show components",hideComponent:"Hide components",setText:"Set value",triggerEvent:"Trigger other event",script:"Defined script",formFields:"Components",formFieldsEvents:"Events",formFieldsValue:"Value",fieldsList:"ComponentsList",valueList:"ValueList",eventsList:"EventsList",actionList:"ActionsList",orgAction:"Description",setAction:"Action Setting",addEvent:"Events add",addTip:"The event info is not correct, please check it again!",set:"Set",valueTo:"value to",trigger:"Trigger",events:"event",condition:"Condition",caseName:"CaseName"}},flowSetManage:{cancel:"cancel",sure:"save",relevanceTip:"Associate form, Please",relevanceTip2:"Association Form",nodeName:"Node Name",applicant:"Form Applicant",applyOnceLimit:"Apply once limit",distributarySet:"Distributary Setting",roleSet:"Role Setting",createNewRole:"Create Role",newRolePlaceholder:"applicant name + node name + manager",readWritePermission:"Read&Write Authorities",alreadyChecked:"Already Checked",setInto:", set into",operatingPermission:"Operating Authorities",conditionName:"Condition Name",conditionField:"Condition Field",createBranch:"Create Branch",other:"Other",backTip:"Save it, then leave？",commitTip:"Commit successfully",roleEmptyTip:"Role name is required!",roleExistTip:"Role name is exist!",removeNodeTip:"Remove the node firstly, Please!",distributaryData:{bySchool:"bySchool",byClass:"byClass",byTeacher:"byTeacher",byCollege:"byCollege",byOrganization:"byOrganization"},operatorData:{required:"required",optional:"optional",readonly:"readonly",hide:"hide"},permissionData:{reject:"reject",rejectTo:"Reject to",lastNode:"last node",optional:"any node user select",rejectBackTo:"Reject then go back to",flowWay:"last node",revocation:"revocation",deliverTo:"Deliver to",sendTo:"Send to",batch:"Batch operation",cancelByUser:"Cancel flow by user"},condition:{"=":"equal",include:"contains",exclude:"not contains","<":"less then","<=":"<=",">":">",">=":">=","!=":"!=",between:"between",notBetween:"not between"}},orgManage:{tableName:"Organization List",importExcel:"Data Import",downLoad:"Model Download",orgName:"Org Name",orgCode:"Org Code",orgParentCode:"Parent's Code",leaderName:"Leader",tags:"Tags",opt:"options",edit:"edit",remove:"remove",removeConfirmTip:"Are sure to remove this organization？",cancel:"cancel",bindSuccessTip:"Tags binding successfully",tagsPlaceholder:"defined your tags, split by ',' please",pCodeTip:"No matched!",leaderTip:"No matched!"},infoManage:{addNew:"add",edit:"edit",show:"check",studentIdBinding:"studentId Binding",editBase:"edit",tableName:"Teachers",tableNameStu:"Students",tableNameParticipator:"Participator",cancel:"cancel",back:"back",save:"save",confirm:"sure",search:"search",remove:"remove",modelDownload:"download",modelImport:"Model Import",imageImport:"Image Import",initModel:"Initial Model of Teachers",initModelStu:"Initial Model of Students",baseModel:"Base Model of Teachers",baseModelParticipator:"Base Model of Participator",baseModelStu:"Base Model of Student",baseModelNewStu:"New Number Model of Students",statusModelStu:"Status Model of Students",stuBaseInfo:"BaseInfo of Studnent",opt:"options",importSuccessTip:"importSuccessTip",importFailedTip:"importFailedTip",overrideImport:"overrideImport",incrementImport:"incrementImport",advancedSearch:"advancedSearch",layoutManage:"layoutManage",setTip:"Choose a educationLevel to start!",nullColumnTypesTip:"No type of infomation exist!",successTip:"Success!",startSet:"Start",reset:"reset",export:"export",schoolStudentManage:"schoolStudentManage",collegeStudentManage:"collegeStudentManage",myStudentManage:"myStudentManage",loading:"loading...",teacherFields:{teacherId:"teacherId",organisation:"organisation",name:"name",nameSpell:"nameSpell",usedName:"usedName",sex:"sex",birthday:"birthday",birthPlace:"birthPlace",nativePlace:"nativePlace",nation:"nation",nationality:"nationality",identificationType:"identificationType",idCardType:"idCardType",identificationNo:"identificationNo",idCardNo:"idCardNo",idCardValidity:"idCardValidity",maritalStatus:"maritalStatus",hongKongMacaoTaiwanOversea:"hongKongMacaoTaiwanOversea",healthStatus:"healthStatus",faith:"faith",bloodType:"bloodType",highestEducation:"highestEducation",degreeOfEducation:"degreeOfEducation",joinTheWorkingYears:"joinTheWorkingYears",timeToSchool:"timeToSchool",timeStartWage:"timeStartWage",timeStartTeaching:"timeStartTeaching",authorizedStrength:"authorizedStrength",workerCategory:"workerCategory",courseSituation:"courseSituation",fileNo:"fileNo",fileText:"fileText",onTheJobState:"onTheJobState",speciality:"speciality",photo:"photo",subjectType:"subjectType",primaryDiscipline:"primaryDiscipline",secondaryDiscipline:"secondaryDiscipline",postalCode:"postalCode",mailingAddress:"mailingAddress",homeAddress:"homeAddress",currentAddress:"currentAddress",registeredPermanentResidence:"registeredPermanentResidence",accountCategory:"accountCategory",officePhone:"officePhone",homePhone:"homePhone",mobilePhone:"mobilePhone",fax:"fax",mail:"mail",homePage:"homePage",campusNo:"campusNo"},infoFields:{studentId:"studentID",freshmanId:"freshmanID",examinationNumber:"examinationNumber",accountId:"Account",password:"Password",college:"Code of College",collegeName:"Name of College",department:"Code of Department",grade:"Grade",studentType:"Student Type",teacherId:"teacherID",name:"Name",nameSpell:"Name of Pinyin",usedName:"Old Name",passportName:"Passport Name",chineseName:"Chinese Name",foreignFirstName:"Foreign First Name",foreignLastName:"Foreign Second Name",sex:"Sex",organisation:"Organisation",phone:"Phone",phoneNumber:"Phone Number",instructor:"Instructor",mail:"Mail",identificationNo:"ID number",idCardType:"IDCard Type",idCardNo:"ID number",idCardValidity:"Valid Date of IDCard",birthday:"Birthday",originPlace:"Origin Place",region:"Region",nativePlace:"Native Place",villageStudent:"Village Student",accountsNature:"Accounts Nature",domicilePlace:"Domicile Place",continent:"Continent",motherLanguage:"Mother Language",livingCity:"Living City",birthPlace:"Birth Place",faith:"Faith",current:"current",personnelRelationsIn:"PersonnelRelationsIn",recordIn:"recordIn",haveEarning:"haveEarning",greenChannel:"greenChannel",loansEntrance:"loansEntrance",physicalCondition:"physicalCondition",weight:"weight",bloodType:"bloodType",height:"height",areaType:"areaType",dataSource:"dataSource",chineseLevel:"chineseLevel",englishLevel:"englishLevel",computerLevel:"computerLevel",expenditureMethod:"expenditureMethod",userId:"userId",permanentAddress:"permanentAddress",maritalStatus:"maritalStatus",undergraduateCollegesProfessional:"undergraduateCollegesProfessional",masterDegreeCollegesProfessional:"masterDegreeCollegesProfessional",drGraduationCollegesProfessional:"drGraduationCollegesProfessional",speciality:"speciality",hobbies:"hobbies",mandarinLevel:"mandarinLevel",onTheJobState:"onTheJobState",workerCategory:"workerCategory",mainResearchTopics:"mainResearchTopics",asTheFirstClass:"asTheFirstClass",certificates:"certificates",namepy:"namepy",highestEducation:"highestEducation",degree:"degree",timeToSchool:"timeToSchool",typeOfTch:"typeOfTch",adminPost:"adminPost",executiveLevel:"executiveLevel",professionalAndTechnicalProfession:"professionalAndTechnicalProfession",workersTechnicalLevel:"workersTechnicalLevel",nation:"nation",politicalStatus:"politicalStatus",hongKongMacaoTaiwanOversea:"hongKongMacaoTaiwanOversea",healthStatus:"healthStatus",nationality:"nationality",source:"source"}},dictionaryManage:{tableTitle:"Dictionary List",addNew:"Add Dictionary",dictionaryTypeName:"Type Name",dictionaryNameInputPlaceholder:"Dictionary Name",dictionaryCreateOption:"Add Option",dictionaryOptionInputPlaceholder:"Option Name",dictionaryOption:"Option",operation:"Operation",dictionaryTypeSearchPlaceholder:"Please Input The Dictionary Name ",dictionaryType:"Dictionary",edit:"Edit",remove:"Remove",cancel:"Cancel",submit:"Submit",removeConfirmTip:"Are You Sure Remove This？",editSuccessTip:"Modify Successfully"},systemRoleManage:{tableTitle:"System Role List",add:"Add",edit:"Edit",clear:"Clear",roleName:"Role Name",operation:"Operation",roleNameSearchPlaceholder:"Please input the role name",addUserTip:"Please check the user firstly",addUserConfirmTip:"Are you sure to add the user to the role？",user:"User",role:"Role",userNo:"User Number",username:"Username",check:"Check",cancel:"Cancel",submit:"Submit",clearComfirmTip:"Are you sure to clear all user of the role?",checkUserTip:"Please input the user No firstly",userNoExistedTip:"Sorry, the user No is not existed"},schoolRoleManage:{tableTitle:"School Role List",add:"Add",edit:"Edit",clear:"Clear",roleName:"Role Name",operation:"Operation",roleNameSearchPlaceholder:"Please input the role name",addUserTip:"Please check the user firstly",addUserConfirmTip:"Are you sure to add the user to the role？",user:"User",role:"Role",userNo:"User Number",username:"Username",check:"Check",cancel:"Cancel",submit:"Submit",clearComfirmTip:"Are you sure to clear all user of the role?",checkUserTip:"Please input the user No firstly",userNoExistedTip:"Sorry, the user No is not existed",exchangeDimensionLabel1:"Change to user dimension",exchangeDimensionLabel2:"Change to role dimension",roleDescription:"role description"},collegeRoleManage:{tableTitle:"College Role List",add:"Add",clear:"Clear",operation:"Operation",addUserTip:"Please check the user firstly",addUserConfirmTip:"Are you sure to add the user to the role？",user:"User",role:"Role",userNo:"User Number",username:"Username",check:"Check",cancel:"Cancel",submit:"Submit",clearComfirmTip:"Are you sure to clear all user of the role?",checkUserTip:"Please input the user No firstly",userNoExistedTip:"Sorry, the user No is not existed",exchangeDimensionLabel1:"Change to user dimension",exchangeDimensionLabel2:"Change to role dimension",noManageCollegeTip:"You have no manage college"}}}[e]};var n=i("3cXf"),a=i.n(n),r=i("L7Pj"),o=i.n(r),s=(i("NuOq"),void 0)},CXCA:function(e,t){},Chyv:function(e,t){},CthU:function(e,t){},D53R:function(e,t){},FChz:function(e,t){},FqMD:function(e,t){},FwgR:function(e,t){},GLlW:function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},GUYV:function(e,t){},HIHJ:function(e,t,i){"use strict";(function(e){i("n+6Y");var n=i("C331"),a=i("9r/T");i.n(a);t.a={inject:{windowObj:{default:null}},props:{parentPageTitle:{default:""},templateName:{default:""},downloadTemplateUrl:{default:""},downloadErrorTemplateUrl:{default:""},checkTemplateUrl:{default:""},modalname:{default:""},isNeedModal:{default:!1},importBtnType:{default:[]},defaultLang:{default:"zh-cn"}},created:function(){var e=localStorage.getItem("lang");Object(n.e)(e)&&(this.lang=e),this.correctResult=""},data:function(){return{isCorrect:!1,isShowResult:!1,startImport:!0,importing:!1,templateName:this.templateName,errorTemplateName:"",correctResult:"",errorResult:"",errorFileName:"",modalName:this.modalname,showDeployModal:!1,importTypeData:this.importBtnType,importDataObj:{},clearInputShow:!0,dataKey:"",importingText:"",hasErrorFile:!1,lang:this.defaultLang}},computed:{translate:function(){return Object(n.e)(this.lang).import}},methods:{_backParentPage:function(){this.$emit("backParentPage")},downloadTemplate:function(){this.isNeedModal?this.showDeployModal=!0:window.location.href="/downloads"+this.downloadTemplateUrl+(this.downloadTemplateUrl.indexOf("?")>=0?"&":"?")+"fileName="+this.templateName+"&filename="+this.errorFileName},modalDownloadTemplate:function(){this.showDeployModal=!1,window.location.href="/downloads"+this.downloadTemplateUrl+(this.downloadTemplateUrl.indexOf("?")>=0?"&":"?")+"fileName="+this.templateName+"&filename="+this.errorFileName},downloadErrorTemplate:function(){window.location.href="/downloads"+this.downloadErrorTemplateUrl+(this.downloadErrorTemplateUrl.indexOf("?")>=0?"&":"?")+"fileName="+this.errorFileName+"&filename="+this.errorFileName},importData:function(){var e=this;Object(n.c)({url:"/api"+this.importDataObj.url+"?dataKey="+this.dataKey,dataType:"json",type:this.importDataObj.method,success:function(t){e.importingText="",e.importing=!1,t.state?(e.importDataObj.success(t),t.data||(e.correctResult="导入成功"),e.$toast(e.translate.submitSuccessTip)):e.$toast(e.translate.submitFailedTip+":"+t.message)}}).always(function(){e.$waiting.close()})},importUrlType:function(e){this.importDataObj=e},getFile:function(e){var t,i=this,a=this,r=new FormData;t=e.target.files[0],r.append("file",t),this.clearInputShow=!1,t&&(this.startImport=!1,this.importing=!0,this.importingText="导入中...",this.$waiting.show(),Object(n.c)({url:"/upload"+this.checkTemplateUrl,dataType:"json",data:r,processData:!1,contentType:!1,type:"post",success:function(e){if(a.isShowResult=!0,a.startImport=!0,a.clearInputShow=!0,"88888"===e.code)if(a.importingText="",e.data.success){a.dataKey=e.data.dataKey,a.isCorrect=!1;var t=e.data.message.replace(/\n|\r\n/g,"<br/>");a.correctResult=t,a.importData()}else a.$waiting.close(),a.importing=!1,a.importingText="",null===e.data?(a.$toast("上传失败"),a.isShowResult=!1):(a.isCorrect=!0,t=e.data.message.replace(/\n|\r\n/g,"<br/>"),a.errorResult=t,a.hasErrorFile=e.data.hasErrorFile,e.data.hasErrorFile&&(a.errorTemplateName=e.data.showFileName||e.data.fileName),a.errorFileName=e.data.fileName);else e.data&&!e.data.success?(a.importing=!1,a.importingText="",null===e.data?(a.$toast("上传失败"),a.isShowResult=!1):(a.isCorrect=!0,t=e.data.message.replace(/\n|\r\n/g,"<br/>"),a.errorResult=t,a.hasErrorFile=e.data.hasErrorFile,e.data.hasErrorFile&&(a.errorTemplateName=e.data.showFileName||e.data.fileName),a.errorFileName=e.data.fileName)):(a.importing=!1,a.importingText="",a.$toast("上传失败"))}}).always(function(){i.$waiting.close()}))}},mounted:function(){e("#batchSet-page").css("max-height",e(window).height()-150+"px")},watch:{windowObj:{deep:!0,handler:function(t){e("#batchSet-page").css("max-height",e(window).height()-150+"px")}}}}}).call(t,i("L7Pj"))},HvDO:function(e,t){},I5ad:function(e,t){},"J/QH":function(e,t,i){"use strict";Boolean,String,String,String;var n={name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(e){this.$emit("update:show",e)}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:e.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:e.text?"":"vux-loading-no-text"},[i("div",{staticClass:"weui-mask_transparent"}),e._v(" "),i("div",{staticClass:"weui-toast",style:{position:e.position}},[i("i",{staticClass:"weui-loading weui-icon_toast"}),e._v(" "),e.text?i("p",{staticClass:"weui-toast__content"},[e._v(e._s(e.text||"加载中")),e._t("default")],2):e._e()])])])},staticRenderFns:[]};var r=i("C7Lr")(n,a,!1,function(e){i("xbIw")},null,null);t.a=r.exports},JGLT:function(e,t,i){"use strict";var n=i("jHHs"),a=(n.a,Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:n.a},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-confirm"},[i("x-dialog",{attrs:{"dialog-class":"android"===e.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":e.maskTransition,"dialog-transition":"android"===e.theme?"vux-fade":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[e.title?i("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!e.showContent}},[i("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.showContent?[e.showInput?i("div",{staticClass:"vux-prompt"},["checkbox"===e.getInputAttrs().type?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.msg)?e._i(e.msg,null)>-1:e.msg},on:{touchend:e.setInputFocus,change:function(t){var i=e.msg,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.msg=i.concat([null])):r>-1&&(e.msg=i.slice(0,r).concat(i.slice(r+1)))}else e.msg=a}}},"input",e.getInputAttrs(),!1)):"radio"===e.getInputAttrs().type?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.msg,null)},on:{touchend:e.setInputFocus,change:function(t){e.msg=null}}},"input",e.getInputAttrs(),!1)):i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:e.getInputAttrs().type},domProps:{value:e.msg},on:{touchend:e.setInputFocus,input:function(t){t.target.composing||(e.msg=t.target.value)}}},"input",e.getInputAttrs(),!1))]):i("div",{staticClass:"weui-dialog__bd"},[e._t("default",[i("div",{domProps:{innerHTML:e._s(e.content)}})])],2)]:e._e(),e._v(" "),i("div",{staticClass:"weui-dialog__ft"},[e.showCancelButton?i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:e._onCancel}},[e._v(e._s(e.cancelText||"取消"))]):e._e(),e._v(" "),e.showConfirmButton?i("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+e.confirmType,attrs:{href:"javascript:;"},on:{click:e._onConfirm}},[e._v(e._s(e.confirmText||"确定"))]):e._e()])],2)],1)},staticRenderFns:[]};var o=i("C7Lr")(a,r,!1,function(e){i("jo8M")},null,null);t.a=o.exports},JkAA:function(e,t){},KchE:function(module,exports){
/*!
 * UEditor
 * version: ueditor
 * build: Wed Aug 10 2016 11:06:16 GMT+0800 (CST)
 */
!function(){UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu,window.UE=baidu.editor=window.UE||{},UE.plugins={},UE.commands={},UE.instants={},UE.I18N={},UE._customizeUI={},UE.version="1.4.3";var dom=UE.dom={},browser=UE.browser=function(){var e=navigator.userAgent.toLowerCase(),t=window.opera,i={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(e),opera:!!t&&t.version,webkit:e.indexOf(" applewebkit/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};i.gecko="Gecko"==navigator.product&&!i.webkit&&!i.opera&&!i.ie;var n=0;if(i.ie){var a=e.match(/(?:msie\s([\w.]+))/),r=e.match(/(?:trident.*rv:([\w.]+))/);n=a&&r&&a[1]&&r[1]?Math.max(1*a[1],1*r[1]):a&&a[1]?1*a[1]:r&&r[1]?1*r[1]:0,i.ie11Compat=11==document.documentMode,i.ie9Compat=9==document.documentMode,i.ie8=!!document.documentMode,i.ie8Compat=8==document.documentMode,i.ie7Compat=7==n&&!document.documentMode||7==document.documentMode,i.ie6Compat=n<7||i.quirks,i.ie9above=n>8,i.ie9below=n<9,i.ie11above=n>10,i.ie11below=n<11}if(i.gecko){var o=e.match(/rv:([\d\.]+)/);o&&(n=1e4*(o=o[1].split("."))[0]+100*(o[1]||0)+1*(o[2]||0))}return/chrome\/(\d+\.\d)/i.test(e)&&(i.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(i.safari=+(RegExp.$1||RegExp.$2)),i.opera&&(n=parseFloat(t.version())),i.webkit&&(n=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),i.version=n,i.isCompatible=!i.mobile&&(i.ie&&n>=6||i.gecko&&n>=10801||i.opera&&n>=9.5||i.air&&n>=1||i.webkit&&n>=522||!1),i}(),ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera,utils=UE.utils={each:function(e,t,i){if(null!=e)if(e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(!1===t.call(i,e[n],n,e))return!1}else for(var r in e)if(e.hasOwnProperty(r)&&!1===t.call(i,e[r],r,e))return!1},makeInstance:function(e){var t=new Function;return t.prototype=e,e=new t,t.prototype=null,e},extend:function(e,t,i){if(t)for(var n in t)i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e},extend2:function(e){for(var t=arguments,i=1;i<t.length;i++){var n=t[i];for(var a in n)e.hasOwnProperty(a)||(e[a]=n[a])}return e},inherits:function(e,t){var i=e.prototype,n=utils.makeInstance(t.prototype);return utils.extend(n,i,!0),e.prototype=n,n.constructor=e},bind:function(e,t){return function(){return e.apply(t,arguments)}},defer:function(e,t,i){var n;return function(){i&&clearTimeout(n),n=setTimeout(e,t)}},indexOf:function(e,t,i){var n=-1;return i=this.isNumber(i)?i:0,this.each(e,function(e,a){if(a>=i&&e===t)return n=a,!1}),n},removeItem:function(e,t){for(var i=0,n=e.length;i<n;i++)e[i]===t&&(e.splice(i,1),i--)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(e){if(!e)return{};e=utils.isArray(e)?e:e.split(",");for(var t,i=0,n={};t=e[i++];)n[t.toUpperCase()]=n[t]=1;return n},unhtml:function(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},unhtmlForUrl:function(e,t){return e?e.replace(t||/[<">']/g,function(e){return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},html:function(e){return e?e.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(e){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[e]}):""},cssStyleToDomStyle:(test=document.createElement("div").style,cache={float:void 0!=test.cssFloat?"cssFloat":void 0!=test.styleFloat?"styleFloat":"float"},function(e){return cache[e]||(cache[e]=e.toLowerCase().replace(/-./g,function(e){return e.charAt(1).toUpperCase()}))}),loadFile:function(){var e=[];function t(t,i){try{for(var n,a=0;n=e[a++];)if(n.doc===t&&n.url==(i.src||i.href))return n}catch(e){return null}}return function(i,n,a){var r=t(i,n);if(r)r.ready?a&&a():r.funs.push(a);else if(e.push({doc:i,url:n.src||n.href,funs:[a]}),i.body){if(!n.id||!i.getElementById(n.id)){var o=i.createElement(n.tag);for(var s in delete n.tag,n)o.setAttribute(s,n[s]);o.onload=o.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if((r=t(i,n)).funs.length>0){r.ready=1;for(var e;e=r.funs.pop();)e()}o.onload=o.onreadystatechange=null}},o.onerror=function(){throw Error("The load "+(n.href||n.src)+" fails,check the url settings of file ueditor.config.js ")},i.getElementsByTagName("head")[0].appendChild(o)}}else{var l=[];for(var s in n)"tag"!=s&&l.push(s+'="'+n[s]+'"');i.write("<"+n.tag+" "+l.join(" ")+" ></"+n.tag+">")}}}(),isEmptyObject:function(e){if(null==e)return!0;if(this.isArray(e)||this.isString(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},fixColor:function(e,t){if(/color/i.test(e)&&/rgba?/.test(t)){var i=t.split(",");if(i.length>3)return"";t="#";for(var n,a=0;n=i[a++];)t+=1==(n=parseInt(n.replace(/[^\d]/gi,""),10).toString(16)).length?"0"+n:n;t=t.toUpperCase()}return t},optCss:function(e){var t,i;function n(e,t){if(!e)return"";var i=e.top,n=e.bottom,a=e.left,r=e.right,o="";if(i&&a&&n&&r)o+=";"+t+":"+(i==n&&n==a&&a==r?i:i==n&&a==r?i+" "+a:a==r?i+" "+a+" "+n:i+" "+r+" "+n+" "+a)+";";else for(var s in e)o+=";"+t+"-"+s+":"+e[s]+";";return o}return e=e.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(e,n,a,r){if(1==r.split(" ").length)switch(n){case"padding":return!t&&(t={}),t[a]=r,"";case"margin":return!i&&(i={}),i[a]=r,"";case"border":return"initial"==r?"":e}return e}),(e+=n(t,"padding")+n(i,"margin")).replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(e,t){return t?t+";;":";"})},clone:function(e,t){var i;for(var n in t=t||{},e)e.hasOwnProperty(n)&&("object"==typeof(i=e[n])?(t[n]=utils.isArray(i)?[]:{},utils.clone(e[n],t[n])):t[n]=i);return t},transUnitToPx:function(e){if(!/(pt|cm)/.test(e))return e;var t;switch(e.replace(/([\d.]+)(\w+)/,function(i,n,a){e=n,t=a}),t){case"cm":e=25*parseFloat(e);break;case"pt":e=Math.round(96*parseFloat(e)/72)}return e+(e?"px":"")},domReady:function(){var e=[];function t(t){t.isReady=!0;for(var i;i=e.pop();i());}return function(i,n){var a=(n=n||window).document;i&&e.push(i),"complete"===a.readyState?t(a):(a.isReady&&t(a),browser.ie&&11!=browser.version?(!function(){if(!a.isReady){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t(a)}}(),n.attachEvent("onload",function(){t(a)})):(a.addEventListener("DOMContentLoaded",function(){a.removeEventListener("DOMContentLoaded",arguments.callee,!1),t(a)},!1),n.addEventListener("load",function(){t(a)},!1)))}}(),cssRule:browser.ie&&11!=browser.version?function(e,t,i){var n,a;return void 0===t||t&&t.nodeType&&9==t.nodeType?void 0!==(a=(n=(i=t&&t.nodeType&&9==t.nodeType?t:i||document).indexList||(i.indexList={}))[e])?i.styleSheets[a].cssText:void 0:(a=(n=(i=i||document).indexList||(i.indexList={}))[e],""===t?void 0!==a&&(i.styleSheets[a].cssText="",delete n[e],!0):(void 0!==a?sheetStyle=i.styleSheets[a]:(sheetStyle=i.createStyleSheet("",a=i.styleSheets.length),n[e]=a),void(sheetStyle.cssText=t)))}:function(e,t,i){var n;return void 0===t||t&&t.nodeType&&9==t.nodeType?(n=(i=t&&t.nodeType&&9==t.nodeType?t:i||document).getElementById(e))?n.innerHTML:void 0:(n=(i=i||document).getElementById(e),""===t?!!n&&(n.parentNode.removeChild(n),!0):void(n?n.innerHTML=t:((n=i.createElement("style")).id=e,n.innerHTML=t,i.getElementsByTagName("head")[0].appendChild(n))))},sort:function(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var i=0,n=e.length;i<n;i++)for(var a=i,r=e.length;a<r;a++)if(t(e[i],e[a])>0){var o=e[i];e[i]=e[a],e[a]=o}return e},serializeParam:function(e){var t=[];for(var i in e)if("method"!=i&&"timeout"!=i&&"async"!=i)if("function"!=(typeof e[i]).toLowerCase()&&"object"!=(typeof e[i]).toLowerCase())t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));else if(utils.isArray(e[i]))for(var n=0;n<e[i].length;n++)t.push(encodeURIComponent(i)+"[]="+encodeURIComponent(e[i][n]));return t.join("&")},formatUrl:function(e){var t=e.replace(/&&/g,"&");return t=(t=(t=(t=t.replace(/\?&/g,"?")).replace(/&$/g,"")).replace(/&#/g,"#")).replace(/&+/g,"&")},isCrossDomainUrl:function(e){var t=document.createElement("a");return t.href=e,browser.ie&&(t.href=t.href),!(t.protocol==location.protocol&&t.hostname==location.hostname&&(t.port==location.port||"80"==t.port&&""==location.port||""==t.port&&"80"==location.port))},clearEmptyAttrs:function(e){for(var t in e)""===e[t]&&delete e[t];return e},str2json:function(e){return utils.isString(e)?window.JSON?JSON.parse(e):new Function("return "+utils.trim(e||""))():null},json2str:function(){if(window.JSON)return JSON.stringify;{var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function t(e){return e<10?"0"+e:e}return function(i){switch(typeof i){case"undefined":return"undefined";case"number":return isFinite(i)?String(i):"null";case"string":return/["\\\x00-\x1f]/.test(l=i)&&(l=l.replace(/["\\\x00-\x1f]/g,function(t){var i=e[t];return i||(i=t.charCodeAt(),"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16))})),'"'+l+'"';case"boolean":return String(i);default:if(null===i)return"null";if(utils.isArray(i))return function(e){var t,i,n,a=["["],r=e.length;for(i=0;i<r;i++)switch(typeof(n=e[i])){case"undefined":case"function":case"unknown":break;default:t&&a.push(","),a.push(utils.json2str(n)),t=1}return a.push("]"),a.join("")}(i);if(utils.isDate(i))return function(e){return'"'+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+'"'}(i);var n,a,r=["{"],o=utils.json2str;for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s))switch(typeof(a=i[s])){case"undefined":case"unknown":case"function":break;default:n&&r.push(","),n=1,r.push(o(s)+":"+o(a))}return r.push("}"),r.join("")}var l}}}()},test,cache;utils.each(["String","Function","Array","Number","RegExp","Object","Date"],function(e){UE.utils["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});var EventBase=UE.EventBase=function(){};function getListener(e,t,i){var n;return t=t.toLowerCase(),(n=e.__allListeners||i&&(e.__allListeners={}))&&(n[t]||i&&(n[t]=[]))}EventBase.prototype={addListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var i,n=0;i=e[n++];)getListener(this,i,!0).push(t)},on:function(e,t){return this.addListener(e,t)},off:function(e,t){return this.removeListener(e,t)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var i,n=0;i=e[n++];)utils.removeItem(getListener(this,i)||[],t)},fireEvent:function(){var e=arguments[0];e=utils.trim(e).split(" ");for(var t,i=0;t=e[i++];){var n,a,r,o=getListener(this,t);if(o)for(r=o.length;r--;)if(o[r]){if(!0===(a=o[r].apply(this,arguments)))return a;void 0!==a&&(n=a)}(a=this["on"+t.toLowerCase()])&&(n=a.apply(this,arguments))}return n}};var dtd=dom.dtd=function(){function e(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}var t=utils.extend2,i=e({isindex:1,fieldset:1}),n=e({input:1,button:1,select:1,textarea:1,label:1}),a=t(e({a:1}),n),r=t({iframe:1},a),o=e({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),s=e({ins:1,del:1,script:1,style:1}),l=t(e({b:1,acronym:1,bdo:1,var:1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),s),c=t(e({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),l),d=t(e({p:1}),c),u=t(e({iframe:1}),c,n),h=e({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,var:1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),p=t(e({a:0}),u),f=e({tr:1}),m=e({"#":1}),g=t(e({param:1}),h),v=t(e({form:1}),i,r,o,d),b=e({li:1,ol:1,ul:1}),y=e({style:1,script:1}),_=e({base:1,link:1,meta:1,title:1}),w=t(_,y),x=e({head:1,body:1}),C=e({html:1}),S=e({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),T=e({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return e({$nonBodyContent:t(C,x,_),$block:S,$inline:p,$inlineWithA:t(e({a:1}),p),$body:t(e({script:1,style:1}),S),$cdata:e({script:1,style:1}),$empty:T,$nonChild:e({iframe:1,textarea:1}),$listItem:e({dd:1,dt:1,li:1}),$list:e({ul:1,ol:1,dl:1}),$isNotEmpty:e({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:e({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1}),$removeEmptyBlock:e({p:1,div:1}),$tableContent:e({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:e({pre:1,script:1,style:1,textarea:1}),html:x,head:w,style:m,script:m,body:v,base:{},link:{},meta:{},title:m,col:{},tr:e({td:1,th:1}),img:{},embed:{},colgroup:e({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:v,td:v,br:{},th:v,center:v,kbd:p,button:t(d,o),basefont:{},h5:p,h4:p,samp:p,h6:p,ol:b,h1:p,h3:p,option:m,h2:p,form:t(i,r,o,d),select:e({optgroup:1,option:1}),font:p,ins:p,menu:b,abbr:p,label:p,table:e({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:p,tfoot:f,cite:p,li:v,input:{},iframe:v,strong:p,textarea:m,noframes:v,big:p,small:p,span:e({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:p,dt:p,sub:p,optgroup:e({option:1}),param:{},bdo:p,var:p,div:v,object:g,sup:p,dd:v,strike:p,area:{},dir:b,map:t(e({area:1,form:1,p:1}),i,s,o),applet:g,dl:e({dt:1,dd:1}),del:p,isindex:{},fieldset:t(e({legend:1}),h),thead:f,ul:b,acronym:p,b:p,a:t(e({a:1}),u),blockquote:t(e({td:1,tr:1,tbody:1,li:1}),v),caption:p,i:p,u:p,tbody:f,s:p,address:t(r,d),tt:p,legend:p,q:p,pre:t(l,a),p:t(e({a:1}),p),em:p,dfn:p})}();function getDomNode(e,t,i,n,a,r){var o,s=n&&e[t];for(!s&&(s=e[i]);!s&&(o=(o||e).parentNode);){if("BODY"==o.tagName||r&&!r(o))return null;s=o[i]}return s&&a&&!a(s)?getDomNode(s,t,i,!1,a):s}var attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"\ufeff":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(e,t){if(e===t)return 0;var i,n=[e],a=[t];for(i=e;i=i.parentNode;){if(i===t)return 10;n.push(i)}for(i=t;i=i.parentNode;){if(i===e)return 20;a.push(i)}if(n.reverse(),a.reverse(),n[0]!==a[0])return 1;for(var r=-1;n[++r]===a[r];);for(e=n[r],t=a[r];e=e.nextSibling;)if(e===t)return 4;return 2},getNodeIndex:function(e,t){for(var i=e,n=0;i=i.previousSibling;)t&&3==i.nodeType?i.nodeType!=i.nextSibling.nodeType&&n++:n++;return n},inDoc:function(e,t){return 10==domUtils.getPosition(e,t)},findParent:function(e,t,i){if(e&&!domUtils.isBody(e))for(e=i?e:e.parentNode;e;){if(!t||t(e)||domUtils.isBody(e))return t&&!t(e)&&domUtils.isBody(e)?null:e;e=e.parentNode}return null},findParentByTagName:function(e,t,i,n){return t=utils.listToMap(utils.isArray(t)?t:[t]),domUtils.findParent(e,function(e){return t[e.tagName]&&!(n&&n(e))},i)},findParents:function(e,t,i,n){for(var a=t&&(i&&i(e)||!i)?[e]:[];e=domUtils.findParent(e,i);)a.push(e);return n?a:a.reverse()},insertAfter:function(e,t){return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},remove:function(e,t){var i,n=e.parentNode;if(n){if(t&&e.hasChildNodes())for(;i=e.firstChild;)n.insertBefore(i,e);n.removeChild(e)}return e},getNextDomNode:function(e,t,i,n){return getDomNode(e,"firstChild","nextSibling",t,i,n)},getPreDomNode:function(e,t,i,n){return getDomNode(e,"lastChild","previousSibling",t,i,n)},isBookmarkNode:function(e){return 1==e.nodeType&&e.id&&/^_baidu_bookmark_/i.test(e.id)},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var i=[e],n=[t],a=e,r=-1;a=a.parentNode;){if(a===t)return a;i.push(a)}for(a=t;a=a.parentNode;){if(a===e)return a;n.push(a)}for(i.reverse(),n.reverse();i[++r]===n[r];);return 0==r?null:i[r-1]},clearEmptySibling:function(e,t,i){function n(e,t){for(var i;e&&!domUtils.isBookmarkNode(e)&&(domUtils.isEmptyInlineElement(e)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(e.nodeValue));)i=e[t],domUtils.remove(e),e=i}!t&&n(e.nextSibling,"nextSibling"),!i&&n(e.previousSibling,"previousSibling")},split:function(e,t){var i=e.ownerDocument;if(browser.ie&&t==e.nodeValue.length){var n=i.createTextNode("");return domUtils.insertAfter(e,n)}var a=e.splitText(t);if(browser.ie8){var r=i.createTextNode("");domUtils.insertAfter(a,r),domUtils.remove(r)}return a},isWhitespace:function(e){return!new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(e.nodeValue)},getXY:function(e){for(var t=0,i=0;e.offsetParent;)i+=e.offsetTop,t+=e.offsetLeft,e=e.offsetParent;return{x:t,y:i}},on:function(e,t,i){var n=utils.isArray(t)?t:utils.trim(t).split(/\s+/),a=n.length;if(a)for(;a--;)if(t=n[a],e.addEventListener)e.addEventListener(t,i,!1);else{i._d||(i._d={els:[]});var r=t+i.toString(),o=utils.indexOf(i._d.els,e);i._d[r]&&-1!=o||(-1==o&&i._d.els.push(e),i._d[r]||(i._d[r]=function(e){return i.call(e.srcElement,e||window.event)}),e.attachEvent("on"+t,i._d[r]))}e=null},un:function(e,t,i){var n=utils.isArray(t)?t:utils.trim(t).split(/\s+/),a=n.length;if(a)for(;a--;)if(t=n[a],e.removeEventListener)e.removeEventListener(t,i,!1);else{var r=t+i.toString();try{e.detachEvent("on"+t,i._d?i._d[r]:i)}catch(e){}if(i._d&&i._d[r]){var o=utils.indexOf(i._d.els,e);-1!=o&&i._d.els.splice(o,1),0==i._d.els.length&&delete i._d[r]}}},isSameElement:function(e,t){if(e.tagName!=t.tagName)return!1;var i=e.attributes,n=t.attributes;if(!ie&&i.length!=n.length)return!1;for(var a,r,o=0,s=0,l=0;a=i[l++];){if("style"==a.nodeName){if(a.specified&&o++,domUtils.isSameStyle(e,t))continue;return!1}if(ie){if(!a.specified)continue;o++,r=n.getNamedItem(a.nodeName)}else r=t.attributes[a.nodeName];if(!r.specified||a.nodeValue!=r.nodeValue)return!1}if(ie){for(l=0;r=n[l++];)r.specified&&s++;if(o!=s)return!1}return!0},isSameStyle:function(e,t){var i=e.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),n=t.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(browser.opera){if(i=e.style,n=t.style,i.length!=n.length)return!1;for(var a in i)if(!/^(\d+|csstext)$/i.test(a)&&i[a]!=n[a])return!1;return!0}if(!i||!n)return i==n;if(i=i.split(";"),n=n.split(";"),i.length!=n.length)return!1;for(var r,o=0;r=i[o++];)if(-1==utils.indexOf(n,r))return!1;return!0},isBlockElm:function(e){return 1==e.nodeType&&(dtd.$block[e.tagName]||styleBlock[domUtils.getComputedStyle(e,"display")])&&!dtd.$nonChild[e.tagName]},isBody:function(e){return e&&1==e.nodeType&&"body"==e.tagName.toLowerCase()},breakParent:function(e,t){var i,n,a,r=e,o=e;do{for(r=r.parentNode,n?((i=r.cloneNode(!1)).appendChild(n),n=i,(i=r.cloneNode(!1)).appendChild(a),a=i):a=(n=r.cloneNode(!1)).cloneNode(!1);i=o.previousSibling;)n.insertBefore(i,n.firstChild);for(;i=o.nextSibling;)a.appendChild(i);o=r}while(t!==r);return(i=t.parentNode).insertBefore(n,t),i.insertBefore(a,t),i.insertBefore(e,a),domUtils.remove(t),e},isEmptyInlineElement:function(e){if(1!=e.nodeType||!dtd.$removeEmpty[e.tagName])return 0;for(e=e.firstChild;e;){if(domUtils.isBookmarkNode(e))return 0;if(1==e.nodeType&&!domUtils.isEmptyInlineElement(e)||3==e.nodeType&&!domUtils.isWhitespace(e))return 0;e=e.nextSibling}return 1},trimWhiteTextNode:function(e){function t(t){for(var i;(i=e[t])&&3==i.nodeType&&domUtils.isWhitespace(i);)e.removeChild(i)}t("firstChild"),t("lastChild")},mergeChild:function(e,t,i){for(var n,a=domUtils.getElementsByTagName(e,e.tagName.toLowerCase()),r=0;n=a[r++];)if(n.parentNode&&!domUtils.isBookmarkNode(n))if("span"!=n.tagName.toLowerCase())domUtils.isSameElement(e,n)&&domUtils.remove(n,!0);else{if(e===n.parentNode&&(domUtils.trimWhiteTextNode(e),1==e.childNodes.length)){e.style.cssText=n.style.cssText+";"+e.style.cssText,domUtils.remove(n,!0);continue}if(n.style.cssText=e.style.cssText+";"+n.style.cssText,i){var o=i.style;if(o){o=o.split(";");for(var s,l=0;s=o[l++];)n.style[utils.cssStyleToDomStyle(s.split(":")[0])]=s.split(":")[1]}}domUtils.isSameStyle(n,e)&&domUtils.remove(n,!0)}},getElementsByTagName:function(e,t,i){if(i&&utils.isString(i)){var n=i;i=function(e){return domUtils.hasClass(e,n)}}t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var a,r=[],o=0;a=t[o++];)for(var s,l=e.getElementsByTagName(a),c=0;s=l[c++];)i&&!i(s)||r.push(s);return r},mergeToParent:function(e){for(var t=e.parentNode;t&&dtd.$removeEmpty[t.tagName];){if(t.tagName==e.tagName||"A"==t.tagName){if(domUtils.trimWhiteTextNode(t),"SPAN"==t.tagName&&!domUtils.isSameStyle(t,e)||"A"==t.tagName&&"SPAN"==e.tagName){if(t.childNodes.length>1||t!==e.parentNode){e.style.cssText=t.style.cssText+";"+e.style.cssText,t=t.parentNode;continue}t.style.cssText+=";"+e.style.cssText,"A"==t.tagName&&(t.style.textDecoration="underline")}if("A"!=t.tagName){t===e.parentNode&&domUtils.remove(e,!0);break}}t=t.parentNode}},mergeSibling:function(e,t,i){function n(e,t,i){var n;if((n=i[e])&&!domUtils.isBookmarkNode(n)&&1==n.nodeType&&domUtils.isSameElement(i,n)){for(;n.firstChild;)"firstChild"==t?i.insertBefore(n.lastChild,i.firstChild):i.appendChild(n.firstChild);domUtils.remove(n)}}!t&&n("previousSibling","firstChild",e),!i&&n("nextSibling","lastChild",e)},unSelectable:ie&&browser.ie9below||browser.opera?function(e){e.onselectstart=function(){return!1},e.onclick=e.onkeyup=e.onkeydown=function(){return!1},e.unselectable="on",e.setAttribute("unselectable","on");for(var t,i=0;t=e.all[i++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on",e.setAttribute("unselectable","on")}}:function(e){e.style.MozUserSelect=e.style.webkitUserSelect=e.style.msUserSelect=e.style.KhtmlUserSelect="none"},removeAttributes:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var i,n=0;i=t[n++];){switch(i=attrFix[i]||i){case"className":e[i]="";break;case"style":e.style.cssText="";var a=e.getAttributeNode("style");!browser.ie&&a&&e.removeAttributeNode(a)}e.removeAttribute(i)}},createElement:function(e,t,i){return domUtils.setAttributes(e.createElement(t),i)},setAttributes:function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];switch(i){case"class":e.className=n;break;case"style":e.style.cssText=e.style.cssText+";"+n;break;case"innerHTML":e[i]=n;break;case"value":e.value=n;break;default:e.setAttribute(attrFix[i]||i,n)}}return e},getComputedStyle:function(e,t){if("width height top left".indexOf(t)>-1)return e["offset"+t.replace(/^\w/,function(e){return e.toUpperCase()})]+"px";if(3==e.nodeType&&(e=e.parentNode),browser.ie&&browser.version<9&&"font-size"==t&&!e.style.fontSize&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]){var i=e.ownerDocument.createElement("span");i.style.cssText="padding:0;border:0;font-family:simsun;",i.innerHTML=".",e.appendChild(i);var n=i.offsetHeight;return e.removeChild(i),i=null,n+"px"}try{var a=domUtils.getStyle(e,t)||(window.getComputedStyle?domUtils.getWindow(e).getComputedStyle(e,"").getPropertyValue(t):(e.currentStyle||e.style)[utils.cssStyleToDomStyle(t)])}catch(e){return""}return utils.transUnitToPx(utils.fixColor(t,a))},removeClasses:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var i,n=0,a=e.className;i=t[n++];)a=a.replace(new RegExp("\\b"+i+"\\b"),"");(a=utils.trim(a).replace(/[ ]{2,}/g," "))?e.className=a:domUtils.removeAttributes(e,["class"])},addClass:function(e,t){if(e){t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var i,n=0,a=e.className;i=t[n++];)new RegExp("\\b"+i+"\\b").test(a)||(a+=" "+i);e.className=utils.trim(a)}},hasClass:function(e,t){if(utils.isRegExp(t))return t.test(e.className);t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var i,n=0,a=e.className;i=t[n++];)if(!new RegExp("\\b"+i+"\\b","i").test(a))return!1;return n-1==t.length},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},removeStyle:function(e,t){browser.ie?("color"==t&&(t="(^|;)"+t),e.style.cssText=e.style.cssText.replace(new RegExp(t+"[^:]*:[^;]+;?","ig"),"")):e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(utils.cssStyleToDomStyle(t)),e.style.cssText||domUtils.removeAttributes(e,["style"])},getStyle:function(e,t){var i=e.style[utils.cssStyleToDomStyle(t)];return utils.fixColor(t,i)},setStyle:function(e,t,i){e.style[utils.cssStyleToDomStyle(t)]=i,utils.trim(e.style.cssText)||this.removeAttributes(e,"style")},setStyles:function(e,t){for(var i in t)t.hasOwnProperty(i)&&domUtils.setStyle(e,i,t[i])},removeDirtyAttr:function(e){for(var t,i=0,n=e.getElementsByTagName("*");t=n[i++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var i=0,n=e.firstChild;for(t=t||function(){return 1};n;)t(n)&&i++,n=n.nextSibling;return i},isEmptyNode:function(e){return!e.firstChild||0==domUtils.getChildCount(e,function(e){return!domUtils.isBr(e)&&!domUtils.isBookmarkNode(e)&&!domUtils.isWhitespace(e)})},clearSelectedArr:function(e){for(var t;t=e.pop();)domUtils.removeAttributes(t,["class"])},scrollToView:function(e,t,i){var n,a,r=(n=t.document,a="CSS1Compat"==n.compatMode,{width:(a?n.documentElement.clientWidth:n.body.clientWidth)||0,height:(a?n.documentElement.clientHeight:n.body.clientHeight)||0}).height,o=-1*r+i;o+=e.offsetHeight||0,o+=domUtils.getXY(e).y;var s=function(e){if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}}(t).y;(o>s||o<s-r)&&t.scrollTo(0,o+(o<0?-20:20))},isBr:function(e){return 1==e.nodeType&&"BR"==e.tagName},isFillChar:function(e,t){if(3!=e.nodeType)return!1;var i=e.nodeValue;return t?new RegExp("^"+domUtils.fillChar).test(i):!i.replace(new RegExp(domUtils.fillChar,"g"),"").length},isStartInblock:function(e){var t,i=e.cloneRange(),n=0,a=i.startContainer;if(1==a.nodeType&&a.childNodes[i.startOffset])for(var r=(a=a.childNodes[i.startOffset]).previousSibling;r&&domUtils.isFillChar(r);)a=r,r=r.previousSibling;for(this.isFillChar(a,!0)&&1==i.startOffset&&(i.setStartBefore(a),a=i.startContainer);a&&domUtils.isFillChar(a);)t=a,a=a.previousSibling;for(t&&(i.setStartBefore(t),a=i.startContainer),1==a.nodeType&&domUtils.isEmptyNode(a)&&1==i.startOffset&&i.setStart(a,0).collapse(!0);!i.startOffset;){if(a=i.startContainer,domUtils.isBlockElm(a)||domUtils.isBody(a)){n=1;break}var o;if(r=i.startContainer.previousSibling){for(;r&&domUtils.isFillChar(r);)o=r,r=r.previousSibling;o?i.setStartBefore(o):i.setStartBefore(i.startContainer)}else i.setStartBefore(i.startContainer)}return n&&!domUtils.isBody(i.startContainer)?1:0},isEmptyBlock:function(e,t){if(1!=e.nodeType)return 0;if(t=t||new RegExp("[  \t\r\n"+domUtils.fillChar+"]","g"),e[browser.ie?"innerText":"textContent"].replace(t,"").length>0)return 0;for(var i in dtd.$isNotEmpty)if(e.getElementsByTagName(i).length)return 0;return 1},setViewportOffset:function(e,t){var i=0|parseInt(e.style.left),n=0|parseInt(e.style.top),a=e.getBoundingClientRect(),r=t.left-a.left,o=t.top-a.top;r&&(e.style.left=i+r+"px"),o&&(e.style.top=n+o+"px")},fillNode:function(e,t){var i=browser.ie?e.createTextNode(domUtils.fillChar):e.createElement("br");t.innerHTML="",t.appendChild(i)},moveChild:function(e,t,i){for(;e.firstChild;)i&&t.firstChild?t.insertBefore(e.lastChild,t.firstChild):t.appendChild(e.firstChild)},hasNoAttributes:function(e){return browser.ie?/^<\w+\s*?>/.test(e.outerHTML):0==e.attributes.length},isCustomeNode:function(e){return 1==e.nodeType&&e.getAttribute("_ue_custom_node_")},isTagNode:function(e,t){return 1==e.nodeType&&new RegExp("\\b"+e.tagName+"\\b","i").test(t)},filterNodeList:function(e,t,i){var n=[];if(!utils.isFunction(t)){var a=t;t=function(e){return-1!=utils.indexOf(utils.isArray(a)?a:a.split(" "),e.tagName.toLowerCase())}}return utils.each(e,function(e){t(e)&&n.push(e)}),0==n.length?null:1!=n.length&&i?n:n[0]},isInNodeEndBoundary:function(e,t){var i=e.startContainer;if(3==i.nodeType&&e.startOffset!=i.nodeValue.length)return 0;if(1==i.nodeType&&e.startOffset!=i.childNodes.length)return 0;for(;i!==t;){if(i.nextSibling)return 0;i=i.parentNode}return 1},isBoundaryNode:function(e,t){for(;!domUtils.isBody(e);)if(e!==(e=e.parentNode)[t])return!1;return!0},fillHtml:browser.ie11below?"&nbsp;":"<br/>"},fillCharReg=new RegExp(domUtils.fillChar,"g");!function(){var e,t=0,i=domUtils.fillChar;function n(e){return!e.collapsed&&1==e.startContainer.nodeType&&e.startContainer===e.endContainer&&e.endOffset-e.startOffset==1}function a(e,t,i,n){return 1==t.nodeType&&(dtd.$empty[t.tagName]||dtd.$nonChild[t.tagName])&&(i=domUtils.getNodeIndex(t)+(e?0:1),t=t.parentNode),e?(n.startContainer=t,n.startOffset=i,n.endContainer||n.collapse(!0)):(n.endContainer=t,n.endOffset=i,n.startContainer||n.collapse(!1)),function(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer===e.endContainer&&e.startOffset==e.endOffset}(n),n}function r(e,t){var i,n,a=e.startContainer,r=e.endContainer,o=e.startOffset,s=e.endOffset,l=e.document,c=l.createDocumentFragment();if(1==a.nodeType&&(a=a.childNodes[o]||(i=a.appendChild(l.createTextNode("")))),1==r.nodeType&&(r=r.childNodes[s]||(n=r.appendChild(l.createTextNode("")))),a===r&&3==a.nodeType)return c.appendChild(l.createTextNode(a.substringData(o,s-o))),t&&(a.deleteData(o,s-o),e.collapse(!0)),c;for(var d,u,h=c,p=domUtils.findParents(a,!0),f=domUtils.findParents(r,!0),m=0;p[m]==f[m];)m++;for(var g,v=m;g=p[v];v++){for(d=g.nextSibling,g==a?i||(3==e.startContainer.nodeType?(h.appendChild(l.createTextNode(a.nodeValue.slice(o))),t&&a.deleteData(o,a.nodeValue.length-o)):h.appendChild(t?a:a.cloneNode(!0))):(u=g.cloneNode(!1),h.appendChild(u));d&&d!==r&&d!==f[v];)g=d.nextSibling,h.appendChild(t?d:d.cloneNode(!0)),d=g;h=u}h=c,p[m]||(h.appendChild(p[m-1].cloneNode(!1)),h=h.firstChild);var b;for(v=m;b=f[v];v++){if(d=b.previousSibling,b==r?n||3!=e.endContainer.nodeType||(h.appendChild(l.createTextNode(r.substringData(0,s))),t&&r.deleteData(0,s)):(u=b.cloneNode(!1),h.appendChild(u)),v!=m||!p[m])for(;d&&d!==a;)b=d.previousSibling,h.insertBefore(t?d:d.cloneNode(!0),h.firstChild),d=b;h=u}return t&&e.setStartBefore(f[m]?p[m]?f[m]:p[m-1]:f[m-1]).collapse(!0),i&&domUtils.remove(i),n&&domUtils.remove(n),c}var o=dom.Range=function(e){var t=this;t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.document=e,t.collapsed=!0};function s(t,i){try{if(e&&domUtils.inDoc(e,t))if(e.nodeValue.replace(fillCharReg,"").length)e.nodeValue=e.nodeValue.replace(fillCharReg,"");else{var n=e.parentNode;for(domUtils.remove(e);n&&domUtils.isEmptyInlineElement(n)&&(browser.safari?!(domUtils.getPosition(n,i)&domUtils.POSITION_CONTAINS):!n.contains(i));)e=n.parentNode,domUtils.remove(n),n=e}}catch(e){}}function l(e,t){var i;for(e=e[t];e&&domUtils.isFillChar(e);)i=e[t],domUtils.remove(e),e=i}o.prototype={cloneContents:function(){return this.collapsed?null:r(this,0)},deleteContents:function(){var e;return this.collapsed||r(this,1),browser.webkit&&(3!=(e=this.startContainer).nodeType||e.nodeValue.length||(this.setStartBefore(e).collapse(!0),domUtils.remove(e))),this},extractContents:function(){return this.collapsed?null:r(this,2)},setStart:function(e,t){return a(!0,e,t,this)},setEnd:function(e,t){return a(!1,e,t,this)},setStartAfter:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e)+1)},setStartBefore:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e))},setEndAfter:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e)+1)},setEndBefore:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e))},setStartAtFirst:function(e){return this.setStart(e,0)},setStartAtLast:function(e){return this.setStart(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},setEndAtFirst:function(e){return this.setEnd(e,0)},setEndAtLast:function(e){return this.setEnd(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){return this.setStart(e,0).setEndAtLast(e)},cloneRange:function(){var e=this;return new o(e.document).setStart(e.startContainer,e.startOffset).setEnd(e.endContainer,e.endOffset)},collapse:function(e){var t=this;return e?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(e){var t,i=this,n=i.collapsed;function a(e){return 1==e.nodeType&&!domUtils.isBookmarkNode(e)&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]}for(;1==i.startContainer.nodeType&&(t=i.startContainer.childNodes[i.startOffset])&&a(t);)i.setStart(t,0);if(n)return i.collapse(!0);if(!e)for(;1==i.endContainer.nodeType&&i.endOffset>0&&(t=i.endContainer.childNodes[i.endOffset-1])&&a(t);)i.setEnd(t,t.childNodes.length);return i},getCommonAncestor:function(e,t){var i=this.startContainer,a=this.endContainer;return i===a?e&&n(this)&&1==(i=i.childNodes[this.startOffset]).nodeType?i:t&&3==i.nodeType?i.parentNode:i:domUtils.getCommonAncestor(i,a)},trimBoundary:function(e){this.txtToElmBoundary();var t=this.startContainer,i=this.startOffset,n=this.collapsed,a=this.endContainer;if(3==t.nodeType){if(0==i)this.setStartBefore(t);else if(i>=t.nodeValue.length)this.setStartAfter(t);else{var r=domUtils.split(t,i);t===a?this.setEnd(r,this.endOffset-i):t.parentNode===a&&(this.endOffset+=1),this.setStartBefore(r)}if(n)return this.collapse(!0)}return e||(i=this.endOffset,3==(a=this.endContainer).nodeType&&(0==i?this.setEndBefore(a):(i<a.nodeValue.length&&domUtils.split(a,i),this.setEndAfter(a)))),this},txtToElmBoundary:function(e){function t(e,t){var i=e[t+"Container"],n=e[t+"Offset"];3==i.nodeType&&(n?n>=i.nodeValue.length&&e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"After"](i):e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"Before"](i))}return!e&&this.collapsed||(t(this,"start"),t(this,"end")),this},insertNode:function(e){var t=e,i=1;11==e.nodeType&&(t=e.firstChild,i=e.childNodes.length),this.trimBoundary(!0);var n=this.startContainer,a=this.startOffset,r=n.childNodes[a];return r?n.insertBefore(e,r):n.appendChild(e),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+i),this.setStartBefore(t)},setCursor:function(e,t){return this.collapse(!e).select(t)},createBookmark:function(e,i){var n,a=this.document.createElement("span");return a.style.cssText="display:none;line-height:0px;",a.appendChild(this.document.createTextNode("‍")),a.id="_baidu_bookmark_start_"+(i?"":t++),this.collapsed||((n=a.cloneNode(!0)).id="_baidu_bookmark_end_"+(i?"":t++)),this.insertNode(a),n&&this.collapse().insertNode(n).setEndBefore(n),this.setStartAfter(a),{start:e?a.id:a,end:n?e?n.id:n:null,id:e}},moveToBookmark:function(e){var t=e.id?this.document.getElementById(e.start):e.start,i=e.end&&e.id?this.document.getElementById(e.end):e.end;return this.setStartBefore(t),domUtils.remove(t),i?(this.setEndBefore(i),domUtils.remove(i)):this.collapse(!0),this},enlarge:function(e,t){var i,n,a=domUtils.isBody,r=this.document.createTextNode("");if(e){for(1==(n=this.startContainer).nodeType?n.childNodes[this.startOffset]?i=n=n.childNodes[this.startOffset]:(n.appendChild(r),i=n=r):i=n;;){if(domUtils.isBlockElm(n)){for(n=i;(i=n.previousSibling)&&!domUtils.isBlockElm(i);)n=i;this.setStartBefore(n);break}i=n,n=n.parentNode}for(1==(n=this.endContainer).nodeType?((i=n.childNodes[this.endOffset])?n.insertBefore(r,i):n.appendChild(r),i=n=r):i=n;;){if(domUtils.isBlockElm(n)){for(n=i;(i=n.nextSibling)&&!domUtils.isBlockElm(i);)n=i;this.setEndAfter(n);break}i=n,n=n.parentNode}r.parentNode===this.endContainer&&this.endOffset--,domUtils.remove(r)}if(!this.collapsed){for(;!(0!=this.startOffset||t&&t(this.startContainer)||a(this.startContainer));)this.setStartBefore(this.startContainer);for(;!(this.endOffset!=(1==this.endContainer.nodeType?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)||t&&t(this.endContainer)||a(this.endContainer));)this.setEndAfter(this.endContainer)}return this},enlargeToBlockElm:function(e){for(;!domUtils.isBlockElm(this.startContainer);)this.setStartBefore(this.startContainer);if(!e)for(;!domUtils.isBlockElm(this.endContainer);)this.setEndAfter(this.endContainer);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(e,t,i){if(this.collapsed)return this;this.trimBoundary().enlarge(!1,function(e){return 1==e.nodeType&&domUtils.isBlockElm(e)}).adjustmentBoundary();for(var n,a,r=this.createBookmark(),o=r.end,s=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},l=domUtils.getNextDomNode(r.start,!1,s),c=this.cloneRange();l&&domUtils.getPosition(l,o)&domUtils.POSITION_PRECEDING;)if(3==l.nodeType||dtd[e][l.tagName]){for(c.setStartBefore(l),n=l;n&&(3==n.nodeType||dtd[e][n.tagName])&&n!==o;)a=n,n=domUtils.getNextDomNode(n,1==n.nodeType,null,function(t){return dtd[e][t.tagName]});var d,u,h=c.setEndAfter(a).extractContents();if(i&&i.length>0){var p,f;f=p=i[0].cloneNode(!1);for(var m,g=1;m=i[g++];)p.appendChild(m.cloneNode(!1)),p=p.firstChild;d=p}else d=c.document.createElement(e);if(t&&domUtils.setAttributes(d,t),d.appendChild(h),c.insertNode(i?f:d),"span"==e&&t.style&&/text\-decoration/.test(t.style)&&(u=domUtils.findParentByTagName(d,"a",!0))?(domUtils.setAttributes(u,t),domUtils.remove(d,!0),d=u):(domUtils.mergeSibling(d),domUtils.clearEmptySibling(d)),domUtils.mergeChild(d,t),l=domUtils.getNextDomNode(d,!1,s),domUtils.mergeToParent(d),n===o)break}else l=domUtils.getNextDomNode(l,!0,s);return this.moveToBookmark(r)},removeInlineStyle:function(e){if(this.collapsed)return this;e=utils.isArray(e)?e:[e],this.shrinkBoundary().adjustmentBoundary();for(var t=this.startContainer,i=this.endContainer;;){if(1==t.nodeType){if(utils.indexOf(e,t.tagName.toLowerCase())>-1)break;if("body"==t.tagName.toLowerCase()){t=null;break}}t=t.parentNode}for(;;){if(1==i.nodeType){if(utils.indexOf(e,i.tagName.toLowerCase())>-1)break;if("body"==i.tagName.toLowerCase()){i=null;break}}i=i.parentNode}var n,a,r=this.createBookmark();t&&(n=(a=this.cloneRange().setEndBefore(r.start).setStartBefore(t)).extractContents(),a.insertNode(n),domUtils.clearEmptySibling(t,!0),t.parentNode.insertBefore(r.start,t)),i&&(n=(a=this.cloneRange().setStartAfter(r.end).setEndAfter(i)).extractContents(),a.insertNode(n),domUtils.clearEmptySibling(i,!1,!0),i.parentNode.insertBefore(r.end,i.nextSibling));for(var o,s=domUtils.getNextDomNode(r.start,!1,function(e){return 1==e.nodeType});s&&s!==r.end;)o=domUtils.getNextDomNode(s,!0,function(e){return 1==e.nodeType}),utils.indexOf(e,s.tagName.toLowerCase())>-1&&domUtils.remove(s,!0),s=o;return this.moveToBookmark(r)},getClosedNode:function(){var e;if(!this.collapsed){var t=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(n(t)){var i=t.startContainer.childNodes[t.startOffset];i&&1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(e=i)}}return e},select:browser.ie?function(t,n){var a;this.collapsed||this.shrinkBoundary();var r=this.getClosedNode();if(r&&!n){try{(a=this.document.body.createControlRange()).addElement(r),a.select()}catch(e){}return this}var o,c=this.createBookmark(),d=c.start;if((a=this.document.body.createTextRange()).moveToElementText(d),a.moveStart("character",1),this.collapsed){if(!t&&3!=this.startContainer.nodeType){var u=this.document.createTextNode(i),h=this.document.createElement("span");h.appendChild(this.document.createTextNode(i)),d.parentNode.insertBefore(h,d),d.parentNode.insertBefore(u,d),s(this.document,u),e=u,l(h,"previousSibling"),l(d,"nextSibling"),a.moveStart("character",-1),a.collapse(!0)}}else{var p=this.document.body.createTextRange();o=c.end,p.moveToElementText(o),a.setEndPoint("EndToEnd",p)}this.moveToBookmark(c),h&&domUtils.remove(h);try{a.select()}catch(e){}return this}:function(t){var n,a=domUtils.getWindow(this.document),r=a.getSelection();if(browser.gecko?this.document.body.focus():a.focus(),r){if(r.removeAllRanges(),this.collapsed&&!t){var o=this.startContainer,c=o;1==o.nodeType&&(c=o.childNodes[this.startOffset]),3==o.nodeType&&this.startOffset||(c?c.previousSibling&&3==c.previousSibling.nodeType:o.lastChild&&3==o.lastChild.nodeType)||(n=this.document.createTextNode(i),this.insertNode(n),s(this.document,n),l(n,"previousSibling"),l(n,"nextSibling"),e=n,this.setStart(n,browser.webkit?1:0).collapse(!0))}var d=this.document.createRange();if(this.collapsed&&browser.opera&&1==this.startContainer.nodeType)if(c=this.startContainer.childNodes[this.startOffset]){for(;c&&domUtils.isBlockElm(c)&&1==c.nodeType&&c.childNodes[0];)c=c.childNodes[0];c&&this.setStartBefore(c).collapse(!0)}else(c=this.startContainer.lastChild)&&domUtils.isBr(c)&&this.setStartBefore(c).collapse(!0);!function(e){function t(t,i,n){3==t.nodeType&&t.nodeValue.length<i&&(e[n+"Offset"]=t.nodeValue.length)}t(e.startContainer,e.startOffset,"start"),t(e.endContainer,e.endOffset,"end")}(this),d.setStart(this.startContainer,this.startOffset),d.setEnd(this.endContainer,this.endOffset),r.addRange(d)}return this},scrollToView:function(e,t){e=e?window:domUtils.getWindow(this.document);var i=this.document.createElement("span");return i.innerHTML="&nbsp;",this.cloneRange().insertNode(i),domUtils.remove(i),this},inFillChar:function(){var e=this.startContainer;return!(!this.collapsed||3!=e.nodeType||e.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1!=e.nodeValue.length)},createAddress:function(e,t){var i={},n=this;function a(e){for(var i,a=e?n.startContainer:n.endContainer,r=domUtils.findParents(a,!0,function(e){return!domUtils.isBody(e)}),o=[],s=0;i=r[s++];)o.push(domUtils.getNodeIndex(i,t));var l=0;if(t)if(3==a.nodeType){for(var c=a.previousSibling;c&&3==c.nodeType;)l+=c.nodeValue.replace(fillCharReg,"").length,c=c.previousSibling;l+=e?n.startOffset:n.endOffset}else if(a=a.childNodes[e?n.startOffset:n.endOffset])l=domUtils.getNodeIndex(a,t);else for(var d=(a=e?n.startContainer:n.endContainer).firstChild;d;)if(domUtils.isFillChar(d))d=d.nextSibling;else if(l++,3==d.nodeType)for(;d&&3==d.nodeType;)d=d.nextSibling;else d=d.nextSibling;else l=e?domUtils.isFillChar(a)?0:n.startOffset:n.endOffset;return l<0&&(l=0),o.push(l),o}return i.startAddress=a(!0),e||(i.endAddress=n.collapsed?[].concat(i.startAddress):a()),i},moveToAddress:function(e,t){var i=this;function n(e,t){for(var n,a,r,o=i.document.body,s=0,l=e.length;s<l;s++)if(r=e[s],n=o,!(o=o.childNodes[r])){a=r;break}t?o?i.setStartBefore(o):i.setStart(n,a):o?i.setEndBefore(o):i.setEnd(n,a)}return n(e.startAddress,!0),!t&&e.endAddress&&n(e.endAddress),i},equals:function(e){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==e[t])return!1;return!0},traversal:function(e,t){if(this.collapsed)return this;for(var i=this.createBookmark(),n=i.end,a=domUtils.getNextDomNode(i.start,!1,t);a&&a!==n&&domUtils.getPosition(a,n)&domUtils.POSITION_PRECEDING;){var r=domUtils.getNextDomNode(a,!1,t);e(a),a=r}return this.moveToBookmark(i)}}}(),function(){function e(e,t){var i=domUtils.getNodeIndex;(e=e.duplicate()).collapse(t);var n=e.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var a,r,o=n.children,s=e.duplicate(),l=0,c=o.length-1,d=-1;l<=c;){a=o[d=Math.floor((l+c)/2)],s.moveToElementText(a);var u=s.compareEndPoints("StartToStart",e);if(u>0)c=d-1;else{if(!(u<0))return{container:n,offset:i(a)};l=d+1}}if(-1==d){if(s.moveToElementText(n),s.setEndPoint("StartToStart",e),r=s.text.replace(/(\r\n|\r)/g,"\n").length,o=n.childNodes,!r)return{container:a=o[o.length-1],offset:a.nodeValue.length};for(var h=o.length;r>0;)r-=o[--h].nodeValue.length;return{container:o[h],offset:-r}}if(s.collapse(u>0),s.setEndPoint(u>0?"StartToStart":"EndToStart",e),!(r=s.text.replace(/(\r\n|\r)/g,"\n").length))return dtd.$empty[a.tagName]||dtd.$nonChild[a.tagName]?{container:n,offset:i(a)+(u>0?0:1)}:{container:a,offset:u>0?0:a.childNodes.length};for(;r>0;)try{var p=a;r-=(a=a[u>0?"previousSibling":"nextSibling"]).nodeValue.length}catch(e){return{container:n,offset:i(p)}}return{container:a,offset:u>0?-r:a.nodeValue.length+r}}function t(e){var t;try{t=e.getNative().createRange()}catch(e){return null}var i=t.item?t.item(0):t.parentElement();return(i.ownerDocument||i)===e.document?t:null}(dom.Selection=function(e){var i,n=this;n.document=e,browser.ie9below&&(i=domUtils.getWindow(e).frameElement,domUtils.on(i,"beforedeactivate",function(){n._bakIERange=n.getIERange()}),domUtils.on(i,"activate",function(){try{!t(n)&&n._bakIERange&&n._bakIERange.select()}catch(e){}n._bakIERange=null})),i=e=null}).prototype={rangeInBody:function(e,t){var i=browser.ie9below||t?e.item?e.item():e.parentElement():e.startContainer;return i===this.document.body||domUtils.inDoc(i,this.document)},getNative:function(){var e=this.document;try{return e?browser.ie9below?e.selection:domUtils.getWindow(e).getSelection():null}catch(e){return null}},getIERange:function(){var e=t(this);return!e&&this._bakIERange?this._bakIERange:e},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var e=this.getStart();return e?domUtils.findParents(e,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(browser.ie9below){var e=t(this);return!(!e||!this.rangeInBody(e))}return!!this.getNative().rangeCount}catch(e){return!1}},getRange:function(){var t=this;function i(e){for(var i=t.document.body.firstChild,n=e.collapsed;i&&i.firstChild;)e.setStart(i,0),i=i.firstChild;e.startContainer||e.setStart(t.document.body,0),n&&e.collapse(!0)}if(null!=t._cachedRange)return this._cachedRange;var n=new baidu.editor.dom.Range(t.document);if(browser.ie9below){var a=t.getIERange();if(a)try{!function(t,i){if(t.item)i.selectNode(t.item(0));else{var n=e(t,!0);i.setStart(n.container,n.offset),0!=t.compareEndPoints("StartToEnd",t)&&(n=e(t,!1),i.setEnd(n.container,n.offset))}}(a,n)}catch(e){i(n)}else i(n)}else{var r=t.getNative();if(r&&r.rangeCount){var o=r.getRangeAt(0),s=r.getRangeAt(r.rangeCount-1);n.setStart(o.startContainer,o.startOffset).setEnd(s.endContainer,s.endOffset),n.collapsed&&domUtils.isBody(n.startContainer)&&!n.startOffset&&i(n)}else{if(this._bakRange&&domUtils.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;i(n)}}return this._bakRange=n},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var e,t,i,n,a=browser.ie9below?this.getIERange():this.getRange();if(browser.ie9below){if(!a)return this.document.body.firstChild;if(a.item)return a.item(0);for((e=a.duplicate()).text.length>0&&e.moveStart("character",1),e.collapse(1),t=e.parentElement(),n=i=a.parentElement();i=i.parentNode;)if(i==t){t=n;break}}else if(a.shrinkBoundary(),1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)]),3==t.nodeType)return t.parentNode;return t},getText:function(){var e,t;return this.isFocus()&&(e=this.getNative())?(t=browser.ie9below?e.createRange():e.getRangeAt(0),browser.ie9below?t.text:t.toString()):""},clearRange:function(){this.getNative()[browser.ie9below?"empty":"removeAllRanges"]()}}}(),function(){var e,t=0;function i(e,t){var i;if(t.textarea)if(utils.isString(t.textarea)){for(var n,a=0,r=domUtils.getElementsByTagName(e,"textarea");n=r[a++];)if(n.id=="ueditor_textarea_"+t.options.textarea){i=n;break}}else i=t.textarea;i||(e.appendChild(i=domUtils.createElement(document,"textarea",{name:t.options.textarea,id:"ueditor_textarea_"+t.options.textarea,style:"display:none"})),t.textarea=i),!i.getAttribute("name")&&i.setAttribute("name",t.options.textarea),i.value=t.hasContents()?t.options.allHtmlEnabled?t.getAllHtml():t.getContent(null,null,!0):""}function n(e){e.langIsReady=!0,e.fireEvent("langReady")}var a=UE.Editor=function(e){var i=this;i.uid=t++,EventBase.call(i),i.commands={},i.options=utils.extend(utils.clone(e||{}),UEDITOR_CONFIG,!0),i.shortcutkeys={},i.inputRules=[],i.outputRules=[],i.setOpt(a.defaultOptions(i)),i.loadServerConfig(),utils.isEmptyObject(UE.I18N)?utils.loadFile(document,{src:i.options.langPath+i.options.lang+"/"+i.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){UE.plugin.load(i),n(i)}):(i.options.lang=function(e){for(var t in e)return t}(UE.I18N),UE.plugin.load(i),n(i)),UE.instants["ueditorInstant"+i.uid]=i};a.prototype={registerCommand:function(e,t){this.commands[e]=t},ready:function(e){e&&(this.isReady?e.apply(this):this.addListener("ready",e))},setOpt:function(e,t){var i={};utils.isString(e)?i[e]=t:i=e,utils.extend(this.options,i,!0)},getOpt:function(e){return this.options[e]},destroy:function(){var e=this;e.fireEvent("destroy");var t=e.container.parentNode,i=e.textarea;i?i.style.display="":(i=document.createElement("textarea"),t.parentNode.insertBefore(i,t)),i.style.width=e.iframe.offsetWidth+"px",i.style.height=e.iframe.offsetHeight+"px",i.value=e.getContent(),i.id=e.key,t.innerHTML="",domUtils.remove(t);var n=e.key;for(var a in e)e.hasOwnProperty(a)&&delete this[a];UE.delEditor(n)},render:function(e){var t=this.options,i=function(t){return parseInt(domUtils.getComputedStyle(e,t))};if(utils.isString(e)&&(e=document.getElementById(e)),e){t.initialFrameWidth?t.minFrameWidth=t.initialFrameWidth:t.minFrameWidth=t.initialFrameWidth=e.offsetWidth,t.initialFrameHeight?t.minFrameHeight=t.initialFrameHeight:t.initialFrameHeight=t.minFrameHeight=e.offsetHeight,e.style.width=/%$/.test(t.initialFrameWidth)?"100%":t.initialFrameWidth-i("padding-left")-i("padding-right")+"px",e.style.height=/%$/.test(t.initialFrameHeight)?"100%":t.initialFrameHeight-i("padding-top")-i("padding-bottom")+"px",e.style.zIndex=t.zIndex;var n=(ie&&browser.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>"+(t.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+utils.unhtml(t.iframeCssUrl)+"'/>":"")+(t.initialStyle?"<style>"+t.initialStyle+"</style>":"")+"</head><body class='view' ></body><script type='text/javascript' "+(ie?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+this.uid+"'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);<\/script></html>";e.appendChild(domUtils.createElement(document,"iframe",{id:"ueditor_"+this.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(t.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+n+'");document.close();}())'})),e.style.overflow="hidden",setTimeout(function(){/%$/.test(t.initialFrameWidth)&&(t.minFrameWidth=t.initialFrameWidth=e.offsetWidth),/%$/.test(t.initialFrameHeight)&&(t.minFrameHeight=t.initialFrameHeight=e.offsetHeight,e.style.height=t.initialFrameHeight+"px")})}},_setup:function(e){var t,n=this,a=n.options;ie?(e.body.disabled=!0,e.body.contentEditable=!0,e.body.disabled=!1):e.body.contentEditable=!0,e.body.spellcheck=!1,n.document=e,n.window=e.defaultView||e.parentWindow,n.iframe=n.window.frameElement,n.body=e.body,n.selection=new dom.Selection(e),browser.gecko&&(t=this.selection.getNative())&&t.removeAllRanges(),this._initEvents();for(var r=this.iframe.parentNode;!domUtils.isBody(r);r=r.parentNode)if("FORM"==r.tagName){n.form=r,n.options.autoSyncData?domUtils.on(n.window,"blur",function(){i(r,n)}):domUtils.on(r,"submit",function(){i(this,n)});break}if(a.initialContent)if(a.autoClearinitialContent){var o=n.execCommand;n.execCommand=function(){return n.fireEvent("firstBeforeExecCommand"),o.apply(n,arguments)},this._setDefaultContent(a.initialContent)}else this.setContent(a.initialContent,!1,!0);domUtils.isEmptyNode(n.body)&&(n.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),a.focus&&setTimeout(function(){n.focus(n.options.focusInEnd),!n.options.autoClearinitialContent&&n._selectionChange()},0),n.container||(n.container=this.iframe.parentNode),a.fullscreen&&n.ui&&n.ui.setFullScreen(!0);try{n.document.execCommand("2D-position",!1,!1)}catch(e){}try{n.document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}try{n.document.execCommand("enableObjectResizing",!1,!1)}catch(e){}n._bindshortcutKeys(),n.isReady=1,n.fireEvent("ready"),a.onready&&a.onready.call(n),browser.ie9below||domUtils.on(n.window,["blur","focus"],function(e){if("blur"==e.type){n._bakRange=n.selection.getRange();try{n._bakNativeRange=n.selection.getNative().getRangeAt(0),n.selection.getNative().removeAllRanges()}catch(e){n._bakNativeRange=null}}else try{n._bakRange&&n._bakRange.select()}catch(e){}}),browser.gecko&&browser.version<=10902&&(n.body.contentEditable=!1,setTimeout(function(){n.body.contentEditable=!0},100),setInterval(function(){n.body.style.height=n.iframe.offsetHeight-20+"px"},100)),!a.isShow&&n.setHide(),a.readonly&&n.setDisabled()},sync:function(e){var t=e?document.getElementById(e):domUtils.findParent(this.iframe.parentNode,function(e){return"FORM"==e.tagName},!0);t&&i(t,this)},setHeight:function(e,t){e!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=e+"px"),!t&&(this.options.minFrameHeight=this.options.initialFrameHeight=e),this.body.style.height=e+"px",!t&&this.trigger("setHeight")},addshortcutkey:function(e,t){var i={};t?i[e]=t:i=e,utils.extend(this.shortcutkeys,i)},_bindshortcutKeys:function(){var e=this,t=this.shortcutkeys;e.addListener("keydown",function(i,n){var a=n.keyCode||n.which;for(var r in t)for(var o,s=t[r].split(","),l=0;o=s[l++];){var c=(o=o.split(":"))[0],d=o[1];(/^(ctrl)(\+shift)?\+(\d+)$/.test(c.toLowerCase())||/^(\d+)$/.test(c))&&("ctrl"==RegExp.$1&&(n.ctrlKey||n.metaKey)&&(""==RegExp.$2||n[RegExp.$2.slice(1)+"Key"])&&a==RegExp.$3||a==RegExp.$1)&&(-1!=e.queryCommandState(r,d)&&e.execCommand(r,d),domUtils.preventDefault(n))}})},getContent:function(e,t,i,n,a){if(e&&utils.isFunction(e)&&(t=e,e=""),t?!t():!this.hasContents())return"";this.fireEvent("beforegetcontent");var r=UE.htmlparser(this.body.innerHTML,n);return this.filterOutputRule(r),this.fireEvent("aftergetcontent",e,r),r.toHtml(a)},getAllHtml:function(){var e=this,t=[];if(e.fireEvent("getAllHtml",t),browser.ie&&browser.version>8){var i="";utils.each(e.document.styleSheets,function(e){i+=e.href?'<link rel="stylesheet" type="text/css" href="'+e.href+'" />':"<style>"+e.cssText+"</style>"}),utils.each(e.document.getElementsByTagName("script"),function(e){i+=e.outerHTML})}return"<html><head>"+(e.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+e.options.charset+'"/>':"")+(i||e.document.getElementsByTagName("head")[0].innerHTML)+t.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+e.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var e=new RegExp(domUtils.fillChar,"g"),t=this.body.innerHTML.replace(/[\n\r]/g,"");return(t=t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(e,t,i){return dtd.$block[i]?"\n":t||""})).replace(e,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var e=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(e,"").replace(/\u00a0/g," ")},setContent:function(e,t,n){var a=this;a.fireEvent("beforesetcontent",e);var r,o,s=UE.htmlparser(e);if(a.filterInputRule(s),e=s.toHtml(),a.body.innerHTML=(t?a.body.innerHTML:"")+e,"p"==a.options.enterTag){var l,c=this.body.firstChild;if(!c||1==c.nodeType&&(dtd.$cdata[c.tagName]||"DIV"==(r=c).tagName&&r.getAttribute("cdata_tag")||domUtils.isCustomeNode(c))&&c===this.body.lastChild)this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var d=a.document.createElement("p");c;){for(;c&&(3==c.nodeType||1==c.nodeType&&dtd.p[c.tagName]&&!dtd.$cdata[c.tagName]);)l=c.nextSibling,d.appendChild(c),c=l;if(d.firstChild){if(!c){a.body.appendChild(d);break}c.parentNode.insertBefore(d,c),d=a.document.createElement("p")}c=c.nextSibling}}a.fireEvent("aftersetcontent"),a.fireEvent("contentchange"),!n&&a._selectionChange(),a._bakRange=a._bakIERange=a._bakNativeRange=null,browser.gecko&&(o=this.selection.getNative())&&o.removeAllRanges(),a.options.autoSyncData&&a.form&&i(a.form,a)},focus:function(e){try{var t=this.selection.getRange();if(e){(i=this.body.lastChild)&&1==i.nodeType&&!dtd.$empty[i.tagName]&&(domUtils.isEmptyBlock(i)?t.setStartAtFirst(i):t.setStartAtLast(i),t.collapse(!0)),t.setCursor(!0)}else{var i;if(!t.collapsed&&domUtils.isBody(t.startContainer)&&0==t.startOffset)(i=this.body.firstChild)&&1==i.nodeType&&!dtd.$empty[i.tagName]&&t.setStartAtFirst(i).collapse(!0);t.select(!0)}this.fireEvent("focus selectionchange")}catch(e){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var e=this.selection.getNative();if(e.empty&&browser.ie){var t=document.body.createTextRange();t.moveToElementText(document.body),t.collapse(!0),t.select(),e.empty()}else e.removeAllRanges()},_initEvents:function(){var e=this,t=e.document,i=e.window;e._proxyDomEvent=utils.bind(e._proxyDomEvent,e),domUtils.on(t,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],e._proxyDomEvent),domUtils.on(i,["focus","blur"],e._proxyDomEvent),domUtils.on(e.body,"drop",function(t){browser.gecko&&t.stopPropagation&&t.stopPropagation(),e.fireEvent("contentchange")}),domUtils.on(t,["mouseup","keydown"],function(t){"keydown"==t.type&&(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)||2!=t.button&&e._selectionChange(250,t)})},_proxyDomEvent:function(e){return!1!==this.fireEvent("before"+e.type.replace(/^on/,"").toLowerCase())&&(!1!==this.fireEvent(e.type.replace(/^on/,""),e)&&this.fireEvent("after"+e.type.replace(/^on/,"").toLowerCase()))},_selectionChange:function(t,i){var n,a,r=this,o=!1;browser.ie&&browser.version<9&&i&&"mouseup"==i.type&&(this.selection.getRange().collapsed||(o=!0,n=i.clientX,a=i.clientY));clearTimeout(e),e=setTimeout(function(){if(r.selection&&r.selection.getNative()){var e,t;if(o&&"None"==r.selection.getNative().type){e=r.document.body.createTextRange();try{e.moveToPoint(n,a)}catch(t){e=null}}e&&(t=r.selection.getIERange,r.selection.getIERange=function(){return e}),r.selection.cache(),t&&(r.selection.getIERange=t),r.selection._cachedRange&&r.selection._cachedStartElement&&(r.fireEvent("beforeselectionchange"),r.fireEvent("selectionchange",!!i),r.fireEvent("afterselectionchange"),r.selection.clear())}},t||50)},_callCmdFn:function(e,t){var i,n,a=t[0].toLowerCase();return n=(i=this.commands[a]||UE.commands[a])&&i[e],i&&n||"queryCommandState"!=e?n?n.apply(this,t):void 0:0},execCommand:function(e){e=e.toLowerCase();var t,i=this,n=i.commands[e]||UE.commands[e];return n&&n.execCommand?(n.notNeedUndo||i.__hasEnterExecCommand?(t=this._callCmdFn("execCommand",arguments),!i.__hasEnterExecCommand&&!n.ignoreContentChange&&!i._ignoreContentChange&&i.fireEvent("contentchange")):(i.__hasEnterExecCommand=!0,-1!=i.queryCommandState.apply(i,arguments)&&(i.fireEvent("saveScene"),i.fireEvent.apply(i,["beforeexeccommand",e].concat(arguments)),t=this._callCmdFn("execCommand",arguments),i.fireEvent.apply(i,["afterexeccommand",e].concat(arguments)),i.fireEvent("saveScene")),i.__hasEnterExecCommand=!1),!i.__hasEnterExecCommand&&!n.ignoreContentChange&&!i._ignoreContentChange&&i._selectionChange(),t):null},queryCommandState:function(e){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(e){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(e){if(e)for(var t,i=0;t=e[i++];)if(this.document.getElementsByTagName(t).length>0)return!0;if(!domUtils.isEmptyBlock(this.body))return!0;for(e=["div"],i=0;t=e[i++];)for(var n,a=domUtils.getElementsByTagName(this.document,t),r=0;n=a[r++];)if(domUtils.isCustomeNode(n))return!0;return!1},reset:function(){this.fireEvent("reset")},setEnabled:function(){var e,t=this;if("false"==t.body.contentEditable){t.body.contentEditable=!0,e=t.selection.getRange();try{e.moveToBookmark(t.lastBk),delete t.lastBk}catch(i){e.setStartAtFirst(t.body).collapse(!0)}e.select(!0),t.bkqueryCommandState&&(t.queryCommandState=t.bkqueryCommandState,delete t.bkqueryCommandState),t.bkqueryCommandValue&&(t.queryCommandValue=t.bkqueryCommandValue,delete t.bkqueryCommandValue),t.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(e){var t=this;e=e?utils.isArray(e)?e:[e]:[],"true"==t.body.contentEditable&&(t.lastBk||(t.lastBk=t.selection.getRange().createBookmark(!0)),t.body.contentEditable=!1,t.bkqueryCommandState=t.queryCommandState,t.bkqueryCommandValue=t.queryCommandValue,t.queryCommandState=function(i){return-1!=utils.indexOf(e,i)?t.bkqueryCommandState.apply(t,arguments):-1},t.queryCommandValue=function(i){return-1!=utils.indexOf(e,i)?t.bkqueryCommandValue.apply(t,arguments):null},t.fireEvent("selectionchange"))},disable:function(e){return this.setDisabled(e)},_setDefaultContent:function(){function e(){var t=this;t.document.getElementById("initContent")&&(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",t.removeListener("firstBeforeExecCommand focus",e),setTimeout(function(){t.focus(),t._selectionChange()},0))}return function(t){this.body.innerHTML='<p id="initContent">'+t+"</p>",this.addListener("firstBeforeExecCommand focus",e)}}(),setShow:function(){var e=this,t=e.selection.getRange();if("none"==e.container.style.display){try{t.moveToBookmark(e.lastBk),delete e.lastBk}catch(i){t.setStartAtFirst(e.body).collapse(!0)}setTimeout(function(){t.select(!0)},100),e.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){this.lastBk||(this.lastBk=this.selection.getRange().createBookmark(!0)),this.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(e){var t=UE.I18N[this.options.lang];if(!t)throw Error("not import language file");e=(e||"").split(".");for(var i,n=0;(i=e[n++])&&(t=t[i]););return t},getContentLength:function(e,t){var i=this.getContent(!1,!1,!0).length;if(e){t=(t||[]).concat(["hr","img","iframe"]),i=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var n,a=0;n=t[a++];)i+=this.document.getElementsByTagName(n).length}return i},addInputRule:function(e){this.inputRules.push(e)},filterInputRule:function(e){for(var t,i=0;t=this.inputRules[i++];)t.call(this,e)},addOutputRule:function(e){this.outputRules.push(e)},filterOutputRule:function(e){for(var t,i=0;t=this.outputRules[i++];)t.call(this,e)},getActionUrl:function(e){var t=this.getOpt(e)||e,i=this.getOpt("imageUrl"),n=this.getOpt("serverUrl");return!n&&i&&(n=i.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2")),n?(n="config"===t?n+(-1==n.indexOf("?")?"?":"&")+"action="+(t||""):UEDITOR_CONFIG.uploadPath,utils.formatUrl(n)):""}},utils.inherits(a,EventBase)}(),UE.Editor.defaultOptions=function(e){var t=e.options.UEDITOR_HOME_URL;return{isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,iframeCssUrl:t+"themes/iframe.css",textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:t+"lang/",theme:"default",themePath:t+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0,fileNameFormat:"{time}{rand:6}"}},function(){UE.Editor.prototype.loadServerConfig=function(){var me=this;function showErrorMsg(e){console&&console.error(e)}setTimeout(function(){try{me.options.imageUrl&&me.setOpt("serverUrl",me.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var configUrl=me.getActionUrl("config"),isJsonp=utils.isCrossDomainUrl(configUrl);me._serverConfigLoaded=!1,configUrl&&UE.ajax.request(configUrl,{method:"GET",dataType:isJsonp?"jsonp":"",onsuccess:function(r){try{var config=isJsonp?r:eval("("+r.responseText+")");utils.extend(me.options,config),me.fireEvent("serverConfigLoaded"),me._serverConfigLoaded=!0}catch(e){showErrorMsg(me.getLang("loadconfigFormatError"))}},onerror:function(){showErrorMsg(me.getLang("loadconfigHttpError"))}})}catch(e){showErrorMsg(me.getLang("loadconfigError"))}})},UE.Editor.prototype.isServerConfigLoaded=function(){return this._serverConfigLoaded||!1},UE.Editor.prototype.afterConfigReady=function(e){if(e&&utils.isFunction(e)){var t=this,i=function(){e.apply(t,arguments),t.removeListener("serverConfigLoaded",i)};t.isServerConfigLoaded()?e.call(t,"serverConfigLoaded"):t.addListener("serverConfigLoaded",i)}}}(),UE.ajax=function(){var e="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP"),e="ActiveXObject('Msxml2.XMLHTTP')"}catch(t){try{new ActiveXObject("Microsoft.XMLHTTP"),e="ActiveXObject('Microsoft.XMLHTTP')"}catch(e){}}var t=new Function("return new "+e);function i(e){var t=[];for(var i in e)if("method"!=i&&"timeout"!=i&&"async"!=i&&"dataType"!=i&&"callback"!=i&&void 0!=e[i]&&null!=e[i])if("function"!=(typeof e[i]).toLowerCase()&&"object"!=(typeof e[i]).toLowerCase())t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));else if(utils.isArray(e[i]))for(var n=0;n<e[i].length;n++)t.push(encodeURIComponent(i)+"[]="+encodeURIComponent(e[i][n]));return t.join("&")}function n(e,t){var n,a,r,o=t.onsuccess||function(){},s=document.createElement("SCRIPT"),l=t||{},c=l.charset,d=l.jsonp||"callback",u=l.timeOut||0,h=new RegExp("(\\?|&)"+d+"=([^&]*)");utils.isFunction(o)?(n="bd__editor__"+Math.floor(2147483648*Math.random()).toString(36),window[n]=f(0)):utils.isString(o)?n=o:(r=h.exec(e))&&(n=r[2]),(e=e.replace(h,"$1"+d+"="+n)).search(h)<0&&(e+=(e.indexOf("?")<0?"?":"&")+d+"="+n);var p=i(t);function f(e){return function(){try{if(e)l.onerror&&l.onerror();else try{clearTimeout(a),o.apply(window,arguments)}catch(e){}}catch(e){l.onerror&&l.onerror.call(window,e)}finally{l.oncomplete&&l.oncomplete.apply(window,arguments),s.parentNode&&s.parentNode.removeChild(s),window[n]=null;try{delete window[n]}catch(e){}}}}utils.isEmptyObject(t.data)||(p+=(p?"&":"")+i(t.data)),p&&(e=e.replace(/\?/,"?"+p+"&")),s.onerror=f(1),u&&(a=setTimeout(f(1),u)),function(e,t,i){e.setAttribute("type","text/javascript"),e.setAttribute("defer","defer"),i&&e.setAttribute("charset",i),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)}(s,e,c)}return{request:function(e,a){a&&"jsonp"==a.dataType?n(e,a):function(e,n){var a=t(),r=!1,o={method:"POST",timeout:5e3,async:!0,data:{},onsuccess:function(){},onerror:function(){}};if("object"==typeof e&&(e=(n=e).url),a&&e){var s=n?utils.extend(o,n):o,l=i(s);utils.isEmptyObject(s.data)||(l+=(l?"&":"")+i(s.data));var c=setTimeout(function(){4!=a.readyState&&(r=!0,a.abort(),clearTimeout(c))},s.timeout),d=s.method.toUpperCase(),u=e+(-1==e.indexOf("?")?"?":"&")+("POST"==d?"":l+"&noCache="+ +new Date);a.open(d,u,s.async),a.onreadystatechange=function(){4==a.readyState&&(r||200!=a.status?s.onerror(a):s.onsuccess(a))},"POST"==d?(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(l)):a.send(null)}}(e,a)},getJSONP:function(e,t,i){n(e,{data:t,oncomplete:i})}}}();var filterWord=UE.filterWord=function(){function e(e){return e=e.replace(/[\d.]+\w+/g,function(e){return utils.transUnitToPx(e)})}return function(t){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(t)?function(t){return t.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(t){if(browser.opera)return"";try{if(/Bitmap/i.test(t))return"";var i=t.match(/width:([ \d.]*p[tx])/i)[1],n=t.match(/height:([ \d.]*p[tx])/i)[1],a=t.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+e(i)+'" height="'+e(n)+'" src="'+a+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(e,t,i,n){return"class"==t&&"MsoListParagraph"==n?e:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(e,t,i){return i.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(t,i,n,a){for(var r,o=[],s=a.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").replace(/[\d.]+(cm|pt)/g,function(e){return utils.transUnitToPx(e)}).split(/;\s*/g),l=0;r=s[l];l++){var c,d,u=r.split(":");if(2==u.length){if(c=u[0].toLowerCase(),d=u[1].toLowerCase(),/^(background)\w*/.test(c)&&0==d.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(c)&&/^0\w+$/.test(d))continue;switch(c){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(i)||(o[l]=c.replace(/^mso-|-alt$/g,"")+":"+e(d));continue;case"horiz-align":o[l]="text-align:"+d;continue;case"vert-align":o[l]="vertical-align:"+d;continue;case"font-color":case"mso-foreground":o[l]="color:"+d;continue;case"mso-background":case"mso-highlight":o[l]="background:"+d;continue;case"mso-default-height":o[l]="min-height:"+e(d);continue;case"mso-default-width":o[l]="min-width:"+e(d);continue;case"mso-padding-between-alt":o[l]="border-collapse:separate;border-spacing:"+e(d);continue;case"text-line-through":"single"!=d&&"double"!=d||(o[l]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==d&&(o[l]="display:none");continue;case"margin":if(!/[1-9]/.test(d))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(c)||/text\-indent|padding|margin/.test(c)&&/\-[\d.]+/.test(d))continue;o[l]=c+":"+u[1]}}return i+(o.length?' style="'+o.join(";").replace(/;{2,}/g,";")+'"':"")})}(t):t}}();!function(){var e=UE.uNode=function(e){this.type=e.type,this.data=e.data,this.tagName=e.tagName,this.parentNode=e.parentNode,this.attrs=e.attrs||{},this.children=e.children},t={href:1,src:1,_src:1,_href:1,cdata_data:1},i={style:1,script:1},n="    ",a="\n";function r(e,t,i){return e.push(a),t+(i?1:-1)}function o(e,t){for(var i=0;i<t;i++)e.push(n)}function s(e,n,a,l){switch(e.type){case"root":for(var c,d=0;c=e.children[d++];)a&&"element"==c.type&&!dtd.$inlineWithA[c.tagName]&&d>1&&(r(n,l,!0),o(n,l)),s(c,n,a,l);break;case"text":!function(e,t){"pre"==e.parentNode.tagName?t.push(e.data):t.push(i[e.parentNode.tagName]?utils.html(e.data):e.data.replace(/[ ]{2}/g," &nbsp;"))}(e,n);break;case"element":!function(e,i,n,a){var l="";if(e.attrs){l=[];var c=e.attrs;for(var d in c)l.push(d+(void 0!==c[d]?'="'+(t[d]?utils.html(c[d]).replace(/["]/g,function(e){return"&quot;"}):utils.unhtml(c[d]))+'"':""));l=l.join(" ")}i.push("<"+e.tagName+(l?" "+l:"")+(dtd.$empty[e.tagName]?"/":"")+">"),n&&!dtd.$inlineWithA[e.tagName]&&"pre"!=e.tagName&&e.children&&e.children.length&&(a=r(i,a,!0),o(i,a));if(e.children&&e.children.length)for(var u,h=0;u=e.children[h++];)n&&"element"==u.type&&!dtd.$inlineWithA[u.tagName]&&h>1&&(r(i,a),o(i,a)),s(u,i,n,a);dtd.$empty[e.tagName]||(n&&!dtd.$inlineWithA[e.tagName]&&"pre"!=e.tagName&&e.children&&e.children.length&&(a=r(i,a),o(i,a)),i.push("</"+e.tagName+">"))}(e,n,a,l);break;case"comment":!function(e,t){t.push("\x3c!--"+e.data+"--\x3e")}(e,n)}return n}function l(e,t){var i;if("element"==e.type&&e.getAttr("id")==t)return e;if(e.children&&e.children.length)for(var n,a=0;n=e.children[a++];)if(i=l(n,t))return i}function c(e,t,i){if("element"==e.type&&e.tagName==t&&i.push(e),e.children&&e.children.length)for(var n,a=0;n=e.children[a++];)c(n,t,i)}e.createElement=function(t){return/[<>]/.test(t)?UE.htmlparser(t).children[0]:new e({type:"element",children:[],tagName:t})},e.createText=function(e,t){return new UE.uNode({type:"text",data:t?e:utils.unhtml(e||"")})},e.prototype={toHtml:function(e){var t=[];return s(this,t,e,0),t.join("")},innerHTML:function(e){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(utils.isString(e)){if(this.children)for(var t=0;i=this.children[t++];)i.parentNode=null;this.children=[];var i,n=UE.htmlparser(e);for(t=0;i=n.children[t++];)this.children.push(i),i.parentNode=this;return this}return(n=new UE.uNode({type:"root",children:this.children})).toHtml()},innerText:function(t,i){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(t){if(this.children)for(var n,a=0;n=this.children[a++];)n.parentNode=null;return this.children=[],this.appendChild(e.createText(t,i)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var e,t=this.parentNode,i=0;e=t.children[i];i++)if(e===this)return 0==i?null:t.children[i-1]},nextSibling:function(){for(var e,t=this.parentNode,i=0;e=t.children[i++];)if(e===this)return t.children[i]},replaceChild:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var i,n=0;i=this.children[n];n++)if(i===t)return this.children.splice(n,1,e),t.parentNode=null,e.parentNode=this,e}},appendChild:function(e){if("root"==this.type||"element"==this.type&&!dtd.$empty[this.tagName]){this.children||(this.children=[]),e.parentNode&&e.parentNode.removeChild(e);for(var t,i=0;t=this.children[i];i++)if(t===e){this.children.splice(i,1);break}return this.children.push(e),e.parentNode=this,e}},insertBefore:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var i,n=0;i=this.children[n];n++)if(i===t)return this.children.splice(n,0,e),e.parentNode=this,e}},insertAfter:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var i,n=0;i=this.children[n];n++)if(i===t)return this.children.splice(n+1,0,e),e.parentNode=this,e}},removeChild:function(e,t){if(this.children)for(var i,n=0;i=this.children[n];n++)if(i===e){if(this.children.splice(n,1),i.parentNode=null,t&&i.children&&i.children.length)for(var a,r=0;a=i.children[r];r++)this.children.splice(n+r,0,a),a.parentNode=this;return i}},getAttr:function(e){return this.attrs&&this.attrs[e.toLowerCase()]},setAttr:function(e,t){if(e)if(this.attrs||(this.attrs={}),utils.isObject(e))for(var i in e)e[i]?this.attrs[i.toLowerCase()]=e[i]:delete this.attrs[i];else t?this.attrs[e.toLowerCase()]=t:delete this.attrs[e];else delete this.attrs},getIndex:function(){for(var e,t=this.parentNode,i=0;e=t.children[i];i++)if(e===this)return i;return-1},getNodeById:function(e){var t;if(this.children&&this.children.length)for(var i,n=0;i=this.children[n++];)if(t=l(i,e))return t},getNodesByTagName:function(e){e=utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");var t=[],i=this;return utils.each(e,function(e){if(i.children&&i.children.length)for(var n,a=0;n=i.children[a++];)c(n,e,t)}),t},getStyle:function(e){var t=this.getAttr("style");if(!t)return"";var i=new RegExp("(^|;)\\s*"+e+":([^;]+)","i"),n=t.match(i);return n&&n[0]?n[2]:""},setStyle:function(e,t){function i(e,t){var i=new RegExp("(^|;)\\s*"+e+":([^;]+;?)","gi");n=n.replace(i,"$1"),t&&(n=e+":"+utils.unhtml(t)+";"+n)}var n=this.getAttr("style");if(n||(n=""),utils.isObject(e))for(var a in e)i(a,e[a]);else i(e,t);this.setAttr("style",utils.trim(n))},traversal:function(e){return this.children&&this.children.length&&function e(t,i){if(t.children&&t.children.length)for(var n,a=0;n=t.children[a];)e(n,i),n.parentNode&&(n.children&&n.children.length&&i(n),n.parentNode&&a++);else i(t)}(this,e),this}}}();var htmlparser=UE.htmlparser=function(e,t){var i=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,n=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,a={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};e=e.replace(new RegExp(domUtils.fillChar,"g"),""),t||(e=e.replace(new RegExp("[\\r\\t\\n"+(t?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(t?"":" ")+"]*","g"),function(e,i){return i&&a[i.toLowerCase()]?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\n"+(t?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(t?"":" ")+"]+$"),"")}));var r={href:1,src:1},o=UE.uNode,s={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},l={ol:"li",ul:"li"};function c(e,t){if(l[e.tagName]){var i=o.createElement(l[e.tagName]);e.appendChild(i),i.appendChild(o.createText(t)),e=i}else e.appendChild(o.createText(t))}function d(e,t,i){var a;if(a=s[t]){for(var l,c=e;"root"!=c.type;){if(utils.isArray(a)?-1!=utils.indexOf(a,c.tagName):a==c.tagName){e=c,l=!0;break}c=c.parentNode}l||(e=d(e,utils.isArray(a)?a[0]:a))}var u=new o({parentNode:e,type:"element",tagName:t.toLowerCase(),children:dtd.$empty[t]?null:[]});if(i){for(var h,p={};h=n.exec(i);)p[h[1].toLowerCase()]=r[h[1].toLowerCase()]?h[2]||h[3]||h[4]:utils.unhtml(h[2]||h[3]||h[4]);u.attrs=p}return e.children.push(u),dtd.$empty[t]?e:u}for(var u,h,p,f=0,m=0,g=new o({type:"root",children:[]}),v=g;u=i.exec(e);){f=u.index;try{if(f>m&&c(v,e.slice(m,f)),u[3])dtd.$cdata[v.tagName]?c(v,u[0]):v=d(v,u[3].toLowerCase(),u[4]);else if(u[1]){if("root"!=v.type)if(dtd.$cdata[v.tagName]&&!dtd.$cdata[u[1]])c(v,u[0]);else{for(var b=v;"element"==v.type&&v.tagName!=u[1].toLowerCase();)if("root"==(v=v.parentNode).type)throw v=b,"break";v=v.parentNode}}else u[2]&&(h=v,p=u[2],h.children.push(new o({type:"comment",data:p,parentNode:h})))}catch(e){}m=i.lastIndex}return m<e.length&&c(v,e.slice(m)),g},filterNode=UE.filterNode=function(){function e(t,i){switch(t.type){case"text":break;case"element":var n;if(n=i[t.tagName])if("-"===n)t.parentNode.removeChild(t);else if(utils.isFunction(n)){var a=t.parentNode,r=t.getIndex();if(n(t),t.parentNode){if(t.children)for(var o=0;h=t.children[o];)e(h,i),h.parentNode&&o++}else for(o=r;h=a.children[o];)e(h,i),h.parentNode&&o++}else{var s=n.$;if(s&&t.attrs){var l,c={};for(var d in s){if(l=t.getAttr(d),"style"==d&&utils.isArray(s[d])){var u=[];utils.each(s[d],function(e){var i;(i=t.getStyle(e))&&u.push(e+":"+i)}),l=u.join(";")}l&&(c[d]=l)}t.attrs=c}if(t.children)for(o=0;h=t.children[o];)e(h,i),h.parentNode&&o++}else if(dtd.$cdata[t.tagName])t.parentNode.removeChild(t);else{a=t.parentNode,r=t.getIndex();t.parentNode.removeChild(t,!0);var h;for(o=r;h=a.children[o];)e(h,i),h.parentNode&&o++}break;case"comment":t.parentNode.removeChild(t)}}return function(t,i){if(utils.isEmptyObject(i))return t;var n;(n=i["-"])&&utils.each(n.split(" "),function(e){i[e]="-"});for(var a,r=0;a=t.children[r];)e(a,i),a.parentNode&&r++;return t}}(),_plugins;UE.plugin=(_plugins={},{register:function(e,t,i,n){i&&utils.isFunction(i)&&(n=i,i=null),_plugins[e]={optionName:i||e,execFn:t,afterDisabled:n}},load:function(e){utils.each(_plugins,function(t){var i=t.execFn.call(e);!1!==e.options[t.optionName]?i&&utils.each(i,function(t,i){switch(i.toLowerCase()){case"shortcutkey":e.addshortcutkey(t);break;case"bindevents":utils.each(t,function(t,i){e.addListener(i,t)});break;case"bindmultievents":utils.each(utils.isArray(t)?t:[t],function(t){var i=utils.trim(t.type).split(/\s+/);utils.each(i,function(i){e.addListener(i,t.handler)})});break;case"commands":utils.each(t,function(t,i){e.commands[i]=t});break;case"outputrule":e.addOutputRule(t);break;case"inputrule":e.addInputRule(t);break;case"defaultoptions":e.setOpt(t)}}):t.afterDisabled&&t.afterDisabled.call(e)}),utils.each(UE.plugins,function(t){t.call(e)})},run:function(e,t){var i=_plugins[e];i&&i.exeFn.call(t)}});var keymap=UE.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,"=":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78},LocalStorage=UE.LocalStorage=function(){var e=window.localStorage||function(){var e=document.createElement("div");if(e.style.display="none",!e.addBehavior)return null;return e.addBehavior("#default#userdata"),{getItem:function(i){var n=null;try{document.body.appendChild(e),e.load(t),n=e.getAttribute(i),document.body.removeChild(e)}catch(e){}return n},setItem:function(i,n){document.body.appendChild(e),e.setAttribute(i,n),e.save(t),document.body.removeChild(e)},removeItem:function(i){document.body.appendChild(e),e.removeAttribute(i),e.save(t),document.body.removeChild(e)}}}()||null,t="localStorage";return{saveLocalData:function(t,i){return!(!e||!i)&&(e.setItem(t,i),!0)},getLocalData:function(t){return e?e.getItem(t):null},removeItem:function(t){e&&e.removeItem(t)}}}(),ROOTKEY,block,getObj,sourceEditors;ROOTKEY="ueditor_preference",UE.Editor.prototype.setPreferences=function(e,t){var i={};utils.isString(e)?i[e]=t:i=e;var n=LocalStorage.getLocalData(ROOTKEY);n&&(n=utils.str2json(n))?utils.extend(n,i):n=i,n&&LocalStorage.saveLocalData(ROOTKEY,utils.json2str(n))},UE.Editor.prototype.getPreferences=function(e){var t=LocalStorage.getLocalData(ROOTKEY);return t&&(t=utils.str2json(t))?e?t[e]:t:null},UE.Editor.prototype.removePreferences=function(e){var t=LocalStorage.getLocalData(ROOTKEY);t&&(t=utils.str2json(t))&&(t[e]=void 0,delete t[e]),t&&LocalStorage.saveLocalData(ROOTKEY,utils.json2str(t))},UE.plugins.defaultfilter=function(){var e=this;e.setOpt({allowDivTransToP:!0,disabledTableInTable:!0}),e.addInputRule(function(t){var i,n=this.options.allowDivTransToP;t.traversal(function(t){if("element"==t.type){if(!dtd.$cdata[t.tagName]&&e.options.autoClearEmptyNode&&dtd.$inline[t.tagName]&&!dtd.$empty[t.tagName]&&(!t.attrs||utils.isEmptyObject(t.attrs)))return void(t.firstChild()?"span"!=t.tagName||t.attrs&&!utils.isEmptyObject(t.attrs)||t.parentNode.removeChild(t,!0):t.parentNode.removeChild(t));switch(t.tagName){case"style":case"script":t.setAttr({cdata_tag:t.tagName,cdata_data:t.innerHTML()||"",_ue_custom_node_:"true"}),t.tagName="div",t.innerHTML("");break;case"a":(i=t.getAttr("href"))&&t.setAttr("_href",i);break;case"img":if((i=t.getAttr("src"))&&/^data:/.test(i)){t.parentNode.removeChild(t);break}t.setAttr("_src",t.getAttr("src"));break;case"span":browser.webkit&&(i=t.getStyle("white-space"))&&/nowrap|normal/.test(i)&&(t.setStyle("white-space",""),e.options.autoClearEmptyNode&&utils.isEmptyObject(t.attrs)&&t.parentNode.removeChild(t,!0)),(i=t.getAttr("id"))&&/^_baidu_bookmark_/i.test(i)&&t.parentNode.removeChild(t);break;case"p":(i=t.getAttr("align"))&&(t.setAttr("align"),t.setStyle("text-align",i)),utils.each(t.children,function(e){if("element"==e.type&&"p"==e.tagName){var i=e.nextSibling();t.parentNode.insertAfter(e,t);for(var n=e;i;){var a=i.nextSibling();t.parentNode.insertAfter(i,n),n=i,i=a}return!1}}),t.firstChild()||t.innerHTML(browser.ie?"&nbsp;":"<br/>");break;case"div":if(t.getAttr("cdata_tag"))break;if((i=t.getAttr("class"))&&/^line number\d+/.test(i))break;if(!n)break;for(var a,r=UE.uNode.createElement("p");a=t.firstChild();)"text"!=a.type&&UE.dom.dtd.$block[a.tagName]?r.firstChild()?(t.parentNode.insertBefore(r,t),r=UE.uNode.createElement("p")):t.parentNode.insertBefore(a,t):r.appendChild(a);r.firstChild()&&t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t);break;case"dl":t.tagName="ul";break;case"dt":case"dd":t.tagName="li";break;case"li":var o=t.getAttr("class");o&&/list\-/.test(o)||t.setAttr();var s=t.getNodesByTagName("ol ul");UE.utils.each(s,function(e){t.parentNode.insertAfter(e,t)});break;case"td":case"th":case"caption":t.children&&t.children.length||t.appendChild(browser.ie11below?UE.uNode.createText(" "):UE.uNode.createElement("br"));break;case"table":e.options.disabledTableInTable&&function(e){for(;e&&"element"==e.type;){if("td"==e.tagName)return!0;e=e.parentNode}return!1}(t)&&(t.parentNode.insertBefore(UE.uNode.createText(t.innerText()),t),t.parentNode.removeChild(t))}}})}),e.addOutputRule(function(t){var i;t.traversal(function(t){if("element"==t.type){if(e.options.autoClearEmptyNode&&dtd.$inline[t.tagName]&&!dtd.$empty[t.tagName]&&(!t.attrs||utils.isEmptyObject(t.attrs)))return void(t.firstChild()?"span"!=t.tagName||t.attrs&&!utils.isEmptyObject(t.attrs)||t.parentNode.removeChild(t,!0):t.parentNode.removeChild(t));switch(t.tagName){case"div":(i=t.getAttr("cdata_tag"))&&(t.tagName=i,t.appendChild(UE.uNode.createText(t.getAttr("cdata_data"))),t.setAttr({cdata_tag:"",cdata_data:"",_ue_custom_node_:""}));break;case"a":(i=t.getAttr("_href"))&&t.setAttr({href:utils.html(i),_href:""});break;case"span":(i=t.getAttr("id"))&&/^_baidu_bookmark_/i.test(i)&&t.parentNode.removeChild(t);break;case"img":(i=t.getAttr("_src"))&&t.setAttr({src:t.getAttr("_src"),_src:""})}}})})},UE.commands.inserthtml={execCommand:function(e,t,i){var n,a,r=this;if(t&&!0!==r.fireEvent("beforeinserthtml",t)){if((a=(n=r.selection.getRange()).document.createElement("div")).style.display="inline",!i){var o=UE.htmlparser(t);r.options.filterRules&&UE.filterNode(o,r.options.filterRules),r.filterInputRule(o),t=o.toHtml()}if(a.innerHTML=utils.trim(t),!n.collapsed){var s=n.startContainer;if(domUtils.isFillChar(s)&&n.setStartBefore(s),s=n.endContainer,domUtils.isFillChar(s)&&n.setEndAfter(s),n.txtToElmBoundary(),n.endContainer&&1==n.endContainer.nodeType&&(s=n.endContainer.childNodes[n.endOffset])&&domUtils.isBr(s)&&n.setEndAfter(s),0==n.startOffset&&(s=n.startContainer,domUtils.isBoundaryNode(s,"firstChild")&&(s=n.endContainer,n.endOffset==(3==s.nodeType?s.nodeValue.length:s.childNodes.length)&&domUtils.isBoundaryNode(s,"lastChild")&&(r.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",n.setStart(r.body.firstChild,0).collapse(!0)))),!n.collapsed&&n.deleteContents(),1==n.startContainer.nodeType)if((l=n.startContainer.childNodes[n.startOffset])&&domUtils.isBlockElm(l)&&(v=l.previousSibling)&&domUtils.isBlockElm(v)){for(n.setEnd(v,v.childNodes.length).collapse();l.firstChild;)v.appendChild(l.firstChild);domUtils.remove(l)}}var l,c,d,u,h=0;n.inFillChar()&&(l=n.startContainer,domUtils.isFillChar(l)?(n.setStartBefore(l).collapse(!0),domUtils.remove(l)):domUtils.isFillChar(l,!0)&&(l.nodeValue=l.nodeValue.replace(fillCharReg,""),n.startOffset--,n.collapsed&&n.collapse(!0)));var p=domUtils.findParentByTagName(n.startContainer,"li",!0);if(p){for(var f;l=a.firstChild;){for(;l&&(3==l.nodeType||!domUtils.isBlockElm(l)||"HR"==l.tagName);)b=l.nextSibling,n.insertNode(l).collapse(),f=l,l=b;if(l)if(/^(ol|ul)$/i.test(l.tagName)){for(;l.firstChild;)f=l.firstChild,domUtils.insertAfter(p,l.firstChild),p=p.nextSibling;domUtils.remove(l)}else{var m;b=l.nextSibling,m=r.document.createElement("li"),domUtils.insertAfter(p,m),m.appendChild(l),f=l,l=b,p=m}}p=domUtils.findParentByTagName(n.startContainer,"li",!0),domUtils.isEmptyBlock(p)&&domUtils.remove(p),f&&n.setStartAfter(f).collapse(!0).select(!0)}else{for(;l=a.firstChild;){if(h){for(var g=r.document.createElement("p");l&&(3==l.nodeType||!dtd.$block[l.tagName]);)u=l.nextSibling,g.appendChild(l),l=u;g.firstChild&&(l=g)}if(n.insertNode(l),u=l.nextSibling,!h&&l.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(l)&&(c=domUtils.findParent(l,function(e){return domUtils.isBlockElm(e)}))&&"body"!=c.tagName.toLowerCase()&&(!dtd[c.tagName][l.nodeName]||l.parentNode!==c)){if(dtd[c.tagName][l.nodeName])for(d=l.parentNode;d!==c;)v=d,d=d.parentNode;else v=c;domUtils.breakParent(l,v||d);var v=l.previousSibling;domUtils.trimWhiteTextNode(v),v.childNodes.length||domUtils.remove(v),!browser.ie&&(b=l.nextSibling)&&domUtils.isBlockElm(b)&&b.lastChild&&!domUtils.isBr(b.lastChild)&&b.appendChild(r.document.createElement("br")),h=1}var b=l.nextSibling;if(!a.firstChild&&b&&domUtils.isBlockElm(b)){n.setStart(b,0).collapse(!0);break}n.setEndAfter(l).collapse()}if(l=n.startContainer,u&&domUtils.isBr(u)&&domUtils.remove(u),domUtils.isBlockElm(l)&&domUtils.isEmptyNode(l))if(u=l.nextSibling)domUtils.remove(l),1==u.nodeType&&dtd.$block[u.tagName]&&n.setStart(u,0).collapse(!0).shrinkBoundary();else try{l.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(e){n.setStartBefore(l),domUtils.remove(l)}try{n.select(!0)}catch(e){}}setTimeout(function(){(n=r.selection.getRange()).scrollToView(r.autoHeightEnabled,r.autoHeightEnabled?domUtils.getXY(r.iframe).y:0),r.fireEvent("afterinserthtml",t)},200)}}},UE.plugins.autotypeset=function(){this.setOpt({autotypeset:{mergeEmptyline:!0,removeClass:!0,removeEmptyline:!1,textAlign:"left",imageBlockLine:"center",pasteFilter:!1,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:utils.extend({div:1},dtd.$removeEmpty),indent:!1,indentValue:"2em",bdc2sb:!1,tobdc:!1}});var e,t,i=this,n=i.options.autotypeset,a={selectTdClass:1,pagebreak:1,anchorclass:1},r={li:1},o={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1};n&&(t=i.getPreferences("autotypeset"),utils.extend(i.options.autotypeset,t),n.pasteFilter&&i.addListener("beforepaste",c),i.commands.autotypeset={execCommand:function(){i.removeListener("beforepaste",c),n.pasteFilter&&i.addListener("beforepaste",c),c.call(i)}});function s(t,i){return t&&3!=t.nodeType?domUtils.isBr(t)?1:t&&t.parentNode&&o[t.tagName.toLowerCase()]?e&&e.contains(t)||t.getAttribute("pagebreak")?0:i?!domUtils.isEmptyBlock(t):domUtils.isEmptyBlock(t,new RegExp("[\\s"+domUtils.fillChar+"]","g")):void 0:0}function l(e){e.style.cssText||(domUtils.removeAttributes(e,["style"]),"span"==e.tagName.toLowerCase()&&domUtils.hasNoAttributes(e)&&domUtils.remove(e,!0))}function c(t,i){var o,c=this;if(i){if(!n.pasteFilter)return;(o=c.document.createElement("div")).innerHTML=i.html}else o=c.document.body;for(var d,u,h=domUtils.getElementsByTagName(o,"*"),p=0;d=h[p++];)if(!0!==c.fireEvent("excludeNodeinautotype",d)){if(n.clearFontSize&&d.style.fontSize&&(domUtils.removeStyle(d,"font-size"),l(d)),n.clearFontFamily&&d.style.fontFamily&&(domUtils.removeStyle(d,"font-family"),l(d)),s(d)){if(n.mergeEmptyline)for(var f=d.nextSibling,m=domUtils.isBr(d);s(f)&&(f=(v=f).nextSibling,!m||f&&(!f||domUtils.isBr(f)));)domUtils.remove(v);if(n.removeEmptyline&&domUtils.inDoc(d,o)&&!r[d.parentNode.tagName.toLowerCase()]){if(domUtils.isBr(d)&&(f=d.nextSibling)&&!domUtils.isBr(f))continue;domUtils.remove(d);continue}}if(s(d,!0)&&"SPAN"!=d.tagName&&(n.indent&&(d.style.textIndent=n.indentValue),n.textAlign&&(d.style.textAlign=n.textAlign)),n.removeClass&&d.className&&!a[d.className.toLowerCase()]){if(e&&e.contains(d))continue;domUtils.removeAttributes(d,["class"])}if(n.imageBlockLine&&"img"==d.tagName.toLowerCase()&&!d.getAttribute("emotion"))if(i){var g=d;switch(n.imageBlockLine){case"left":case"right":case"none":for(var v,b,y=g.parentNode;dtd.$inline[y.tagName]||"A"==y.tagName;)y=y.parentNode;if("P"==(v=y).tagName&&"center"==domUtils.getStyle(v,"text-align")&&!domUtils.isBody(v)&&1==domUtils.getChildCount(v,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(b=v.previousSibling,f=v.nextSibling,b&&f&&1==b.nodeType&&1==f.nodeType&&b.tagName==f.tagName&&domUtils.isBlockElm(b)){for(b.appendChild(v.firstChild);f.firstChild;)b.appendChild(f.firstChild);domUtils.remove(v),domUtils.remove(f)}else domUtils.setStyle(v,"text-align","");domUtils.setStyle(g,"float",n.imageBlockLine);break;case"center":if("center"!=c.queryCommandValue("imagefloat")){for(y=g.parentNode,domUtils.setStyle(g,"float","none"),v=g;y&&1==domUtils.getChildCount(y,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[y.tagName]||"A"==y.tagName);)v=y,y=y.parentNode;var _=c.document.createElement("p");domUtils.setAttributes(_,{style:"text-align:center"}),v.parentNode.insertBefore(_,v),_.appendChild(v),domUtils.setStyle(v,"float","")}}}else{c.selection.getRange().selectNode(d).select(),c.execCommand("imagefloat",n.imageBlockLine)}n.removeEmptyNode&&n.removeTagNames[d.tagName.toLowerCase()]&&domUtils.hasNoAttributes(d)&&domUtils.isEmptyBlock(d)&&domUtils.remove(d)}n.tobdc&&((u=UE.htmlparser(o.innerHTML)).traversal(function(e){"text"==e.type&&(e.data=function(e){e=utils.html(e);for(var t="",i=0;i<e.length;i++)32==e.charCodeAt(i)?t+=String.fromCharCode(12288):e.charCodeAt(i)<127?t+=String.fromCharCode(e.charCodeAt(i)+65248):t+=e.charAt(i);return t}(e.data))}),o.innerHTML=u.toHtml());n.bdc2sb&&((u=UE.htmlparser(o.innerHTML)).traversal(function(e){"text"==e.type&&(e.data=function(e){for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);t+=n>=65281&&n<=65373?String.fromCharCode(e.charCodeAt(i)-65248):12288==n?String.fromCharCode(e.charCodeAt(i)-12288+32):e.charAt(i)}return t}(e.data))}),o.innerHTML=u.toHtml());i&&(i.html=o.innerHTML)}},UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var e=domUtils.findParentByTagName(this.iframe,"form",!1);if(e){if(!1===this.fireEvent("beforesubmit"))return;this.sync(),e.submit()}}}}}}),UE.plugin.register("background",function(){var e,t=this,i="editor_background",n=new RegExp("body[\\s]*\\{(.+)\\}","i");function a(e){var t={},i=e.split(";");return utils.each(i,function(e){var i=e.indexOf(":"),n=utils.trim(e.substr(0,i)).toLowerCase();n&&(t[n]=utils.trim(e.substr(i+1)||""))}),t}function r(e){if(e){var n=[];for(var a in e)e.hasOwnProperty(a)&&n.push(a+":"+e[a]+"; ");utils.cssRule(i,n.length?"body{"+n.join("")+"}":"",t.document)}else utils.cssRule(i,"",t.document)}var o=t.hasContents;return t.hasContents=function(){return!!t.queryCommandValue("background")||o.apply(t,arguments)},{bindEvents:{getAllHtml:function(e,i){var n=this.body,a=domUtils.getComputedStyle(n,"background-image"),r="";r=a.indexOf(t.options.imagePath)>0?a.substring(a.indexOf(t.options.imagePath),a.length-1).replace(/"|\(|\)/gi,""):"none"!=a?a.replace(/url\("?|"?\)/gi,""):"";var o='<style type="text/css">body{',s={"background-color":domUtils.getComputedStyle(n,"background-color")||"#ffffff","background-image":r?"url("+r+")":"","background-repeat":domUtils.getComputedStyle(n,"background-repeat")||"","background-position":browser.ie?domUtils.getComputedStyle(n,"background-position-x")+" "+domUtils.getComputedStyle(n,"background-position-y"):domUtils.getComputedStyle(n,"background-position"),height:domUtils.getComputedStyle(n,"height")};for(var l in s)s.hasOwnProperty(l)&&(o+=l+":"+s[l]+"; ");o+="}</style> ",i.push(o)},aftersetcontent:function(){0==e&&r()}},inputRule:function(t){e=!1,utils.each(t.getNodesByTagName("p"),function(t){var i=t.getAttr("data-background");i&&(e=!0,r(a(i)),t.parentNode.removeChild(t))})},outputRule:function(e){var t=(utils.cssRule(i,this.document)||"").replace(/[\n\r]+/g,"").match(n);t&&e.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+utils.trim(t[1].replace(/"/g,"").replace(/[\s]+/g," "))+'"><br/></p>'))},commands:{background:{execCommand:function(e,t){r(t)},queryCommandValue:function(){var e=(utils.cssRule(i,this.document)||"").replace(/[\n\r]+/g,"").match(n);return e?a(e[1]):null},notNeedUndo:!0}}}}),UE.commands.imagefloat={execCommand:function(e,t){var i=this,n=i.selection.getRange();if(!n.collapsed){var a=n.getClosedNode();if(a&&"IMG"==a.tagName)switch(t){case"left":case"right":case"none":for(var r,o,s,l=a.parentNode;dtd.$inline[l.tagName]||"A"==l.tagName;)l=l.parentNode;if("P"==(r=l).tagName&&"center"==domUtils.getStyle(r,"text-align")){if(!domUtils.isBody(r)&&1==domUtils.getChildCount(r,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(o=r.previousSibling,s=r.nextSibling,o&&s&&1==o.nodeType&&1==s.nodeType&&o.tagName==s.tagName&&domUtils.isBlockElm(o)){for(o.appendChild(r.firstChild);s.firstChild;)o.appendChild(s.firstChild);domUtils.remove(r),domUtils.remove(s)}else domUtils.setStyle(r,"text-align","");n.selectNode(a).select()}domUtils.setStyle(a,"float","none"==t?"":t),"none"==t&&domUtils.removeAttributes(a,"align");break;case"center":if("center"!=i.queryCommandValue("imagefloat")){for(l=a.parentNode,domUtils.setStyle(a,"float",""),domUtils.removeAttributes(a,"align"),r=a;l&&1==domUtils.getChildCount(l,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[l.tagName]||"A"==l.tagName);)r=l,l=l.parentNode;n.setStartBefore(r).setCursor(!1),(l=i.document.createElement("div")).appendChild(r),domUtils.setStyle(r,"float",""),i.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+l.innerHTML+"</p>"),(r=i.document.getElementById("_img_parent_tmp")).removeAttribute("id"),r=r.firstChild,n.selectNode(r).select(),(s=r.parentNode.nextSibling)&&domUtils.isEmptyNode(s)&&domUtils.remove(s)}}}},queryCommandValue:function(){var e,t,i=this.selection.getRange();return i.collapsed?"none":(e=i.getClosedNode())&&1==e.nodeType&&"IMG"==e.tagName?("none"==(t=domUtils.getComputedStyle(e,"float")||e.getAttribute("align"))&&(t="center"==domUtils.getComputedStyle(e.parentNode,"text-align")?"center":t),{left:1,right:1,center:1}[t]?t:"none"):"none"},queryCommandState:function(){var e,t=this.selection.getRange();return t.collapsed?-1:(e=t.getClosedNode())&&1==e.nodeType&&"IMG"==e.tagName?0:-1}},UE.commands.insertimage={execCommand:function(e,t){if((t=utils.isArray(t)?t:[t]).length){var i=this,n=i.selection.getRange(),a=n.getClosedNode();if(!0!==i.fireEvent("beforeinsertimage",t)){if(!a||!/img/i.test(a.tagName)||"edui-faked-video"==a.className&&-1==a.className.indexOf("edui-upload-video")||a.getAttribute("word_img")){var r,o=[],s="";if(r=t[0],1==t.length)u(r),s='<img src="'+r.src+'" '+(r._src?' _src="'+r._src+'" ':"")+(r.width?'width="'+r.width+'" ':"")+(r.height?' height="'+r.height+'" ':"")+("left"==r.floatStyle||"right"==r.floatStyle?' style="float:'+r.floatStyle+';"':"")+(r.title&&""!=r.title?' title="'+r.title+'"':"")+(r.border&&"0"!=r.border?' border="'+r.border+'"':"")+(r.alt&&""!=r.alt?' alt="'+r.alt+'"':"")+(r.hspace&&"0"!=r.hspace?' hspace = "'+r.hspace+'"':"")+(r.vspace&&"0"!=r.vspace?' vspace = "'+r.vspace+'"':"")+"/>","center"==r.floatStyle&&(s='<p style="text-align: center">'+s+"</p>"),o.push(s);else for(var l=0;r=t[l++];)u(r),s="<p "+("center"==r.floatStyle?'style="text-align: center" ':"")+'><img src="'+r.src+'" '+(r.width?'width="'+r.width+'" ':"")+(r._src?' _src="'+r._src+'" ':"")+(r.height?' height="'+r.height+'" ':"")+' style="'+(r.floatStyle&&"center"!=r.floatStyle?"float:"+r.floatStyle+";":"")+(r.border||"")+'" '+(r.title?' title="'+r.title+'"':"")+" /></p>",o.push(s);i.execCommand("insertHtml",o.join(""))}else{var c=t.shift(),d=c.floatStyle;delete c.floatStyle,domUtils.setAttributes(a,c),i.execCommand("imagefloat",d),t.length>0&&(n.setStartAfter(a).setCursor(!1,!0),i.execCommand("insertimage",t))}i.fireEvent("afterinsertimage",t)}}function u(e){utils.each("width,height,border,hspace,vspace".split(","),function(t){e[t]&&(e[t]=parseInt(e[t],10)||0)}),utils.each("src,_src".split(","),function(t){e[t]&&(e[t]=utils.unhtmlForUrl(e[t]))}),utils.each("title,alt".split(","),function(t){e[t]&&(e[t]=utils.unhtml(e[t]))})}}},UE.plugins.justify=function(){var e=domUtils.isBlockElm,t={left:1,right:1,center:1,justify:1};UE.commands.justify={execCommand:function(t,i){var n,a=this.selection.getRange();return a.collapsed&&(n=this.document.createTextNode("p"),a.insertNode(n)),function(t,i){var n=t.createBookmark(),a=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};t.enlarge(!0);for(var r,o=t.createBookmark(),s=domUtils.getNextDomNode(o.start,!1,a),l=t.cloneRange();s&&!(domUtils.getPosition(s,o.end)&domUtils.POSITION_FOLLOWING);)if(3!=s.nodeType&&e(s))s=domUtils.getNextDomNode(s,!0,a);else{for(l.setStartBefore(s);s&&s!==o.end&&!e(s);)r=s,s=domUtils.getNextDomNode(s,!1,null,function(t){return!e(t)});l.setEndAfter(r);var c=l.getCommonAncestor();if(!domUtils.isBody(c)&&e(c))domUtils.setStyles(c,utils.isString(i)?{"text-align":i}:i),s=c;else{var d=t.document.createElement("p");domUtils.setStyles(d,utils.isString(i)?{"text-align":i}:i);var u=l.extractContents();d.appendChild(u),l.insertNode(d),s=d}s=domUtils.getNextDomNode(s,!1,a)}t.moveToBookmark(o).moveToBookmark(n)}(a,i),n&&(a.setStartBefore(n).collapse(!0),domUtils.remove(n)),a.select(),!0},queryCommandValue:function(){var e=this.selection.getStart(),i=domUtils.getComputedStyle(e,"text-align");return t[i]?i:"left"},queryCommandState:function(){var e=this.selection.getStart();return e&&domUtils.findParentByTagName(e,["td","th","caption"],!0)?-1:0}}},UE.plugins.font=function(){var e={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},t={underline:1,strikethrough:1,fontborder:1},i={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"};function n(e,t,n){var a,r=e.collapsed,o=e.createBookmark();if(r)for(a=o.start.parentNode;dtd.$inline[a.tagName];)a=a.parentNode;else a=domUtils.getCommonAncestor(o.start,o.end);utils.each(domUtils.getElementsByTagName(a,"span"),function(e){if(e.parentNode&&!domUtils.isBookmarkNode(e))if(/\s*border\s*:\s*none;?\s*/i.test(e.style.cssText))/^\s*border\s*:\s*none;?\s*$/.test(e.style.cssText)?domUtils.remove(e,!0):domUtils.removeStyle(e,"border");else{if(/border/i.test(e.style.cssText)&&"SPAN"==e.parentNode.tagName&&/border/i.test(e.parentNode.style.cssText)&&(e.style.cssText=e.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")),"fontborder"!=t||"none"!=n)for(var i=e.nextSibling;i&&1==i.nodeType&&"SPAN"==i.tagName;)if(domUtils.isBookmarkNode(i)&&"fontborder"==t)e.appendChild(i),i=e.nextSibling;else{if(i.style.cssText==e.style.cssText&&(domUtils.moveChild(i,e),domUtils.remove(i)),e.nextSibling===i)break;i=e.nextSibling}if(function(e){for(var t;(t=e.parentNode)&&"SPAN"==t.tagName&&1==domUtils.getChildCount(t,function(e){return!domUtils.isBookmarkNode(e)&&!domUtils.isBr(e)});)t.style.cssText+=e.style.cssText,domUtils.remove(e,!0),e=t}(e),browser.ie&&browser.version>8){var a=domUtils.findParent(e,function(e){return"SPAN"==e.tagName&&/background-color/.test(e.style.cssText)});a&&!/background-color/.test(e.style.cssText)&&(e.style.backgroundColor=a.style.backgroundColor)}}}),e.moveToBookmark(o),function(e,t,n){if(i[t]&&(e.adjustmentBoundary(),!e.collapsed&&1==e.startContainer.nodeType)){var a=e.startContainer.childNodes[e.startOffset];if(a&&domUtils.isTagNode(a,"span")){var r=e.createBookmark();utils.each(domUtils.getElementsByTagName(a,"span"),function(e){e.parentNode&&!domUtils.isBookmarkNode(e)&&("backcolor"==t&&domUtils.getComputedStyle(e,"background-color").toLowerCase()===n||(domUtils.removeStyle(e,i[t]),0==e.style.cssText.replace(/^\s+$/,"").length&&domUtils.remove(e,!0)))}),e.moveToBookmark(r)}}}(e,t,n)}for(var a in this.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]}),this.addInputRule(function(e){utils.each(e.getNodesByTagName("u s del font strike"),function(e){if("font"==e.tagName){var t=[];for(var i in e.attrs)switch(i){case"size":t.push("font-size:"+({1:"10",2:"12",3:"16",4:"18",5:"24",6:"32",7:"48"}[e.attrs[i]]||e.attrs[i])+"px");break;case"color":t.push("color:"+e.attrs[i]);break;case"face":t.push("font-family:"+e.attrs[i]);break;case"style":t.push(e.attrs[i])}e.attrs={style:t.join(";")}}else{var n="u"==e.tagName?"underline":"line-through";e.attrs={style:(e.getAttr("style")||"")+"text-decoration:"+n+";"}}e.tagName="span"})}),e)!function(e,i){UE.commands[e]={execCommand:function(a,r){r=r||(this.queryCommandState(a)?"none":"underline"==a?"underline":"fontborder"==a?"1px solid #000":"line-through");var o,s=this,l=this.selection.getRange();if("default"==r)l.collapsed&&(o=s.document.createTextNode("font"),l.insertNode(o).select()),s.execCommand("removeFormat","span,a",i),o&&(l.setStartBefore(o).collapse(!0),domUtils.remove(o)),n(l,a,r),l.select();else if(l.collapsed){var c=domUtils.findParentByTagName(l.startContainer,"span",!0);if(o=s.document.createTextNode("font"),!c||c.children.length||c[browser.ie?"innerText":"textContent"].replace(fillCharReg,"").length){if(l.insertNode(o),l.selectNode(o).select(),c=l.document.createElement("span"),t[e]){if(domUtils.findParentByTagName(o,"a",!0))return l.setStartBefore(o).setCursor(),void domUtils.remove(o);s.execCommand("removeFormat","span,a",i)}if(c.style.cssText=i+":"+r,o.parentNode.insertBefore(c,o),!browser.ie||browser.ie&&9==browser.version)for(var d=c.parentNode;!domUtils.isBlockElm(d);)"SPAN"==d.tagName&&(c.style.cssText=d.style.cssText+";"+c.style.cssText),d=d.parentNode;opera?setTimeout(function(){l.setStart(c,0).collapse(!0),n(l,a,r),l.select()}):(l.setStart(c,0).collapse(!0),n(l,a,r),l.select())}else l.insertNode(o),t[e]&&(l.selectNode(o).select(),s.execCommand("removeFormat","span,a",i,null),c=domUtils.findParentByTagName(o,"span",!0),l.setStartBefore(o)),c&&(c.style.cssText+=";"+i+":"+r),l.collapse(!0).select();domUtils.remove(o)}else t[e]&&s.queryCommandValue(e)&&s.execCommand("removeFormat","span,a",i),(l=s.selection.getRange()).applyInlineStyle("span",{style:i+":"+r}),n(l,a,r),l.select();return!0},queryCommandValue:function(e){var t=this.selection.getStart();if("underline"==e||"strikethrough"==e){for(var n,a=t;a&&!domUtils.isBlockElm(a)&&!domUtils.isBody(a);){if(1==a.nodeType&&"none"!=(n=domUtils.getComputedStyle(a,i)))return n;a=a.parentNode}return"none"}if("fontborder"==e){for(var r,o=t;o&&dtd.$inline[o.tagName];){if((r=domUtils.getComputedStyle(o,"border"))&&/1px/.test(r)&&/solid/.test(r))return r;o=o.parentNode}return""}if("FontSize"==e){var s=domUtils.getComputedStyle(t,i);return(o=/^([\d\.]+)(\w+)$/.exec(s))?Math.floor(o[1])+o[2]:s}return domUtils.getComputedStyle(t,i)},queryCommandState:function(e){if(!t[e])return 0;var i=this.queryCommandValue(e);return"fontborder"==e?/1px/.test(i)&&/solid/.test(i):"underline"==e?/underline/.test(i):/line\-through/.test(i)}}}(a,e[a])},UE.plugins.link=function(){function e(e){var t=e.startContainer,i=e.endContainer;(t=domUtils.findParentByTagName(t,"a",!0))&&e.setStartBefore(t),(i=domUtils.findParentByTagName(i,"a",!0))&&e.setEndAfter(i)}UE.commands.unlink={execCommand:function(){var t,i=this.selection.getRange();i.collapsed&&!domUtils.findParentByTagName(i.startContainer,"a",!0)||(t=i.createBookmark(),e(i),i.removeInlineStyle("a").moveToBookmark(t).select())},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}},UE.commands.link={execCommand:function(t,i){var n;i._href&&(i._href=utils.unhtml(i._href,/[<">]/g)),i.href&&(i.href=utils.unhtml(i.href,/[<">]/g)),i.textValue&&(i.textValue=utils.unhtml(i.textValue,/[<">]/g)),function(t,i,n){var a=t.cloneRange(),r=n.queryCommandValue("link");e(t=t.adjustmentBoundary());var o=t.startContainer;if(1==o.nodeType&&r&&(o=o.childNodes[t.startOffset])&&1==o.nodeType&&"A"==o.tagName&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(o[browser.ie?"innerText":"textContent"])&&(o[browser.ie?"innerText":"textContent"]=utils.html(i.textValue||i.href)),a.collapsed&&!r||(t.removeInlineStyle("a"),a=t.cloneRange()),a.collapsed){var s=t.document.createElement("a"),l="";i.textValue?(l=utils.html(i.textValue),delete i.textValue):l=utils.html(i.href),domUtils.setAttributes(s,i),(o=domUtils.findParentByTagName(a.startContainer,"a",!0))&&domUtils.isInNodeEndBoundary(a,o)&&t.setStartAfter(o).collapse(!0),s[browser.ie?"innerText":"textContent"]=l,t.insertNode(s).selectNode(s)}else t.applyInlineStyle("a",i)}(n=this.selection.getRange(),i,this),n.collapse().select(!0)},queryCommandValue:function(){var e,t=this.selection.getRange();if(!t.collapsed){t.shrinkBoundary();var i=3!=t.startContainer.nodeType&&t.startContainer.childNodes[t.startOffset]?t.startContainer.childNodes[t.startOffset]:t.startContainer,n=3==t.endContainer.nodeType||0==t.endOffset?t.endContainer:t.endContainer.childNodes[t.endOffset-1],a=t.getCommonAncestor();if(!(e=domUtils.findParentByTagName(a,"a",!0))&&1==a.nodeType)for(var r,o,s,l=a.getElementsByTagName("a"),c=0;s=l[c++];)if(r=domUtils.getPosition(s,i),o=domUtils.getPosition(s,n),(r&domUtils.POSITION_FOLLOWING||r&domUtils.POSITION_CONTAINS)&&(o&domUtils.POSITION_PRECEDING||o&domUtils.POSITION_CONTAINS)){e=s;break}return e}if((e=1==(e=t.startContainer).nodeType?e:e.parentNode)&&(e=domUtils.findParentByTagName(e,"a",!0))&&!domUtils.isInNodeEndBoundary(t,e))return e},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return e&&("edui-faked-video"==e.className||-1!=e.className.indexOf("edui-upload-video"))?-1:0}}},UE.plugins.insertframe=function(){var e=this;e.addListener("selectionchange",function(){e._iframe&&delete e._iframe})},UE.commands.scrawl={queryCommandState:function(){return browser.ie&&browser.version<=8?-1:0}},UE.plugins.removeformat=function(){this.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"}),this.commands.removeformat={execCommand:function(e,t,i,n,a){var r,o,s=new RegExp("^(?:"+(t||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),l=i?[]:(n||this.options.removeFormatAttributes).split(","),c=new dom.Range(this.document),d=function(e){return 1==e.nodeType};function u(e){if(3==e.nodeType||"span"!=e.tagName.toLowerCase())return 0;if(browser.ie){var t=e.attributes;if(t.length){for(var i=0,n=t.length;i<n;i++)if(t[i].specified)return 0;return 1}}return!e.attributes.length}(function(e){var t=e.createBookmark();if(e.collapsed&&e.enlarge(!0),!a){var n=domUtils.findParentByTagName(e.startContainer,"a",!0);n&&e.setStartBefore(n),(n=domUtils.findParentByTagName(e.endContainer,"a",!0))&&e.setEndAfter(n)}for(m=(r=e.createBookmark()).start;(o=m.parentNode)&&!domUtils.isBlockElm(o);)domUtils.breakParent(m,o),domUtils.clearEmptySibling(m);if(r.end){for(m=r.end;(o=m.parentNode)&&!domUtils.isBlockElm(o);)domUtils.breakParent(m,o),domUtils.clearEmptySibling(m);for(var c,h=domUtils.getNextDomNode(r.start,!1,d);h&&h!=r.end;)c=domUtils.getNextDomNode(h,!0,d),dtd.$empty[h.tagName.toLowerCase()]||domUtils.isBookmarkNode(h)||(s.test(h.tagName)?i?(domUtils.removeStyle(h,i),u(h)&&"text-decoration"!=i&&domUtils.remove(h,!0)):domUtils.remove(h,!0):dtd.$tableContent[h.tagName]||dtd.$list[h.tagName]||(domUtils.removeAttributes(h,l),u(h)&&domUtils.remove(h,!0))),h=c}var p=r.start.parentNode;!domUtils.isBlockElm(p)||dtd.$tableContent[p.tagName]||dtd.$list[p.tagName]||domUtils.removeAttributes(p,l),p=r.end.parentNode,r.end&&domUtils.isBlockElm(p)&&!dtd.$tableContent[p.tagName]&&!dtd.$list[p.tagName]&&domUtils.removeAttributes(p,l),e.moveToBookmark(r).moveToBookmark(t);for(var f,m=e.startContainer,g=e.collapsed;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)f=m.parentNode,e.setStartBefore(m),e.startContainer===e.endContainer&&e.endOffset--,domUtils.remove(m),m=f;if(!g)for(m=e.endContainer;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)f=m.parentNode,e.setEndBefore(m),domUtils.remove(m),m=f})(c=this.selection.getRange()),c.select()}}},UE.plugins.blockquote=function(){function e(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),"blockquote")}this.commands.blockquote={execCommand:function(t,i){var n=this.selection.getRange(),a=e(this),r=dtd.blockquote,o=n.createBookmark();if(a){var s=n.startContainer,l=domUtils.isBlockElm(s)?s:domUtils.findParent(s,function(e){return domUtils.isBlockElm(e)}),c=n.endContainer,d=domUtils.isBlockElm(c)?c:domUtils.findParent(c,function(e){return domUtils.isBlockElm(e)});l=domUtils.findParentByTagName(l,"li",!0)||l,d=domUtils.findParentByTagName(d,"li",!0)||d,"LI"==l.tagName||"TD"==l.tagName||l===a||domUtils.isBody(l)?domUtils.remove(a,!0):domUtils.breakParent(l,a),l!==d&&(a=domUtils.findParentByTagName(d,"blockquote"))&&("LI"==d.tagName||"TD"==d.tagName||domUtils.isBody(d)?a.parentNode&&domUtils.remove(a,!0):domUtils.breakParent(d,a));for(var u,h=domUtils.getElementsByTagName(this.document,"blockquote"),p=0;u=h[p++];)u.childNodes.length?domUtils.getPosition(u,l)&domUtils.POSITION_FOLLOWING&&domUtils.getPosition(u,d)&domUtils.POSITION_PRECEDING&&domUtils.remove(u,!0):domUtils.remove(u)}else{for(var f=n.cloneRange(),m=1==f.startContainer.nodeType?f.startContainer:f.startContainer.parentNode,g=m,v=1;;){if(domUtils.isBody(m)){g!==m?n.collapsed?(f.selectNode(g),v=0):f.setStartBefore(g):f.setStart(m,0);break}if(!r[m.tagName]){n.collapsed?f.selectNode(g):f.setStartBefore(g);break}g=m,m=m.parentNode}if(v)for(g=m=m=1==f.endContainer.nodeType?f.endContainer:f.endContainer.parentNode;;){if(domUtils.isBody(m)){g!==m?f.setEndAfter(g):f.setEnd(m,m.childNodes.length);break}if(!r[m.tagName]){f.setEndAfter(g);break}g=m,m=m.parentNode}m=n.document.createElement("blockquote"),domUtils.setAttributes(m,i),m.appendChild(f.extractContents()),f.insertNode(m);var b,y=domUtils.getElementsByTagName(m,"blockquote");for(p=0;b=y[p++];)b.parentNode&&domUtils.remove(b,!0)}n.moveToBookmark(o).select()},queryCommandState:function(){return e(this)?1:0}}},UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(e){var t=this.selection.getRange();if(t.collapsed)return t;for(var i=t.createBookmark(),n=i.end,a=function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)},r=domUtils.getNextDomNode(i.start,!1,a);r&&domUtils.getPosition(r,n)&domUtils.POSITION_PRECEDING&&(3==r.nodeType&&(r.nodeValue=r.nodeValue["touppercase"==e?"toUpperCase":"toLowerCase"]()),(r=domUtils.getNextDomNode(r,!0,a))!==n););t.moveToBookmark(i).select()}},UE.commands.indent={execCommand:function(){var e=this.queryCommandState("indent")?"0em":this.options.indentValue||"2em";this.execCommand("Paragraph","p",{style:"text-indent:"+e})},queryCommandState:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e&&e.style.textIndent&&parseInt(e.style.textIndent)?1:0}},UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1},UE.commands.preview={execCommand:function(){var e=window.open("","_blank","").document;e.open(),e.write('<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="'+this.options.UEDITOR_HOME_URL+"ueditor.parse.js\"><\/script><script>setTimeout(function(){uParse('div',{rootPath: '"+this.options.UEDITOR_HOME_URL+"'})},300)<\/script></head><body><div>"+this.getContent(null,null,!0)+"</div></body></html>"),e.close()},notNeedUndo:1},UE.plugins.selectall=function(){this.commands.selectall={execCommand:function(){var e=this.body,t=this.selection.getRange();t.selectNodeContents(e),domUtils.isEmptyBlock(e)&&(browser.opera&&e.firstChild&&1==e.firstChild.nodeType&&t.setStartAtFirst(e.firstChild),t.collapse(!0)),t.select(!0)},notNeedUndo:1},this.addshortcutkey({selectAll:"ctrl+65"})},UE.plugins.paragraph=function(){var e=domUtils.isBlockElm,t=["TD","LI","PRE"];this.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}),this.commands.paragraph={execCommand:function(i,n,a,r){var o=this.selection.getRange();if(o.collapsed){var s=this.document.createTextNode("p");if(o.insertNode(s),browser.ie){var l=s.previousSibling;l&&domUtils.isWhitespace(l)&&domUtils.remove(l),(l=s.nextSibling)&&domUtils.isWhitespace(l)&&domUtils.remove(l)}}if(o=function(i,n,a,r){var o,s=i.createBookmark(),l=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};i.enlarge(!0);for(var c,d=i.createBookmark(),u=domUtils.getNextDomNode(d.start,!1,l),h=i.cloneRange();u&&!(domUtils.getPosition(u,d.end)&domUtils.POSITION_FOLLOWING);)if(3!=u.nodeType&&e(u))u=domUtils.getNextDomNode(u,!0,l);else{for(h.setStartBefore(u);u&&u!==d.end&&!e(u);)c=u,u=domUtils.getNextDomNode(u,!1,null,function(t){return!e(t)});h.setEndAfter(c),o=i.document.createElement(n),a&&(domUtils.setAttributes(o,a),r&&"customstyle"==r&&a.style&&(o.style.cssText=a.style)),o.appendChild(h.extractContents()),domUtils.isEmptyNode(o)&&domUtils.fillChar(i.document,o),h.insertNode(o);var p=o.parentNode;e(p)&&!domUtils.isBody(o.parentNode)&&-1==utils.indexOf(t,p.tagName)&&(r&&"customstyle"==r||(p.getAttribute("dir")&&o.setAttribute("dir",p.getAttribute("dir")),p.style.cssText&&(o.style.cssText=p.style.cssText+";"+o.style.cssText),p.style.textAlign&&!o.style.textAlign&&(o.style.textAlign=p.style.textAlign),p.style.textIndent&&!o.style.textIndent&&(o.style.textIndent=p.style.textIndent),p.style.padding&&!o.style.padding&&(o.style.padding=p.style.padding)),a&&/h\d/i.test(p.tagName)&&!/h\d/i.test(o.tagName)?(domUtils.setAttributes(p,a),r&&"customstyle"==r&&a.style&&(p.style.cssText=a.style),domUtils.remove(o,!0),o=p):domUtils.remove(o.parentNode,!0)),u=-1!=utils.indexOf(t,p.tagName)?p:o,u=domUtils.getNextDomNode(u,!1,l)}return i.moveToBookmark(d).moveToBookmark(s)}(o,n,a,r),s&&(o.setStartBefore(s).collapse(!0),pN=s.parentNode,domUtils.remove(s),domUtils.isBlockElm(pN)&&domUtils.isEmptyNode(pN)&&domUtils.fillNode(this.document,pN)),browser.gecko&&o.collapsed&&1==o.startContainer.nodeType){var c=o.startContainer.childNodes[o.startOffset];c&&1==c.nodeType&&c.tagName.toLowerCase()==n&&o.setStart(c,0).collapse(!0)}return o.select(),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e?e.tagName.toLowerCase():""}}},block=domUtils.isBlockElm,getObj=function(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),function(e){return e&&1==e.nodeType&&e.getAttribute("dir")})},UE.commands.directionality={execCommand:function(e,t){var i=this.selection.getRange();if(i.collapsed){var n=this.document.createTextNode("d");i.insertNode(n)}return function(e,t,i){var n,a=function(e){return 1==e.nodeType?!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)},r=getObj(t);if(r&&e.collapsed)return r.setAttribute("dir",i),e;n=e.createBookmark(),e.enlarge(!0);for(var o,s=e.createBookmark(),l=domUtils.getNextDomNode(s.start,!1,a),c=e.cloneRange();l&&!(domUtils.getPosition(l,s.end)&domUtils.POSITION_FOLLOWING);)if(3!=l.nodeType&&block(l))l=domUtils.getNextDomNode(l,!0,a);else{for(c.setStartBefore(l);l&&l!==s.end&&!block(l);)o=l,l=domUtils.getNextDomNode(l,!1,null,function(e){return!block(e)});c.setEndAfter(o);var d=c.getCommonAncestor();if(!domUtils.isBody(d)&&block(d))d.setAttribute("dir",i),l=d;else{var u=e.document.createElement("p");u.setAttribute("dir",i);var h=c.extractContents();u.appendChild(h),c.insertNode(u),l=u}l=domUtils.getNextDomNode(l,!1,a)}e.moveToBookmark(s).moveToBookmark(n)}(i,this,t),n&&(i.setStartBefore(n).collapse(!0),domUtils.remove(n)),i.select(),!0},queryCommandValue:function(){var e=getObj(this);return e?e.getAttribute("dir"):"ltr"}},UE.plugins.horizontal=function(){this.commands.horizontal={execCommand:function(e){var t=this;if(-1!==t.queryCommandState(e)){t.execCommand("insertHtml","<hr>");var i,n=t.selection.getRange(),a=n.startContainer;if(1==a.nodeType&&!a.childNodes[n.startOffset])(i=a.childNodes[n.startOffset-1])&&1==i.nodeType&&"HR"==i.tagName&&("p"==t.options.enterTag?(i=t.document.createElement("p"),n.insertNode(i),n.setStart(i,0).setCursor()):(i=t.document.createElement("br"),n.insertNode(i),n.setStartBefore(i).setCursor()));return!0}},queryCommandState:function(){return domUtils.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}},this.addListener("delkeydown",function(e,t){var i=this.selection.getRange();if(i.txtToElmBoundary(!0),domUtils.isStartInblock(i)){var n=i.startContainer.previousSibling;if(n&&domUtils.isTagNode(n,"hr"))return domUtils.remove(n),i.select(),domUtils.preventDefault(t),!0}})},UE.commands.time=UE.commands.date={execCommand:function(e,t){var i=new Date;this.execCommand("insertHtml","time"==e?function(e,t){var i=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2),a=("0"+e.getSeconds()).slice(-2);return(t=t||"hh:ii:ss").replace(/hh/gi,i).replace(/ii/gi,n).replace(/ss/gi,a)}(i,t):function(e,t){var i=("000"+e.getFullYear()).slice(-4),n=i.slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2);return(t=t||"yyyy-mm-dd").replace(/yyyy/gi,i).replace(/yy/gi,n).replace(/mm/gi,a).replace(/dd/gi,r)}(i,t))}},UE.plugins.rowspacing=function(){this.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]}),this.commands.rowspacing={execCommand:function(e,t,i){return this.execCommand("paragraph","p",{style:"margin-"+i+":"+t+"px"}),!0},queryCommandValue:function(e,t){var i=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});return i&&domUtils.getComputedStyle(i,"margin-"+t).replace(/[^\d]/g,"")||0}}},UE.plugins.lineheight=function(){this.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]}),this.commands.lineheight={execCommand:function(e,t){return this.execCommand("paragraph","p",{style:"line-height:"+("1"==t?"normal":t+"em")}),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});if(e){var t=domUtils.getComputedStyle(e,"line-height");return"normal"==t?1:t.replace(/[^\d.]*/gi,"")}}}},UE.plugins.insertcode=function(){var e=this;e.ready(function(){utils.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",e.document)}),e.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"}),e.commands.insertcode={execCommand:function(e,t){var i=this,n=i.selection.getRange(),a=domUtils.findParentByTagName(n.startContainer,"pre",!0);if(a)a.className="brush:"+t+";toolbar:false;";else{var r="";if(n.collapsed)r=browser.ie&&browser.ie11below?browser.version<=8?"&nbsp;":"":"<br/>";else{var o=n.extractContents(),s=i.document.createElement("div");s.appendChild(o),utils.each(UE.filterNode(UE.htmlparser(s.innerHTML.replace(/[\r\t]/g,"")),i.options.filterTxtRules).children,function(e){if(browser.ie&&browser.ie11below&&browser.version>8)"element"==e.type?"br"==e.tagName?r+="\n":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?r+="\n":dtd.$empty[e.tagName]||(r+=t.innerText()):r+=t.data}),/\n$/.test(r)||(r+="\n")):r+=e.data+"\n",!e.nextSibling()&&/\n$/.test(r)&&(r=r.replace(/\n$/,""));else if(browser.ie&&browser.ie11below)"element"==e.type?"br"==e.tagName?r+="<br>":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?r+="<br>":dtd.$empty[e.tagName]||(r+=t.innerText()):r+=t.data}),/br>$/.test(r)||(r+="<br>")):r+=e.data+"<br>",!e.nextSibling()&&/<br>$/.test(r)&&(r=r.replace(/<br>$/,""));else if(r+="element"==e.type?dtd.$empty[e.tagName]?"":e.innerText():e.data,!/br\/?\s*>$/.test(r)){if(!e.nextSibling())return;r+="<br>"}})}i.execCommand("inserthtml",'<pre id="coder"class="brush:'+t+';toolbar:false">'+r+"</pre>",!0),a=i.document.getElementById("coder"),domUtils.removeAttributes(a,"id");var l=a.previousSibling;l&&(3==l.nodeType&&1==l.nodeValue.length&&browser.ie&&6==browser.version||domUtils.isEmptyBlock(l))&&domUtils.remove(l);n=i.selection.getRange();domUtils.isEmptyBlock(a)?n.setStart(a,0).setCursor(!1,!0):n.selectNodeContents(a).select()}},queryCommandValue:function(){var e=this.selection.getStartElementPath(),t="";return utils.each(e,function(e){if("PRE"==e.nodeName){var i=e.className.match(/brush:([^;]+)/);return t=i&&i[1]?i[1]:"",!1}}),t}},e.addInputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t=e.getNodesByTagName("br");if(t.length)browser.ie&&browser.ie11below&&browser.version>8&&utils.each(t,function(e){var t=UE.uNode.createText("\n");e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)});else if(!(browser.ie&&browser.ie11below&&browser.version>8)){var i=e.innerText().split(/\n/);e.innerHTML(""),utils.each(i,function(t){t.length&&e.appendChild(UE.uNode.createText(t)),e.appendChild(UE.uNode.createElement("br"))})}})}),e.addOutputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t="";utils.each(e.children,function(e){"text"==e.type?t+=e.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,""):"br"==e.tagName?t+="\n":t+=dtd.$empty[e.tagName]?e.innerText():""}),e.innerText(t.replace(/(&nbsp;|\n)+$/,""))})}),e.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,selectall:1};e.queryCommandState;e.queryCommandState=function(e){return!this.notNeedCodeQuery[e.toLowerCase()]&&this.selection&&this.queryCommandValue("insertcode")?-1:UE.Editor.prototype.queryCommandState.apply(this,arguments)},e.addListener("beforeenterkeydown",function(){var t=e.selection.getRange();if(i=domUtils.findParentByTagName(t.startContainer,"pre",!0)){if(e.fireEvent("saveScene"),t.collapsed||t.deleteContents(),!browser.ie||browser.ie9above){var i,n=e.document.createElement("br");for(t.insertNode(n).setStartAfter(n).collapse(!0),n.nextSibling||browser.ie&&!(browser.version>10)?t.setStartAfter(n):t.insertNode(n.cloneNode(!1)),i=n.previousSibling;i;)if(l=i,!(i=i.previousSibling)||"BR"==i.nodeName){i=l;break}if(i){for(var a="";i&&"BR"!=i.nodeName&&new RegExp("^[\\s"+domUtils.fillChar+"]*$").test(i.nodeValue);)a+=i.nodeValue,i=i.nextSibling;if("BR"!=i.nodeName)(c=i.nodeValue.match(new RegExp("^([\\s"+domUtils.fillChar+"]+)")))&&c[1]&&(a+=c[1]);a&&(a=e.document.createTextNode(a),t.insertNode(a).setStartAfter(a))}t.collapse(!0).select(!0)}else if(browser.version>8){var r=e.document.createTextNode("\n"),o=t.startContainer;if(0==t.startOffset){if(o.previousSibling){t.insertNode(r);var s=e.document.createTextNode(" ");t.setStartAfter(r).insertNode(s).setStart(s,0).collapse(!0).select(!0)}}else{t.insertNode(r).setStartAfter(r);s=e.document.createTextNode(" ");(o=t.startContainer.childNodes[t.startOffset])&&!/^\n/.test(o.nodeValue)&&t.setStartBefore(r),t.insertNode(s).setStart(s,0).collapse(!0).select(!0)}}else{var l;n=e.document.createElement("br");for(t.insertNode(n),t.insertNode(e.document.createTextNode(domUtils.fillChar)),t.setStartAfter(n),i=n.previousSibling;i;)if(l=i,!(i=i.previousSibling)||"BR"==i.nodeName){i=l;break}if(i){var c;for(a="";i&&"BR"!=i.nodeName&&new RegExp("^[ "+domUtils.fillChar+"]*$").test(i.nodeValue);)a+=i.nodeValue,i=i.nextSibling;if("BR"!=i.nodeName)(c=i.nodeValue.match(new RegExp("^([ "+domUtils.fillChar+"]+)")))&&c[1]&&(a+=c[1]);a=e.document.createTextNode(a),t.insertNode(a).setStartAfter(a)}t.collapse(!0).select()}return e.fireEvent("saveScene"),!0}}),e.addListener("tabkeydown",function(t,i){var n=e.selection.getRange(),a=domUtils.findParentByTagName(n.startContainer,"pre",!0);if(a){if(e.fireEvent("saveScene"),i.shiftKey);else if(n.collapsed){var r=e.document.createTextNode("    ");n.insertNode(r).setStartAfter(r).collapse(!0).select(!0)}else{for(var o=n.createBookmark(),s=o.start.previousSibling;s;){if(a.firstChild===s&&!domUtils.isBr(s)){a.insertBefore(e.document.createTextNode("    "),s);break}if(domUtils.isBr(s)){a.insertBefore(e.document.createTextNode("    "),s.nextSibling);break}s=s.previousSibling}var l=o.end;for(s=o.start.nextSibling,a.firstChild===o.start&&a.insertBefore(e.document.createTextNode("    "),s.nextSibling);s&&s!==l;){if(domUtils.isBr(s)&&s.nextSibling){if(s.nextSibling===l)break;a.insertBefore(e.document.createTextNode("    "),s.nextSibling)}s=s.nextSibling}n.moveToBookmark(o).select()}return e.fireEvent("saveScene"),!0}}),e.addListener("beforeinserthtml",function(e,t){var i=this,n=i.selection.getRange();if(domUtils.findParentByTagName(n.startContainer,"pre",!0)){n.collapsed||n.deleteContents();var a="";if(browser.ie&&browser.version>8){utils.each(UE.filterNode(UE.htmlparser(t),i.options.filterTxtRules).children,function(e){"element"==e.type?"br"==e.tagName?a+="\n":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?a+="\n":dtd.$empty[e.tagName]||(a+=t.innerText()):a+=t.data}),/\n$/.test(a)||(a+="\n")):a+=e.data+"\n",!e.nextSibling()&&/\n$/.test(a)&&(a=a.replace(/\n$/,""))});var r=i.document.createTextNode(utils.html(a.replace(/&nbsp;/g," ")));n.insertNode(r).selectNode(r).select()}else{var o=i.document.createDocumentFragment();utils.each(UE.filterNode(UE.htmlparser(t),i.options.filterTxtRules).children,function(e){"element"==e.type?"br"==e.tagName?o.appendChild(i.document.createElement("br")):dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?o.appendChild(i.document.createElement("br")):dtd.$empty[e.tagName]||o.appendChild(i.document.createTextNode(utils.html(t.innerText().replace(/&nbsp;/g," ")))):o.appendChild(i.document.createTextNode(utils.html(t.data.replace(/&nbsp;/g," "))))}),"BR"!=o.lastChild.nodeName&&o.appendChild(i.document.createElement("br"))):o.appendChild(i.document.createTextNode(utils.html(e.data.replace(/&nbsp;/g," ")))),e.nextSibling()||"BR"!=o.lastChild.nodeName||o.removeChild(o.lastChild)}),n.insertNode(o).select()}return!0}}),e.addListener("keydown",function(e,t){if(40==(t.keyCode||t.which)){var i,n=this.selection.getRange(),a=n.startContainer;if(n.collapsed&&(i=domUtils.findParentByTagName(n.startContainer,"pre",!0))&&!i.nextSibling){for(var r=i.lastChild;r&&"BR"==r.nodeName;)r=r.previousSibling;(r===a||n.startContainer===i&&n.startOffset==i.childNodes.length)&&(this.execCommand("insertparagraph"),domUtils.preventDefault(t))}}}),e.addListener("delkeydown",function(t,i){var n=this.selection.getRange();n.txtToElmBoundary(!0);var a=n.startContainer;if(domUtils.isTagNode(a,"pre")&&n.collapsed&&domUtils.isStartInblock(n)){var r=e.document.createElement("p");return domUtils.fillNode(e.document,r),a.parentNode.insertBefore(r,a),domUtils.remove(a),n.setStart(r,0).setCursor(!1,!0),domUtils.preventDefault(i),!0}})},UE.commands.cleardoc={execCommand:function(e){var t=this,i=t.options.enterTag,n=t.selection.getRange();"br"==i?(t.body.innerHTML="<br/>",n.setStart(t.body,0).setCursor()):(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",n.setStart(t.body.firstChild,0).setCursor(!1,!0)),setTimeout(function(){t.fireEvent("clearDoc")},0)}},UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){utils.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",this.document)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t;(t=e.getAttr("anchorname"))&&(e.tagName="a",e.setAttr({anchorname:"",name:t,class:""}))})},inputRule:function(e){utils.each(e.getNodesByTagName("a"),function(e){e.getAttr("name")&&!e.getAttr("href")&&(e.tagName="img",e.setAttr({anchorname:e.getAttr("name"),class:"anchorclass"}),e.setAttr("name"))})},commands:{anchor:{execCommand:function(e,t){var i=this.selection.getRange(),n=i.getClosedNode();if(n&&n.getAttribute("anchorname"))t?n.setAttribute("anchorname",t):(i.setStartBefore(n).setCursor(),domUtils.remove(n));else if(t){var a=this.document.createElement("img");i.collapse(!0),domUtils.setAttributes(a,{anchorname:t,class:"anchorclass"}),i.insertNode(a).setStartAfter(a).setCursor(!1,!0)}}}}}}),UE.plugins.wordcount=function(){var e,t=this;t.setOpt("wordCount",!0),t.addListener("contentchange",function(){t.fireEvent("wordcount")}),t.addListener("ready",function(){var t=this;domUtils.on(t.body,"keyup",function(i){(i.keyCode||i.which)in{16:1,18:1,20:1,37:1,38:1,39:1,40:1}||(clearTimeout(e),e=setTimeout(function(){t.fireEvent("wordcount")},200))})})},UE.plugins.pagebreak=function(){var e=this,t=["td"];function i(t){if(domUtils.isEmptyBlock(t)){for(var i,n=t.firstChild;n&&1==n.nodeType&&domUtils.isEmptyBlock(n);)i=n,n=n.firstChild;!i&&(i=t),domUtils.fillNode(e.document,i)}}function n(e){return e&&1==e.nodeType&&"HR"==e.tagName&&"pagebreak"==e.className}e.setOpt("pageBreakTag","_ueditor_page_break_tag_"),e.ready(function(){utils.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",e.document)}),e.addInputRule(function(t){t.traversal(function(t){if("text"==t.type&&t.data==e.options.pageBreakTag){var i=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');t.parentNode.insertBefore(i,t),t.parentNode.removeChild(t)}})}),e.addOutputRule(function(t){utils.each(t.getNodesByTagName("hr"),function(t){if("pagebreak"==t.getAttr("class")){var i=UE.uNode.createText(e.options.pageBreakTag);t.parentNode.insertBefore(i,t),t.parentNode.removeChild(t)}})}),e.commands.pagebreak={execCommand:function(){var a=e.selection.getRange(),r=e.document.createElement("hr");domUtils.setAttributes(r,{class:"pagebreak",noshade:"noshade",size:"5"}),domUtils.unSelectable(r);var o=domUtils.findParentByTagName(a.startContainer,t,!0),s=[];if(o)switch(o.tagName){case"TD":if((u=o.parentNode).previousSibling)u.parentNode.insertBefore(r,u),s=domUtils.findParents(r);else{var l=domUtils.findParentByTagName(u,"table");l.parentNode.insertBefore(r,l),s=domUtils.findParents(r,!0)}r!==(u=s[1])&&domUtils.breakParent(r,u),e.fireEvent("afteradjusttable",e.document)}else{if(!a.collapsed){a.deleteContents();for(var c=a.startContainer;!domUtils.isBody(c)&&domUtils.isBlockElm(c)&&domUtils.isEmptyNode(c);)a.setStartBefore(c).collapse(!0),domUtils.remove(c),c=a.startContainer}a.insertNode(r);for(var d,u=r.parentNode;!domUtils.isBody(u);)domUtils.breakParent(r,u),(d=r.nextSibling)&&domUtils.isEmptyBlock(d)&&domUtils.remove(d),u=r.parentNode;d=r.nextSibling;var h=r.previousSibling;if(n(h)?domUtils.remove(h):h&&i(h),d)n(d)?domUtils.remove(d):i(d),a.setEndAfter(r).collapse(!1);else{var p=e.document.createElement("p");r.parentNode.appendChild(p),domUtils.fillNode(e.document,p),a.setStart(p,0).collapse(!0)}a.select(!0)}}}},UE.plugin.register("wordimage",function(){var e=this,t=[];return{commands:{wordimage:{execCommand:function(){for(var t,i=domUtils.getElementsByTagName(e.body,"img"),n=[],a=0;t=i[a++];){var r=t.getAttribute("word_img");r&&n.push(r)}return n},queryCommandState:function(){t=domUtils.getElementsByTagName(e.body,"img");for(var i,n=0;i=t[n++];)if(i.getAttribute("word_img"))return 1;return-1},notNeedUndo:!0}},inputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var i=t.attrs,n=parseInt(i.width)<128||parseInt(i.height)<43,a=e.options,r=a.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";i.src&&/^(?:(file:\/+))/.test(i.src)&&t.setAttr({width:i.width,height:i.height,alt:i.alt,word_img:i.src,src:r,style:"background:url("+(n?a.themePath+a.theme+"/images/word.gif":a.langPath+a.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})}}}),UE.plugins.dragdrop=function(){var e=this;e.ready(function(){domUtils.on(this.body,"dragend",function(){var t=e.selection.getRange(),i=t.getClosedNode()||e.selection.getStart();if(i&&"IMG"==i.tagName){for(var n,a=i.previousSibling;(n=i.nextSibling)&&1==n.nodeType&&"SPAN"==n.tagName&&!n.firstChild;)domUtils.remove(n);(!a||1!=a.nodeType||domUtils.isEmptyBlock(a))&&a||n&&(!n||domUtils.isEmptyBlock(n))||(a&&"P"==a.tagName&&!domUtils.isEmptyBlock(a)?(a.appendChild(i),domUtils.moveChild(n,a),domUtils.remove(n)):n&&"P"==n.tagName&&!domUtils.isEmptyBlock(n)&&n.insertBefore(i,n.firstChild),a&&"P"==a.tagName&&domUtils.isEmptyBlock(a)&&domUtils.remove(a),n&&"P"==n.tagName&&domUtils.isEmptyBlock(n)&&domUtils.remove(n),t.selectNode(i).select(),e.fireEvent("saveScene"))}})}),e.addListener("keyup",function(t,i){if(13==(i.keyCode||i.which)){var n,a=e.selection.getRange();(n=domUtils.findParentByTagName(a.startContainer,"p",!0))&&"center"==domUtils.getComputedStyle(n,"text-align")&&domUtils.removeStyle(n,"text-align")}})},UE.plugins.undo=function(){var e,t=this,i=t.options.maxUndoCount||20,n=t.options.maxInputCount||20,a=new RegExp(domUtils.fillChar+"|</hr>","gi"),r={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},o=t.options.autoClearEmptyNode;function s(e,t){if(e.length!=t.length)return 0;for(var i=0,n=e.length;i<n;i++)if(e[i]!=t[i])return 0;return 1}t.undoManger=new function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&1==this.list.length)return void this.reset();for(;this.list[this.index].content==this.list[this.index-1].content;)if(this.index--,0==this.index)return this.restore(0);this.restore(--this.index)}},this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}},this.restore=function(){var e=this.editor,t=this.list[this.index],i=UE.htmlparser(t.content.replace(a,""));e.options.autoClearEmptyNode=!1,e.filterInputRule(i),e.options.autoClearEmptyNode=o,e.document.body.innerHTML=i.toHtml(),e.fireEvent("afterscencerestore"),browser.ie&&utils.each(domUtils.getElementsByTagName(e.document,"td th caption p"),function(t){domUtils.isEmptyNode(t)&&domUtils.fillNode(e.document,t)});try{var n=new dom.Range(e.document).moveToAddress(t.address);n.select(r[n.startContainer.nodeName.toLowerCase()])}catch(e){}this.update(),this.clearKey(),e.fireEvent("reset",!0)},this.getScene=function(){var e=this.editor,t=e.selection.getRange().createAddress(!1,!0);e.fireEvent("beforegetscene");var i=UE.htmlparser(e.body.innerHTML);e.options.autoClearEmptyNode=!1,e.filterOutputRule(i),e.options.autoClearEmptyNode=o;var n=i.toHtml();return e.fireEvent("aftergetscene"),{address:t,content:n}},this.save=function(n,a){clearTimeout(e);var r,o,l=this.getScene(a),c=this.list[this.index];c&&c.content!=l.content&&t.trigger("contentchange"),c&&c.content==l.content&&(n||(r=c.address,o=l.address,r.collapsed==o.collapsed&&s(r.startAddress,o.startAddress)&&s(r.endAddress,o.endAddress)))||(this.list=this.list.slice(0,this.index+1),this.list.push(l),this.list.length>i&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())},this.update=function(){this.hasRedo=!!this.list[this.index+1],this.hasUndo=!!this.list[this.index-1]},this.reset=function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.clearKey()},this.clearKey=function(){c=0,null}},t.undoManger.editor=t,t.addListener("saveScene",function(){var e=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,e)}),t.addListener("reset",function(e,t){t||this.undoManger.reset()}),t.commands.redo=t.commands.undo={execCommand:function(e){this.undoManger[e]()},queryCommandState:function(e){return this.undoManger["has"+("undo"==e.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var l={16:1,17:1,18:1,37:1,38:1,39:1,40:1},c=0,d=!1;t.addListener("ready",function(){domUtils.on(this.body,"compositionstart",function(){d=!0}),domUtils.on(this.body,"compositionend",function(){d=!1})}),t.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var u=!0;t.addListener("keydown",function(t,i){var a=this,r=i.keyCode||i.which;if(!(l[r]||i.ctrlKey||i.metaKey||i.shiftKey||i.altKey)){if(d)return;if(!a.selection.getRange().collapsed)return a.undoManger.save(!1,!0),void(u=!1);function o(e){e.undoManger.save(!1,!0),e.fireEvent("selectionchange")}0==a.undoManger.list.length&&a.undoManger.save(!0),clearTimeout(e),e=setTimeout(function(){if(d)var e=setInterval(function(){d||(o(a),clearInterval(e))},300);else o(a)},200),r,++c>=n&&o(a)}}),t.addListener("keyup",function(e,t){var i=t.keyCode||t.which;if(!(l[i]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){if(d)return;u||(this.undoManger.save(!1,!0),u=!0)}}),t.stopCmdUndo=function(){t.__hasEnterExecCommand=!0},t.startCmdUndo=function(){t.__hasEnterExecCommand=!1}},UE.plugin.register("copy",function(){var e=this;function t(){ZeroClipboard.config({debug:!1,swfPath:e.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.swf"});var t=e.zeroclipboard=new ZeroClipboard;t.on("copy",function(t){var i=t.client,n=e.selection.getRange(),a=document.createElement("div");a.appendChild(n.cloneContents()),i.setText(a.innerText||a.textContent),i.setHtml(a.innerHTML),n.select()}),t.on("mouseover mouseout",function(e){var t=e.target;"mouseover"==e.type?domUtils.addClass(t,"edui-state-hover"):"mouseout"==e.type&&domUtils.removeClasses(t,"edui-state-hover")}),t.on("wrongflash noflash",function(){ZeroClipboard.destroy()})}return{bindEvents:{ready:function(){browser.ie||(window.ZeroClipboard?t():utils.loadFile(document,{src:e.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.js",tag:"script",type:"text/javascript",defer:"defer"},function(){t()}))}},commands:{copy:{execCommand:function(t){e.document.execCommand("copy")||alert(e.getLang("copymsg"))}}}}}),UE.plugins.paste=function(){function e(e){var t=this.document;if(!t.getElementById("baidu_pastebin")){var i=this.selection.getRange(),n=i.createBookmark(),a=t.createElement("div");a.id="baidu_pastebin",browser.webkit&&a.appendChild(t.createTextNode(domUtils.fillChar+domUtils.fillChar)),t.body.appendChild(a),n.start.style.display="",a.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(n.start).y+"px",i.selectNodeContents(a).select(!0),setTimeout(function(){if(browser.webkit)for(var r,o=0,s=t.querySelectorAll("#baidu_pastebin");r=s[o++];){if(!domUtils.isEmptyNode(r)){a=r;break}domUtils.remove(r)}try{a.parentNode.removeChild(a)}catch(e){}i.moveToBookmark(n).select(!0),e(a)},0)}}var t,i,n,a=this;function r(e){return e.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(e,t,i,n){return{img:1}[i=i.toLowerCase()]?e:(n=n.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(e,t,i){return{src:1,href:1,name:1}[t.toLowerCase()]?t+"="+i+" ":""}),{span:1,div:1}[i]?"":"<"+t+i+" "+utils.trim(n)+">")})}function o(e){var o;if(e.firstChild){for(var s,l=domUtils.getElementsByTagName(e,"span"),c=0;s=l[c++];)"_baidu_cut_start"!=s.id&&"_baidu_cut_end"!=s.id||domUtils.remove(s);if(browser.webkit){var d,u=e.querySelectorAll("div br");for(c=0;d=u[c++];){var h=d.parentNode;"DIV"==h.tagName&&1==h.childNodes.length&&(h.innerHTML="<p><br/></p>",domUtils.remove(h))}var p,f=e.querySelectorAll("#baidu_pastebin");for(c=0;p=f[c++];){var m=a.document.createElement("p");for(p.parentNode.insertBefore(m,p);p.firstChild;)m.appendChild(p.firstChild);domUtils.remove(p)}var g=e.querySelectorAll("meta");for(c=0;b=g[c++];)domUtils.remove(b);u=e.querySelectorAll("br");for(c=0;b=u[c++];)/^apple-/i.test(b.className)&&domUtils.remove(b)}if(browser.gecko){var v=e.querySelectorAll("[_moz_dirty]");for(c=0;b=v[c++];)b.removeAttribute("_moz_dirty")}if(!browser.ie){var b,y=e.querySelectorAll("span.Apple-style-span");for(c=0;b=y[c++];)domUtils.remove(b,!0)}o=e.innerHTML,o=UE.filterWord(o);var _=UE.htmlparser(o);if(a.options.filterRules&&UE.filterNode(_,a.options.filterRules),a.filterInputRule(_),browser.webkit){var w=_.lastChild();w&&"element"==w.type&&"br"==w.tagName&&_.removeChild(w),utils.each(a.body.querySelectorAll("div"),function(e){domUtils.isEmptyBlock(e)&&domUtils.remove(e,!0)})}if(o={html:_.toHtml()},a.fireEvent("beforepaste",o,_),!o.html)return;_=UE.htmlparser(o.html,!0),1===a.queryCommandState("pasteplain")?a.execCommand("insertHtml",UE.filterNode(_,a.options.filterTxtRules).toHtml(),!0):(UE.filterNode(_,a.options.filterTxtRules),t=_.toHtml(),i=o.html,n=a.selection.getRange().createAddress(!0),a.execCommand("insertHtml",!0===a.getOpt("retainOnlyLabelPasted")?r(i):i,!0)),a.fireEvent("afterpaste",o)}}a.setOpt({retainOnlyLabelPasted:!1}),a.addListener("pasteTransfer",function(e,o){if(n&&t&&i&&t!=i){var s=a.selection.getRange();if(s.moveToAddress(n,!0),!s.collapsed){for(;!domUtils.isBody(s.startContainer);){var l=s.startContainer;if(1==l.nodeType){if(!(l=l.childNodes[s.startOffset])){s.setStartBefore(s.startContainer);continue}var c=l.previousSibling;c&&3==c.nodeType&&new RegExp("^[\n\r\t "+domUtils.fillChar+"]*$").test(c.nodeValue)&&s.setStartBefore(c)}if(0!=s.startOffset)break;s.setStartBefore(s.startContainer)}for(;!domUtils.isBody(s.endContainer);){var d=s.endContainer;if(1==d.nodeType){if(!(d=d.childNodes[s.endOffset])){s.setEndAfter(s.endContainer);continue}var u=d.nextSibling;u&&3==u.nodeType&&new RegExp("^[\n\r\t"+domUtils.fillChar+"]*$").test(u.nodeValue)&&s.setEndAfter(u)}if(s.endOffset!=s.endContainer[3==s.endContainer.nodeType?"nodeValue":"childNodes"].length)break;s.setEndAfter(s.endContainer)}}s.deleteContents(),s.select(!0),a.__hasEnterExecCommand=!0;var h=i;2===o?h=r(h):o&&(h=t),a.execCommand("inserthtml",h,!0),a.__hasEnterExecCommand=!1;for(var p=a.selection.getRange();!domUtils.isBody(p.startContainer)&&!p.startOffset&&p.startContainer[3==p.startContainer.nodeType?"nodeValue":"childNodes"].length;)p.setStartBefore(p.startContainer);var f=p.createAddress(!0);n.endAddress=f.startAddress}}),a.addListener("ready",function(){domUtils.on(a.body,"cut",function(){!a.selection.getRange().collapsed&&a.undoManger&&a.undoManger.save()}),domUtils.on(a.body,browser.ie||browser.opera?"keydown":"paste",function(t){(!browser.ie&&!browser.opera||(t.ctrlKey||t.metaKey)&&"86"==t.keyCode)&&e.call(a,function(e){o(e)})})}),a.commands.paste={execCommand:function(t){browser.ie?(e.call(a,function(e){o(e)}),a.document.execCommand("paste")):alert(a.getLang("pastemsg"))}}},UE.plugins.pasteplain=function(){this.setOpt({pasteplain:!1,filterTxtRules:function(){function e(e){e.tagName="p",e.setStyle()}function t(e){e.parentNode.removeChild(e,!0)}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(e){for(var t,i=UE.uNode.createElement("p");t=e.firstChild();)"text"!=t.type&&UE.dom.dtd.$block[t.tagName]?i.firstChild()?(e.parentNode.insertBefore(i,e),i=UE.uNode.createElement("p")):e.parentNode.insertBefore(t,e):i.appendChild(t);i.firstChild()&&e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e)},ol:t,ul:t,dl:t,dt:t,dd:t,li:t,caption:e,th:e,tr:e,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,td:function(e){!!e.innerText()&&e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),e),e.parentNode.removeChild(e,e.innerText())}}}()});var e=this.options.pasteplain;this.commands.pasteplain={queryCommandState:function(){return e?1:0},execCommand:function(){e=0|!e},notNeedUndo:1}},UE.plugins.list=function(){var e=this,t={TD:1,PRE:1,BLOCKQUOTE:1},i={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};function n(e){var t=[];for(var i in e)t.push(i);return t}e.setOpt({autoTransWordToList:!1,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1,disablePInList:!1});var a={OL:n(e.options.insertorderedlist),UL:n(e.options.insertunorderedlist)},r=e.options.listiconpath;for(var o in i)e.options.insertorderedlist.hasOwnProperty(o)||e.options.insertunorderedlist.hasOwnProperty(o)||delete i[o];function s(e){var t=e.className;return domUtils.hasClass(e,/custom_/)?t.match(/custom_(\w+)/)[1]:domUtils.getStyle(e,"list-style-type")}function l(e,t){utils.each(domUtils.getElementsByTagName(e,"ol ul"),function(n){if(domUtils.inDoc(n,e)){var r=n.parentNode;if(r.tagName==n.tagName){var o=s(n)||("OL"==n.tagName?"decimal":"disc");if(o==(s(r)||("OL"==r.tagName?"decimal":"disc"))){var l=utils.indexOf(a[n.tagName],o);l=l+1==a[n.tagName].length?0:l+1,d(n,a[n.tagName][l])}}var u=0,h=2;domUtils.hasClass(n,/custom_/)?/[ou]l/i.test(r.tagName)&&domUtils.hasClass(r,/custom_/)||(h=1):/[ou]l/i.test(r.tagName)&&domUtils.hasClass(r,/custom_/)&&(h=3);var p=domUtils.getStyle(n,"list-style-type");p&&(n.style.cssText="list-style-type:"+p),n.className=utils.trim(n.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+h,utils.each(domUtils.getElementsByTagName(n,"li"),function(e){if(e.style.cssText&&(e.style.cssText=""),e.firstChild){if(e.parentNode===n){if(u++,domUtils.hasClass(n,/custom_/)){var t=1,a=s(n);if("OL"==n.tagName){if(a)switch(a){case"cn":case"cn1":case"cn2":u>10&&(u%10==0||u>10&&u<20)?t=2:u>20&&(t=3);break;case"num2":u>9&&(t=2)}e.className="list-"+i[a]+u+" list-"+a+"-paddingleft-"+t}else e.className="list-"+i[a]+" list-"+a+"-paddingleft"}else e.className=e.className.replace(/list-[\w\-]+/gi,"");var r=e.getAttribute("class");null===r||r.replace(/\s/g,"")||domUtils.removeAttributes(e,"class")}}else domUtils.remove(e)}),!t&&c(n,n.tagName.toLowerCase(),s(n)||domUtils.getStyle(n,"list-style-type"),!0)}})}function c(e,t,i,n){var a=e.nextSibling;a&&1==a.nodeType&&a.tagName.toLowerCase()==t&&(s(a)||domUtils.getStyle(a,"list-style-type")||("ol"==t?"decimal":"disc"))==i&&(domUtils.moveChild(a,e),0==a.childNodes.length&&domUtils.remove(a)),a&&domUtils.isFillChar(a)&&domUtils.remove(a);var r=e.previousSibling;r&&1==r.nodeType&&r.tagName.toLowerCase()==t&&(s(r)||domUtils.getStyle(r,"list-style-type")||("ol"==t?"decimal":"disc"))==i&&domUtils.moveChild(e,r),r&&domUtils.isFillChar(r)&&domUtils.remove(r),!n&&domUtils.isEmptyBlock(e)&&domUtils.remove(e),s(e)&&l(e.ownerDocument,!0)}function d(e,t){i[t]&&(e.className="custom_"+t);try{domUtils.setStyle(e,"list-style-type",t)}catch(e){}}function u(e){var t=e.previousSibling;t&&domUtils.isEmptyBlock(t)&&domUtils.remove(t),(t=e.nextSibling)&&domUtils.isEmptyBlock(t)&&domUtils.remove(t)}function h(e){for(;e&&!domUtils.isBody(e);){if("TABLE"==e.nodeName)return null;if("LI"==e.nodeName)return e;e=e.parentNode}}e.ready(function(){var t=[];for(var n in i){if("dash"==n||"dot"==n)t.push("li.list-"+i[n]+"{background-image:url("+r+i[n]+".gif)}"),t.push("ul.custom_"+n+"{list-style:none;}ul.custom_"+n+" li{background-position:0 3px;background-repeat:no-repeat}");else{for(var a=0;a<99;a++)t.push("li.list-"+i[n]+a+"{background-image:url("+r+"list-"+i[n]+a+".gif)}");t.push("ol.custom_"+n+"{list-style:none;}ol.custom_"+n+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(n){case"cn":t.push("li.list-"+n+"-paddingleft-1{padding-left:25px}"),t.push("li.list-"+n+"-paddingleft-2{padding-left:40px}"),t.push("li.list-"+n+"-paddingleft-3{padding-left:55px}");break;case"cn1":t.push("li.list-"+n+"-paddingleft-1{padding-left:30px}"),t.push("li.list-"+n+"-paddingleft-2{padding-left:40px}"),t.push("li.list-"+n+"-paddingleft-3{padding-left:55px}");break;case"cn2":t.push("li.list-"+n+"-paddingleft-1{padding-left:40px}"),t.push("li.list-"+n+"-paddingleft-2{padding-left:55px}"),t.push("li.list-"+n+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":t.push("li.list-"+n+"-paddingleft-1{padding-left:25px}");break;case"num2":t.push("li.list-"+n+"-paddingleft-1{padding-left:35px}"),t.push("li.list-"+n+"-paddingleft-2{padding-left:40px}");break;case"dash":t.push("li.list-"+n+"-paddingleft{padding-left:35px}");break;case"dot":t.push("li.list-"+n+"-paddingleft{padding-left:20px}")}}t.push(".list-paddingleft-1{padding-left:0}"),t.push(".list-paddingleft-2{padding-left:"+e.options.listDefaultPaddingLeft+"px}"),t.push(".list-paddingleft-3{padding-left:"+2*e.options.listDefaultPaddingLeft+"px}"),utils.cssRule("list","ol,ul{margin:0;pading:0;"+(browser.ie?"":"width:95%")+"}li{clear:both;}"+t.join("\n"),e.document)}),e.ready(function(){domUtils.on(e.body,"cut",function(){setTimeout(function(){var t,i=e.selection.getRange();if(!i.collapsed&&(t=domUtils.findParentByTagName(i.startContainer,"li",!0))&&!t.nextSibling&&domUtils.isEmptyBlock(t)){var n,a=t.parentNode;if(n=a.previousSibling)domUtils.remove(a),i.setStartAtLast(n).collapse(!0),i.select(!0);else if(n=a.nextSibling)domUtils.remove(a),i.setStartAtFirst(n).collapse(!0),i.select(!0);else{var r=e.document.createElement("p");domUtils.fillNode(e.document,r),a.parentNode.insertBefore(r,a),domUtils.remove(a),i.setStart(r,0).collapse(!0),i.select(!0)}}})})}),e.addListener("beforepaste",function(e,t){var n,r=this.selection.getRange(),o=UE.htmlparser(t.html,!0);if(n=domUtils.findParentByTagName(r.startContainer,"li",!0)){var l=n.parentNode,c="OL"==l.tagName?"ul":"ol";utils.each(o.getNodesByTagName(c),function(t){if(t.tagName=l.tagName,t.setAttr(),t.parentNode===o)e=s(l)||("OL"==l.tagName?"decimal":"disc");else{var n=t.parentNode.getAttr("class");(e=n&&/custom_/.test(n)?n.match(/custom_(\w+)/)[1]:t.parentNode.getStyle("list-style-type"))||(e="OL"==l.tagName?"decimal":"disc")}var r=utils.indexOf(a[l.tagName],e);t.parentNode!==o&&(r=r+1==a[l.tagName].length?0:r+1);var c=a[l.tagName][r];i[c]?t.setAttr("class","custom_"+c):t.setStyle("list-style-type",c)})}t.html=o.toHtml()}),!0===e.getOpt("disablePInList")&&e.addOutputRule(function(e){utils.each(e.getNodesByTagName("li"),function(e){var t=[],i=0;utils.each(e.children,function(n){if("p"==n.tagName){for(var a;a=n.children.pop();)t.splice(i,0,a),a.parentNode=e,lastNode=a;if(!(a=t[t.length-1])||"element"!=a.type||"br"!=a.tagName){var r=UE.uNode.createElement("br");r.parentNode=e,t.push(r)}i=t.length}}),t.length&&(e.children=t)})}),e.addInputRule(function(t){if(utils.each(t.getNodesByTagName("li"),function(e){for(var t,i=UE.uNode.createElement("p"),n=0;t=e.children[n];)"text"==t.type||dtd.p[t.tagName]?i.appendChild(t):i.firstChild()?(e.insertBefore(i,t),i=UE.uNode.createElement("p"),n+=2):n++;(i.firstChild()&&!i.parentNode||!e.firstChild())&&e.appendChild(i),i.firstChild()||i.innerHTML(browser.ie?"&nbsp;":"<br/>");var a=e.firstChild(),r=a.lastChild();r&&"text"==r.type&&/^\s*$/.test(r.data)&&a.removeChild(r)}),e.options.autoTransWordToList){var n={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},a={square:"n"};function r(e,t){var i=t.firstChild();if(i&&"element"==i.type&&"span"==i.tagName&&/Wingdings|Symbol/.test(i.getStyle("font-family"))){for(var r in a)if(a[r]==i.data)return r;return"disc"}for(var r in n)if(n[r].test(e))return r}utils.each(t.getNodesByTagName("p"),function(t){if("MsoListParagraph"==t.getAttr("class")){t.setStyle("margin",""),t.setStyle("margin-left",""),t.setAttr("class","");var a,o=t,s=t;if("li"!=t.parentNode.tagName&&(a=r(t.innerText(),t))){var l=UE.uNode.createElement(e.options.insertorderedlist.hasOwnProperty(a)?"ol":"ul");for(i[a]?l.setAttr("class","custom_"+a):l.setStyle("list-style-type",a);t&&"li"!=t.parentNode.tagName&&r(t.innerText(),t);)(o=t.nextSibling())||t.parentNode.insertBefore(l,t),d(l,t,a),t=o;!l.parentNode&&t&&t.parentNode&&t.parentNode.insertBefore(l,t)}var c=s.firstChild();c&&"element"==c.type&&"span"==c.tagName&&/^\s*(&nbsp;)+\s*$/.test(c.innerText())&&c.parentNode.removeChild(c)}function d(e,t,i){if("ol"==e.tagName)if(browser.ie){var a=t.firstChild();"element"==a.type&&"span"==a.tagName&&n[i].test(a.innerText())&&t.removeChild(a)}else t.innerHTML(t.innerHTML().replace(n[i],""));else t.removeChild(t.firstChild());var r=UE.uNode.createElement("li");r.appendChild(t),e.appendChild(r)}})}}),e.addListener("contentchange",function(){l(e.document)}),e.addListener("keydown",function(t,i){function n(){i.preventDefault?i.preventDefault():i.returnValue=!1,e.fireEvent("contentchange"),e.undoManger&&e.undoManger.save()}function a(e,t){for(;e&&!domUtils.isBody(e);){if(t(e))return null;if(1==e.nodeType&&/[ou]l/i.test(e.tagName))return e;e=e.parentNode}return null}var r=i.keyCode||i.which;if(13==r&&!i.shiftKey){var o=e.selection.getRange(),s=domUtils.findParent(o.startContainer,function(e){return domUtils.isBlockElm(e)},!0),l=domUtils.findParentByTagName(o.startContainer,"li",!0);if(s&&"PRE"!=s.tagName&&!l){var c=s.innerHTML.replace(new RegExp(domUtils.fillChar,"g"),"");/^\s*1\s*\.[^\d]/.test(c)&&(s.innerHTML=c.replace(/^\s*1\s*\./,""),o.setStartAtLast(s).collapse(!0).select(),e.__hasEnterExecCommand=!0,e.execCommand("insertorderedlist"),e.__hasEnterExecCommand=!1)}var d=e.selection.getRange(),h=a(d.startContainer,function(e){return"TABLE"==e.tagName}),p=d.collapsed?h:a(d.endContainer,function(e){return"TABLE"==e.tagName});if(h&&p&&h===p){if(!d.collapsed){if(h=domUtils.findParentByTagName(d.startContainer,"li",!0),p=domUtils.findParentByTagName(d.endContainer,"li",!0),!h||!p||h!==p){var f=d.cloneRange(),m=f.collapse(!1).createBookmark();return d.deleteContents(),f.moveToBookmark(m),u(l=domUtils.findParentByTagName(f.startContainer,"li",!0)),f.select(),void n()}if(d.deleteContents(),(l=domUtils.findParentByTagName(d.startContainer,"li",!0))&&domUtils.isEmptyBlock(l))return _=l.previousSibling,next=l.nextSibling,v=e.document.createElement("p"),domUtils.fillNode(e.document,v),w=l.parentNode,_&&next?(d.setStart(next,0).collapse(!0).select(!0),domUtils.remove(l)):((_||next)&&_?l.parentNode.parentNode.insertBefore(v,w.nextSibling):w.parentNode.insertBefore(v,w),domUtils.remove(l),w.firstChild||domUtils.remove(w),d.setStart(v,0).setCursor()),void n()}if(l=domUtils.findParentByTagName(d.startContainer,"li",!0)){if(domUtils.isEmptyBlock(l)){if(m=d.createBookmark(),l!==(w=l.parentNode).lastChild?(domUtils.breakParent(l,w),u(l)):(w.parentNode.insertBefore(l,w.nextSibling),domUtils.isEmptyNode(w)&&domUtils.remove(w)),!dtd.$list[l.parentNode.tagName])if(domUtils.isBlockElm(l.firstChild))domUtils.remove(l,!0);else{for(v=e.document.createElement("p"),l.parentNode.insertBefore(v,l);l.firstChild;)v.appendChild(l.firstChild);domUtils.remove(l)}d.moveToBookmark(m).select()}else{var g=l.firstChild;if(!g||!domUtils.isBlockElm(g)){var v=e.document.createElement("p");for(!l.firstChild&&domUtils.fillNode(e.document,v);l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),g=v}var b=e.document.createElement("span");d.insertNode(b),domUtils.breakParent(b,l);var y=b.nextSibling;(g=y.firstChild)||(v=e.document.createElement("p"),domUtils.fillNode(e.document,v),y.appendChild(v),g=v),domUtils.isEmptyNode(g)&&(g.innerHTML="",domUtils.fillNode(e.document,g)),d.setStart(g,0).collapse(!0).shrinkBoundary().select(),domUtils.remove(b);var _=y.previousSibling;_&&domUtils.isEmptyBlock(_)&&(_.innerHTML="<p></p>",domUtils.fillNode(e.document,_.firstChild))}n()}}}if(8==r&&(d=e.selection.getRange()).collapsed&&domUtils.isStartInblock(d)&&(f=d.cloneRange().trimBoundary(),(l=domUtils.findParentByTagName(d.startContainer,"li",!0))&&domUtils.isStartInblock(f))){if((h=domUtils.findParentByTagName(d.startContainer,"p",!0))&&h!==l.firstChild){var w=domUtils.findParentByTagName(h,["ol","ul"]);return domUtils.breakParent(h,w),u(h),e.fireEvent("contentchange"),d.setStart(h,0).setCursor(!1,!0),e.fireEvent("saveScene"),void domUtils.preventDefault(i)}if(l&&(_=l.previousSibling)){if(46==r&&l.childNodes.length)return;if(dtd.$list[_.tagName]&&(_=_.lastChild),e.undoManger&&e.undoManger.save(),g=l.firstChild,domUtils.isBlockElm(g))if(domUtils.isEmptyNode(g))for(_.appendChild(g),d.setStart(g,0).setCursor(!1,!0);l.firstChild;)_.appendChild(l.firstChild);else b=e.document.createElement("span"),d.insertNode(b),domUtils.isEmptyBlock(_)&&(_.innerHTML=""),domUtils.moveChild(l,_),d.setStartBefore(b).collapse(!0).select(!0),domUtils.remove(b);else if(domUtils.isEmptyNode(l)){v=e.document.createElement("p");_.appendChild(v),d.setStart(v,0).setCursor()}else for(d.setEnd(_,_.childNodes.length).collapse().select(!0);l.firstChild;)_.appendChild(l.firstChild);return domUtils.remove(l),e.fireEvent("contentchange"),e.fireEvent("saveScene"),void domUtils.preventDefault(i)}if(l&&!l.previousSibling){w=l.parentNode,m=d.createBookmark();if(domUtils.isTagNode(w.parentNode,"ol ul"))w.parentNode.insertBefore(l,w),domUtils.isEmptyNode(w)&&domUtils.remove(w);else{for(;l.firstChild;)w.parentNode.insertBefore(l.firstChild,w);domUtils.remove(l),domUtils.isEmptyNode(w)&&domUtils.remove(w)}return d.moveToBookmark(m).setCursor(!1,!0),e.fireEvent("contentchange"),e.fireEvent("saveScene"),void domUtils.preventDefault(i)}}}),e.addListener("keyup",function(t,i){if(8==(i.keyCode||i.which)){var n,a=e.selection.getRange();(n=domUtils.findParentByTagName(a.startContainer,["ol","ul"],!0))&&c(n,n.tagName.toLowerCase(),s(n)||domUtils.getComputedStyle(n,"list-style-type"),!0)}}),e.addListener("tabkeydown",function(){var t=e.selection.getRange();function i(t){if(-1!=e.options.maxListLevel){for(var i=t.parentNode,n=0;/[ou]l/i.test(i.tagName);)n++,i=i.parentNode;if(n>=e.options.maxListLevel)return!0}}var n=domUtils.findParentByTagName(t.startContainer,"li",!0);if(n){var r;if(!t.collapsed){e.fireEvent("saveScene"),r=t.createBookmark();for(var o,l,u=0,h=domUtils.findParents(n);l=h[u++];)if(domUtils.isTagNode(l,"ol ul")){o=l;break}var p=n;if(r.end)for(;p&&!(domUtils.getPosition(p,r.end)&domUtils.POSITION_FOLLOWING);)if(i(p))p=domUtils.getNextDomNode(p,!1,null,function(e){return e!==o});else{v=p.parentNode,b=e.document.createElement(v.tagName);var f=(m=utils.indexOf(a[b.tagName],s(v)||domUtils.getComputedStyle(v,"list-style-type")))+1==a[b.tagName].length?0:m+1;for(d(b,g=a[b.tagName][f]),v.insertBefore(b,p);p&&!(domUtils.getPosition(p,r.end)&domUtils.POSITION_FOLLOWING);){if(n=p.nextSibling,b.appendChild(p),!n||domUtils.isTagNode(n,"ol ul")){if(n)for(;(n=n.firstChild)&&"LI"!=n.tagName;);else n=domUtils.getNextDomNode(p,!1,null,function(e){return e!==o});break}p=n}c(b,b.tagName.toLowerCase(),g),p=n}return e.fireEvent("contentchange"),t.moveToBookmark(r).select(),!0}if(i(n))return!0;var m,g,v=n.parentNode,b=e.document.createElement(v.tagName);if(m=(m=utils.indexOf(a[b.tagName],s(v)||domUtils.getComputedStyle(v,"list-style-type")))+1==a[b.tagName].length?0:m+1,d(b,g=a[b.tagName][m]),domUtils.isStartInblock(t))return e.fireEvent("saveScene"),r=t.createBookmark(),v.insertBefore(b,n),b.appendChild(n),c(b,b.tagName.toLowerCase(),g),e.fireEvent("contentchange"),t.moveToBookmark(r).select(!0),!0}}),e.commands.insertorderedlist=e.commands.insertunorderedlist={execCommand:function(e,i){i||(i="insertorderedlist"==e.toLowerCase()?"decimal":"disc");var n=this,a=this.selection.getRange(),r=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},o="insertorderedlist"==e.toLowerCase()?"ol":"ul",l=n.document.createDocumentFragment();a.adjustmentBoundary().shrinkBoundary();var u,p,f,m,g=a.createBookmark(!0),v=h(n.document.getElementById(g.start)),b=0,y=h(n.document.getElementById(g.end)),_=0;if(v||y){if(v&&(u=v.parentNode),g.end||(y=v),y&&(p=y.parentNode),u===p){for(;v!==y;){if(m=v,v=v.nextSibling,!domUtils.isBlockElm(m.firstChild)){for(var w=n.document.createElement("p");m.firstChild;)w.appendChild(m.firstChild);m.appendChild(w)}l.appendChild(m)}if(m=n.document.createElement("span"),u.insertBefore(m,y),!domUtils.isBlockElm(y.firstChild)){for(w=n.document.createElement("p");y.firstChild;)w.appendChild(y.firstChild);y.appendChild(w)}l.appendChild(y),domUtils.breakParent(m,u),domUtils.isEmptyNode(m.previousSibling)&&domUtils.remove(m.previousSibling),domUtils.isEmptyNode(m.nextSibling)&&domUtils.remove(m.nextSibling);var x=s(u)||domUtils.getComputedStyle(u,"list-style-type")||("insertorderedlist"==e.toLowerCase()?"decimal":"disc");if(u.tagName.toLowerCase()==o&&x==i){for(var C=0,S=n.document.createDocumentFragment();U=l.firstChild;)if(domUtils.isTagNode(U,"ol ul"))S.appendChild(U);else for(;U.firstChild;)S.appendChild(U.firstChild),domUtils.remove(U);m.parentNode.insertBefore(S,m)}else d(f=n.document.createElement(o),i),f.appendChild(l),m.parentNode.insertBefore(f,m);return domUtils.remove(m),f&&c(f,o,i),void a.moveToBookmark(g).select()}if(v){for(;v;){if(m=v.nextSibling,domUtils.isTagNode(v,"ol ul"))l.appendChild(v);else{for(var T=n.document.createDocumentFragment(),k=0;v.firstChild;)domUtils.isBlockElm(v.firstChild)&&(k=1),T.appendChild(v.firstChild);if(k)l.appendChild(T);else{var A=n.document.createElement("p");A.appendChild(T),l.appendChild(A)}domUtils.remove(v)}v=m}u.parentNode.insertBefore(l,u.nextSibling),domUtils.isEmptyNode(u)?(a.setStartBefore(u),domUtils.remove(u)):a.setStartAfter(u),b=1}if(y&&domUtils.inDoc(p,n.document)){for(v=p.firstChild;v&&v!==y;){if(m=v.nextSibling,domUtils.isTagNode(v,"ol ul"))l.appendChild(v);else{for(T=n.document.createDocumentFragment(),k=0;v.firstChild;)domUtils.isBlockElm(v.firstChild)&&(k=1),T.appendChild(v.firstChild);k?l.appendChild(T):((A=n.document.createElement("p")).appendChild(T),l.appendChild(A)),domUtils.remove(v)}v=m}var E=domUtils.createElement(n.document,"div",{tmpDiv:1});domUtils.moveChild(y,E),l.appendChild(E),domUtils.remove(y),p.parentNode.insertBefore(l,p),a.setEndBefore(p),domUtils.isEmptyNode(p)&&domUtils.remove(p),_=1}}b||a.setStartBefore(n.document.getElementById(g.start)),g.end&&!_&&a.setEndAfter(n.document.getElementById(g.end)),a.enlarge(!0,function(e){return t[e.tagName]}),l=n.document.createDocumentFragment();for(var N=a.createBookmark(),P=domUtils.getNextDomNode(N.start,!1,r),R=a.cloneRange(),I=domUtils.isBlockElm;P&&P!==N.end&&domUtils.getPosition(P,N.end)&domUtils.POSITION_PRECEDING;)if(3==P.nodeType||dtd.li[P.tagName]){if(1==P.nodeType&&dtd.$list[P.tagName]){for(;P.firstChild;)l.appendChild(P.firstChild);D=domUtils.getNextDomNode(P,!1,r),domUtils.remove(P),P=D;continue}for(D=P,R.setStartBefore(P);P&&P!==N.end&&(!I(P)||domUtils.isBookmarkNode(P));)D=P,P=domUtils.getNextDomNode(P,!1,null,function(e){return!t[e.tagName]});P&&I(P)&&(m=domUtils.getNextDomNode(D,!1,r))&&domUtils.isBookmarkNode(m)&&(P=domUtils.getNextDomNode(m,!1,r),D=m),R.setEndAfter(D),P=domUtils.getNextDomNode(D,!1,r);var L=a.document.createElement("li");if(L.appendChild(R.extractContents()),domUtils.isEmptyNode(L)){for(var D=a.document.createElement("p");L.firstChild;)D.appendChild(L.firstChild);L.appendChild(D)}l.appendChild(L)}else P=domUtils.getNextDomNode(P,!0,r);a.moveToBookmark(N).collapse(!0),d(f=n.document.createElement(o),i),f.appendChild(l),a.insertNode(f),c(f,o,i);C=0;for(var U,O=domUtils.getElementsByTagName(f,"div");U=O[C++];)U.getAttribute("tmpDiv")&&domUtils.remove(U,!0);a.moveToBookmark(g).select()},queryCommandState:function(e){for(var t,i="insertorderedlist"==e.toLowerCase()?"ol":"ul",n=this.selection.getStartElementPath(),a=0;t=n[a++];){if("TABLE"==t.nodeName)return 0;if(i==t.nodeName.toLowerCase())return 1}return 0},queryCommandValue:function(e){for(var t,i,n="insertorderedlist"==e.toLowerCase()?"ol":"ul",a=this.selection.getStartElementPath(),r=0;i=a[r++];){if("TABLE"==i.nodeName){t=null;break}if(n==i.nodeName.toLowerCase()){t=i;break}}return t?s(t)||domUtils.getComputedStyle(t,"list-style-type"):null}}},sourceEditors={textarea:function(e,t){var i=t.ownerDocument.createElement("textarea");return i.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;",browser.ie&&browser.version<8&&(i.style.width=t.offsetWidth+"px",i.style.height=t.offsetHeight+"px",t.onresize=function(){i.style.width=t.offsetWidth+"px",i.style.height=t.offsetHeight+"px"}),t.appendChild(i),{setContent:function(e){i.value=e},getContent:function(){return i.value},select:function(){var e;browser.ie?((e=i.createTextRange()).collapse(!0),e.select()):(i.setSelectionRange(0,0),i.focus())},dispose:function(){t.removeChild(i),t.onresize=null,i=null,t=null}}},codemirror:function(e,t){var i=window.CodeMirror(t,{mode:"text/html",tabMode:"indent",lineNumbers:!0,lineWrapping:!0}),n=i.getWrapperElement();return n.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;',i.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;",i.refresh(),{getCodeMirror:function(){return i},setContent:function(e){i.setValue(e)},getContent:function(){return i.getValue()},select:function(){i.focus()},dispose:function(){t.removeChild(n),n=null,i=null}}}},UE.plugins.source=function(){var e,t,i,n,a,r=this,o=this.options,s=!1;o.sourceEditor=browser.ie?"textarea":o.sourceEditor||"codemirror",r.setOpt({sourceEditorFirst:!1}),r.commands.source={execCommand:function(){if(s=!s){a=r.selection.getRange().createAddress(!1,!0),r.undoManger&&r.undoManger.save(!0),browser.gecko&&(r.body.contentEditable=!1),i=r.iframe.style.cssText,r.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;",r.fireEvent("beforegetcontent");var l=UE.htmlparser(r.body.innerHTML);r.filterOutputRule(l),l.traversal(function(e){if("element"==e.type)switch(e.tagName){case"td":case"th":case"caption":e.children&&1==e.children.length&&"br"==e.firstChild().tagName&&e.removeChild(e.firstChild());break;case"pre":e.innerText(e.innerText().replace(/&nbsp;/g," "))}}),r.fireEvent("aftergetcontent");var c=l.toHtml(!0);p=r.iframe.parentNode,(e=sourceEditors["codemirror"==o.sourceEditor&&window.CodeMirror?"codemirror":"textarea"](r,p)).setContent(c),t=r.setContent,r.setContent=function(t){var i=UE.htmlparser(t);r.filterInputRule(i),t=i.toHtml(),e.setContent(t)},setTimeout(function(){e.select(),r.addListener("fullscreenchanged",function(){try{e.getCodeMirror().refresh()}catch(e){}})}),n=r.getContent,r.getContent=function(){return e.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{r.iframe.style.cssText=i;var d=e.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";d=d.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(e,t){return t&&!dtd.$inlineWithA[t.toLowerCase()]?e.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):e.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),r.setContent=t,r.setContent(d),e.dispose(),e=null,r.getContent=n;var u=r.body.firstChild;if(u||(r.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",u=r.body.firstChild),r.undoManger&&r.undoManger.save(!0),browser.gecko){var h=document.createElement("input");h.style.cssText="position:absolute;left:0;top:-32768px",document.body.appendChild(h),r.body.contentEditable=!1,setTimeout(function(){domUtils.setViewportOffset(h,{left:-32768,top:0}),h.focus(),setTimeout(function(){r.body.contentEditable=!0,r.selection.getRange().moveToAddress(a).select(!0),domUtils.remove(h)})})}else try{r.selection.getRange().moveToAddress(a).select(!0)}catch(e){}}var p;this.fireEvent("sourcemodechanged",s)},queryCommandState:function(){return 0|s},notNeedUndo:1};var l=r.queryCommandState;r.queryCommandState=function(e){return e=e.toLowerCase(),s?e in{source:1,fullscreen:1}?1:-1:l.apply(this,arguments)},"codemirror"==o.sourceEditor&&r.addListener("ready",function(){utils.loadFile(document,{src:o.codeMirrorJsUrl||o.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.js",tag:"script",type:"text/javascript",defer:"defer"},function(){o.sourceEditorFirst&&setTimeout(function(){r.execCommand("source")},0)}),utils.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:o.codeMirrorCssUrl||o.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.css"})})},UE.plugins.enterkey=function(){var e,t=this,i=t.options.enterTag;t.addListener("keyup",function(i,n){if(13==(n.keyCode||n.which)){var a,r=t.selection.getRange(),o=r.startContainer;if(browser.ie)t.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(e)){if(browser.gecko)domUtils.findParentByTagName(o,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0)||(t.document.execCommand("formatBlock",!1,"<p>"),a=1);else if(1==o.nodeType){var s,l=t.document.createTextNode("");if(r.insertNode(l),s=domUtils.findParentByTagName(l,"div",!0)){for(var c=t.document.createElement("p");s.firstChild;)c.appendChild(s.firstChild);s.parentNode.insertBefore(c,s),domUtils.remove(s),r.setStartBefore(l).setCursor(),a=1}domUtils.remove(l)}t.undoManger&&a&&t.undoManger.save()}browser.opera&&r.select()}}}),t.addListener("keydown",function(n,a){if(13==(a.keyCode||a.which)){if(t.fireEvent("beforeenterkeydown"))return void domUtils.preventDefault(a);t.fireEvent("saveScene",!0,!0),e="";var r=t.selection.getRange();if(!r.collapsed){var o=r.startContainer,s=r.endContainer,l=domUtils.findParentByTagName(o,"td",!0),c=domUtils.findParentByTagName(s,"td",!0);if(l&&c&&l!==c||!l&&c||l&&!c)return void(a.preventDefault?a.preventDefault():a.returnValue=!1)}if("p"==i)browser.ie||((o=domUtils.findParentByTagName(r.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0))||browser.opera?(e=o.tagName,"p"==o.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(o)):(t.document.execCommand("formatBlock",!1,"<p>"),browser.gecko&&(r=t.selection.getRange(),(o=domUtils.findParentByTagName(r.startContainer,"p",!0))&&domUtils.removeDirtyAttr(o))));else if(a.preventDefault?a.preventDefault():a.returnValue=!1,r.collapsed)d=r.document.createElement("br"),r.insertNode(d),d.parentNode.lastChild===d?(d.parentNode.insertBefore(d.cloneNode(!0),d),r.setStartBefore(d)):r.setStartAfter(d),r.setCursor();else if(r.deleteContents(),1==(o=r.startContainer).nodeType&&(o=o.childNodes[r.startOffset])){for(;1==o.nodeType;){if(dtd.$empty[o.tagName])return r.setStartBefore(o).setCursor(),t.undoManger&&t.undoManger.save(),!1;if(!o.firstChild){var d=r.document.createElement("br");return o.appendChild(d),r.setStart(o,0).setCursor(),t.undoManger&&t.undoManger.save(),!1}o=o.firstChild}o===r.startContainer.childNodes[r.startOffset]?(d=r.document.createElement("br"),r.insertNode(d).setCursor()):r.setStart(o,0).setCursor()}else d=r.document.createElement("br"),r.insertNode(d).setStartAfter(d).setCursor()}})},UE.plugins.keystrokes=function(){var e=this,t=!0;e.addListener("keydown",function(i,n){var a=n.keyCode||n.which,r=e.selection.getRange();if(!r.collapsed&&!(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)&&(a>=65&&a<=90||a>=48&&a<=57||a>=96&&a<=111||{13:1,8:1,46:1}[a])){var o=r.startContainer;if(domUtils.isFillChar(o)&&r.setStartBefore(o),o=r.endContainer,domUtils.isFillChar(o)&&r.setEndAfter(o),r.txtToElmBoundary(),r.endContainer&&1==r.endContainer.nodeType&&(o=r.endContainer.childNodes[r.endOffset])&&domUtils.isBr(o)&&r.setEndAfter(o),0==r.startOffset&&(o=r.startContainer,domUtils.isBoundaryNode(o,"firstChild")&&(o=r.endContainer,r.endOffset==(3==o.nodeType?o.nodeValue.length:o.childNodes.length)&&domUtils.isBoundaryNode(o,"lastChild"))))return e.fireEvent("saveScene"),e.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",r.setStart(e.body.firstChild,0).setCursor(!1,!0),void e._selectionChange()}if(a==keymap.Backspace){if(r=e.selection.getRange(),t=r.collapsed,e.fireEvent("delkeydown",n))return;var s,l;if(r.collapsed&&r.inFillChar()&&(s=r.startContainer,domUtils.isFillChar(s)?(r.setStartBefore(s).shrinkBoundary(!0).collapse(!0),domUtils.remove(s)):(s.nodeValue=s.nodeValue.replace(new RegExp("^"+domUtils.fillChar),""),r.startOffset--,r.collapse(!0).select(!0))),s=r.getClosedNode())return e.fireEvent("saveScene"),r.setStartBefore(s),domUtils.remove(s),r.setCursor(),e.fireEvent("saveScene"),void domUtils.preventDefault(n);if(!browser.ie&&(s=domUtils.findParentByTagName(r.startContainer,"table",!0),l=domUtils.findParentByTagName(r.endContainer,"table",!0),s&&!l||!s&&l||s!==l))return void n.preventDefault()}if(a==keymap.Tab){var c={ol:1,ul:1,table:1};if(e.fireEvent("tabkeydown",n))return void domUtils.preventDefault(n);var d=e.selection.getRange();e.fireEvent("saveScene");for(var u=0,h="",p=e.options.tabSize||4,f=e.options.tabNode||"&nbsp;";u<p;u++)h+=f;var m=e.document.createElement("span");if(m.innerHTML=h+domUtils.fillChar,d.collapsed)d.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var g=function(e){return domUtils.isBlockElm(e)&&!c[e.tagName.toLowerCase()]};if(s=domUtils.findParent(d.startContainer,g,!0),l=domUtils.findParent(d.endContainer,g,!0),s&&l&&s===l)d.deleteContents(),d.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var v=d.createBookmark();d.enlarge(!0);for(var b=d.createBookmark(),y=domUtils.getNextDomNode(b.start,!1,g);y&&!(domUtils.getPosition(y,b.end)&domUtils.POSITION_FOLLOWING);)y.insertBefore(m.cloneNode(!0).firstChild,y.firstChild),y=domUtils.getNextDomNode(y,!1,g);d.moveToBookmark(b).moveToBookmark(v).select()}}domUtils.preventDefault(n)}if(browser.gecko&&46==a&&(d=e.selection.getRange()).collapsed&&(s=d.startContainer,domUtils.isEmptyBlock(s))){for(var _=s.parentNode;1==domUtils.getChildCount(_)&&!domUtils.isBody(_);)s=_,_=_.parentNode;s===_.lastChild&&n.preventDefault()}else;}),e.addListener("keyup",function(e,i){var n;if((i.keyCode||i.which)==keymap.Backspace){if(this.fireEvent("delkeyup"))return;if((n=this.selection.getRange()).collapsed){if((o=domUtils.findParentByTagName(n.startContainer,["h1","h2","h3","h4","h5","h6"],!0))&&domUtils.isEmptyBlock(o)){var a=o.previousSibling;if(a&&"TABLE"!=a.nodeName)return domUtils.remove(o),void n.setStartAtLast(a).setCursor(!1,!0);var r=o.nextSibling;if(r&&"TABLE"!=r.nodeName)return domUtils.remove(o),void n.setStartAtFirst(r).setCursor(!1,!0)}if(domUtils.isBody(n.startContainer)){var o=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});n.insertNode(o).setStart(o,0).setCursor(!1,!0)}}if(!t&&(3==n.startContainer.nodeType||1==n.startContainer.nodeType&&domUtils.isEmptyBlock(n.startContainer)))if(browser.ie){var s=n.document.createElement("span");n.insertNode(s).setStartBefore(s).collapse(!0),n.select(),domUtils.remove(s)}else n.select()}})},UE.plugins.fiximgclick=function(){var e,t=!1;function n(){this.editor=null,this.resizer=null,this.cover=null,this.doc=document,this.prePos={x:0,y:0},this.startPos={x:0,y:0}}return e=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]],n.prototype={init:function(e){var t=this;t.editor=e,t.startPos=this.prePos={x:0,y:0},t.dragId=-1;var n=[],a=t.cover=document.createElement("div"),r=t.resizer=document.createElement("div");for(a.id=t.editor.ui.id+"_imagescale_cover",a.style.cssText="position:absolute;display:none;z-index:"+t.editor.options.zIndex+";filter:alpha(opacity=0); opacity:0;background:#CCC;",domUtils.on(a,"mousedown click",function(){t.hide()}),i=0;i<8;i++)n.push('<span class="edui-editor-imagescale-hand'+i+'"></span>');r.id=t.editor.ui.id+"_imagescale",r.className="edui-editor-imagescale",r.innerHTML=n.join(""),r.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+t.editor.options.zIndex+";",t.editor.ui.getDom().appendChild(a),t.editor.ui.getDom().appendChild(r),t.initStyle(),t.initEvents()},initStyle:function(){utils.cssRule("imagescale",".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},initEvents:function(){this.startPos.x=this.startPos.y=0,this.isDraging=!1},_eventHandler:function(e){var i=this;switch(e.type){case"mousedown":var n;-1!=(n=e.target||e.srcElement).className.indexOf("edui-editor-imagescale-hand")&&-1==i.dragId&&(i.dragId=n.className.slice(-1),i.startPos.x=i.prePos.x=e.clientX,i.startPos.y=i.prePos.y=e.clientY,domUtils.on(i.doc,"mousemove",i.proxy(i._eventHandler,i)));break;case"mousemove":-1!=i.dragId&&(i.updateContainerStyle(i.dragId,{x:e.clientX-i.prePos.x,y:e.clientY-i.prePos.y}),i.prePos.x=e.clientX,i.prePos.y=e.clientY,t=!0,i.updateTargetElement());break;case"mouseup":-1!=i.dragId&&(i.updateContainerStyle(i.dragId,{x:e.clientX-i.prePos.x,y:e.clientY-i.prePos.y}),i.updateTargetElement(),i.target.parentNode&&i.attachTo(i.target),i.dragId=-1),domUtils.un(i.doc,"mousemove",i.proxy(i._eventHandler,i)),t&&(t=!1,i.editor.fireEvent("contentchange"))}},updateTargetElement:function(){var e=this;domUtils.setStyles(e.target,{width:e.resizer.style.width,height:e.resizer.style.height}),e.target.width=parseInt(e.resizer.style.width),e.target.height=parseInt(e.resizer.style.height),e.attachTo(e.target)},updateContainerStyle:function(t,i){var n,a=this,r=a.resizer;0!=e[t][0]&&(n=parseInt(r.style.left)+i.x,r.style.left=a._validScaledProp("left",n)+"px"),0!=e[t][1]&&(n=parseInt(r.style.top)+i.y,r.style.top=a._validScaledProp("top",n)+"px"),0!=e[t][2]&&(n=r.clientWidth+e[t][2]*i.x,r.style.width=a._validScaledProp("width",n)+"px"),0!=e[t][3]&&(n=r.clientHeight+e[t][3]*i.y,r.style.height=a._validScaledProp("height",n)+"px")},_validScaledProp:function(e,t){var i=this.resizer,n=document;switch(t=isNaN(t)?0:t,e){case"left":return t<0?0:t+i.clientWidth>n.clientWidth?n.clientWidth-i.clientWidth:t;case"top":return t<0?0:t+i.clientHeight>n.clientHeight?n.clientHeight-i.clientHeight:t;case"width":return t<=0?1:t+i.offsetLeft>n.clientWidth?n.clientWidth-i.offsetLeft:t;case"height":return t<=0?1:t+i.offsetTop>n.clientHeight?n.clientHeight-i.offsetTop:t}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var e=this,t=domUtils.getXY(e.editor.ui.getDom()),i=domUtils.getXY(e.editor.iframe);domUtils.setStyles(e.cover,{width:e.editor.iframe.offsetWidth+"px",height:e.editor.iframe.offsetHeight+"px",top:i.y-t.y+"px",left:i.x-t.x+"px",position:"absolute",display:""})},show:function(e){var t=this;t.resizer.style.display="block",e&&t.attachTo(e),domUtils.on(this.resizer,"mousedown",t.proxy(t._eventHandler,t)),domUtils.on(t.doc,"mouseup",t.proxy(t._eventHandler,t)),t.showCover(),t.editor.fireEvent("afterscaleshow",t),t.editor.fireEvent("saveScene")},hide:function(){var e=this;e.hideCover(),e.resizer.style.display="none",domUtils.un(e.resizer,"mousedown",e.proxy(e._eventHandler,e)),domUtils.un(e.doc,"mouseup",e.proxy(e._eventHandler,e)),e.editor.fireEvent("afterscalehide",e)},proxy:function(e,t){return function(i){return e.apply(t||this,arguments)}},attachTo:function(e){var t=this.target=e,i=this.resizer,n=domUtils.getXY(t),a=domUtils.getXY(this.editor.iframe),r=domUtils.getXY(i.parentNode);domUtils.setStyles(i,{width:t.width+"px",height:t.height+"px",left:a.x+n.x-this.editor.document.body.scrollLeft-r.x-parseInt(i.style.borderLeftWidth)+"px",top:a.y+n.y-this.editor.document.body.scrollTop-r.y-parseInt(i.style.borderTopWidth)+"px"})}},function(){var e,t=this;t.setOpt("imageScaleEnabled",!0),!browser.ie&&t.options.imageScaleEnabled&&t.addListener("click",function(i,a){var r=t.selection.getRange().getClosedNode();if(r&&"IMG"==r.tagName&&"false"!=t.body.contentEditable){if(-1!=r.className.indexOf("edui-faked-music")||r.getAttribute("anchorname")||domUtils.hasClass(r,"loadingclass")||domUtils.hasClass(r,"loaderrorclass"))return;if(!e){(e=new n).init(t),t.ui.getDom().appendChild(e.resizer);var o,s=function(i){e.hide(),e.target&&t.selection.getRange().selectNode(e.target).select()},l=function(e){var t=e.target||e.srcElement;!t||void 0!==t.className&&-1!=t.className.indexOf("edui-editor-imagescale")||s()};t.addListener("afterscaleshow",function(e){t.addListener("beforekeydown",s),t.addListener("beforemousedown",l),domUtils.on(document,"keydown",s),domUtils.on(document,"mousedown",l),t.selection.getNative().removeAllRanges()}),t.addListener("afterscalehide",function(i){t.removeListener("beforekeydown",s),t.removeListener("beforemousedown",l),domUtils.un(document,"keydown",s),domUtils.un(document,"mousedown",l);var n=e.target;n.parentNode&&t.selection.getRange().selectNode(n).select()}),domUtils.on(e.resizer,"mousedown",function(i){t.selection.getNative().removeAllRanges();var n=i.target||i.srcElement;n&&-1==n.className.indexOf("edui-editor-imagescale-hand")&&(o=setTimeout(function(){e.hide(),e.target&&t.selection.getRange().selectNode(n).select()},200))}),domUtils.on(e.resizer,"mouseup",function(e){var t=e.target||e.srcElement;t&&-1==t.className.indexOf("edui-editor-imagescale-hand")&&clearTimeout(o)})}e.show(r)}else e&&"none"!=e.resizer.style.display&&e.hide()}),browser.webkit&&t.addListener("click",function(e,i){"IMG"==i.target.tagName&&"false"!=t.body.contentEditable&&new dom.Range(t.document).selectNode(i.target).select()})}}(),UE.plugin.register("autolink",function(){return browser.ie?{}:{bindEvents:{reset:function(){0},keydown:function(e,t){var i=this,n=t.keyCode||t.which;if(32==n||13==n){for(var a,r,o=i.selection.getNative(),s=o.getRangeAt(0).cloneRange(),l=s.startContainer;1==l.nodeType&&s.startOffset>0&&(l=s.startContainer.childNodes[s.startOffset-1]);)s.setStart(l,1==l.nodeType?l.childNodes.length:l.nodeValue.length),s.collapse(!0),l=s.startContainer;do{if(0==s.startOffset){for(l=s.startContainer.previousSibling;l&&1==l.nodeType;)l=l.lastChild;if(!l||domUtils.isFillChar(l))break;a=l.nodeValue.length}else l=s.startContainer,a=s.startOffset;s.setStart(l,a-1),r=s.toString().charCodeAt(0)}while(160!=r&&32!=r);if(s.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;s.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(s.toString());)try{s.setStart(s.startContainer,s.startOffset+1)}catch(e){for(l=s.startContainer;!(next=l.nextSibling);){if(domUtils.isBody(l))return;l=l.parentNode}s.setStart(next,0)}if(domUtils.findParentByTagName(s.startContainer,"a",!0))return;var c,d=i.document.createElement("a"),u=i.document.createTextNode(" ");i.undoManger&&i.undoManger.save(),d.appendChild(s.extractContents()),d.href=d.innerHTML=d.innerHTML.replace(/<[^>]+>/g,""),c=d.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),""),c=/^(?:https?:\/\/)/gi.test(c)?c:"http://"+c,d.setAttribute("_src",utils.html(c)),d.href=utils.html(c),s.insertNode(d),d.parentNode.insertBefore(u,d.nextSibling),s.setStart(u,0),s.collapse(!0),o.removeAllRanges(),o.addRange(s),i.undoManger&&i.undoManger.save()}}}}}},function(){var e={37:1,38:1,39:1,40:1,13:1,32:1};browser.ie&&this.addListener("keyup",function(t,i){var n=i.keyCode;if(e[n]){var a=this.selection.getRange(),r=a.startContainer;if(13==n){for(;r&&!domUtils.isBody(r)&&!domUtils.isBlockElm(r);)r=r.parentNode;var o;if(r&&!domUtils.isBody(r)&&"P"==r.nodeName)if((o=r.previousSibling)&&1==o.nodeType)(o=function(e){if(3==e.nodeType)return null;if("A"==e.nodeName)return e;for(var t=e.lastChild;t;){if("A"==t.nodeName)return t;if(3==t.nodeType){if(domUtils.isWhitespace(t)){t=t.previousSibling;continue}return null}t=t.lastChild}}(o))&&!o.getAttribute("_href")&&domUtils.remove(o,!0)}else if(32==n)3==r.nodeType&&/^\s$/.test(r.nodeValue)&&(r=r.previousSibling)&&"A"==r.nodeName&&!r.getAttribute("_href")&&domUtils.remove(r,!0);else if((r=domUtils.findParentByTagName(r,"a",!0))&&!r.getAttribute("_href")){var s=a.createBookmark();domUtils.remove(r,!0),a.moveToBookmark(s).select(!0)}}})}),UE.plugins.autoheight=function(){var e=this;if(e.autoHeightEnabled=!1!==e.options.autoHeightEnabled,e.autoHeightEnabled){var t,i,n,a,r=0,o=e.options;e.addListener("fullscreenchanged",function(e,t){a=t}),e.addListener("destroy",function(){e.removeListener("contentchange afterinserthtml keyup mouseup",s)}),e.enableAutoHeight=function(){var e=this;if(e.autoHeightEnabled){var i=e.document;e.autoHeightEnabled=!0,t=i.body.style.overflowY,i.body.style.overflowY="hidden",e.addListener("contentchange afterinserthtml keyup mouseup",s),setTimeout(function(){s.call(e)},browser.gecko?100:0),e.fireEvent("autoheightchanged",e.autoHeightEnabled)}},e.disableAutoHeight=function(){e.body.style.overflowY=t||"",e.removeListener("contentchange",s),e.removeListener("keyup",s),e.removeListener("mouseup",s),e.autoHeightEnabled=!1,e.fireEvent("autoheightchanged",e.autoHeightEnabled)},e.on("setHeight",function(){e.disableAutoHeight()}),e.addListener("ready",function(){var t,i;e.enableAutoHeight(),domUtils.on(browser.ie?e.body:e.document,browser.webkit?"dragover":"drop",function(){clearTimeout(t),t=setTimeout(function(){s.call(e)},100)}),window.onscroll=function(){null===i?i=this.scrollY:0==this.scrollY&&0!=i&&(e.window.scrollTo(0,0),i=null)}})}function s(){var e=this;clearTimeout(n),a||(!e.queryCommandState||e.queryCommandState&&1!=e.queryCommandState("source"))&&(n=setTimeout(function(){for(var t=e.body.lastChild;t&&1!=t.nodeType;)t=t.previousSibling;t&&1==t.nodeType&&(t.style.clear="both",(i=Math.max(domUtils.getXY(t).y+t.offsetHeight+25,Math.max(o.minFrameHeight,o.initialFrameHeight)))!=r&&(i!==parseInt(e.iframe.parentNode.style.height)&&(e.iframe.parentNode.style.height=i+"px"),e.body.style.height=i+"px",r=i),domUtils.removeStyle(t,"clear"))},50))}},UE.plugins.autofloat=function(){var e=this,t=e.getLang();e.setOpt({topOffset:0});var i=!1!==e.options.autoFloatEnabled,n=e.options.topOffset;if(i){var a,r,o,s,l=UE.ui.uiUtils,c=browser.ie&&browser.version<=6,d=browser.quirks,u=document.createElement("div"),h=!0,p=utils.defer(function(){m()},browser.ie?200:100,!0);e.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],m),e.removeListener("keydown",p)}),e.addListener("ready",function(){if(UE.ui||(alert(t.autofloatMsg),0)){if(!e.ui)return;s=l.getClientRect,r=e.ui.getDom("toolbarbox"),o=s(r).top,a=r.style.cssText,u.style.height=r.offsetHeight+"px",c&&((i=document.body.style).backgroundImage='url("about:blank")',i.backgroundAttachment="fixed"),domUtils.on(window,["scroll","resize"],m),e.addListener("keydown",p),e.addListener("beforefullscreenchange",function(e,t){t&&f()}),e.addListener("fullscreenchanged",function(e,t){t||m()}),e.addListener("sourcemodechanged",function(e,t){setTimeout(function(){m()},0)}),e.addListener("clearDoc",function(){setTimeout(function(){m()},0)})}var i})}function f(){h=!0,u.parentNode&&u.parentNode.removeChild(u),r.style.cssText=a}function m(){var t,i,a,l=s(e.container),p=e.options.toolbarTopOffset||0;l.top<0&&l.bottom-r.offsetHeight>p?(t=domUtils.getXY(r),i=domUtils.getComputedStyle(r,"position"),a=domUtils.getComputedStyle(r,"left"),r.style.width=r.offsetWidth+"px",r.style.zIndex=1*e.options.zIndex+1,r.parentNode.insertBefore(u,r),c||d&&browser.ie?("absolute"!=r.style.position&&(r.style.position="absolute"),r.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-o+n+"px"):(browser.ie7Compat&&h&&(h=!1,r.style.left=domUtils.getXY(r).x-document.documentElement.getBoundingClientRect().left+2+"px"),"fixed"!=r.style.position&&(r.style.position="fixed",r.style.top=n+"px",("absolute"==i||"relative"==i)&&parseFloat(a)&&(r.style.left=t.x+"px")))):f()}},UE.plugins.video=function(){var e=this;function t(t,i,n,a,r,o,s){var l;switch(t=utils.unhtmlForUrl(t),r=utils.unhtml(r),o=utils.unhtml(o),i=parseInt(i,10)||0,n=parseInt(n,10)||0,s){case"image":l="<img "+(a?'id="'+a+'"':"")+' width="'+i+'" height="'+n+'" _url="'+t+'" class="'+o.replace(/\bvideo-js\b/,"")+'" src="'+e.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+e.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(r?"float:"+r+";":"")+'" />';break;case"embed":l='<embed type="application/x-shockwave-flash" class="'+o+'" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+utils.html(t)+'" width="'+i+'" height="'+n+'"'+(r?' style="float:'+r+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';break;case"video":var c=t.substr(t.lastIndexOf(".")+1);"ogv"==c&&(c="ogg"),l="<video"+(a?' id="'+a+'"':"")+' class="'+o+' video-js" '+(r?' style="float:'+r+'"':"")+' controls preload="none" width="'+i+'" height="'+n+'" src="'+t+'" data-setup="{}"><source src="'+t+'" type="video/'+c+'" /></video>'}return l}function i(e,i){utils.each(e.getNodesByTagName(i?"img":"embed video"),function(e){var n=e.getAttr("class");if(n&&-1!=n.indexOf("edui-faked-video")){var a=t(i?e.getAttr("_url"):e.getAttr("src"),e.getAttr("width"),e.getAttr("height"),null,e.getStyle("float")||"",n,i?"embed":"image");e.parentNode.replaceChild(UE.uNode.createElement(a),e)}if(n&&-1!=n.indexOf("edui-upload-video")){a=t(i?e.getAttr("_url"):e.getAttr("src"),e.getAttr("width"),e.getAttr("height"),null,e.getStyle("float")||"",n,i?"video":"image");e.parentNode.replaceChild(UE.uNode.createElement(a),e)}})}e.addOutputRule(function(e){i(e,!0)}),e.addInputRule(function(e){i(e)}),e.commands.insertvideo={execCommand:function(i,n,a){for(var r,o,s=[],l=0,c=(n=utils.isArray(n)?n:[n]).length;l<c;l++)o=n[l],r="upload"==a?"edui-upload-video video-js vjs-default-skin":"edui-faked-video",s.push(t(o.url,o.width||420,o.height||280,"tmpVedio"+l,null,r,"image"));e.execCommand("inserthtml",s.join(""),!0);var d=this.selection.getRange();for(l=0,c=n.length;l<c;l++){var u=this.document.getElementById("tmpVedio"+l);domUtils.removeAttributes(u,"id"),d.selectNode(u).select(),e.execCommand("imagefloat",n[l].align)}},queryCommandState:function(){var t=e.selection.getRange().getClosedNode();return t&&("edui-faked-video"==t.className||-1!=t.className.indexOf("edui-upload-video"))?1:0}}},function(){var e=UE.UETable=function(e){this.table=e,this.indexTable=[],this.selectedTds=[],this.cellsRange={},this.update(e)};e.removeSelectedClass=function(e){utils.each(e,function(e){domUtils.removeClasses(e,"selectTdClass")})},e.addSelectedClass=function(e){utils.each(e,function(e){domUtils.addClass(e,"selectTdClass")})},e.isEmptyBlock=function(e){var t=new RegExp(domUtils.fillChar,"g");if(e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length>0)return 0;for(var i in dtd.$isNotEmpty)if(dtd.$isNotEmpty.hasOwnProperty(i)&&e.getElementsByTagName(i).length)return 0;return 1},e.getWidth=function(e){return e?parseInt(domUtils.getComputedStyle(e,"width"),10):0},e.getTableCellAlignState=function(e){!utils.isArray(e)&&(e=[e]);var t={},i=["align","valign"],n=null,a=!0;return utils.each(e,function(e){return utils.each(i,function(i){if(n=e.getAttribute(i),!t[i]&&n)t[i]=n;else if(!t[i]||n!==t[i])return a=!1,!1}),a}),a?t:null},e.getTableItemsByRange=function(e){var t=e.selection.getStart();t&&t.id&&0===t.id.indexOf("_baidu_bookmark_start_")&&t.nextSibling&&(t=t.nextSibling);var i=t&&domUtils.findParentByTagName(t,["td","th"],!0),n=i&&i.parentNode,a=t&&domUtils.findParentByTagName(t,"caption",!0);return{cell:i,tr:n,table:a?a.parentNode:n&&n.parentNode.parentNode,caption:a}},e.getUETableBySelected=function(t){var i=e.getTableItemsByRange(t).table;return i&&i.ueTable&&i.ueTable.selectedTds.length?i.ueTable:null},e.getDefaultValue=function(e,t){var i,n,a,r,o={thin:"0px",medium:"1px",thick:"2px"};if(t)return s=t.getElementsByTagName("td")[0],r=domUtils.getComputedStyle(t,"border-left-width"),i=parseInt(o[r]||r,10),r=domUtils.getComputedStyle(s,"padding-left"),n=parseInt(o[r]||r,10),r=domUtils.getComputedStyle(s,"border-left-width"),{tableBorder:i,tdPadding:n,tdBorder:a=parseInt(o[r]||r,10)};(t=e.document.createElement("table")).insertRow(0).insertCell(0).innerHTML="xxx",e.body.appendChild(t);var s=t.getElementsByTagName("td")[0];return r=domUtils.getComputedStyle(t,"border-left-width"),i=parseInt(o[r]||r,10),r=domUtils.getComputedStyle(s,"padding-left"),n=parseInt(o[r]||r,10),r=domUtils.getComputedStyle(s,"border-left-width"),a=parseInt(o[r]||r,10),domUtils.remove(t),{tableBorder:i,tdPadding:n,tdBorder:a}},e.getUETable=function(t){var i=t.tagName.toLowerCase();return(t="td"==i||"th"==i||"caption"==i?domUtils.findParentByTagName(t,"table",!0):t).ueTable||(t.ueTable=new e(t)),t.ueTable},e.cloneCell=function(e,t,i){if(!e||utils.isString(e))return this.table.ownerDocument.createElement(e||"td");var n=domUtils.hasClass(e,"selectTdClass");n&&domUtils.removeClasses(e,"selectTdClass");var a=e.cloneNode(!0);return t&&(a.rowSpan=a.colSpan=1),!i&&domUtils.removeAttributes(a,"width height"),!i&&domUtils.removeAttributes(a,"style"),a.style.borderLeftStyle="",a.style.borderTopStyle="",a.style.borderLeftColor=e.style.borderRightColor,a.style.borderLeftWidth=e.style.borderRightWidth,a.style.borderTopColor=e.style.borderBottomColor,a.style.borderTopWidth=e.style.borderBottomWidth,n&&domUtils.addClass(e,"selectTdClass"),a},e.prototype={getMaxRows:function(){for(var e,t=this.table.rows,i=1,n=0;e=t[n];n++){for(var a,r=1,o=0;a=e.cells[o++];)r=Math.max(a.rowSpan||1,r);i=Math.max(r+n,i)}return i},getMaxCols:function(){for(var e,t=this.table.rows,i=0,n={},a=0;e=t[a];a++){for(var r,o=0,s=0;r=e.cells[s++];)if(o+=r.colSpan||1,r.rowSpan&&r.rowSpan>1)for(var l=1;l<r.rowSpan;l++)n["row_"+(a+l)]?n["row_"+(a+l)]++:n["row_"+(a+l)]=r.colSpan||1;o+=n["row_"+a]||0,i=Math.max(o,i)}return i},getCellColIndex:function(e){},getHSideCell:function(e,t){try{var i,n,a=this.getCellInfo(e),r=this.selectedTds.length,o=this.cellsRange;return!t&&(r?!o.beginColIndex:!a.colIndex)||t&&(r?o.endColIndex==this.colsNum-1:a.colIndex==this.colsNum-1)?null:(i=r?o.beginRowIndex:a.rowIndex,n=t?r?o.endColIndex+1:a.colIndex+1:r?o.beginColIndex-1:a.colIndex<1?0:a.colIndex-1,this.getCell(this.indexTable[i][n].rowIndex,this.indexTable[i][n].cellIndex))}catch(e){}},getTabNextCell:function(e,t){var i,n=this.getCellInfo(e),a=t||n.rowIndex,r=n.colIndex+1+(n.colSpan-1);try{i=this.getCell(this.indexTable[a][r].rowIndex,this.indexTable[a][r].cellIndex)}catch(e){try{a=1*a+1,r=0,i=this.getCell(this.indexTable[a][r].rowIndex,this.indexTable[a][r].cellIndex)}catch(e){}}return i},getVSideCell:function(e,t,i){try{var n,a,r=this.getCellInfo(e),o=this.selectedTds.length&&!i,s=this.cellsRange;return!t&&0==r.rowIndex||t&&(o?s.endRowIndex==this.rowsNum-1:r.rowIndex+r.rowSpan>this.rowsNum-1)?null:(n=t?o?s.endRowIndex+1:r.rowIndex+r.rowSpan:o?s.beginRowIndex-1:r.rowIndex-1,a=o?s.beginColIndex:r.colIndex,this.getCell(this.indexTable[n][a].rowIndex,this.indexTable[n][a].cellIndex))}catch(e){}},getSameEndPosCells:function(e,t){try{for(var i="x"===t.toLowerCase(),n=domUtils.getXY(e)[i?"x":"y"]+e["offset"+(i?"Width":"Height")],a=this.table.rows,r=null,o=[],s=0;s<this.rowsNum;s++){r=a[s].cells;for(var l,c=0;l=r[c++];){var d=domUtils.getXY(l)[i?"x":"y"]+l["offset"+(i?"Width":"Height")];if(d>n&&i)break;if((e==l||n==d)&&(1==l[i?"colSpan":"rowSpan"]&&o.push(l),i))break}}return o}catch(e){}},setCellContent:function(e,t){e.innerHTML=t||(browser.ie?domUtils.fillChar:"<br />")},cloneCell:e.cloneCell,getSameStartPosXCells:function(e){try{for(var t,i=domUtils.getXY(e).x+e.offsetWidth,n=this.table.rows,a=[],r=0;r<this.rowsNum;r++){t=n[r].cells;for(var o,s=0;o=t[s++];){var l=domUtils.getXY(o).x;if(l>i)break;if(l==i&&1==o.colSpan){a.push(o);break}}}return a}catch(e){}},update:function(e){this.table=e||this.table,this.selectedTds=[],this.cellsRange={},this.indexTable=[];for(var t=this.table.rows,i=this.getMaxRows(),n=i-t.length,a=this.getMaxCols();n--;)this.table.insertRow(t.length);this.rowsNum=i,this.colsNum=a;for(var r=0,o=t.length;r<o;r++)this.indexTable[r]=new Array(a);for(var s,l=0;s=t[l];l++)for(var c,d=0,u=s.cells;c=u[d];d++){c.rowSpan>i&&(c.rowSpan=i);for(var h=d,p=c.rowSpan||1,f=c.colSpan||1;this.indexTable[l][h];)h++;for(var m=0;m<p;m++)for(var g=0;g<f;g++)this.indexTable[l+m][h+g]={rowIndex:l,cellIndex:d,colIndex:h,rowSpan:p,colSpan:f}}for(m=0;m<i;m++)for(g=0;g<a;g++)void 0===this.indexTable[m][g]&&(c=(c=(s=t[m]).cells[s.cells.length-1])?c.cloneNode(!0):this.table.ownerDocument.createElement("td"),this.setCellContent(c),1!==c.colSpan&&(c.colSpan=1),1!==c.rowSpan&&(c.rowSpan=1),s.appendChild(c),this.indexTable[m][g]={rowIndex:m,cellIndex:c.cellIndex,colIndex:g,rowSpan:1,colSpan:1});var v=domUtils.getElementsByTagName(this.table,"td"),b=[];if(utils.each(v,function(e){domUtils.hasClass(e,"selectTdClass")&&b.push(e)}),b.length){var y=b[0],_=b[b.length-1],w=this.getCellInfo(y),x=this.getCellInfo(_);this.selectedTds=b,this.cellsRange={beginRowIndex:w.rowIndex,beginColIndex:w.colIndex,endRowIndex:x.rowIndex+x.rowSpan-1,endColIndex:x.colIndex+x.colSpan-1}}if(!domUtils.hasClass(this.table.rows[0],"firstRow")){domUtils.addClass(this.table.rows[0],"firstRow");for(r=1;r<this.table.rows.length;r++)domUtils.removeClasses(this.table.rows[r],"firstRow")}},getCellInfo:function(e){if(e)for(var t=e.cellIndex,i=e.parentNode.rowIndex,n=this.indexTable[i],a=this.colsNum,r=t;r<a;r++){var o=n[r];if(o.rowIndex===i&&o.cellIndex===t)return o}},getCell:function(e,t){return e<this.rowsNum&&this.table.rows[e].cells[t]||null},deleteCell:function(e,t){t="number"==typeof t?t:e.parentNode.rowIndex,this.table.rows[t].deleteCell(e.cellIndex)},getCellsRange:function(e,t){try{var i=this,n=i.getCellInfo(e);if(e===t)return{beginRowIndex:n.rowIndex,beginColIndex:n.colIndex,endRowIndex:n.rowIndex+n.rowSpan-1,endColIndex:n.colIndex+n.colSpan-1};var a=i.getCellInfo(t);return function e(t,n,a,r){var o,s,l,c=t,d=n,u=a,h=r;if(t>0)for(s=n;s<r;s++)(l=(o=i.indexTable[t][s]).rowIndex)<t&&(c=Math.min(l,c));if(r<i.colsNum)for(l=t;l<a;l++)(s=(o=i.indexTable[l][r]).colIndex+o.colSpan-1)>r&&(h=Math.max(s,h));if(a<i.rowsNum)for(s=n;s<r;s++)(l=(o=i.indexTable[a][s]).rowIndex+o.rowSpan-1)>a&&(u=Math.max(l,u));if(n>0)for(l=t;l<a;l++)(s=(o=i.indexTable[l][n]).colIndex)<n&&(d=Math.min(o.colIndex,d));return c!=t||d!=n||u!=a||h!=r?e(c,d,u,h):{beginRowIndex:t,beginColIndex:n,endRowIndex:a,endColIndex:r}}(Math.min(n.rowIndex,a.rowIndex),Math.min(n.colIndex,a.colIndex),Math.max(n.rowIndex+n.rowSpan-1,a.rowIndex+a.rowSpan-1),Math.max(n.colIndex+n.colSpan-1,a.colIndex+a.colSpan-1))}catch(e){}},getCells:function(e){this.clearSelected();for(var t,i,n,a=e.beginRowIndex,r=e.beginColIndex,o=e.endRowIndex,s=e.endColIndex,l={},c=[],d=a;d<=o;d++)for(var u=r;u<=s;u++){var h=(i=(t=this.indexTable[d][u]).rowIndex)+"|"+(n=t.colIndex);if(!l[h]){if(l[h]=1,i<d||n<u||i+t.rowSpan-1>o||n+t.colSpan-1>s)return null;c.push(this.getCell(i,t.cellIndex))}}return c},clearSelected:function(){e.removeSelectedClass(this.selectedTds),this.selectedTds=[],this.cellsRange={}},setSelected:function(t){var i=this.getCells(t);e.addSelectedClass(i),this.selectedTds=i,this.cellsRange=t},isFullRow:function(){var e=this.cellsRange;return e.endColIndex-e.beginColIndex+1==this.colsNum},isFullCol:function(){var e=this.cellsRange,t=this.table.getElementsByTagName("th"),i=e.endRowIndex-e.beginRowIndex+1;return t.length?i==this.rowsNum||i==this.rowsNum-1:i==this.rowsNum},getNextCell:function(e,t,i){try{var n,a,r=this.getCellInfo(e),o=this.selectedTds.length&&!i,s=this.cellsRange;return!t&&0==r.rowIndex||t&&(o?s.endRowIndex==this.rowsNum-1:r.rowIndex+r.rowSpan>this.rowsNum-1)?null:(n=t?o?s.endRowIndex+1:r.rowIndex+r.rowSpan:o?s.beginRowIndex-1:r.rowIndex-1,a=o?s.beginColIndex:r.colIndex,this.getCell(this.indexTable[n][a].rowIndex,this.indexTable[n][a].cellIndex))}catch(e){}},getPreviewCell:function(e,t){try{var i,n,a=this.getCellInfo(e),r=this.selectedTds.length,o=this.cellsRange;return!t&&(r?!o.beginColIndex:!a.colIndex)||t&&(r?o.endColIndex==this.colsNum-1:a.rowIndex>this.colsNum-1)?null:(i=t?r?o.beginRowIndex:a.rowIndex<1?0:a.rowIndex-1:r?o.beginRowIndex:a.rowIndex,n=t?r?o.endColIndex+1:a.colIndex:r?o.beginColIndex-1:a.colIndex<1?0:a.colIndex-1,this.getCell(this.indexTable[i][n].rowIndex,this.indexTable[i][n].cellIndex))}catch(e){}},moveContent:function(t,i){if(!e.isEmptyBlock(i))if(e.isEmptyBlock(t))t.innerHTML=i.innerHTML;else{var n=t.lastChild;for(3!=n.nodeType&&dtd.$block[n.tagName]||t.appendChild(t.ownerDocument.createElement("br"));n=i.firstChild;)t.appendChild(n)}},mergeRight:function(e){var t=this.getCellInfo(e),i=t.colIndex+t.colSpan,n=this.indexTable[t.rowIndex][i],a=this.getCell(n.rowIndex,n.cellIndex);e.colSpan=t.colSpan+n.colSpan,e.removeAttribute("width"),this.moveContent(e,a),this.deleteCell(a,n.rowIndex),this.update()},mergeDown:function(e){var t=this.getCellInfo(e),i=t.rowIndex+t.rowSpan,n=this.indexTable[i][t.colIndex],a=this.getCell(n.rowIndex,n.cellIndex);e.rowSpan=t.rowSpan+n.rowSpan,e.removeAttribute("height"),this.moveContent(e,a),this.deleteCell(a,n.rowIndex),this.update()},mergeRange:function(){var e=this.cellsRange,t=this.getCell(e.beginRowIndex,this.indexTable[e.beginRowIndex][e.beginColIndex].cellIndex);if("TH"==t.tagName&&e.endRowIndex!==e.beginRowIndex){var i=this.indexTable,n=this.getCellInfo(t);t=this.getCell(1,i[1][n.colIndex].cellIndex),e=this.getCellsRange(t,this.getCell(i[this.rowsNum-1][n.colIndex].rowIndex,i[this.rowsNum-1][n.colIndex].cellIndex))}for(var a,r=this.getCells(e),o=0;a=r[o++];)a!==t&&(this.moveContent(t,a),this.deleteCell(a));if(t.rowSpan=e.endRowIndex-e.beginRowIndex+1,t.rowSpan>1&&t.removeAttribute("height"),t.colSpan=e.endColIndex-e.beginColIndex+1,t.colSpan>1&&t.removeAttribute("width"),t.rowSpan==this.rowsNum&&1!=t.colSpan&&(t.colSpan=1),t.colSpan==this.colsNum&&1!=t.rowSpan){var s=t.parentNode.rowIndex;if(this.table.deleteRow){o=s+1;for(var l=s+1,c=t.rowSpan;o<c;o++)this.table.deleteRow(l)}else for(o=0,c=t.rowSpan-1;o<c;o++){var d=this.table.rows[s+1];d.parentNode.removeChild(d)}t.rowSpan=1}this.update()},insertRow:function(e,t){var i,n=this.colsNum,a=this.table.insertRow(e),r="string"==typeof t&&"TH"==t.toUpperCase();function o(e,t,i){if(0==e){var n=(i.nextSibling||i.previousSibling).cells[e];"TH"==n.tagName&&((n=t.ownerDocument.createElement("th")).appendChild(t.firstChild),i.insertBefore(n,t),domUtils.remove(t))}else if("TH"==t.tagName){var a=t.ownerDocument.createElement("td");a.appendChild(t.firstChild),i.insertBefore(a,t),domUtils.remove(t)}}if(0==e||e==this.rowsNum)for(var s=0;s<n;s++)i=this.cloneCell(t,!0),this.setCellContent(i),i.getAttribute("vAlign")&&i.setAttribute("vAlign",i.getAttribute("vAlign")),a.appendChild(i),r||o(s,i,a);else{var l=this.indexTable[e];for(s=0;s<n;s++){var c=l[s];c.rowIndex<e?(i=this.getCell(c.rowIndex,c.cellIndex)).rowSpan=c.rowSpan+1:(i=this.cloneCell(t,!0),this.setCellContent(i),a.appendChild(i)),r||o(s,i,a)}}return this.update(),a},deleteRow:function(e){for(var t=this.table.rows[e],i=this.indexTable[e],n=this.colsNum,a=0,r=0;r<n;){var o=i[r],s=this.getCell(o.rowIndex,o.cellIndex);if(s.rowSpan>1&&o.rowIndex==e){var l=s.cloneNode(!0);l.rowSpan=s.rowSpan-1,l.innerHTML="",s.rowSpan=1;var c,d=e+1,u=this.table.rows[d],h=this.getPreviewMergedCellsNum(d,r)-a;h<r?(c=r-h-1,domUtils.insertAfter(u.cells[c],l)):u.cells.length&&u.insertBefore(l,u.cells[0]),a+=1}r+=s.colSpan||1}var p=[],f={};for(r=0;r<n;r++){var m=i[r].rowIndex,g=i[r].cellIndex,v=m+"_"+g;f[v]||(f[v]=1,s=this.getCell(m,g),p.push(s))}var b=[];utils.each(p,function(e){1==e.rowSpan?e.parentNode.removeChild(e):b.push(e)}),utils.each(b,function(e){e.rowSpan--}),t.parentNode.removeChild(t),this.update()},insertCol:function(e,t,i){var n,a,r,o=this.rowsNum,s=0,l=parseInt((this.table.offsetWidth-20*(this.colsNum+1)-(this.colsNum+1))/(this.colsNum+1),10),c="string"==typeof t&&"TH"==t.toUpperCase();function d(e,t,i){if(0==e){var n=t.nextSibling||t.previousSibling;"TH"==n.tagName&&((n=t.ownerDocument.createElement("th")).appendChild(t.firstChild),i.insertBefore(n,t),domUtils.remove(t))}else if("TH"==t.tagName){var a=t.ownerDocument.createElement("td");a.appendChild(t.firstChild),i.insertBefore(a,t),domUtils.remove(t)}}if(0==e||e==this.colsNum)for(;s<o;s++)r=(n=this.table.rows[s]).cells[0==e?e:n.cells.length],a=this.cloneCell(t,!0),this.setCellContent(a),a.setAttribute("vAlign",a.getAttribute("vAlign")),r&&a.setAttribute("width",r.getAttribute("width")),e?domUtils.insertAfter(n.cells[n.cells.length-1],a):n.insertBefore(a,n.cells[0]),c||d(s,a,n);else for(;s<o;s++){var u=this.indexTable[s][e];u.colIndex<e?(a=this.getCell(u.rowIndex,u.cellIndex)).colSpan=u.colSpan+1:(r=(n=this.table.rows[s]).cells[u.cellIndex],a=this.cloneCell(t,!0),this.setCellContent(a),a.setAttribute("vAlign",a.getAttribute("vAlign")),r&&a.setAttribute("width",r.getAttribute("width")),r?n.insertBefore(a,r):n.appendChild(a)),c||d(s,a,n)}this.update(),this.updateWidth(l,i||{tdPadding:10,tdBorder:1})},updateWidth:function(t,i){var n=this.table,a=e.getWidth(n)-2*i.tdPadding-i.tdBorder+t;if(a<n.ownerDocument.body.offsetWidth)n.setAttribute("width",a);else{var r=domUtils.getElementsByTagName(this.table,"td th");utils.each(r,function(e){e.setAttribute("width",t)})}},deleteCol:function(e){for(var t=this.indexTable,i=this.table.rows,n=this.table.getAttribute("width"),a=0,r=this.rowsNum,o={},s=0;s<r;){var l=t[s][e],c=l.rowIndex+"_"+l.colIndex;if(!o[c]){o[c]=1;var d=this.getCell(l.rowIndex,l.cellIndex);a||(a=d&&parseInt(d.offsetWidth/d.colSpan,10).toFixed(0)),d.colSpan>1?d.colSpan--:i[s].deleteCell(l.cellIndex),s+=l.rowSpan||1}}this.table.setAttribute("width",n-a),this.update()},splitToCells:function(e){var t=this,i=this.splitToRows(e);utils.each(i,function(e){t.splitToCols(e)})},splitToRows:function(e){var t=this.getCellInfo(e),i=t.rowIndex,n=t.colIndex,a=[];e.rowSpan=1,a.push(e);for(var r=i,o=i+t.rowSpan;r<o;r++)if(r!=i){var s=this.table.rows[r].insertCell(n-this.getPreviewMergedCellsNum(r,n));s.colSpan=t.colSpan,this.setCellContent(s),s.setAttribute("vAlign",e.getAttribute("vAlign")),s.setAttribute("align",e.getAttribute("align")),e.style.cssText&&(s.style.cssText=e.style.cssText),a.push(s)}return this.update(),a},getPreviewMergedCellsNum:function(e,t){for(var i=this.indexTable[e],n=0,a=0;a<t;){var r=i[a].colSpan;n+=r-(i[a].rowIndex==e?1:0),a+=r}return n},splitToCols:function(e){var t=(e.offsetWidth/e.colSpan-22).toFixed(0),i=this.getCellInfo(e),n=i.rowIndex,a=i.colIndex,r=[];e.colSpan=1,e.setAttribute("width",t),r.push(e);for(var o=a,s=a+i.colSpan;o<s;o++)if(o!=a){var l=this.table.rows[n],c=l.insertCell(this.indexTable[n][o].cellIndex+1);if(c.rowSpan=i.rowSpan,this.setCellContent(c),c.setAttribute("vAlign",e.getAttribute("vAlign")),c.setAttribute("align",e.getAttribute("align")),c.setAttribute("width",t),e.style.cssText&&(c.style.cssText=e.style.cssText),"TH"==e.tagName){var d=e.ownerDocument.createElement("th");d.appendChild(c.firstChild),d.setAttribute("vAlign",e.getAttribute("vAlign")),d.rowSpan=c.rowSpan,l.insertBefore(d,c),domUtils.remove(c)}r.push(c)}return this.update(),r},isLastCell:function(e,t,i){t=t||this.rowsNum,i=i||this.colsNum;var n=this.getCellInfo(e);return n.rowIndex+n.rowSpan==t&&n.colIndex+n.colSpan==i},getLastCell:function(e){e=e||this.table.getElementsByTagName("td");this.getCellInfo(e[0]);var t,i=this,n=e[0],a=n.parentNode,r=0,o=0;return utils.each(e,function(e){e.parentNode==a&&(o+=e.colSpan||1),r+=e.rowSpan*e.colSpan||1}),t=r/o,utils.each(e,function(e){if(i.isLastCell(e,t,o))return n=e,!1}),n},selectRow:function(e){var t=this.indexTable[e],i=this.getCell(t[0].rowIndex,t[0].cellIndex),n=this.getCell(t[this.colsNum-1].rowIndex,t[this.colsNum-1].cellIndex),a=this.getCellsRange(i,n);this.setSelected(a)},selectTable:function(){var e=this.table.getElementsByTagName("td"),t=this.getCellsRange(e[0],e[e.length-1]);this.setSelected(t)},setBackground:function(e,t){if("string"==typeof t)utils.each(e,function(e){e.style.backgroundColor=t});else if("object"==typeof t){t=utils.extend({repeat:!0,colorList:["#ddd","#fff"]},t);for(var i,n=this.getCellInfo(e[0]).rowIndex,a=0,r=t.colorList,o=0;i=e[o++];){var s=this.getCellInfo(i);i.style.backgroundColor=(l=r,c=n+a==s.rowIndex?a:++a,d=t.repeat,l[c]?l[c]:d?l[c%l.length]:"")}}var l,c,d},removeBackground:function(e){utils.each(e,function(e){e.style.backgroundColor=""})}}}(),function(){var e=UE.UETable,t=function(t){return e.getTableItemsByRange(t)},i=function(t){return e.getUETableBySelected(t)},n=function(t,i){return e.getDefaultValue(t,i)},a=function(t){return e.getUETable(t)};function r(e,t){var i=domUtils.getElementsByTagName(e,"td th");utils.each(i,function(e){e.removeAttribute("width")}),e.setAttribute("width",function(e,t,i){var n=e.body;return n.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(n,"margin-left"),10):0)-2*i.tableBorder-(e.options.offsetWidth||0)}(t,!0,n(t,e)));var a=[];setTimeout(function(){utils.each(i,function(e){1==e.colSpan&&a.push(e.offsetWidth)}),utils.each(i,function(e,t){1==e.colSpan&&e.setAttribute("width",a[t]+"")})},0)}function o(e){var i=t(e).cell;if(i){var n=a(i);return n.selectedTds.length?n.selectedTds:[i]}return[]}UE.commands.inserttable={queryCommandState:function(){return t(this).table?-1:0},execCommand:function(e,t){t||(t=utils.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign}));var i=this.selection.getRange().startContainer,a=domUtils.findParent(i,function(e){return domUtils.isBlockElm(e)},!0)||this.body,r=n(this),o=a.offsetWidth,s=Math.floor(o/t.numCols-2*r.tdPadding-r.tdBorder);!t.tdvalign&&(t.tdvalign=this.options.tdvalign),this.execCommand("inserthtml",function(e,t){for(var i=[],n=e.numRows,a=e.numCols,r=0;r<n;r++){i.push("<tr"+(0==r?' class="firstRow"':"")+">");for(var o=0;o<a;o++)i.push('<td width="'+t+'"  vAlign="'+e.tdvalign+'" >'+(browser.ie&&browser.version<11?domUtils.fillChar:"<br/>")+"</td>");i.push("</tr>")}return"<table><tbody>"+i.join("")+"</tbody></table>"}(t,s))}},UE.commands.insertparagraphbeforetable={queryCommandState:function(){return t(this).cell?0:-1},execCommand:function(){var e=t(this).table;if(e){var i=this.document.createElement("p");i.innerHTML=browser.ie?"&nbsp;":"<br />",e.parentNode.insertBefore(i,e),this.selection.getRange().setStart(i,0).setCursor()}}},UE.commands.deletetable={queryCommandState:function(){var e=this.selection.getRange();return domUtils.findParentByTagName(e.startContainer,"table",!0)?0:-1},execCommand:function(e,t){var i=this.selection.getRange();if(t=t||domUtils.findParentByTagName(i.startContainer,"table",!0)){var n=t.nextSibling;n||(n=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"}),t.parentNode.insertBefore(n,t)),domUtils.remove(t),i=this.selection.getRange(),3==n.nodeType?i.setStartBefore(n):i.setStart(n,0),i.setCursor(!1,!0),this.fireEvent("tablehasdeleted")}}},UE.commands.cellalign={queryCommandState:function(){return o(this).length?0:-1},execCommand:function(e,t){var i=o(this);if(i.length)for(var n,a=0;n=i[a++];)n.setAttribute("align",t)}},UE.commands.cellvalign={queryCommandState:function(){return o(this).length?0:-1},execCommand:function(e,t){var i=o(this);if(i.length)for(var n,a=0;n=i[a++];)n.setAttribute("vAlign",t)}},UE.commands.insertcaption={queryCommandState:function(){var e=t(this).table;return e&&0==e.getElementsByTagName("caption").length?1:-1},execCommand:function(){var e=t(this).table;if(e){var i=this.document.createElement("caption");i.innerHTML=browser.ie?domUtils.fillChar:"<br/>",e.insertBefore(i,e.firstChild),this.selection.getRange().setStart(i,0).setCursor()}}},UE.commands.deletecaption={queryCommandState:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");return t?0==t.getElementsByTagName("caption").length?-1:1:-1},execCommand:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");t&&(domUtils.remove(t.getElementsByTagName("caption")[0]),this.selection.getRange().setStart(t.rows[0].cells[0],0).setCursor())}},UE.commands.inserttitle={queryCommandState:function(){var e=t(this).table;if(e){var i=e.rows[0];return"th"!=i.cells[i.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=t(this).table;e&&a(e).insertRow(0,"th");var i=e.getElementsByTagName("th")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}},UE.commands.deletetitle={queryCommandState:function(){var e=t(this).table;if(e){var i=e.rows[0];return"th"==i.cells[i.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=t(this).table;e&&domUtils.remove(e.rows[0]);var i=e.getElementsByTagName("td")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}},UE.commands.inserttitlecol={queryCommandState:function(){var e=t(this).table;return e?e.rows[e.rows.length-1].getElementsByTagName("th").length?-1:0:-1},execCommand:function(e){var i=t(this).table;i&&a(i).insertCol(0,"th"),r(i,this);var n=i.getElementsByTagName("th")[0];this.selection.getRange().setStart(n,0).setCursor(!1,!0)}},UE.commands.deletetitlecol={queryCommandState:function(){var e=t(this).table;return e&&e.rows[e.rows.length-1].getElementsByTagName("th").length?0:-1},execCommand:function(){var e=t(this).table;if(e)for(var i=0;i<e.rows.length;i++)domUtils.remove(e.rows[i].children[0]);r(e,this);var n=e.getElementsByTagName("td")[0];this.selection.getRange().setStart(n,0).setCursor(!1,!0)}},UE.commands.mergeright={queryCommandState:function(e){var i=t(this),n=i.table,r=i.cell;if(!n||!r)return-1;var o=a(n);if(o.selectedTds.length)return-1;var s=o.getCellInfo(r),l=s.colIndex+s.colSpan;if(l>=o.colsNum)return-1;var c=o.indexTable[s.rowIndex][l],d=n.rows[c.rowIndex].cells[c.cellIndex];return d&&r.tagName==d.tagName&&c.rowIndex==s.rowIndex&&c.rowSpan==s.rowSpan?0:-1},execCommand:function(e){var i=this.selection.getRange(),n=i.createBookmark(!0),r=t(this).cell;a(r).mergeRight(r),i.moveToBookmark(n).select()}},UE.commands.mergedown={queryCommandState:function(e){var i=t(this),n=i.table,r=i.cell;if(!n||!r)return-1;var o=a(n);if(o.selectedTds.length)return-1;var s=o.getCellInfo(r),l=s.rowIndex+s.rowSpan;if(l>=o.rowsNum)return-1;var c=o.indexTable[l][s.colIndex],d=n.rows[c.rowIndex].cells[c.cellIndex];return d&&r.tagName==d.tagName&&c.colIndex==s.colIndex&&c.colSpan==s.colSpan?0:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this).cell;a(n).mergeDown(n),e.moveToBookmark(i).select()}},UE.commands.mergecells={queryCommandState:function(){return i(this)?0:-1},execCommand:function(){var e=i(this);if(e&&e.selectedTds.length){var t=e.selectedTds[0];e.mergeRange();var n=this.selection.getRange();domUtils.isEmptyBlock(t)?n.setStart(t,0).collapse(!0):n.selectNodeContents(t),n.select()}}},UE.commands.insertrow={queryCommandState:function(){var e=t(this),i=e.cell;return i&&("TD"==i.tagName||"TH"==i.tagName&&e.tr!==e.table.rows[0])&&a(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this),r=n.cell,o=n.table,s=a(o),l=s.getCellInfo(r);if(s.selectedTds.length)for(var c=s.cellsRange,d=0,u=c.endRowIndex-c.beginRowIndex+1;d<u;d++)s.insertRow(c.beginRowIndex,r);else s.insertRow(l.rowIndex,r);e.moveToBookmark(i).select(),"enabled"===o.getAttribute("interlaced")&&this.fireEvent("interlacetable",o)}},UE.commands.insertrownext={queryCommandState:function(){var e=t(this),i=e.cell;return i&&"TD"==i.tagName&&a(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this),r=n.cell,o=n.table,s=a(o),l=s.getCellInfo(r);if(s.selectedTds.length)for(var c=s.cellsRange,d=0,u=c.endRowIndex-c.beginRowIndex+1;d<u;d++)s.insertRow(c.endRowIndex+1,r);else s.insertRow(l.rowIndex+l.rowSpan,r);e.moveToBookmark(i).select(),"enabled"===o.getAttribute("interlaced")&&this.fireEvent("interlacetable",o)}},UE.commands.deleterow={queryCommandState:function(){return t(this).cell?0:-1},execCommand:function(){var e=t(this).cell,i=a(e),n=i.cellsRange,r=i.getCellInfo(e),o=i.getVSideCell(e),s=i.getVSideCell(e,!0),l=this.selection.getRange();if(utils.isEmptyObject(n))i.deleteRow(r.rowIndex);else for(var c=n.beginRowIndex;c<n.endRowIndex+1;c++)i.deleteRow(n.beginRowIndex);var d=i.table;if(d.getElementsByTagName("td").length)if(1==r.rowSpan||r.rowSpan==n.endRowIndex-n.beginRowIndex+1)(s||o)&&l.selectNodeContents(s||o).setCursor(!1,!0);else{var u=i.getCell(r.rowIndex,i.indexTable[r.rowIndex][r.colIndex].cellIndex);u&&l.selectNodeContents(u).setCursor(!1,!0)}else{var h=d.nextSibling;domUtils.remove(d),h&&l.setStart(h,0).setCursor(!1,!0)}"enabled"===d.getAttribute("interlaced")&&this.fireEvent("interlacetable",d)}},UE.commands.insertcol={queryCommandState:function(e){var i=t(this),n=i.cell;return n&&("TD"==n.tagName||"TH"==n.tagName&&n!==i.tr.cells[0])&&a(i.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(e){var i=this.selection.getRange(),n=i.createBookmark(!0);if(-1!=this.queryCommandState(e)){var r=t(this).cell,o=a(r),s=o.getCellInfo(r);if(o.selectedTds.length)for(var l=o.cellsRange,c=0,d=l.endColIndex-l.beginColIndex+1;c<d;c++)o.insertCol(l.beginColIndex,r);else o.insertCol(s.colIndex,r);i.moveToBookmark(n).select(!0)}}},UE.commands.insertcolnext={queryCommandState:function(){var e=t(this);return e.cell&&a(e.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this).cell,r=a(n),o=r.getCellInfo(n);if(r.selectedTds.length)for(var s=r.cellsRange,l=0,c=s.endColIndex-s.beginColIndex+1;l<c;l++)r.insertCol(s.endColIndex+1,n);else r.insertCol(o.colIndex+o.colSpan,n);e.moveToBookmark(i).select()}},UE.commands.deletecol={queryCommandState:function(){return t(this).cell?0:-1},execCommand:function(){var e=t(this).cell,i=a(e),n=i.cellsRange,r=i.getCellInfo(e),o=i.getHSideCell(e),s=i.getHSideCell(e,!0);if(utils.isEmptyObject(n))i.deleteCol(r.colIndex);else for(var l=n.beginColIndex;l<n.endColIndex+1;l++)i.deleteCol(n.beginColIndex);var c=i.table,d=this.selection.getRange();if(c.getElementsByTagName("td").length)domUtils.inDoc(e,this.document)?d.setStart(e,0).setCursor(!1,!0):s&&domUtils.inDoc(s,this.document)?d.selectNodeContents(s).setCursor(!1,!0):o&&domUtils.inDoc(o,this.document)&&d.selectNodeContents(o).setCursor(!0,!0);else{var u=c.nextSibling;domUtils.remove(c),u&&d.setStart(u,0).setCursor(!1,!0)}}},UE.commands.splittocells={queryCommandState:function(){var e=t(this),i=e.cell;return i?a(e.table).selectedTds.length>0?-1:i&&(i.colSpan>1||i.rowSpan>1)?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this).cell;a(n).splitToCells(n),e.moveToBookmark(i).select()}},UE.commands.splittorows={queryCommandState:function(){var e=t(this),i=e.cell;return i?a(e.table).selectedTds.length>0?-1:i&&i.rowSpan>1?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this).cell;a(n).splitToRows(n),e.moveToBookmark(i).select()}},UE.commands.splittocols={queryCommandState:function(){var e=t(this),i=e.cell;return i?a(e.table).selectedTds.length>0?-1:i&&i.colSpan>1?0:-1:-1},execCommand:function(){var e=this.selection.getRange(),i=e.createBookmark(!0),n=t(this).cell;a(n).splitToCols(n),e.moveToBookmark(i).select()}},UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return t(this).table?0:-1},execCommand:function(e){var i=t(this).table;if(i)if("adaptbywindow"==e)r(i,this);else{var n=domUtils.getElementsByTagName(i,"td th");utils.each(n,function(e){e.removeAttribute("width")}),i.removeAttribute("width")}}},UE.commands.averagedistributecol={queryCommandState:function(){var e=i(this);return e&&(e.isFullRow()||e.isFullCol())?0:-1},execCommand:function(e){var t=this,a=i(t);a&&a.selectedTds.length&&function(e){utils.each(domUtils.getElementsByTagName(a.table,"th"),function(e){e.setAttribute("width","")});var t=a.isFullRow()?domUtils.getElementsByTagName(a.table,"td"):a.selectedTds;utils.each(t,function(t){1==t.colSpan&&t.setAttribute("width",e)})}(function(){var e=a.table,i=0,r=0,o=n(t,e);if(a.isFullRow())i=e.offsetWidth,r=a.colsNum;else for(var s,l=a.cellsRange.beginColIndex,c=a.cellsRange.endColIndex,d=l;d<=c;)i+=(s=a.selectedTds[d]).offsetWidth,d+=s.colSpan,r+=1;return Math.ceil(i/r)-2*o.tdBorder-2*o.tdPadding}())}},UE.commands.averagedistributerow={queryCommandState:function(){var e=i(this);return e?e.selectedTds&&/th/gi.test(e.selectedTds[0].tagName)?-1:e.isFullRow()||e.isFullCol()?0:-1:-1},execCommand:function(e){var t,a,r=this,o=i(r);o&&o.selectedTds.length&&(t=function(){var e,t=0,i=o.table,a=n(r,i),s=parseInt(domUtils.getComputedStyle(i.getElementsByTagName("td")[0],"padding-top"));if(o.isFullCol()){var l,c,d=domUtils.getElementsByTagName(i,"caption"),u=domUtils.getElementsByTagName(i,"th");d.length>0&&(l=d[0].offsetHeight),u.length>0&&(c=u[0].offsetHeight),t=i.offsetHeight-(l||0)-(c||0),e=0==u.length?o.rowsNum:o.rowsNum-1}else{for(var h=o.cellsRange.beginRowIndex,p=o.cellsRange.endRowIndex,f=0,m=domUtils.getElementsByTagName(i,"tr"),g=h;g<=p;g++)t+=m[g].offsetHeight,f+=1;e=f}return browser.ie&&browser.version<9?Math.ceil(t/e):Math.ceil(t/e)-2*a.tdBorder-2*s}(),a=o.isFullCol()?domUtils.getElementsByTagName(o.table,"td"):o.selectedTds,utils.each(a,function(e){1==e.rowSpan&&e.setAttribute("height",t)}))}},UE.commands.cellalignment={queryCommandState:function(){return t(this).table?0:-1},execCommand:function(e,t){var n=i(this);if(n)utils.each(n.selectedTds,function(e){domUtils.setAttributes(e,t)});else{var a=this.selection.getStart(),r=a&&domUtils.findParentByTagName(a,["td","th","caption"],!0);/caption/gi.test(r.tagName)?(r.style.textAlign=t.align,r.style.verticalAlign=t.vAlign):domUtils.setAttributes(r,t),this.selection.getRange().setCursor(!0)}},queryCommandValue:function(e){var i=t(this).cell;if(i||(i=o(this)[0]),i){var n=UE.UETable.getUETable(i).selectedTds;return!n.length&&(n=i),UE.UETable.getTableCellAlignState(n)}return null}},UE.commands.tablealignment={queryCommandState:function(){return browser.ie&&browser.version<8?-1:t(this).table?0:-1},execCommand:function(e,t){var i=this.selection.getStart(),n=i&&domUtils.findParentByTagName(i,["table"],!0);n&&n.setAttribute("align",t)}},UE.commands.edittable={queryCommandState:function(){return t(this).table?0:-1},execCommand:function(e,t){var i=this.selection.getRange(),n=domUtils.findParentByTagName(i.startContainer,"table");if(n){var a=domUtils.getElementsByTagName(n,"td").concat(domUtils.getElementsByTagName(n,"th"),domUtils.getElementsByTagName(n,"caption"));utils.each(a,function(e){e.style.borderColor=t})}}},UE.commands.edittd={queryCommandState:function(){return t(this).table?0:-1},execCommand:function(e,t){var n=i(this);if(n)utils.each(n.selectedTds,function(e){e.style.backgroundColor=t});else{var a=this.selection.getStart(),r=a&&domUtils.findParentByTagName(a,["td","th","caption"],!0);r&&(r.style.backgroundColor=t)}}},UE.commands.settablebackground={queryCommandState:function(){return o(this).length>1?0:-1},execCommand:function(e,t){var i;i=o(this),a(i[0]).setBackground(i,t)}},UE.commands.cleartablebackground={queryCommandState:function(){var e=o(this);if(!e.length)return-1;for(var t,i=0;t=e[i++];)if(""!==t.style.backgroundColor)return 0;return-1},execCommand:function(){var e=o(this);a(e[0]).removeBackground(e)}},UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function(e){var i=t(this).table;if(!i)return-1;var n=i.getAttribute("interlaced");return"interlacetable"==e?"enabled"===n?-1:0:n&&"disabled"!==n?0:-1},execCommand:function(e,i){var n=t(this).table;"interlacetable"==e?(n.setAttribute("interlaced","enabled"),this.fireEvent("interlacetable",n,i)):(n.setAttribute("interlaced","disabled"),this.fireEvent("uninterlacetable",n))}},UE.commands.setbordervisible={queryCommandState:function(e){return t(this).table?0:-1},execCommand:function(){var e=t(this).table;utils.each(domUtils.getElementsByTagName(e,"td"),function(e){e.style.borderWidth="1px",e.style.borderStyle="solid"})}}}(),UE.plugins.table=function(){var e=this,t=null,i=5,n=!1,a=5,r=10,o=0,s=null,l=360,c=UE.UETable,d=function(e){return c.getUETable(e)},u=function(e){return c.getUETableBySelected(e)},h=function(e,t){return c.getDefaultValue(e,t)},p=function(e){return c.removeSelectedClass(e)};e.ready(function(){var e=this,t=e.selection.getText;e.selection.getText=function(){var i=u(e);if(i){var n="";return utils.each(i.selectedTds,function(e){n+=e[browser.ie?"innerText":"textContent"]}),n}return t.call(e.selection)}});var f=null,m=null,g="",v=!1,b=null,y=!1,_=null,w=null,x=!1;e.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:e.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:!1,classList:["ue-table-interlace-color-single","ue-table-interlace-color-double"]}),e.getUETable=d;var C={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};function S(e,t){T(e,"width",!0),T(e,"height",!0)}function T(e,t,i){e.style[t]&&(i&&e.setAttribute(t,parseInt(e.style[t],10)),e.style[t]="")}function k(e){return"TD"==e.tagName||"TH"==e.tagName?e:(t=domUtils.findParentByTagName(e,"td",!0)||domUtils.findParentByTagName(e,"th",!0))?t:null;var t}function A(e){var t=new RegExp(domUtils.fillChar,"g");if(e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length>0)return 0;for(var i in dtd.$isNotEmpty)if(e.getElementsByTagName(i).length)return 0;return 1}function E(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+e.document.body.scrollLeft-e.document.body.clientLeft,y:t.clientY+e.document.body.scrollTop-e.document.body.clientTop}}function N(t){if(!W())try{var a,l=k(t.target||t.srcElement);if(n&&(e.body.style.webkitUserSelect="none",(Math.abs(s.x-t.clientX)>r||Math.abs(s.y-t.clientY)>r)&&(M(),n=!1,o=0,B(t))),g&&w)return o=0,e.body.style.webkitUserSelect="none",e.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),a=E(t),I(e,!0,g,a,l),void("h"==g?_.style.left=function(t,n){var a=d(t);if(a){var r=a.getSameEndPosCells(t,"x")[0],o=a.getSameStartPosXCells(t)[0],s=E(n).x,l=(r?domUtils.getXY(r).x:domUtils.getXY(a.table).x)+20,c=o?domUtils.getXY(o).x+o.offsetWidth-20:e.body.offsetWidth+5||parseInt(domUtils.getComputedStyle(e.body,"width"),10);return c-=i,s<(l+=i)?l:s>c?c:s}}(w,t)+"px":"v"==g&&(_.style.top=function(e,t){try{var i=domUtils.getXY(e).y,n=E(t).y;return n<i?i:n}catch(e){}}(w,t)+"px"));if(l){if(!0===e.fireEvent("excludetable",l))return;var c=L(l,a=E(t)),u=domUtils.findParentByTagName(l,"table",!0);if(R(u,l,t,!0)){if(!0===e.fireEvent("excludetable",u))return;e.body.style.cursor="url("+e.options.cursorpath+"h.png),pointer"}else if(R(u,l,t)){if(!0===e.fireEvent("excludetable",u))return;e.body.style.cursor="url("+e.options.cursorpath+"v.png),pointer"}else{e.body.style.cursor="text";/\d/.test(c)&&(c=c.replace(/\d/,""),l=d(l).getPreviewCell(l,"v"==c)),I(e,!!l&&!!c,l?c:"",a,l)}}else P(!1,u,e)}catch(e){}}function P(e,t,i){if(e)!function(e,t){var i,n=domUtils.getXY(e),a=e.ownerDocument;if(b&&b.parentNode)return b;(b=a.createElement("div")).contentEditable=!1,b.innerHTML="",b.style.cssText="width:15px;height:15px;background-image:url("+t.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(n.y-15)+"px;left:"+n.x+"px;",domUtils.unSelectable(b),b.onmouseover=function(e){y=!0},b.onmouseout=function(e){y=!1},domUtils.on(b,"click",function(n,a){var r;r=this,clearTimeout(i),i=setTimeout(function(){t.fireEvent("tableClicked",e,r)},300)}),domUtils.on(b,"dblclick",function(n,a){!function(n){clearTimeout(i);var a=d(e),r=e.rows[0].cells[0],o=a.getLastCell(),s=a.getCellsRange(r,o);t.selection.getRange().setStart(r,0).setCursor(!1,!0),a.setSelected(s)}()}),domUtils.on(b,"dragstart",function(e,t){domUtils.preventDefault(t)}),a.body.appendChild(b)}(t,i);else{if(y)return;setTimeout(function(){!y&&b&&b.parentNode&&b.parentNode.removeChild(b)},2e3)}}function R(e,t,i,n){var a=E(i),r=L(t,a);if(n){var o=e.getElementsByTagName("caption")[0],s=o?o.offsetHeight:0;return"v1"==r&&a.y-domUtils.getXY(e).y-s<8}return"h1"==r&&a.x-domUtils.getXY(e).x<8}function I(e,t,i,n,a){try{e.body.style.cursor="h"==i?"col-resize":"v"==i?"row-resize":"text",browser.ie&&(!i||x||u(e)?Y(e):($(e,e.document),G(i,a))),v=t}catch(e){}}function L(e,t){var i=domUtils.getXY(e);return i?i.x+e.offsetWidth-t.x<a?"h":t.x-i.x<a?"h1":i.y+e.offsetHeight-t.y<a?"v":t.y-i.y<a?"v1":"":""}function D(t,i){if(!W())if(s={x:i.clientX,y:i.clientY},2==i.button){var n=u(e),a=!1;if(n){var r=J(e,i);utils.each(n.selectedTds,function(e){e===r&&(a=!0)}),a?(r=n.selectedTds[0],setTimeout(function(){e.selection.getRange().setStart(r,0).setCursor(!1,!0)},0)):(p(domUtils.getElementsByTagName(e.body,"th td")),n.clearSelected())}}else O(i)}function U(t){o=0;var i,n=k((t=t||e.window.event).target||t.srcElement);if(n&&(i=L(n,E(t)))){if(Y(e),"h1"==i)if(i="h",R(domUtils.findParentByTagName(n,"table"),n,t))e.execCommand("adaptbywindow");else if(n=d(n).getPreviewCell(n))e.selection.getRange().selectNodeContents(n).setCursor(!0,!0);if("h"==i){var a=d(n),r=q(n,a.table,!0);r=function(e,t){for(var i=[],n=null,a=0,r=e.length;a<r;a++)(n=e[a][t])&&i.push(n);return i}(r,"left"),a.width=a.offsetWidth;var s=[],l=[];utils.each(r,function(e){s.push(e.offsetWidth)}),utils.each(r,function(e){e.removeAttribute("width")}),window.setTimeout(function(){var e=!0;utils.each(r,function(t,i){var n=t.offsetWidth;if(n>s[i])return e=!1,!1;l.push(n)});var t=e?l:s;utils.each(r,function(e,i){e.width=t[i]-z()})},0)}}}function O(i){if(p(domUtils.getElementsByTagName(e.body,"td th")),utils.each(e.document.getElementsByTagName("table"),function(e){e.ueTable=null}),f=J(e,i)){var a=domUtils.findParentByTagName(f,"table",!0);ut=d(a),ut&&ut.clearSelected(),v?function(e){browser.ie&&(e=function(e){var t=["pageX","pageY","clientX","clientY","srcElement","target"],i={};if(e)for(var n,a,r=0;n=t[r];r++)(a=e[n])&&(i[n]=a);return i}(e));M(),n=!0,t=setTimeout(function(){B(e)},l)}(i):(e.document.body.style.webkitUserSelect="",x=!0,e.addListener("mouseover",j))}}function M(){t&&clearTimeout(t),t=null}function B(t){if(n=!1,f=t.target||t.srcElement){var i=L(f,E(t));/\d/.test(i)&&(i=i.replace(/\d/,""),f=d(f).getPreviewCell(f,"v"==i)),Y(e),$(e,e.document),e.fireEvent("saveScene"),G(i,f),x=!0,g=i,w=f}}function F(e,t){if(!W()){if(M(),n=!1,v&&(o=++o%3,s={x:t.clientX,y:t.clientY},setTimeout(function(){o>0&&o--},l),2===o))return o=0,void U(t);if(2!=t.button){var a=this,r=a.selection.getRange(),c=domUtils.findParentByTagName(r.startContainer,"table",!0),u=domUtils.findParentByTagName(r.endContainer,"table",!0);if((c||u)&&(c===u?(c=domUtils.findParentByTagName(r.startContainer,["td","th","caption"],!0))!==(u=domUtils.findParentByTagName(r.endContainer,["td","th","caption"],!0))&&a.selection.clearRange():a.selection.clearRange()),x=!1,a.document.body.style.webkitUserSelect="",g&&w&&(a.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),o=0,_=a.document.getElementById("ue_tableDragLine"))){var h=domUtils.getXY(w),p=domUtils.getXY(_);switch(g){case"h":!function(e,t){var n=d(e);if(n){var a=n.table,r=q(e,a);if(a.style.width="",a.removeAttribute("width"),t=function(e,t,n){if((e-=z())<0)return 0;var a=(e-=V(t))<0?"left":"right";return e=Math.abs(e),utils.each(n,function(t){var n=t[a];n&&(e=Math.min(e,V(n)-i))}),e=e<0?0:e,"left"===a?-e:e}(t,e,r),e.nextSibling){utils.each(r,function(e){e.left.width=+e.left.width+t,e.right&&(e.right.width=+e.right.width-t)})}else utils.each(r,function(e){e.left.width-=-t})}}(w,p.x-h.x);break;case"v":!function(e,t){if(Math.abs(t)<10)return;var i=d(e);if(i)for(var n,a=i.getSameEndPosCells(e,"y"),r=a[0]?a[0].offsetHeight:0,o=0;n=a[o++];)H(n,t,r)}(w,p.y-h.y-w.offsetHeight)}return g="",w=null,Y(a),void a.fireEvent("saveScene")}if(f){var m=d(f),b=m?m.selectedTds[0]:null;if(b)r=new dom.Range(a.document),domUtils.isEmptyBlock(b)?r.setStart(b,0).setCursor(!1,!0):r.selectNodeContents(b).shrinkBoundary().setCursor(!1,!0);else if(!(r=a.selection.getRange().shrinkBoundary()).collapsed){c=domUtils.findParentByTagName(r.startContainer,["td","th"],!0),u=domUtils.findParentByTagName(r.endContainer,["td","th"],!0);(c&&!u||!c&&u||c&&u&&c!==u)&&r.setCursor(!1,!0)}f=null,a.removeListener("mouseover",j)}else{var y=domUtils.findParentByTagName(t.target||t.srcElement,"td",!0);if(y||(y=domUtils.findParentByTagName(t.target||t.srcElement,"th",!0)),y&&("TD"==y.tagName||"TH"==y.tagName)){if(!0===a.fireEvent("excludetable",y))return;(r=new dom.Range(a.document)).setStart(y,0).setCursor(!1,!0)}}a._selectionChange(250,t)}}}function j(e,t){if(!W()){var i=t.target||t.srcElement;if(m=domUtils.findParentByTagName(i,"td",!0)||domUtils.findParentByTagName(i,"th",!0),f&&m&&("TD"==f.tagName&&"TD"==m.tagName||"TH"==f.tagName&&"TH"==m.tagName)&&domUtils.findParentByTagName(f,"table")==domUtils.findParentByTagName(m,"table")){var n=d(m);if(f!=m){this.document.body.style.webkitUserSelect="none",this.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();var a=n.getCellsRange(f,m);n.setSelected(a)}else this.document.body.style.webkitUserSelect="",n.clearSelected()}t.preventDefault?t.preventDefault():t.returnValue=!1}}function H(e,t,i){var n=parseInt(domUtils.getComputedStyle(e,"line-height"),10),a=i+t;t=a<n?n:a,e.style.height&&(e.style.height=""),1==e.rowSpan?e.setAttribute("height",t):e.removeAttribute&&e.removeAttribute("height")}function W(){return"false"===e.body.contentEditable}function q(e,t,i){if(t||(t=domUtils.findParentByTagName(e,"table")),!t)return null;domUtils.getNodeIndex(e);for(var n=e,a=t.rows,r=0;n;)1===n.nodeType&&(r+=n.colSpan||1),n=n.previousSibling;n=null;var o=[];return utils.each(a,function(e){var t=e.cells,n=0;utils.each(t,function(e){return(n+=e.colSpan||1)===r?(o.push({left:e,right:e.nextSibling||null}),!1):n>r?(i&&o.push({left:e}),!1):void 0})}),o}function V(e){var t=0;t=e.offsetWidth-z();e.nextSibling||(t-=function(e){if(tab=domUtils.findParentByTagName(e,"table",!1),void 0===tab.offsetVal){var t=e.previousSibling;tab.offsetVal=t&&e.offsetWidth-t.offsetWidth===c.borderWidth?c.borderWidth:0}return tab.offsetVal}(e)),t=t<0?0:t;try{e.width=t}catch(e){}return t}function z(){if(void 0===c.tabcellSpace){var t=e.document.createElement("table"),i=e.document.createElement("tbody"),n=e.document.createElement("tr"),a=e.document.createElement("td"),r=null;a.style.cssText="border: 0;",a.width=1,n.appendChild(a),n.appendChild(r=a.cloneNode(!1)),i.appendChild(n),t.appendChild(i),t.style.cssText="visibility: hidden;",e.body.appendChild(t),c.paddingSpace=a.offsetWidth-1;var o=t.offsetWidth;a.style.cssText="",r.style.cssText="",c.borderWidth=(t.offsetWidth-o)/3,c.tabcellSpace=c.paddingSpace+c.borderWidth,e.body.removeChild(t)}return z=function(){return c.tabcellSpace},c.tabcellSpace}function $(e,t){x||(_=e.document.createElement("div"),domUtils.setAttributes(_,{id:"ue_tableDragLine",unselectable:"on",contenteditable:!1,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"}),e.body.appendChild(_))}function Y(e){if(!x)for(var t;t=e.document.getElementById("ue_tableDragLine");)domUtils.remove(t)}function G(e,t){if(t){var i,n=domUtils.findParentByTagName(t,"table"),a=n.getElementsByTagName("caption"),r=n.offsetWidth,o=n.offsetHeight-(a.length>0?a[0].offsetHeight:0),s=domUtils.getXY(n),l=domUtils.getXY(t);switch(e){case"h":i="height:"+o+"px;top:"+(s.y+(a.length>0?a[0].offsetHeight:0))+"px;left:"+(l.x+t.offsetWidth),_.style.cssText=i+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":i="width:"+r+"px;left:"+s.x+"px;top:"+(l.y+t.offsetHeight),_.style.cssText=i+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"}}}function X(e,t){for(var i,n,a=domUtils.getElementsByTagName(e.body,"table"),r=0;n=a[r++];){var o=domUtils.getElementsByTagName(n,"td");o[0]&&(t?(i=o[0].style.borderColor.replace(/\s/g,""),/(#ffffff)|(rgb\(255,255,255\))/gi.test(i)&&domUtils.addClass(n,"noBorderTable")):domUtils.removeClasses(n,"noBorderTable"))}}function J(e,t){var i,n=domUtils.findParentByTagName(t.target||t.srcElement,["td","th"],!0);if(!n)return null;if(i=L(n,E(t)),!n)return null;if("h1"===i&&n.previousSibling){var a=domUtils.getXY(n),r=n.offsetWidth;Math.abs(a.x+r-t.clientX)>r/3&&(n=n.previousSibling)}else if("v1"===i&&n.parentNode.previousSibling){a=domUtils.getXY(n);var o=n.offsetHeight;Math.abs(a.y+o-t.clientY)>o/3&&(n=n.parentNode.previousSibling.firstChild)}return n&&!0!==e.fireEvent("excludetable",n)?n:null}e.ready(function(){var t,i,n,a;utils.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",e.document),e.addListener("keydown",function(e,a){var r=this,o=a.keyCode||a.which;if(8==o){var s;(s=u(r))&&s.selectedTds.length&&(s.isFullCol()?r.execCommand("deletecol"):s.isFullRow()?r.execCommand("deleterow"):r.fireEvent("delcells"),domUtils.preventDefault(a));var l=domUtils.findParentByTagName(r.selection.getStart(),"caption",!0),c=r.selection.getRange();if(c.collapsed&&l&&A(l)){r.fireEvent("saveScene");var d=l.parentNode;domUtils.remove(l),d&&c.setStart(d.rows[0].cells[0],0).setCursor(!1,!0),r.fireEvent("saveScene")}}if(46==o&&(s=u(r))){r.fireEvent("saveScene");for(var h=0;y=s.selectedTds[h++];)domUtils.fillNode(r.document,y);r.fireEvent("saveScene"),domUtils.preventDefault(a)}if(13==o){var p=r.selection.getRange();if(l=domUtils.findParentByTagName(p.startContainer,"caption",!0)){var d=domUtils.findParentByTagName(l,"table");return p.collapsed?l&&p.setStart(d.rows[0].cells[0],0).setCursor(!1,!0):(p.deleteContents(),r.fireEvent("saveScene")),void domUtils.preventDefault(a)}if(p.collapsed)if(d=domUtils.findParentByTagName(p.startContainer,"table")){var f=d.rows[0].cells[0],m=domUtils.findParentByTagName(r.selection.getStart(),["td","th"],!0),g=d.previousSibling;if(f===m&&(!g||1==g.nodeType&&"TABLE"==g.tagName)&&domUtils.isStartInblock(p)){var v=domUtils.findParent(r.selection.getStart(),function(e){return domUtils.isBlockElm(e)},!0);v&&(/t(h|d)/i.test(v.tagName)||v===m.firstChild)&&(r.execCommand("insertparagraphbeforetable"),domUtils.preventDefault(a))}}}if((a.ctrlKey||a.metaKey)&&"67"==a.keyCode&&(t=null,s=u(r))){var b=s.selectedTds;i=s.isFullCol(),n=s.isFullRow(),t=[[s.cloneCell(b[0],null,!0)]];var y;for(h=1;y=b[h];h++)y.parentNode!==b[h-1].parentNode?t.push([s.cloneCell(y,null,!0)]):t[t.length-1].push(s.cloneCell(y,null,!0))}}),e.addListener("tablehasdeleted",function(){I(this,!1,"",null),b&&domUtils.remove(b)}),e.addListener("beforepaste",function(e,a){var r=this,o=r.selection.getRange();if(domUtils.findParentByTagName(o.startContainer,"caption",!0))return(s=r.document.createElement("div")).innerHTML=a.html,void(a.html=s[browser.ie9below?"innerText":"textContent"]);var s,l,p=u(r);if(t){r.fireEvent("saveScene");o=r.selection.getRange();var f,m,g=domUtils.findParentByTagName(o.startContainer,["td","th"],!0);if(g){var v=d(g);if(n){var b=v.getCellInfo(g).rowIndex;"TH"==g.tagName&&b++;for(var y=0;T=t[y++];){for(var _=v.insertRow(b++,"td"),w=0;N=T[w];w++){var x=_.cells[w];x||(x=_.insertCell(w)),x.innerHTML=N.innerHTML,N.getAttribute("width")&&x.setAttribute("width",N.getAttribute("width")),N.getAttribute("vAlign")&&x.setAttribute("vAlign",N.getAttribute("vAlign")),N.getAttribute("align")&&x.setAttribute("align",N.getAttribute("align")),N.style.cssText&&(x.style.cssText=N.style.cssText)}for(w=0;(N=_.cells[w])&&T[w];w++)N.innerHTML=T[w].innerHTML,T[w].getAttribute("width")&&N.setAttribute("width",T[w].getAttribute("width")),T[w].getAttribute("vAlign")&&N.setAttribute("vAlign",T[w].getAttribute("vAlign")),T[w].getAttribute("align")&&N.setAttribute("align",T[w].getAttribute("align")),T[w].style.cssText&&(N.style.cssText=T[w].style.cssText)}}else{if(i){E=v.getCellInfo(g);for(var C=0,T=(w=0,t[0]);N=T[w++];)C+=N.colSpan||1;for(r.__hasEnterExecCommand=!0,y=0;y<C;y++)r.execCommand("insertcol");r.__hasEnterExecCommand=!1,"TH"==(g=v.table.rows[0].cells[E.cellIndex]).tagName&&(g=v.table.rows[1].cells[E.cellIndex])}for(y=0;T=t[y++];){f=g;for(w=0;N=T[w++];)if(g)g.innerHTML=N.innerHTML,N.getAttribute("width")&&g.setAttribute("width",N.getAttribute("width")),N.getAttribute("vAlign")&&g.setAttribute("vAlign",N.getAttribute("vAlign")),N.getAttribute("align")&&g.setAttribute("align",N.getAttribute("align")),N.style.cssText&&(g.style.cssText=N.style.cssText),m=g,g=g.nextSibling;else{var k=N.cloneNode(!0);domUtils.removeAttributes(k,["class","rowSpan","colSpan"]),m.parentNode.appendChild(k)}if(g=v.getNextCell(f,!0,!0),!t[y])break;if(!g){var E=v.getCellInfo(f);v.table.insertRow(v.table.rows.length),v.update(),g=v.getVSideCell(f,!0)}}}v.update()}else{p=r.document.createElement("table");for(y=0;T=t[y++];){var N;for(_=p.insertRow(p.rows.length),w=0;N=T[w++];)k=c.cloneCell(N,null,!0),domUtils.removeAttributes(k,["class"]),_.appendChild(k);2==w&&k.rowSpan>1&&(k.rowSpan=1)}var P=h(r),R=r.body.offsetWidth-2*parseInt(domUtils.getComputedStyle(r.body,"margin-left"),10)-2*P.tableBorder-(r.options.offsetWidth||0);r.execCommand("insertHTML","<table  "+(i&&n?'width="'+R+'"':"")+">"+p.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}return r.fireEvent("contentchange"),r.fireEvent("saveScene"),a.html="",!0}(s=r.document.createElement("div")).innerHTML=a.html,l=s.getElementsByTagName("table"),domUtils.findParentByTagName(r.selection.getStart(),"table")?(utils.each(l,function(e){domUtils.remove(e)}),domUtils.findParentByTagName(r.selection.getStart(),"caption",!0)&&(s.innerHTML=s[browser.ie?"innerText":"textContent"])):utils.each(l,function(e){S(e,!0),domUtils.removeAttributes(e,["style","border"]),utils.each(domUtils.getElementsByTagName(e,"td"),function(e){A(e)&&domUtils.fillNode(r.document,e),S(e,!0)})}),a.html=s.innerHTML}),e.addListener("afterpaste",function(){utils.each(domUtils.getElementsByTagName(e.body,"table"),function(t){if(t.offsetWidth>e.body.offsetWidth){var i=h(e,t);t.style.width=e.body.offsetWidth-2*parseInt(domUtils.getComputedStyle(e.body,"margin-left"),10)-2*i.tableBorder-(e.options.offsetWidth||0)+"px"}})}),e.addListener("blur",function(){t=null}),e.addListener("keydown",function(){clearTimeout(a),a=setTimeout(function(){var t=e.selection.getRange(),i=domUtils.findParentByTagName(t.startContainer,["th","td"],!0);if(i){var n=i.parentNode.parentNode.parentNode;n.offsetWidth>n.getAttribute("width")&&(i.style.wordBreak="break-all")}},100)}),e.addListener("selectionchange",function(){I(e,!1,"",null)}),e.addListener("contentchange",function(){var e=this;if(Y(e),!u(e)){var t=e.selection.getRange().startContainer;t=domUtils.findParentByTagName(t,["td","th"],!0),utils.each(domUtils.getElementsByTagName(e.document,"table"),function(t){!0!==e.fireEvent("excludetable",t)&&(t.ueTable=new c(t),t.onmouseover=function(){e.fireEvent("tablemouseover",t)},t.onmousemove=function(){e.fireEvent("tablemousemove",t),e.options.tableDragable&&P(!0,this,e),utils.defer(function(){e.fireEvent("contentchange",50)},!0)},t.onmouseout=function(){e.fireEvent("tablemouseout",t),I(e,!1,"",null),Y(e)},t.onclick=function(t){var i=k((t=e.window.event||t).target||t.srcElement);if(i){var n,a=d(i),r=a.table,o=a.getCellInfo(i),s=e.selection.getRange();if(R(r,i,t,!0)){var l=a.getCell(a.indexTable[a.rowsNum-1][o.colIndex].rowIndex,a.indexTable[a.rowsNum-1][o.colIndex].cellIndex);t.shiftKey&&a.selectedTds.length?a.selectedTds[0]!==l?(n=a.getCellsRange(a.selectedTds[0],l),a.setSelected(n)):s&&s.selectNodeContents(l).select():i!==l?(n=a.getCellsRange(i,l),a.setSelected(n)):s&&s.selectNodeContents(l).select()}else if(R(r,i,t)){var c=a.getCell(a.indexTable[o.rowIndex][a.colsNum-1].rowIndex,a.indexTable[o.rowIndex][a.colsNum-1].cellIndex);t.shiftKey&&a.selectedTds.length?a.selectedTds[0]!==c?(n=a.getCellsRange(a.selectedTds[0],c),a.setSelected(n)):s&&s.selectNodeContents(c).select():i!==c?(n=a.getCellsRange(i,c),a.setSelected(n)):s&&s.selectNodeContents(c).select()}}})}),X(e,!0)}}),domUtils.on(e.document,"mousemove",N),domUtils.on(e.document,"mouseout",function(t){"TABLE"==(t.target||t.srcElement).tagName&&I(e,!1,"",null)}),e.addListener("interlacetable",function(e,t,i){if(t)for(var n,a,r,o=t.rows,s=o.length,l=0;l<s;l++)o[l].className=(n=i||this.options.classList,r=!0,n[a=l]?n[a]:r?n[a%n.length]:"")}),e.addListener("uninterlacetable",function(e,t){if(t)for(var i=t.rows,n=this.options.classList,a=i.length,r=0;r<a;r++)domUtils.removeClasses(i[r],n)}),e.addListener("mousedown",D),e.addListener("mouseup",F),domUtils.on(e.body,"dragstart",function(t){F.call(e,"dragstart",t)}),e.addOutputRule(function(e){utils.each(e.getNodesByTagName("div"),function(e){"ue_tableDragLine"==e.getAttr("id")&&e.parentNode.removeChild(e)})});var r=0;e.addListener("mousedown",function(){r=0}),e.addListener("tabkeydown",function(){var t=this.selection.getRange(),i=t.getCommonAncestor(!0,!0),n=domUtils.findParentByTagName(i,"table");if(n){if(domUtils.findParentByTagName(i,"caption",!0)){(a=domUtils.getElementsByTagName(n,"th td"))&&a.length&&t.setStart(a[0],0).setCursor(!1,!0)}else{var a=domUtils.findParentByTagName(i,["td","th"],!0),o=d(a);r=a.rowSpan>1?r:o.getCellInfo(a).rowIndex;var s=o.getTabNextCell(a,r);s?A(s)?t.setStart(s,0).setCursor(!1,!0):t.selectNodeContents(s).select():(e.fireEvent("saveScene"),e.__hasEnterExecCommand=!0,this.execCommand("insertrownext"),e.__hasEnterExecCommand=!1,(t=this.selection.getRange()).setStart(n.rows[n.rows.length-1].cells[0],0).setCursor(),e.fireEvent("saveScene"))}return!0}}),browser.ie&&e.addListener("selectionchange",function(){I(this,!1,"",null)}),e.addListener("keydown",function(e,t){var i=t.keyCode||t.which;if(8!=i&&46!=i){var n=!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey);n&&p(domUtils.getElementsByTagName(this.body,"td"));var a=u(this);a&&n&&a.clearSelected()}}),e.addListener("beforegetcontent",function(){X(this,!1),browser.ie&&utils.each(this.document.getElementsByTagName("caption"),function(e){domUtils.isEmptyNode(e)&&(e.innerHTML="&nbsp;")})}),e.addListener("aftergetcontent",function(){X(this,!0)}),e.addListener("getAllHtml",function(){p(e.document.getElementsByTagName("td"))}),e.addListener("fullscreenchanged",function(t,i){if(!i){var n=this.body.offsetWidth/document.body.offsetWidth,a=domUtils.getElementsByTagName(this.body,"table");utils.each(a,function(t){if(t.offsetWidth<e.body.offsetWidth)return!1;var i=domUtils.getElementsByTagName(t,"td"),a=[];utils.each(i,function(e){a.push(e.offsetWidth)});for(var r,o=0;r=i[o];o++)r.setAttribute("width",Math.floor(a[o]*n));t.setAttribute("width",Math.floor(function(e,t,i){var n=e.body;return n.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(n,"margin-left"),10):0)-2*i.tableBorder-(e.options.offsetWidth||0)}(e,!0,h(e))))})}});var o=e.execCommand;e.execCommand=function(e,t){var i=this;e=e.toLowerCase();var n,a,r=u(i),s=new dom.Range(i.document),l=i.commands[e]||UE.commands[e];if(l){if(!r||C[e]||l.notNeedUndo||i.__hasEnterExecCommand)a=o.apply(i,arguments);else{i.__hasEnterExecCommand=!0,i.fireEvent("beforeexeccommand",e),n=r.selectedTds;for(var c,d,h,p=-2,f=-2,m=0;h=n[m];m++)A(h)?s.setStart(h,0).setCursor(!1,!0):s.selectNode(h).select(!0),d=i.queryCommandState(e),c=i.queryCommandValue(e),-1!=d&&(p===d&&f===c||(i._ignoreContentChange=!0,a=o.apply(i,arguments),i._ignoreContentChange=!1),p=i.queryCommandState(e),f=i.queryCommandValue(e),domUtils.isEmptyBlock(h)&&domUtils.fillNode(i.document,h));s.setStart(n[0],0).shrinkBoundary(!0).setCursor(!1,!0),i.fireEvent("contentchange"),i.fireEvent("afterexeccommand",e),i.__hasEnterExecCommand=!1,i._selectionChange()}return a}}})},UE.UETable.prototype.sortTable=function(e,t){var i=this.table,n=i.rows,a=[],r="TH"===n[0].cells[0].tagName,o=0;if(this.selectedTds.length){for(var s=this.cellsRange,l=s.endRowIndex+1,c=s.beginRowIndex;c<l;c++)a[c]=n[c];a.splice(0,s.beginRowIndex),o=s.endRowIndex+1===this.rowsNum?0:s.endRowIndex+1}else for(c=0,l=n.length;c<l;c++)a[c]=n[c];var d={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){var i=e.innerText||e.textContent,n=t.innerText||t.textContent;return i.localeCompare(n)},reversebyasc:function(e,t){var i=e.innerHTML;return t.innerHTML.localeCompare(i)},orderbynum:function(e,t){var i=e[browser.ie?"innerText":"textContent"].match(/\d+/),n=t[browser.ie?"innerText":"textContent"].match(/\d+/);return i&&(i=+i[0]),n&&(n=+n[0]),(i||0)-(n||0)},reversebynum:function(e,t){var i=e[browser.ie?"innerText":"textContent"].match(/\d+/),n=t[browser.ie?"innerText":"textContent"].match(/\d+/);return i&&(i=+i[0]),n&&(n=+n[0]),(n||0)-(i||0)}};i.setAttribute("data-sort-type",t&&"string"==typeof t&&d[t]?t:""),r&&a.splice(0,1),a=utils.sort(a,function(i,n){return t&&"function"==typeof t?t.call(this,i.cells[e],n.cells[e]):t&&"number"==typeof t?1:t&&"string"==typeof t&&d[t]?d[t].call(this,i.cells[e],n.cells[e]):d.orderbyasc.call(this,i.cells[e],n.cells[e])});var u=i.ownerDocument.createDocumentFragment(),h=0;for(l=a.length;h<l;h++)u.appendChild(a[h]);var p=i.getElementsByTagName("tbody")[0];o?p.insertBefore(u,n[o-s.endRowIndex+s.beginRowIndex-1]):p.appendChild(u)},UE.plugins.tablesort=function(){var e=this,t=UE.UETable,i=function(e){return t.getTableItemsByRange(e)};e.ready(function(){utils.cssRule("tablesort","table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url("+e.options.themePath+e.options.theme+"/images/sortable.png);}",e.document),e.addListener("afterexeccommand",function(e,t){"mergeright"!=t&&"mergedown"!=t&&"mergecells"!=t||this.execCommand("disablesort")})}),UE.commands.sorttable={queryCommandState:function(){var e=i(this);if(!e.cell)return-1;for(var t,n=e.table.getElementsByTagName("td"),a=0;t=n[a++];)if(1!=t.rowSpan||1!=t.colSpan)return-1;return 0},execCommand:function(e,n){var a,r=this.selection.getRange(),o=r.createBookmark(!0),s=i(this),l=s.cell,c=(a=s.table,t.getUETable(a)),d=c.getCellInfo(l);c.sortTable(d.cellIndex,n),r.moveToBookmark(o);try{r.select()}catch(e){}}},UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(e){var t=i(this).table;if(t&&"enablesort"==e)for(var n=domUtils.getElementsByTagName(t,"th td"),a=0;a<n.length;a++)if(n[a].getAttribute("colspan")>1||n[a].getAttribute("rowspan")>1)return-1;return t?"enablesort"==e^"sortEnabled"!=t.getAttribute("data-sort")?-1:0:-1},execCommand:function(e){var t=i(this).table;t.setAttribute("data-sort","enablesort"==e?"sortEnabled":"sortDisabled"),"enablesort"==e?domUtils.addClass(t,"sortEnabled"):domUtils.removeClasses(t,"sortEnabled")}}},UE.plugins.contextmenu=function(){var e=this;if(e.setOpt("enableContextMenu",!0),!1!==e.getOpt("enableContextMenu")){var t,i=e.getLang("contextMenu"),n=e.options.contextMenu||[{label:i.selectall,cmdName:"selectall"},{label:i.cleardoc,cmdName:"cleardoc",exec:function(){confirm(i.confirmclear)&&this.execCommand("cleardoc")}},"-",{label:i.unlink,cmdName:"unlink"},"-",{group:i.paragraph,icon:"justifyjustify",subMenu:[{label:i.justifyleft,cmdName:"justify",value:"left"},{label:i.justifyright,cmdName:"justify",value:"right"},{label:i.justifycenter,cmdName:"justify",value:"center"},{label:i.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:i.table,icon:"table",subMenu:[{label:i.inserttable,cmdName:"inserttable"},{label:i.deletetable,cmdName:"deletetable"},"-",{label:i.deleterow,cmdName:"deleterow"},{label:i.deletecol,cmdName:"deletecol"},{label:i.insertcol,cmdName:"insertcol"},{label:i.insertcolnext,cmdName:"insertcolnext"},{label:i.insertrow,cmdName:"insertrow"},{label:i.insertrownext,cmdName:"insertrownext"},"-",{label:i.insertcaption,cmdName:"insertcaption"},{label:i.deletecaption,cmdName:"deletecaption"},{label:i.inserttitle,cmdName:"inserttitle"},{label:i.deletetitle,cmdName:"deletetitle"},{label:i.inserttitlecol,cmdName:"inserttitlecol"},{label:i.deletetitlecol,cmdName:"deletetitlecol"},"-",{label:i.mergecells,cmdName:"mergecells"},{label:i.mergeright,cmdName:"mergeright"},{label:i.mergedown,cmdName:"mergedown"},"-",{label:i.splittorows,cmdName:"splittorows"},{label:i.splittocols,cmdName:"splittocols"},{label:i.splittocells,cmdName:"splittocells"},"-",{label:i.averageDiseRow,cmdName:"averagedistributerow"},{label:i.averageDisCol,cmdName:"averagedistributecol"},"-",{label:i.edittd,cmdName:"edittd",exec:function(){UE.ui.edittd&&new UE.ui.edittd(this),this.getDialog("edittd").open()}},{label:i.edittable,cmdName:"edittable",exec:function(){UE.ui.edittable&&new UE.ui.edittable(this),this.getDialog("edittable").open()}},{label:i.setbordervisible,cmdName:"setbordervisible"}]},{group:i.tablesort,icon:"tablesort",subMenu:[{label:i.enablesort,cmdName:"enablesort"},{label:i.disablesort,cmdName:"disablesort"},"-",{label:i.reversecurrent,cmdName:"sorttable",value:"reversecurrent"},{label:i.orderbyasc,cmdName:"sorttable",value:"orderbyasc"},{label:i.reversebyasc,cmdName:"sorttable",value:"reversebyasc"},{label:i.orderbynum,cmdName:"sorttable",value:"orderbynum"},{label:i.reversebynum,cmdName:"sorttable",value:"reversebynum"}]},{group:i.borderbk,icon:"borderBack",subMenu:[{label:i.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:i.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:i.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#bbb","#ccc"]})}},{label:i.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:i.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["red","blue"]})}},{label:i.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:i.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"bottom"}}]},{group:i.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:i.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:i.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:i.tableright,value:"right"}]},"-",{label:i.insertparagraphbefore,cmdName:"insertparagraph",value:!0},{label:i.insertparagraphafter,cmdName:"insertparagraph"},{label:i.copy,cmdName:"copy"},{label:i.paste,cmdName:"paste"}];if(n.length){var a=UE.ui.uiUtils;e.addListener("contextmenu",function(r,o){var s=a.getViewportOffsetByEvent(o);e.fireEvent("beforeselectionchange"),t&&t.destroy();for(var l,c=0,d=[];l=n[c];c++){var u;!function(t){if("-"==t)(u=d[d.length-1])&&"-"!==u&&d.push("-");else if(t.hasOwnProperty("group")){for(var n,a=0,r=[];n=t.subMenu[a];a++)!function(t){"-"==t?(u=r[r.length-1])&&"-"!==u?r.push("-"):r.splice(r.length-1):(e.commands[t.cmdName]||UE.commands[t.cmdName]||t.query)&&(t.query?t.query():e.queryCommandState(t.cmdName))>-1&&r.push({label:t.label||e.getLang("contextMenu."+t.cmdName+(t.value||""))||"",className:"edui-for-"+t.cmdName+(t.className?" edui-for-"+t.cmdName+"-"+t.className:""),onclick:t.exec?function(){t.exec.call(e)}:function(){e.execCommand(t.cmdName,t.value)}})}(n);if(r.length){d.push({label:function(){switch(t.icon){case"table":return e.getLang("contextMenu.table");case"justifyjustify":return e.getLang("contextMenu.paragraph");case"aligntd":return e.getLang("contextMenu.aligntd");case"aligntable":return e.getLang("contextMenu.aligntable");case"tablesort":return i.tablesort;case"borderBack":return i.borderbk;default:return""}}(),className:"edui-for-"+t.icon,subMenu:{items:r,editor:e}})}}else(e.commands[t.cmdName]||UE.commands[t.cmdName]||t.query)&&(t.query?t.query.call(e):e.queryCommandState(t.cmdName))>-1&&d.push({label:t.label||e.getLang("contextMenu."+t.cmdName),className:"edui-for-"+(t.icon?t.icon:t.cmdName+(t.value||"")),onclick:t.exec?function(){t.exec.call(e)}:function(){e.execCommand(t.cmdName,t.value)}})}(l)}if("-"==d[d.length-1]&&d.pop(),(t=new UE.ui.Menu({items:d,className:"edui-contextmenu",editor:e})).render(),t.showAt(s),e.fireEvent("aftershowcontextmenu",t),domUtils.preventDefault(o),browser.ie){var h;try{h=e.selection.getNative().createRange()}catch(e){return}if(h.item)new dom.Range(e.document).selectNode(h.item(0)).select(!0,!0)}}),e.addListener("aftershowcontextmenu",function(t,i){if(e.zeroclipboard){var n=i.items;for(var a in n)"edui-for-copy"==n[a].className&&e.zeroclipboard.clip(n[a].getDom())}})}}},UE.plugins.shortcutmenu=function(){var e,t=this.options.shortcutMenu||[];t.length&&(this.addListener("contextmenu mouseup",function(i,n){var a=this,r={type:i,target:n.target||n.srcElement,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY};if(setTimeout(function(){!1!==a.selection.getRange().collapsed&&"contextmenu"!=i||(e||((e=new baidu.editor.ui.ShortCutMenu({editor:a,items:t,theme:a.options.theme,className:"edui-shortcutmenu"})).render(),a.fireEvent("afterrendershortcutmenu",e)),e.show(r,!!UE.plugins.contextmenu))}),"contextmenu"==i&&(domUtils.preventDefault(n),browser.ie9below)){var o;try{o=a.selection.getNative().createRange()}catch(n){return}if(o.item)new dom.Range(a.document).selectNode(o.item(0)).select(!0,!0)}}),this.addListener("keydown",function(t){"keydown"==t&&e&&!e.isHidden&&e.hide()}))},UE.plugins.basestyle=function(){var e={bold:["strong","b"],italic:["i","i"],subscript:["sub"],superscript:["sup"]},t=function(e,t){return domUtils.filterNodeList(e.selection.getStartElementPath(),t)},i=this;for(var n in i.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"}),i.addInputRule(function(e){utils.each(e.getNodesByTagName("b i"),function(e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em"}})}),e)!function(e,n){i.commands[e]={execCommand:function(e){var a=i.selection.getRange(),r=t(this,n);if(a.collapsed){if(r){var o=i.document.createTextNode("");a.insertNode(o).removeInlineStyle(n),a.setStartBefore(o),domUtils.remove(o)}else{var s=a.document.createElement(n[0]);"superscript"!=e&&"subscript"!=e||(o=i.document.createTextNode(""),a.insertNode(o).removeInlineStyle(["sub","sup"]).setStartBefore(o).collapse(!0)),a.insertNode(s).setStart(s,0)}a.collapse(!0)}else"superscript"!=e&&"subscript"!=e||r&&r.tagName.toLowerCase()==e||a.removeInlineStyle(["sub","sup"]),r?a.removeInlineStyle(n):a.applyInlineStyle(n[0]);a.select()},queryCommandState:function(){return t(this,n)?1:0}}}(n,e[n])},UE.plugins.elementpath=function(){var e,t,i=this;i.setOpt("elementPathEnabled",!0),i.options.elementPathEnabled&&(i.commands.elementpath={execCommand:function(n,a){var r=t[a],o=i.selection.getRange();e=1*a,o.selectNode(r).select()},queryCommandValue:function(){var i=[].concat(this.selection.getStartElementPath()).reverse(),n=[];t=i;for(var a,r=0;a=i[r];r++)if(3!=a.nodeType){var o=a.tagName.toLowerCase();if("img"==o&&a.getAttribute("anchorname")&&(o="anchor"),n[r]=o,e==r){e=-1;break}}return n}})},UE.plugins.formatmatch=function(){var e,t=this,i=[],n=0;function a(r,o){if(browser.webkit)var s="IMG"==o.target.tagName?o.target:null;t.undoManger&&t.undoManger.save();var l=t.selection.getRange(),c=s||l.getClosedNode();if(e&&c&&"IMG"==c.tagName)c.style.cssText+=";float:"+(e.style.cssFloat||e.style.styleFloat||"none")+";display:"+(e.style.display||"inline"),e=null;else if(!e){if(l.collapsed){var d=t.document.createTextNode("match");l.insertNode(d).select()}t.__hasEnterExecCommand=!0;var u=t.options.removeFormatAttributes;t.options.removeFormatAttributes="",t.execCommand("removeformat"),t.options.removeFormatAttributes=u,t.__hasEnterExecCommand=!1,l=t.selection.getRange(),i.length&&function(e){d&&e.selectNode(d),e.applyInlineStyle(i[i.length-1].tagName,null,i)}(l),d&&l.setStartBefore(d).collapse(!0),l.select(),d&&domUtils.remove(d)}t.undoManger&&t.undoManger.save(),t.removeListener("mouseup",a),n=0}t.addListener("reset",function(){i=[],n=0}),t.commands.formatmatch={execCommand:function(r){if(n)return n=0,i=[],void t.removeListener("mouseup",a);var o=t.selection.getRange();if(!(e=o.getClosedNode())||"IMG"!=e.tagName){o.collapse(!0).shrinkBoundary();var s=o.startContainer;i=domUtils.findParents(s,!0,function(e){return!domUtils.isBlockElm(e)&&1==e.nodeType});for(var l,c=0;l=i[c];c++)if("A"==l.tagName){i.splice(c,1);break}}t.addListener("mouseup",a),n=1},queryCommandState:function(){return n},notNeedUndo:1}},UE.plugin.register("searchreplace",function(){var e=this,t={table:1,tbody:1,tr:1,ol:1,ul:1};function i(e,t,i){var n=t.searchStr;-1==t.dir&&(e=e.split("").reverse().join(""),n=n.split("").reverse().join(""),i=e.length-i);for(var a,r=new RegExp(n,"g"+(t.casesensitive?"":"i"));a=r.exec(e);)if(a.index>=i)return-1==t.dir?e.length-a.index-t.searchStr.length:a.index;return-1}function n(e,t,i){for(var a,r=0,o=e.firstChild,s=0;o;){if(3==o.nodeType){if((r+=s=o.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length)>=t)return{node:o,index:s-(r-t)}}else if(!dtd.$empty[o.tagName]&&(r+=s=o[browser.ie?"innerText":"textContent"].replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length)>=t&&(a=n(o,s-(r-t),i)))return a;o=domUtils.getNextDomNode(o)}}function a(e,a){var o,s=e.selection.getRange(),l=a.searchStr,c=e.document.createElement("span");if(c.innerHTML="$$ueditor_searchreplace_key$$",s.shrinkBoundary(!0),!s.collapsed){s.select();var d=e.selection.getText();if(new RegExp("^"+a.searchStr+"$",a.casesensitive?"":"i").test(d)){if(void 0!=a.replaceStr)return r(s,a.replaceStr),s.select(),!0;s.collapse(-1==a.dir)}}s.insertNode(c),s.enlargeToBlockElm(!0);var u=(o=s.startContainer)[browser.ie?"innerText":"textContent"].indexOf("$$ueditor_searchreplace_key$$");s.setStartBefore(c),domUtils.remove(c);var h=function(e,n,a){var r,o=a.all||1==a.dir?"getNextDomNode":"getPreDomNode";for(domUtils.isBody(e)&&(e=e.firstChild);e;){if(-1!=(r=i(3==e.nodeType?e.nodeValue:e[browser.ie?"innerText":"textContent"],a,n)))return{node:e,index:r};for(e=domUtils[o](e);e&&t[e.nodeName.toLowerCase()];)e=domUtils[o](e,!0);e&&(n=-1==a.dir?(3==e.nodeType?e.nodeValue:e[browser.ie?"innerText":"textContent"]).length:0)}}(o,u,a);if(h){var p=n(h.node,h.index,l),f=n(h.node,h.index+l.length,l);return s.setStart(p.node,p.index).setEnd(f.node,f.index),void 0!==a.replaceStr&&r(s,a.replaceStr),s.select(),!0}s.setCursor()}function r(t,i){i=e.document.createTextNode(i),t.deleteContents().insertNode(i)}return{commands:{searchreplace:{execCommand:function(t,i){utils.extend(i,{all:!1,casesensitive:!1,dir:1},!0);var n=0;if(i.all){var r=e.selection.getRange(),o=e.body.firstChild;for(o&&1==o.nodeType?(r.setStart(o,0),r.shrinkBoundary(!0)):3==o.nodeType&&r.setStartBefore(o),r.collapse(!0).select(!0),void 0!==i.replaceStr&&e.fireEvent("saveScene");a(this,i);)n++;n&&e.fireEvent("saveScene")}else void 0!==i.replaceStr&&e.fireEvent("saveScene"),a(this,i)&&n++,n&&e.fireEvent("saveScene");return n},notNeedUndo:1}}}}),UE.plugins.customstyle=function(){var e=this;e.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]}),e.commands.customstyle={execCommand:function(e,t){var i,n,a=this,r=t.tag,o=domUtils.findParent(a.selection.getStart(),function(e){return e.getAttribute("label")},!0),s={};for(var l in t)void 0!==t[l]&&(s[l]=t[l]);if(delete s.tag,o&&o.getAttribute("label")==t.label){if(n=(i=this.selection.getRange()).createBookmark(),i.collapsed)if(dtd.$block[o.tagName]){var c=a.document.createElement("p");domUtils.moveChild(o,c),o.parentNode.insertBefore(c,o),domUtils.remove(o)}else domUtils.remove(o,!0);else{var d=domUtils.getCommonAncestor(n.start,n.end),u=domUtils.getElementsByTagName(d,r);new RegExp(r,"i").test(d.tagName)&&u.push(d);for(var h,p=0;h=u[p++];)if(h.getAttribute("label")==t.label){var f=domUtils.getPosition(h,n.start),m=domUtils.getPosition(h,n.end);if((f&domUtils.POSITION_FOLLOWING||f&domUtils.POSITION_CONTAINS)&&(m&domUtils.POSITION_PRECEDING||m&domUtils.POSITION_CONTAINS)&&dtd.$block[r]){c=a.document.createElement("p");domUtils.moveChild(h,c),h.parentNode.insertBefore(c,h)}domUtils.remove(h,!0)}(o=domUtils.findParent(d,function(e){return e.getAttribute("label")==t.label},!0))&&domUtils.remove(o,!0)}i.moveToBookmark(n).select()}else if(dtd.$block[r]){if(this.execCommand("paragraph",r,s,"customstyle"),!(i=a.selection.getRange()).collapsed){i.collapse(),o=domUtils.findParent(a.selection.getStart(),function(e){return e.getAttribute("label")==t.label},!0);var g=a.document.createElement("p");domUtils.insertAfter(o,g),domUtils.fillNode(a.document,g),i.setStart(g,0).setCursor()}}else{if((i=a.selection.getRange()).collapsed)return o=a.document.createElement(r),domUtils.setAttributes(o,s),void i.insertNode(o).setStart(o,0).setCursor();n=i.createBookmark(),i.applyInlineStyle(r,s).moveToBookmark(n).select()}},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return e.getAttribute("label")});return e?e.getAttribute("label"):""}},e.addListener("keyup",function(t,i){var n=i.keyCode||i.which;if(32==n||13==n){var a=e.selection.getRange();if(a.collapsed){var r=domUtils.findParent(e.selection.getStart(),function(e){return e.getAttribute("label")},!0);if(r&&dtd.$block[r.tagName]&&domUtils.isEmptyNode(r)){var o=e.document.createElement("p");domUtils.insertAfter(r,o),domUtils.fillNode(e.document,o),domUtils.remove(r),a.setStart(o,0).setCursor()}}}})},UE.plugins.catchremoteimage=function(){var me=this,ajax=UE.ajax;!1!==me.options.catchRemoteImageEnable&&(me.setOpt({catchRemoteImageEnable:!1}),me.addListener("afterpaste",function(){me.fireEvent("catchRemoteImage")}),me.addListener("catchRemoteImage",function(){for(var catcherLocalDomain=me.getOpt("catcherLocalDomain"),catcherActionUrl=me.getActionUrl(me.getOpt("catcherActionName")),catcherUrlPrefix=me.getOpt("catcherUrlPrefix"),catcherFieldName=me.getOpt("catcherFieldName"),remoteImages=[],imgs=domUtils.getElementsByTagName(me.document,"img"),test=function(e,t){if(-1!=e.indexOf(location.host)||/(^\.)|(^\/)/.test(e))return!0;if(t)for(var i,n=0;i=t[n++];)if(-1!==e.indexOf(i))return!0;return!1},i=0,ci;ci=imgs[i++];)if(!ci.getAttribute("word_img")){var src=ci.getAttribute("_src")||ci.src||"";/^(https?|ftp):/i.test(src)&&!test(src,catcherLocalDomain)&&remoteImages.push(src)}function catchremoteimage(e,t){var i=utils.serializeParam(me.queryCommandValue("serverparam"))||"",n=utils.formatUrl(catcherActionUrl+(-1==catcherActionUrl.indexOf("?")?"?":"&")+i),a={method:"POST",dataType:utils.isCrossDomainUrl(n)?"jsonp":"",timeout:6e4,onsuccess:t.success,onerror:t.error};a[catcherFieldName]=e,ajax.request(n,a)}remoteImages.length&&catchremoteimage(remoteImages,{success:function(r){try{var info=void 0!==r.state?r:eval("("+r.responseText+")")}catch(e){return}var i,j,ci,cj,oldSrc,newSrc,list=info.list;for(i=0;ci=imgs[i++];)for(oldSrc=ci.getAttribute("_src")||ci.src||"",j=0;cj=list[j++];)if(oldSrc==cj.source&&"SUCCESS"==cj.state){newSrc=catcherUrlPrefix+cj.url,domUtils.setAttributes(ci,{src:newSrc,_src:newSrc});break}me.fireEvent("catchremotesuccess")},error:function(){me.fireEvent("catchremoteerror")}})}))},UE.plugin.register("snapscreen",function(){var me=this,snapplugin;function getLocation(e){var t,i=document.createElement("a"),n=utils.serializeParam(me.queryCommandValue("serverparam"))||"";return i.href=e,browser.ie&&(i.href=i.href),t=i.search,n&&(t=(t=t+(-1==t.indexOf("?")?"?":"&")+n).replace(/[&]+/gi,"&")),{port:i.port,hostname:i.hostname,path:i.pathname+t||+i.hash}}return{commands:{snapscreen:{execCommand:function(cmd){var url,local,res,lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container,doc=me.container.ownerDocument||me.container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;width:0;height:0;",snapplugin.setAttribute("width","0"),snapplugin.setAttribute("height","0"),container.appendChild(snapplugin)}function onSuccess(rs){try{if(rs=eval("("+rs+")"),"SUCCESS"==rs.state){var opt=me.options;me.execCommand("insertimage",{src:opt.snapscreenUrlPrefix+rs.url,_src:opt.snapscreenUrlPrefix+rs.url,alt:rs.title||"",floatStyle:opt.snapscreenImgAlign})}else alert(rs.state)}catch(e){alert(lang.callBackErrorMsg)}}url=me.getActionUrl(me.getOpt("snapscreenActionName")),local=getLocation(url),setTimeout(function(){try{res=snapplugin.saveSnapshot(local.hostname,local.path,local.port)}catch(e){return void me.ui._dialogs.snapscreenDialog.open()}onSuccess(res)},50)},queryCommandState:function(){return-1!=navigator.userAgent.indexOf("Windows",0)?0:-1}}}}}),UE.commands.insertparagraph={execCommand:function(e,t){for(var i,n=this.selection.getRange(),a=n.startContainer;a&&!domUtils.isBody(a);)i=a,a=a.parentNode;if(i){var r=this.document.createElement("p");t?i.parentNode.insertBefore(r,i):i.parentNode.insertBefore(r,i.nextSibling),domUtils.fillNode(this.document,r),n.setStart(r,0).setCursor(!1,!0)}}},UE.plugin.register("webapp",function(){var e=this;function t(t,i){return i?'<iframe class="edui-faked-webapp" title="'+t.title+'" '+(t.align&&!t.cssfloat?'align="'+t.align+'"':"")+(t.cssfloat?'style="float:'+t.cssfloat+'"':"")+'width="'+t.width+'" height="'+t.height+'"  scrolling="no" frameborder="0" src="'+t.url+'" logo_url = "'+t.logo+'"></iframe>':'<img title="'+t.title+'" width="'+t.width+'" height="'+t.height+'" src="'+e.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" _logo_url="'+t.logo+'" style="background:url('+t.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+t.url+'" '+(t.align&&!t.cssfloat?'align="'+t.align+'"':"")+(t.cssfloat?'style="float:'+t.cssfloat+'"':"")+"/>"}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var i;if("edui-faked-webapp"==e.getAttr("class")){i=t({title:e.getAttr("title"),width:e.getAttr("width"),height:e.getAttr("height"),align:e.getAttr("align"),cssfloat:e.getStyle("float"),url:e.getAttr("_url"),logo:e.getAttr("_logo_url")},!0);var n=UE.uNode.createElement(i);e.parentNode.replaceChild(n,e)}})},inputRule:function(e){utils.each(e.getNodesByTagName("iframe"),function(e){if("edui-faked-webapp"==e.getAttr("class")){var i=UE.uNode.createElement(t({title:e.getAttr("title"),width:e.getAttr("width"),height:e.getAttr("height"),align:e.getAttr("align"),cssfloat:e.getStyle("float"),url:e.getAttr("src"),logo:e.getAttr("logo_url")}));e.parentNode.replaceChild(i,e)}})},commands:{webapp:{execCommand:function(e,i){var n=t(utils.extend(i,{align:"none"}),!1);this.execCommand("inserthtml",n)},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return e&&"edui-faked-webapp"==e.className?1:0}}}}}),UE.plugins.template=function(){UE.commands.template={execCommand:function(e,t){t.html&&this.execCommand("inserthtml",t.html)}},this.addListener("click",function(e,t){var i=t.target||t.srcElement,n=this.selection.getRange(),a=domUtils.findParent(i,function(e){if(e.className&&domUtils.hasClass(e,"ue_t"))return e},!0);a&&n.selectNode(a).shrinkBoundary().select()}),this.addListener("keydown",function(e,t){var i=this.selection.getRange();if(!i.collapsed&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=domUtils.findParent(i.startContainer,function(e){if(e.className&&domUtils.hasClass(e,"ue_t"))return e},!0);n&&domUtils.removeClasses(n,["ue_t"])}})},UE.plugin.register("music",function(){var e=this;function t(t,i,n,a,r,o){return o?'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+t+'" width="'+i+'" height="'+n+'" '+(a&&!r?'align="'+a+'"':"")+(r?'style="float:'+r+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(a&&!r?'align="'+a+'"':"")+(r?'style="float:'+r+'"':"")+' width="'+i+'" height="'+n+'" _url="'+t+'" class="edui-faked-music" src="'+e.options.langPath+e.options.lang+'/images/music.png" />'}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var i;if("edui-faked-music"==e.getAttr("class")){var n=e.getStyle("float"),a=e.getAttr("align");i=t(e.getAttr("_url"),e.getAttr("width"),e.getAttr("height"),a,n,!0);var r=UE.uNode.createElement(i);e.parentNode.replaceChild(r,e)}})},inputRule:function(e){utils.each(e.getNodesByTagName("embed"),function(e){if("edui-faked-music"==e.getAttr("class")){var i=e.getStyle("float"),n=e.getAttr("align");html=t(e.getAttr("src"),e.getAttr("width"),e.getAttr("height"),n,i,!1);var a=UE.uNode.createElement(html);e.parentNode.replaceChild(a,e)}})},commands:{music:{execCommand:function(e,i){var n=t(i.url,i.width||400,i.height||95,"none",!1);this.execCommand("inserthtml",n)},queryCommandState:function(){var e=this.selection.getRange().getClosedNode();return e&&"edui-faked-music"==e.className?1:0}}}}}),UE.plugin.register("autoupload",function(){function e(e,t){var i,n,a,r,o,s,l,c,d=t,u=/image\/\w+/i.test(e.type)?"image":"file",h="loading_"+(+new Date).toString(36);if(i=d.getOpt(u+"FieldName"),n=d.getOpt(u+"UrlPrefix"),a=d.getOpt(u+"MaxSize"),r=d.getOpt(u+"AllowFiles"),o=d.getActionUrl(d.getOpt(u+"ActionName")),l=function(e){var t=d.document.getElementById(h);t&&domUtils.remove(t),d.fireEvent("showmessage",{id:h,content:e,type:"error",timeout:4e3})},"image"==u?(s='<img class="loadingclass" id="'+h+'" src="'+d.options.themePath+d.options.theme+'/images/spacer.gif" title="'+(d.getLang("autoupload.loading")||"")+'" >',c=function(e){var t=n+e.url,i=d.document.getElementById(h);i&&(i.setAttribute("src",t),i.setAttribute("_src",t),i.setAttribute("title",e.title||""),i.setAttribute("alt",e.original||""),i.removeAttribute("id"),domUtils.removeClasses(i,"loadingclass"))}):(s='<p><img class="loadingclass" id="'+h+'" src="'+d.options.themePath+d.options.theme+'/images/spacer.gif" title="'+(d.getLang("autoupload.loading")||"")+'" ></p>',c=function(e){var t=n+e.url,i=d.document.getElementById(h),a=d.selection.getRange(),r=a.createBookmark();a.selectNode(i).select(),d.execCommand("insertfile",{url:t}),a.moveToBookmark(r).select()}),d.execCommand("inserthtml",s),d.getOpt(u+"ActionName"))if(e.size>a)l(d.getLang("autoupload.exceedSizeError"));else{var p=e.name?e.name.substr(e.name.lastIndexOf(".")):"";if(p&&"image"!=u||r&&-1==(r.join("")+".").indexOf(p.toLowerCase()+"."))l(d.getLang("autoupload.exceedTypeError"));else{var f=new XMLHttpRequest,m=new FormData,g=utils.serializeParam(d.queryCommandValue("serverparam"))||"",v=utils.formatUrl(o+(-1==o.indexOf("?")?"?":"&")+g);m.append(i,e,e.name||"blob."+e.type.substr("image/".length)),m.append("type","ajax"),f.open("post",v,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.addEventListener("load",function(e){try{var t=new Function("return "+utils.trim(e.target.response))();"SUCCESS"==t.state&&t.url?c(t):l(t.state)}catch(e){l(d.getLang("autoupload.loadError"))}}),f.send(m)}}else l(d.getLang("autoupload.errorLoadConfig"))}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)}),utils.each(e.getNodesByTagName("p"),function(e){/\bloadpara\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},bindEvents:{ready:function(t){var i=this;window.FormData&&window.FileReader&&(domUtils.on(i.body,"paste drop",function(t){var n,a=!1;if(n="paste"==t.type?function(e){return e.clipboardData&&e.clipboardData.items&&1==e.clipboardData.items.length&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null}(t):function(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}(t)){for(var r,o=n.length;o--;)(r=n[o]).getAsFile&&(r=r.getAsFile()),r&&r.size>0&&(e(r,i),a=!0);a&&t.preventDefault()}}),domUtils.on(i.body,"dragover",function(e){"Files"==e.dataTransfer.types[0]&&e.preventDefault()}),utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document))}}}}),UE.plugin.register("autosave",function(){var e=this,t=new Date,i=20,n=null;function a(a){var r;new Date-t<i||(a.hasContents()?(t=new Date,a._saveFlag=null,r=e.body.innerHTML,!1!==a.fireEvent("beforeautosave",{content:r})&&(e.setPreferences(n,r),a.fireEvent("afterautosave",{content:r}))):n&&e.removePreferences(n))}return{defaultOptions:{saveInterval:500},bindEvents:{ready:function(){var t=null;t=e.key?e.key+"-drafts-data":(e.container.parentNode.id||"ue-common")+"-drafts-data",n=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+t},contentchange:function(){e.options.enableAutoSave&&n&&(e._saveFlag&&window.clearTimeout(e._saveFlag),e.options.saveInterval>0?e._saveFlag=window.setTimeout(function(){a(e)},e.options.saveInterval):a(e))}},commands:{clearlocaldata:{execCommand:function(t,i){n&&e.getPreferences(n)&&e.removePreferences(n)},notNeedUndo:!0,ignoreContentChange:!0},getlocaldata:{execCommand:function(t,i){return n&&e.getPreferences(n)||""},notNeedUndo:!0,ignoreContentChange:!0},drafts:{execCommand:function(t,i){n&&(e.body.innerHTML=e.getPreferences(n)||"<p>"+domUtils.fillHtml+"</p>",e.focus(!0))},queryCommandState:function(){return n?null===e.getPreferences(n)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}}}}),UE.plugin.register("charts",function(){var e=this;return{bindEvents:{chartserror:function(){}},commands:{charts:{execCommand:function(i,n){var a=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0),r=[],o={};if(!a)return!1;if(!t(a))return e.fireEvent("chartserror"),!1;for(var s in o.title=n.title||"",o.subTitle=n.subTitle||"",o.xTitle=n.xTitle||"",o.yTitle=n.yTitle||"",o.suffix=n.suffix||"",o.tip=n.tip||"",o.dataFormat=n.tableDataFormat||"",o.chartType=n.chartType||0,o)o.hasOwnProperty(s)&&r.push(s+":"+o[s]);a.setAttribute("data-chart",r.join(";")),domUtils.addClass(a,"edui-charts-table")},queryCommandState:function(e,i){var n=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0);return n&&t(n)?0:-1}}},inputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style")})},outputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style","display: none;")})}};function t(e){var t,i;if(e.rows.length<2)return!1;if(e.rows[0].cells.length<2)return!1;i=(t=e.rows[0].cells).length;for(var n=0;r=t[n];n++)if("th"!==r.tagName.toLowerCase())return!1;var a;for(n=1;a=e.rows[n];n++){if(a.cells.length!=i)return!1;if("th"!==a.cells[0].tagName.toLowerCase())return!1;for(var r,o=1;r=a.cells[o];o++){var s=utils.trim(r.innerText||r.textContent||"");if(s=s.replace(new RegExp(UE.dom.domUtils.fillChar,"g"),"").replace(/^\s+|\s+$/g,""),!/^\d*\.?\d+$/.test(s))return!1}}return!0}}),UE.plugin.register("section",function(){function e(e){var t=new function(e){this.tag="",this.level=-1,this.dom=null,this.nextSection=null,this.previousSection=null,this.parentSection=null,this.startAddress=[],this.endAddress=[],this.children=[]};return utils.extend(t,e)}function t(e,t){for(var i=t,n=0;n<e.length;n++){if(!i.childNodes)return null;i=i.childNodes[e[n]]}return i}var i=this;return{bindMultiEvents:{type:"aftersetcontent afterscencerestore",handler:function(){i.fireEvent("updateSections")}},bindEvents:{ready:function(){i.fireEvent("updateSections"),domUtils.on(i.body,"drop paste",function(){i.fireEvent("updateSections")})},afterexeccommand:function(e,t){"paragraph"==t&&i.fireEvent("updateSections")},keyup:function(e,t){if(1!=this.selection.getRange().collapsed)this.fireEvent("updateSections");else{var i=t.keyCode||t.which;13!=i&&8!=i&&46!=i||this.fireEvent("updateSections")}}},commands:{getsections:{execCommand:function(t,i){for(var n=i||["h1","h2","h3","h4","h5","h6"],a=0;a<n.length;a++)"string"==typeof n[a]?n[a]=function(e){return function(t){return t.tagName==e.toUpperCase()}}(n[a]):"function"!=typeof n[a]&&(n[a]=function(e){return null});function r(e){for(var t=0;t<n.length;t++)if(n[t](e))return t;return-1}var o=this,s=e({level:-1,title:"root"}),l=s;return function t(i,n){for(var a,s,c,d=null,u=i.childNodes,h=0,p=u.length;h<p;h++)if((a=r(c=u[h]))>=0){var f=o.selection.getRange().selectNode(c).createAddress(!0).startAddress,m=e({tag:c.tagName,title:c.innerText||c.textContent||"",level:a,dom:c,startAddress:utils.clone(f,[]),endAddress:utils.clone(f,[]),children:[]});for(l.nextSection=m,m.previousSection=l,s=l;a<=s.level;)s=s.parentSection;m.parentSection=s,s.children.push(m),d=l=m}else 1===c.nodeType&&t(c,n),d&&d.endAddress[d.endAddress.length-1]++}(o.body,s),s},notNeedUndo:!0},movesection:{execCommand:function(e,i,n,a){var r,o;if(i&&n&&-1!=n.level&&(o=t(r=a?n.endAddress:n.startAddress,this.body),r&&o&&!function(e,t,i){for(var n=!1,a=!1,r=0;r<e.length&&!(r>=i.length);r++){if(i[r]>e[r]){n=!0;break}if(i[r]<e[r])break}for(var r=0;r<t.length&&!(r>=i.length);r++){if(i[r]<e[r]){a=!0;break}if(i[r]>e[r])break}return n&&a}(i.startAddress,i.endAddress,r))){var s,l,c=t(i.startAddress,this.body),d=t(i.endAddress,this.body);if(a)for(s=d;s&&!(domUtils.getPosition(c,s)&domUtils.POSITION_FOLLOWING)&&(l=s.previousSibling,domUtils.insertAfter(o,s),s!=c);)s=l;else for(s=c;s&&!(domUtils.getPosition(s,d)&domUtils.POSITION_FOLLOWING)&&(l=s.nextSibling,o.parentNode.insertBefore(s,o),s!=d);)s=l;this.fireEvent("updateSections")}}},deletesection:{execCommand:function(e,t,i){var n=this;if(t){var a,r=l(t.startAddress),o=l(t.endAddress),s=r;if(i)domUtils.remove(s);else for(;s&&domUtils.inDoc(o,n.document)&&!(domUtils.getPosition(s,o)&domUtils.POSITION_FOLLOWING);)a=s.nextSibling,domUtils.remove(s),s=a;n.fireEvent("updateSections")}function l(e){for(var t=n.body,i=0;i<e.length;i++){if(!t.childNodes)return null;t=t.childNodes[e[i]]}return t}}},selectsection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var i=this.selection.getRange(),n={startAddress:utils.clone(t.startAddress,[]),endAddress:utils.clone(t.endAddress,[])};return n.endAddress[n.endAddress.length-1]++,i.moveToAddress(n).select().scrollToView(),!0},notNeedUndo:!0},scrolltosection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var i=this.selection.getRange(),n={startAddress:t.startAddress,endAddress:t.endAddress};return n.endAddress[n.endAddress.length-1]++,i.moveToAddress(n).scrollToView(),!0},notNeedUndo:!0}}}}),UE.plugin.register("simpleupload",function(){var e,t=this,i=!1;function n(){var n=e.offsetWidth||20,a=e.offsetHeight||20,r=document.createElement("iframe"),o="display:block;width:"+n+"px;height:"+a+"px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;";domUtils.on(r,"load",function(){var e,s,l,c=(+new Date).toString(36);l=(s=r.contentDocument||r.contentWindow.document).body,(e=s.createElement("div")).innerHTML='<form id="edui_form_'+c+'" target="edui_iframe_'+c+'" method="POST" enctype="multipart/form-data" action="'+t.getOpt("serverUrl")+'" style="'+o+'"><input id="edui_input_'+c+'" type="file" accept="image/*" name="'+t.options.imageFieldName+'" style="'+o+'"></form><iframe id="edui_iframe_'+c+'" name="edui_iframe_'+c+'" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>',e.className="edui-"+t.options.theme,e.id=t.ui.id+"_iframeupload",l.style.cssText=o,l.style.width=n+"px",l.style.height=a+"px",l.appendChild(e),l.parentNode&&(l.parentNode.style.width=n+"px",l.parentNode.style.height=n+"px");var d,u=s.getElementById("edui_form_"+c),h=s.getElementById("edui_input_"+c),p=s.getElementById("edui_iframe_"+c);domUtils.on(h,"change",function(){if(h.value){var e="loading_"+(+new Date).toString(36),i=utils.serializeParam(t.queryCommandValue("serverparam"))||"",n=t.getActionUrl(t.getOpt("imageActionName")),a=t.getOpt("imageAllowFiles");if(t.focus(),t.execCommand("inserthtml",'<img class="loadingclass" id="'+e+'" src="'+t.options.themePath+t.options.theme+'/images/spacer.gif" title="'+(t.getLang("simpleupload.loading")||"")+'" >'),t.getOpt("imageActionName")){var r=h.value,o=r?r.substr(r.lastIndexOf(".")):"";!o||a&&-1==(a.join("")+".").indexOf(o.toLowerCase()+".")?s(t.getLang("simpleupload.exceedTypeError")):(domUtils.on(p,"load",function i(){try{var n,a,r,o=(p.contentDocument||p.contentWindow.document).body,l=o.innerText||o.textContent||"";a=new Function("return "+l)(),n=t.options.imageUrlPrefix+a.url,"SUCCESS"==a.state&&a.url?((r=t.document.getElementById(e)).setAttribute("src",n),r.setAttribute("_src",n),r.setAttribute("title",a.title||""),r.setAttribute("alt",a.original||""),r.removeAttribute("id"),domUtils.removeClasses(r,"loadingclass")):s&&s(a.state)}catch(e){s&&s(t.getLang("simpleupload.loadError"))}u.reset(),domUtils.un(p,"load",i)}),u.action=utils.formatUrl(n+(-1==n.indexOf("?")?"?":"&")+i),u.submit())}else errorHandler(t.getLang("autoupload.errorLoadConfig"))}function s(i){if(e){var n=t.document.getElementById(e);n&&domUtils.remove(n),t.fireEvent("showmessage",{id:e,content:i,type:"error",timeout:4e3})}}}),t.addListener("selectionchange",function(){clearTimeout(d),d=setTimeout(function(){var e=t.queryCommandState("simpleupload");h.disabled=-1==e&&"disabled"},400)}),i=!0}),r.style.cssText=o,e.appendChild(r)}return{bindEvents:{ready:function(){utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document)},simpleuploadbtnready:function(i,a){e=a,t.afterConfigReady(n)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},commands:{simpleupload:{queryCommandState:function(){return i?0:-1}}}}}),UE.plugin.register("serverparam",function(){var e={};return{commands:{serverparam:{execCommand:function(t,i,n){void 0===i||null===i?e={}:utils.isString(i)?void 0===n||null===n?delete e[i]:e[i]=n:utils.isObject(i)?utils.extend(e,i,!0):utils.isFunction(i)&&utils.extend(e,i(),!0)},queryCommandValue:function(){return e||{}}}}}}),UE.plugin.register("insertfile",function(){var e=this;return{commands:{insertfile:{execCommand:function(t,i){i=utils.isArray(i)?i:[i];var n,a,r,o,s,l,c,d="",u=e.getOpt("UEDITOR_HOME_URL"),h=u+("/"==u.substr(u.length-1)?"":"/")+"dialogs/attachment/fileTypeImages/";for(n=0;n<i.length;n++)a=i[n],r=h+(s=a.title,void 0,void 0,l=s.substr(s.lastIndexOf(".")+1).toLowerCase(),(c={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",xlsx:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"})[l]?c[l]:c.txt),o=a.title||a.url.substr(a.url.lastIndexOf("/")+1),d+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+r+'" _src="'+r+'" /><a style="font-size:12px; color:#0066cc;" href="'+a.url+'" title="'+o+'">'+o+"</a></p>";e.execCommand("insertHtml",d)}}}}}),UE.plugins.xssFilter=function(){var e,t=UEDITOR_CONFIG,i=t.whitList;function n(e){var t=e.tagName,n=e.attrs;if(!i.hasOwnProperty(t))return e.parentNode.removeChild(e),!1;UE.utils.each(n,function(n,a){-1===i[t].indexOf(a)&&e.setAttr(a)})}i&&t.xssFilterRules&&(this.options.filterRules=(e={},UE.utils.each(i,function(t,i){e[i]=function(e){return n(e)}}),e));var a=[];UE.utils.each(i,function(e,t){a.push(t)}),i&&t.inputXssFilter&&this.addInputRule(function(e){e.traversal(function(e){if("element"!==e.type)return!1;n(e)})}),i&&t.outputXssFilter&&this.addOutputRule(function(e){e.traversal(function(e){if("element"!==e.type)return!1;n(e)})})};var baidu=baidu||{};baidu.editor=baidu.editor||{},UE.ui=baidu.editor.ui={},function(){var e=baidu.editor.browser,t=baidu.editor.dom.domUtils,i=window.$EDITORUI={},n=0,a=baidu.editor.ui.uiUtils={uid:function(e){return e?e.ID$EDITORUI||(e.ID$EDITORUI=++n):++n},hook:function(e,t){var i;return e&&e._callbacks?i=e:(i=function(){var t;e&&(t=e.apply(this,arguments));for(var n=i._callbacks,a=n.length;a--;){var r=n[a].apply(this,arguments);void 0===t&&(t=r)}return t})._callbacks=[],i._callbacks.push(t),i},createElementByHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,(t=t.firstChild).parentNode.removeChild(t),t},getViewportElement:function(){return e.ie&&e.quirks?document.body:document.documentElement},getClientRect:function(e){var i;try{i=e.getBoundingClientRect()}catch(e){i={left:0,top:0,height:0,width:0}}for(var n,a={left:Math.round(i.left),top:Math.round(i.top),height:Math.round(i.bottom-i.top),width:Math.round(i.right-i.left)};(n=e.ownerDocument)!==document&&(e=t.getWindow(n).frameElement);)i=e.getBoundingClientRect(),a.left+=i.left,a.top+=i.top;return a.bottom=a.top+a.height,a.right=a.left+a.width,a},getViewportRect:function(){var e=a.getViewportElement(),t=0|(window.innerWidth||e.clientWidth),i=0|(window.innerHeight||e.clientHeight);return{left:0,top:0,height:i,width:t,bottom:i,right:t}},setViewportOffset:function(e,i){var n=a.getFixedLayer();e.parentNode===n?(e.style.left=i.left+"px",e.style.top=i.top+"px"):t.setViewportOffset(e,i)},getEventOffset:function(e){var t=e.target||e.srcElement,i=a.getClientRect(t),n=a.getViewportOffsetByEvent(e);return{left:n.left-i.left,top:n.top-i.top}},getViewportOffsetByEvent:function(e){var i=e.target||e.srcElement,n=t.getWindow(i).frameElement,r={left:e.clientX,top:e.clientY};if(n&&i.ownerDocument!==document){var o=a.getClientRect(n);r.left+=o.left,r.top+=o.top}return r},setGlobal:function(e,t){return i[e]=t,'$EDITORUI["'+e+'"]'},unsetGlobal:function(e){delete i[e]},copyAttributes:function(i,n){for(var a=n.attributes,r=a.length;r--;){var o=a[r];"style"==o.nodeName||"class"==o.nodeName||e.ie&&!o.specified||i.setAttribute(o.nodeName,o.nodeValue)}n.className&&t.addClass(i,n.className),n.style.cssText&&(i.style.cssText+=";"+n.style.cssText)},removeStyle:function(e,t){if(e.style.removeProperty)e.style.removeProperty(t);else{if(!e.style.removeAttribute)throw"";e.style.removeAttribute(t)}},contains:function(e,t){return e&&t&&e!==t&&(e.contains?e.contains(t):16&e.compareDocumentPosition(t))},startDrag:function(e,t,i){i=i||document;var n=e.clientX,a=e.clientY;function r(e){var i=e.clientX-n,r=e.clientY-a;t.ondragmove(i,r,e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}if(i.addEventListener){function o(e){i.removeEventListener("mousemove",r,!0),i.removeEventListener("mouseup",o,!0),window.removeEventListener("mouseup",o,!0),t.ondragstop()}i.addEventListener("mousemove",r,!0),i.addEventListener("mouseup",o,!0),window.addEventListener("mouseup",o,!0),e.preventDefault()}else{var s=e.srcElement;function l(){s.releaseCapture(),s.detachEvent("onmousemove",r),s.detachEvent("onmouseup",l),s.detachEvent("onlosecaptrue",l),t.ondragstop()}s.setCapture(),s.attachEvent("onmousemove",r),s.attachEvent("onmouseup",l),s.attachEvent("onlosecaptrue",l),e.returnValue=!1}t.ondragstart()},getFixedLayer:function(){var i=document.getElementById("edui_fixedlayer");return null==i&&((i=document.createElement("div")).id="edui_fixedlayer",document.body.appendChild(i),e.ie&&e.version<=8?(i.style.position="absolute",t.on(window,"scroll",r),t.on(window,"resize",baidu.editor.utils.defer(r,0,!0)),setTimeout(r)):i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.width="0",i.style.height="0"),i},makeUnselectable:function(t){if(e.opera||e.ie&&e.version<9){if(t.unselectable="on",t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++)1==t.childNodes[i].nodeType&&a.makeUnselectable(t.childNodes[i])}else void 0!==t.style.MozUserSelect?t.style.MozUserSelect="none":void 0!==t.style.WebkitUserSelect?t.style.WebkitUserSelect="none":void 0!==t.style.KhtmlUserSelect&&(t.style.KhtmlUserSelect="none")}};function r(){var e=document.getElementById("edui_fixedlayer");a.setViewportOffset(e,{left:0,top:0})}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.EventBase,n=baidu.editor.ui.UIBase=function(){};n.prototype={className:"",uiName:"",initOptions:function(e){for(var i in e)this[i]=e[i];this.id=this.id||"edui"+t.uid()},initUIBase:function(){this._globalKey=e.unhtml(t.setGlobal(this.id,this))},render:function(e){for(var i,n=this.renderHtml(),a=t.createElementByHtml(n),r=domUtils.getElementsByTagName(a,"*"),o="edui-"+(this.theme||this.editor.options.theme),s=document.getElementById("edui_fixedlayer"),l=0;i=r[l++];)domUtils.addClass(i,o);domUtils.addClass(a,o),s&&(s.className="",domUtils.addClass(s,o));var c=this.getDom();null!=c?(c.parentNode.replaceChild(a,c),t.copyAttributes(a,c)):("string"==typeof e&&(e=document.getElementById(e)),e=e||t.getFixedLayer(),domUtils.addClass(e,o),e.appendChild(a)),this.postRender()},getDom:function(e){return e?document.getElementById(this.id+"_"+e):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(e){var t="edui-"+this.uiName;return e.replace(/##/g,this.id).replace(/%%-/g,this.uiName?t+"-":"").replace(/%%/g,(this.uiName?t:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var e=this.getDom();e&&baidu.editor.dom.domUtils.remove(e),t.unsetGlobal(this.id)}},e.inherits(n,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.Separator=function(e){this.initOptions(e),this.initSeparator()};i.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}},e.inherits(i,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.ui.uiUtils,a=baidu.editor.ui.Mask=function(e){this.initOptions(e),this.initUIBase()};a.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var e=this;t.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e._fill()})})},show:function(e){this._fill(),this.getDom().style.display="",this.getDom().style.zIndex=e},hide:function(){this.getDom().style.display="none",this.getDom().style.zIndex=""},isHidden:function(){return"none"==this.getDom().style.display},_onMouseDown:function(){return!1},_onClick:function(e,t){this.fireEvent("click",e,t)},_fill:function(){var e=this.getDom(),t=n.getViewportRect();e.style.width=t.width+"px",e.style.height=t.height+"px"}},e.inherits(a,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.dom.domUtils,n=baidu.editor.ui.UIBase,a=baidu.editor.ui.Popup=function(e){this.initOptions(e),this.initPopup()},r=[];function o(e,t){for(var i=0;i<r.length;i++){var n=r[i];if(!n.isHidden()&&!1!==n.queryAutoHide(t)){if(e&&/scroll/gi.test(e.type)&&"edui-wordpastepop"==n.className)return;n.hide()}}r.length&&n.editor.fireEvent("afterhidepop")}a.postHide=o;var s=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];a.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase(),r.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function(){return this.content?"string"==typeof this.content?this.content:this.content.renderHtml():""},_UIBase_postRender:n.prototype.postRender,postRender:function(){if(this.content instanceof n&&this.content.postRender(),this.captureWheel&&!this.captured){this.captured=!0;var e=(document.documentElement.clientHeight||document.body.clientHeight)-80,a=this.getDom().offsetHeight,r=t.getClientRect(this.combox.getDom()).top,o=this.getDom("content"),s=this.getDom("body").getElementsByTagName("iframe"),l=this;for(s.length&&(s=s[0]);r+a>e;)a-=30;o.style.height=a+"px",s&&(s.style.height=a+"px"),window.XMLHttpRequest?i.on(o,"onmousewheel"in document.body?"mousewheel":"DOMMouseScroll",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.wheelDelta?o.scrollTop-=e.wheelDelta/120*60:o.scrollTop-=e.detail/-3*60}):i.on(this.getDom(),"mousewheel",function(e){e.returnValue=!1,l.getDom("content").scrollTop-=e.wheelDelta/120*60})}this.fireEvent("postRenderAfter"),this.hide(!0),this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var e=this.getDom("content");return t.getClientRect(e)},fitSize:function(){if(this.captureWheel&&this.sized)return this.__size;this.sized=!0;var e=this.getDom("body");e.style.width="",e.style.height="";var t=this.mesureSize();if(this.captureWheel){e.style.width=-(-20-t.width)+"px";var i=parseInt(this.getDom("content").style.height,10);!window.isNaN(i)&&(t.height=i)}else e.style.width=t.width+"px";return e.style.height=t.height+"px",this.__size=t,this.captureWheel&&(this.getDom("content").style.overflow="auto"),t},showAnchor:function(e,i){this.showAnchorRect(t.getClientRect(e),i)},showAnchorRect:function(e,n,a){this._doAutoRender();var r=t.getViewportRect();this.getDom().style.visibility="hidden",this._show();var o,l,c,d,u=this.fitSize();n?(o=this.canSideLeft&&e.right+u.width>r.right&&e.left>u.width,l=this.canSideUp&&e.top+u.height>r.bottom&&e.bottom>u.height,c=o?e.left-u.width:e.right,d=l?e.bottom-u.height:e.top):(o=this.canSideLeft&&e.right+u.width>r.right&&e.left>u.width,l=this.canSideUp&&e.top+u.height>r.bottom&&e.bottom>u.height,c=o?e.right-u.width:e.left,d=l?e.top-u.height:e.bottom);var h=this.getDom();t.setViewportOffset(h,{left:c,top:d}),i.removeClasses(h,s),h.className+=" "+s[2*(l?1:0)+(o?1:0)],this.editor&&(h.style.zIndex=1*this.editor.container.style.zIndex+10,baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=h.style.zIndex-1),this.getDom().style.visibility="visible"},showAt:function(e){var t=e.left,i=e.top,n={left:t,top:i,right:t,bottom:i,height:0,width:0};this.showAnchorRect(n,!1,!0)},_show:function(){this._hidden&&(this.getDom().style.display="",this._hidden=!1,this.fireEvent("show"))},isHidden:function(){return this._hidden},show:function(){this._doAutoRender(),this._show()},hide:function(e){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,e||this.fireEvent("hide"))},queryAutoHide:function(e){return!e||!t.contains(this.getDom(),e)}},e.inherits(a,n),i.on(document,"mousedown",function(e){o(e,e.target||e.srcElement)}),i.on(window,"scroll",function(e,t){o(e,t)})}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.ColorPicker=function(e){this.initOptions(e),this.noColorText=this.noColorText||this.editor.getLang("clearColor"),this.initUIBase()};i.prototype={getHtmlTpl:function(){return function(e,t){for(var i='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+e+'</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+t.getLang("themeColor")+'</td> </tr><tr class="edui-colorpicker-tablefirstrow" >',a=0;a<n.length;a++)a&&a%10==0&&(i+="</tr>"+(60==a?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+t.getLang("standardColor")+"</td></tr>":"")+"<tr"+(60==a?' class="edui-colorpicker-tablefirstrow"':"")+">"),i+=a<70?'<td style="padding: 0 2px;"><a hidefocus title="'+n[a]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+n[a]+'" style="background-color:#'+n[a]+";border:solid #ccc;"+(a<10||a>=60?"border-width:1px;":a>=10&&a<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return i+="</tr></table></div>"}(this.noColorText,this.editor)},_onTableClick:function(e){var t=(e.target||e.srcElement).getAttribute("data-color");t&&this.fireEvent("pickcolor",t)},_onTableOver:function(e){var t=(e.target||e.srcElement).getAttribute("data-color");t&&(this.getDom("preview").style.backgroundColor=t)},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}},e.inherits(i,t);var n="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(",")}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.ui.TablePicker=function(e){this.initOptions(e),this.initTablePicker()};n.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},_UIBase_render:i.prototype.render,render:function(e){this._UIBase_render(e),this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(e,t){var i=this.getDom("overlay").style,n=this.lengthOfCellSide;i.width=e*n+"px",i.height=t*n+"px",this.getDom("label").innerHTML=e+this.editor.getLang("t_col")+" x "+t+this.editor.getLang("t_row"),this.numCols=e,this.numRows=t},_onMouseOver:function(e,i){var n=e.relatedTarget||e.fromElement;t.contains(i,n)||i===n||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="")},_onMouseOut:function(e,i){var n=e.relatedTarget||e.toElement;t.contains(i,n)||i===n||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="hidden")},_onMouseMove:function(e,i){this.getDom("overlay").style;var n=t.getEventOffset(e),a=this.lengthOfCellSide,r=Math.ceil(n.left/a),o=Math.ceil(n.top/a);this._track(r,o)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}},e.inherits(n,i)}(),function(){var e=baidu.editor.browser,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.uiUtils,n='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(e.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');baidu.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl,this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){return this._Stateful_dGetHtmlTpl().replace(/stateful/g,function(){return n})},Stateful_onMouseEnter:function(e,t){this.target=t,this.isDisabled()&&!this.alwalysHoverable||(this.addState("hover"),this.fireEvent("over"))},Stateful_onMouseLeave:function(e,t){this.isDisabled()&&!this.alwalysHoverable||(this.removeState("hover"),this.removeState("active"),this.fireEvent("out"))},Stateful_onMouseOver:function(e,t){var n=e.relatedTarget;i.contains(t,n)||t===n||this.Stateful_onMouseEnter(e,t)},Stateful_onMouseOut:function(e,t){var n=e.relatedTarget;i.contains(t,n)||t===n||this.Stateful_onMouseLeave(e,t)},Stateful_onMouseDown:function(e,t){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(e,t){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(e){return t.hasClass(this.getStateDom(),"edui-state-"+e)},addState:function(e){this.hasState(e)||(this.getStateDom().className+=" edui-state-"+e)},removeState:function(e){this.hasState(e)&&t.removeClasses(this.getStateDom(),["edui-state-"+e])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(e){!this.isDisabled()&&e?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(e){e?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.Stateful,n=baidu.editor.ui.Button=function(e){if(e.name){var t=e.name,i=e.cssRules;e.className||(e.className="edui-for-"+t),e.cssRules=".edui-default  .edui-for-"+t+" .edui-icon {"+i+"}"}this.initOptions(e),this.initButton()};n.prototype={uiName:"button",label:"",title:"",showIcon:!0,showText:!0,cssRules:"",initButton:function(){this.initUIBase(),this.Stateful_init(),this.cssRules&&e.cssRule("edui-customize-"+this.name+"-style",this.cssRules)},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function(){this.Stateful_postRender(),this.setDisabled(this.disabled)},_onMouseDown:function(e){var t=e.target||e.srcElement,i=t&&t.tagName&&t.tagName.toLowerCase();if("input"==i||"object"==i||"object"==i)return!1},_onClick:function(){this.isDisabled()||this.fireEvent("click")},setTitle:function(e){this.getDom("label").innerHTML=e}},e.inherits(n,t),e.extend(n.prototype,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=(baidu.editor.dom.domUtils,baidu.editor.ui.UIBase),n=baidu.editor.ui.Stateful,a=baidu.editor.ui.SplitButton=function(e){this.initOptions(e),this.initSplitButton()};a.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){this.initUIBase(),this.Stateful_init();if(null!=this.popup){var e=this.popup;this.popup=null,this.setPopup(e)}},_UIBase_postRender:i.prototype.postRender,postRender:function(){this.Stateful_postRender(),this._UIBase_postRender()},setPopup:function(i){this.popup!==i&&(null!=this.popup&&this.popup.dispose(),i.addListener("show",e.bind(this._onPopupShow,this)),i.addListener("hide",e.bind(this._onPopupHide,this)),i.addListener("postrender",e.bind(function(){i.getDom("body").appendChild(t.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(t.getClientRect(this.getDom()).width+20)+'px"></div>')),i.getDom().className+=" "+this.className},this)),this.popup=i)},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'},showPopup:function(){var e=t.getClientRect(this.getDom());e.top-=this.popup.SHADOW_RADIUS,e.height+=this.popup.SHADOW_RADIUS,this.popup.showAnchorRect(e)},_onArrowClick:function(e,t){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}},e.inherits(a,i),e.extend(a.prototype,n,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.ColorPicker,n=baidu.editor.ui.Popup,a=baidu.editor.ui.SplitButton,r=baidu.editor.ui.ColorButton=function(e){this.initOptions(e),this.initColorButton()};r.prototype={initColorButton:function(){var e=this;this.popup=new n({content:new i({noColorText:e.editor.getLang("clearColor"),editor:e.editor,onpickcolor:function(t,i){e._onPickColor(i)},onpicknocolor:function(t,i){e._onPickNoColor(i)}}),editor:e.editor}),this.initSplitButton()},_SplitButton_postRender:a.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.getDom("button_body").appendChild(t.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>')),this.getDom().className+=" edui-colorbutton"},setColor:function(e){this.getDom("colorlump").style.backgroundColor=e,this.color=e},_onPickColor:function(e){!1!==this.fireEvent("pickcolor",e)&&(this.setColor(e),this.popup.hide())},_onPickNoColor:function(e){!1!==this.fireEvent("picknocolor")&&this.popup.hide()}},e.inherits(r,a)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,i=baidu.editor.ui.TablePicker,n=baidu.editor.ui.SplitButton,a=baidu.editor.ui.TableButton=function(e){this.initOptions(e),this.initTableButton()};a.prototype={initTableButton:function(){var e=this;this.popup=new t({content:new i({editor:e.editor,onpicktable:function(t,i,n){e._onPickTable(i,n)}}),editor:e.editor}),this.initSplitButton()},_onPickTable:function(e,t){!1!==this.fireEvent("picktable",e,t)&&this.popup.hide()}},e.inherits(a,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.AutoTypeSetPicker=function(e){this.initOptions(e),this.initAutoTypeSetPicker()};i.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},getHtmlTpl:function(){var e=this.editor,t=e.options.autotypeset,i=e.getLang("autoTypeSet"),n="textAlignValue"+e.uid,a="imageBlockLineValue"+e.uid,r="symbolConverValue"+e.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" '+(t.mergeEmptyline?"checked":"")+">"+i.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(t.removeEmptyline?"checked":"")+">"+i.delLine+'</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" '+(t.removeClass?"checked":"")+">"+i.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(t.indent?"checked":"")+">"+i.indent+'</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" '+(t.textAlign?"checked":"")+">"+i.alignment+'</td><td colspan="2" id="'+n+'"><input type="radio" name="'+n+'" value="left" '+(t.textAlign&&"left"==t.textAlign?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+n+'" value="center" '+(t.textAlign&&"center"==t.textAlign?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+n+'" value="right" '+(t.textAlign&&"right"==t.textAlign?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" '+(t.imageBlockLine?"checked":"")+">"+i.imageFloat+'</td><td nowrap id="'+a+'"><input type="radio" name="'+a+'" value="none" '+(t.imageBlockLine&&"none"==t.imageBlockLine?"checked":"")+">"+e.getLang("default")+'<input type="radio" name="'+a+'" value="left" '+(t.imageBlockLine&&"left"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+a+'" value="center" '+(t.imageBlockLine&&"center"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+a+'" value="right" '+(t.imageBlockLine&&"right"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" '+(t.clearFontSize?"checked":"")+">"+i.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(t.clearFontFamily?"checked":"")+">"+i.removeFontFamily+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" '+(t.removeEmptyNode?"checked":"")+">"+i.removeHtml+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" '+(t.pasteFilter?"checked":"")+">"+i.pasteFilter+'</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" '+(t.bdc2sb||t.tobdc?"checked":"")+">"+i.symbol+'</td><td id="'+r+'"><input type="radio" name="bdc" value="bdc2sb" '+(t.bdc2sb?"checked":"")+">"+i.bdc2sb+'<input type="radio" name="bdc" value="tobdc" '+(t.tobdc?"checked":"")+">"+i.tobdc+'</td><td nowrap align="right"><button >'+i.run+"</button></td></tr></table></div></div>"},_UIBase_render:t.prototype.render},e.inherits(i,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,i=baidu.editor.ui.AutoTypeSetPicker,n=baidu.editor.ui.SplitButton,a=baidu.editor.ui.AutoTypeSetButton=function(e){this.initOptions(e),this.initAutoTypeSetButton()};function r(t){for(var i,n={},a=t.getDom(),r=t.editor.uid,o=null,s=domUtils.getElementsByTagName(a,"input"),l=s.length-1;i=s[l--];)if("checkbox"==i.getAttribute("type"))if(n[o=i.getAttribute("name")]&&delete n[o],i.checked){var c=document.getElementById(o+"Value"+r);if(c){if(/input/gi.test(c.tagName))n[o]=c.value;else for(var d,u=c.getElementsByTagName("input"),h=u.length-1;d=u[h--];)if(d.checked){n[o]=d.value;break}}else n[o]=!0}else n[o]=!1;else n[i.getAttribute("value")]=i.checked;var p,f=domUtils.getElementsByTagName(a,"select");for(l=0;p=f[l++];){var m=p.getAttribute("name");n[m]=n[m]?p.value:""}e.extend(t.editor.options.autotypeset,n),t.editor.setPreferences("autotypeset",n)}a.prototype={initAutoTypeSetButton:function(){var e=this;this.popup=new t({content:new i({editor:e.editor}),editor:e.editor,hide:function(){!this._hidden&&this.getDom()&&(r(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var n=0;this.popup.addListener("postRenderAfter",function(){var t=this;if(!n){var i=this.getDom();i.getElementsByTagName("button")[0].onclick=function(){r(t),e.editor.execCommand("autotypeset"),t.hide()},domUtils.on(i,"click",function(i){var n=i.target||i.srcElement,a=e.editor.uid;if(n&&"INPUT"==n.tagName){if("imageBlockLine"==n.name||"textAlign"==n.name||"symbolConver"==n.name)for(var o=n.checked,s=document.getElementById(n.name+"Value"+a).getElementsByTagName("input"),l={imageBlockLine:"none",textAlign:"left",symbolConver:"tobdc"},c=0;c<s.length;c++)o?s[c].value==l[n.name]&&(s[c].checked="checked"):s[c].checked=!1;if(n.name=="imageBlockLineValue"+a||n.name=="textAlignValue"+a||"bdc"==n.name){var d=n.parentNode.previousSibling.getElementsByTagName("input");d&&(d[0].checked=!0)}r(t)}}),n=1}}),this.initSplitButton()}},e.inherits(a,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,i=baidu.editor.ui.Stateful,n=baidu.editor.ui.UIBase,a=baidu.editor.ui.CellAlignPicker=function(e){this.initOptions(e),this.initSelected(),this.initCellAlignPicker()};a.prototype={initSelected:function(){var e={top:0,middle:1,bottom:2},t={left:0,center:1,right:2},i=3;this.selected&&(this.selectedIndex=e[this.selected.valign]*i+t[this.selected.align])},initCellAlignPicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){for(var e=["left","center","right"],t=null,i=-1,n=[],a=0;a<9;a++)t=this.selectedIndex===a?' class="edui-cellalign-selected" ':"",0===(i=a%3)&&n.push("<tr>"),n.push('<td index="'+a+'" '+t+' stateful><div class="edui-icon edui-'+e[i]+'"></div></td>'),2===i&&n.push("</tr>");return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+n.join("")+"</table></div></div>"},getStateDom:function(){return this.target},_onClick:function(e){var i=e.target||e.srcElement;/icon/.test(i.className)&&(this.items[i.parentNode.getAttribute("index")].onclick(),t.postHide(e))},_UIBase_render:n.prototype.render},e.inherits(a,n),e.extend(a.prototype,i,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Stateful,i=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,a=baidu.editor.ui.PastePicker=function(e){this.initOptions(e),this.initPastePicker()};a.prototype={initPastePicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'</div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'},getStateDom:function(){return this.target},format:function(e){this.editor.ui._isTransfer=!0,this.editor.fireEvent("pasteTransfer",e)},_onClick:function(e){var t=domUtils.getNextDomNode(e),n=i.getViewportRect().height,a=i.getClientRect(t);a.top+a.height>n?t.style.top=-a.height-e.offsetHeight+"px":t.style.top="",/hidden/gi.test(domUtils.getComputedStyle(t,"visibility"))?(t.style.visibility="visible",domUtils.addClass(e,"edui-state-opened")):(t.style.visibility="hidden",domUtils.removeClasses(e,"edui-state-opened"))},_UIBase_render:n.prototype.render},e.inherits(a,n),e.extend(a.prototype,t,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.ui.Toolbar=function(e){this.initOptions(e),this.initToolbar()};n.prototype={items:null,initToolbar:function(){this.items=this.items||[],this.initUIBase()},add:function(e,t){void 0===t?this.items.push(e):this.items.splice(t,0,e)},getHtmlTpl:function(){for(var e=[],t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+e.join("")+"</div>"},postRender:function(){for(var e=this.getDom(),i=0;i<this.items.length;i++)this.items[i].postRender();t.makeUnselectable(e)},_onMouseDown:function(e){var t=e.target||e.srcElement,i=t&&t.tagName&&t.tagName.toLowerCase();if("input"==i||"object"==i||"object"==i)return!1}},e.inherits(n,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,a=baidu.editor.ui.Popup,r=baidu.editor.ui.Stateful,o=baidu.editor.ui.CellAlignPicker,s=baidu.editor.ui.Menu=function(e){this.initOptions(e),this.initMenu()},l={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},postRender:function(){},queryAutoHide:function(){return!0}};s.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[],this.initPopup(),this.initItems()},initItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];"-"==t?this.items[e]=this.getSeparator():t instanceof c||(t.editor=this.editor,t.theme=this.editor.options.theme,this.items[e]=this.createItem(t))}},getSeparator:function(){return l},createItem:function(e){return e.menu=this,new c(e)},_Popup_getContentHtmlTpl:a.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){if(0==this.items.length)return this._Popup_getContentHtmlTpl();for(var e=[],t=0;t<this.items.length;t++){var i=this.items[t];e[t]=i.renderHtml()}return'<div class="%%-body">'+e.join("")+"</div>"},_Popup_postRender:a.prototype.postRender,postRender:function(){for(var e=this,n=0;n<this.items.length;n++){var a=this.items[n];a.ownerMenu=this,a.postRender()}t.on(this.getDom(),"mouseover",function(t){var n=(t=t||event).relatedTarget||t.fromElement,a=e.getDom();i.contains(a,n)||a===n||e.fireEvent("over")}),this._Popup_postRender()},queryAutoHide:function(e){if(e){if(i.contains(this.getDom(),e))return!1;for(var t=0;t<this.items.length;t++){if(!1===this.items[t].queryAutoHide(e))return!1}}},clearItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];clearTimeout(t._showingTimer),clearTimeout(t._closingTimer),t.subMenu&&t.subMenu.destroy()}this.items=[]},destroy:function(){this.getDom()&&t.remove(this.getDom()),this.clearItems()},dispose:function(){this.destroy()}},e.inherits(s,a);var c=baidu.editor.ui.MenuItem=function(e){if(this.initOptions(e),this.initUIBase(),this.Stateful_init(),this.subMenu&&!(this.subMenu instanceof s))if(e.className&&-1!=e.className.indexOf("aligntd")){var i=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment"),this.subMenu=new a({content:new o(this.subMenu),parentMenu:i,editor:i.editor,destroy:function(){this.getDom()&&t.remove(this.getDom())}}),this.subMenu.addListener("postRenderAfter",function(){t.on(this.getDom(),"mouseover",function(){i.addState("opened")})})}else this.subMenu=new s(this.subMenu)};c.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function(){var e=this;this.addListener("over",function(){e.ownerMenu.fireEvent("submenuover",e),e.subMenu&&e.delayShowSubMenu()}),this.subMenu&&(this.getDom().className+=" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){e.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(e._closingTimer),e._closingTimer=null,e.addState("opened")}),this.ownerMenu.addListener("hide",function(){e.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(t,i){i!==e&&e.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(t){return(!t||!i.contains(e.getDom(),t))&&this._bakQueryAutoHide(t)}),this.getDom().style.tabIndex="-1",i.makeUnselectable(this.getDom()),this.Stateful_postRender()},delayShowSubMenu:function(){var e=this;e.isDisabled()||(e.addState("opened"),clearTimeout(e._showingTimer),clearTimeout(e._closingTimer),e._closingTimer=null,e._showingTimer=setTimeout(function(){e.showSubMenu()},250))},delayHideSubMenu:function(){var e=this;e.isDisabled()||(e.removeState("opened"),clearTimeout(e._showingTimer),e._closingTimer||(e._closingTimer=setTimeout(function(){e.hasState("opened")||e.hideSubMenu(),e._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(e){if(this.subMenu&&this.hasState("opened"))return this.subMenu.queryAutoHide(e)},_onClick:function(e,t){this.hasState("disabled")||!1!==this.fireEvent("click",e,t)&&(this.subMenu?this.showSubMenu():a.postHide(e))},showSubMenu:function(){var e=i.getClientRect(this.getDom());e.right-=5,e.left+=2,e.width-=7,e.top-=4,e.bottom+=4,e.height+=8,this.subMenu.showAnchorRect(e,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}},e.inherits(c,n),e.extend(c.prototype,r,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.Menu,n=baidu.editor.ui.SplitButton,a=baidu.editor.ui.Combox=function(e){this.initOptions(e),this.initCombox()};a.prototype={uiName:"combox",onbuttonclick:function(){this.showPopup()},initCombox:function(){var e=this;this.items=this.items||[];for(var t=0;t<this.items.length;t++){var n=this.items[t];n.uiName="listitem",n.index=t,n.onclick=function(){e.selectByIndex(this.index)}}this.popup=new i({items:this.items,uiName:"list",editor:this.editor,captureWheel:!0,combox:this}),this.initSplitButton()},_SplitButton_postRender:n.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.setLabel(this.label||""),this.setValue(this.initValue||"")},showPopup:function(){var e=t.getClientRect(this.getDom());e.top+=1,e.bottom-=1,e.height-=2,this.popup.showAnchorRect(e)},getValue:function(){return this.value},setValue:function(e){var t=this.indexByValue(e);-1!=t?(this.selectedIndex=t,this.setLabel(this.items[t].label),this.value=this.items[t].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(e)),this.value=e)},setLabel:function(e){this.getDom("button_body").innerHTML=e,this.label=e},getLabelForUnknowValue:function(e){return e},indexByValue:function(e){for(var t=0;t<this.items.length;t++)if(e==this.items[t].value)return t;return-1},getItem:function(e){return this.items[e]},selectByIndex:function(e){e<this.items.length&&!1!==this.fireEvent("select",e)&&(this.selectedIndex=e,this.value=this.items[e].value,this.setLabel(this.items[e].label))}},e.inherits(a,n)}(),function(){var e,t,i,n=baidu.editor.utils,a=baidu.editor.dom.domUtils,r=baidu.editor.ui.uiUtils,o=baidu.editor.ui.Mask,s=baidu.editor.ui.UIBase,l=baidu.editor.ui.Button,c=baidu.editor.ui.Dialog=function(e){if(e.name){var t=e.name,i=e.cssRules;e.className||(e.className="edui-for-"+t),i&&(e.cssRules=".edui-default .edui-for-"+t+" .edui-dialog-content  {"+i+"}")}this.initOptions(n.extend({autoReset:!0,draggable:!0,onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()},holdScroll:!1},e)),this.initDialog()};c.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var a=this,r=this.editor.options.theme;if(this.cssRules&&n.cssRule("edui-customize-"+this.name+"-style",this.cssRules),this.initUIBase(),this.modalMask=e||(e=new o({className:"edui-dialog-modalmask",theme:r,onclick:function(){i&&i.close(!1)}})),this.dragMask=t||(t=new o({className:"edui-dialog-dragmask",theme:r})),this.closeButton=new l({className:"edui-dialog-closebutton",title:a.closeDialog,theme:r,onclick:function(){a.close(!1)}}),this.fullscreen&&this.initResizeEvent(),this.buttons)for(var s=0;s<this.buttons.length;s++)this.buttons[s]instanceof l||(this.buttons[s]=new l(n.extend(this.buttons[s],{editor:this.editor},!0)))},initResizeEvent:function(){var e=this;a.on(window,"resize",function(){e._hidden||void 0===e._hidden||(e.__resizeTimer&&window.clearTimeout(e.__resizeTimer),e.__resizeTimer=window.setTimeout(function(){e.__resizeTimer=null;var t=e.getDom(),i=e.getDom("content"),n=UE.ui.uiUtils.getClientRect(t),a=UE.ui.uiUtils.getClientRect(i),o=r.getViewportRect();i.style.width=o.width-n.width+a.width+"px",i.style.height=o.height-n.height+a.height+"px",t.style.width=o.width+"px",t.style.height=o.height+"px",e.fireEvent("resize")},100))})},fitSize:function(){var e=this.getDom("body"),t=this.mesureSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",t},safeSetOffset:function(e){var t=this.getDom(),i=r.getViewportRect(),n=r.getClientRect(t),a=e.left;a+n.width>i.right&&(a=i.right-n.width);var o=e.top;o+n.height>i.bottom&&(o=i.bottom-n.height),t.style.left=Math.max(a,0)+"px",t.style.top=Math.max(o,0)+"px"},showAtCenter:function(){var e=r.getViewportRect();if(this.fullscreen){var t=this.getDom(),i=this.getDom("content");t.style.display="block";var n=UE.ui.uiUtils.getClientRect(t),o=UE.ui.uiUtils.getClientRect(i);t.style.left="-100000px",i.style.width=e.width-n.width+o.width+"px",i.style.height=e.height-n.height+o.height+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.left=0,this._originalContext={html:{overflowX:document.documentElement.style.overflowX,overflowY:document.documentElement.style.overflowY},body:{overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY}},document.documentElement.style.overflowX="hidden",document.documentElement.style.overflowY="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"}else{this.getDom().style.display="";var s=this.fitSize(),l=0|this.getDom("titlebar").offsetHeight,c=e.width/2-s.width/2,d=e.height/2-(s.height-l)/2-l,u=this.getDom();this.safeSetOffset({left:Math.max(0|c,0),top:Math.max(0|d,0)}),a.hasClass(u,"edui-state-centered")||(u.className+=" edui-state-centered")}this._show()},getContentHtml:function(){var e="";return"string"==typeof this.content?e=this.content:this.iframeUrl&&(e='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'),e},getHtmlTpl:function(){var e="";if(this.buttons){for(var t=[],i=0;i<this.buttons.length;i++)t[i]=this.buttons[i].renderHtml();e='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+t.join("")+"</div></div>"}return'<div id="##" class="%%"><div '+(this.fullscreen?'class="%%-wrap edui-dialog-fullscreen-flag"':'class="%%"')+'><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+e+"</div></div></div>"},postRender:function(){this.modalMask.getDom()||(this.modalMask.render(),this.modalMask.hide()),this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide());var e=this;if(this.addListener("show",function(){e.modalMask.show(this.getDom().style.zIndex-2)}),this.addListener("hide",function(){e.modalMask.hide()}),this.buttons)for(var t=0;t<this.buttons.length;t++)this.buttons[t].postRender();a.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e.safeSetOffset(r.getClientRect(e.getDom()))})}),this._hide()},mesureSize:function(){var e=this.getDom("body"),t=r.getClientRect(this.getDom("content")).width;return e.style.width=t,r.getClientRect(e)},_onTitlebarMouseDown:function(e,t){if(this.draggable){r.getViewportRect();var i,n=this;r.startDrag(e,{ondragstart:function(){i=r.getClientRect(n.getDom()),n.getDom("contmask").style.visibility="visible",n.dragMask.show(n.getDom().style.zIndex-1)},ondragmove:function(e,t){var a=i.left+e,r=i.top+t;n.safeSetOffset({left:a,top:r})},ondragstop:function(){n.getDom("contmask").style.visibility="hidden",a.removeClasses(n.getDom(),["edui-state-centered"]),n.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml(),this.fireEvent("dialogafterreset")},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*this.editor.container.style.zIndex+10),this._hidden=!1,this.fireEvent("show"),baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},_hide:function(){if(!this._hidden){var e=this.getDom();e.style.display="none",e.style.zIndex="",e.style.width="",e.style.height="",this._hidden=!0,this.fireEvent("hide")}},open:function(){if(this.autoReset)try{this.reset()}catch(e){this.render(),this.open()}if(this.showAtCenter(),this.iframeUrl)try{this.getDom("iframe").focus()}catch(e){}i=this},_onCloseButtonClick:function(e,t){this.close(!1)},close:function(e){if(!1!==this.fireEvent("close",e)){this.fullscreen&&(document.documentElement.style.overflowX=this._originalContext.html.overflowX,document.documentElement.style.overflowY=this._originalContext.html.overflowY,document.body.style.overflowX=this._originalContext.body.overflowX,document.body.style.overflowY=this._originalContext.body.overflowY,delete this._originalContext),this._hide();var t=this.getDom("content"),i=this.getDom("iframe");if(t&&i){var n=i.contentDocument||i.contentWindow.document;n&&(n.body.innerHTML=""),a.remove(t)}}}},n.inherits(c,s)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Menu,i=baidu.editor.ui.SplitButton,n=baidu.editor.ui.MenuButton=function(e){this.initOptions(e),this.initMenuButton()};n.prototype={initMenuButton:function(){var e=this;this.uiName="menubutton",this.popup=new t({items:e.items,className:e.className,editor:e.editor}),this.popup.addListener("show",function(){for(var t=0;t<this.items.length;t++)this.items[t].removeState("checked"),this.items[t].value==e._value&&(this.items[t].addState("checked"),this.value=e._value)}),this.initSplitButton()},setValue:function(e){this._value=e}},e.inherits(n,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,i=baidu.editor.ui.SplitButton,n=baidu.editor.ui.MultiMenuPop=function(e){this.initOptions(e),this.initMultiMenu()};n.prototype={initMultiMenu:function(){var e=this;this.popup=new t({content:"",editor:e.editor,iframe_rendered:!1,onshow:function(){this.iframe_rendered||(this.iframe_rendered=!0,this.getDom("content").innerHTML='<iframe id="'+e.id+'_iframe" src="'+e.iframeUrl+'" frameborder="0"></iframe>',e.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*e.editor.container.style.zIndex+1))}}),this.onbuttonclick=function(){this.showPopup()},this.initSplitButton()}},e.inherits(n,i)}(),function(){var e,t=baidu.editor.ui,i=t.UIBase,n=t.uiUtils,a=baidu.editor.utils,r=baidu.editor.dom.domUtils,o=[],s=!1,l=t.ShortCutMenu=function(e){this.initOptions(e),this.initShortCutMenu()};function c(e){var t=e.target||e.srcElement;if(!r.findParent(t,function(e){return r.hasClass(e,"edui-shortcutmenu")||r.hasClass(e,"edui-popup")},!0))for(var i,n=0;i=o[n++];)i.hide()}l.postHide=c,l.prototype={isHidden:!0,SPACE:5,initShortCutMenu:function(){this.items=this.items||[],this.initUIBase(),this.initItems(),this.initEvent(),o.push(this)},initEvent:function(){var t=this,i=t.editor.document;r.on(i,"mousemove",function(i){if(!1===t.isHidden){if(t.getSubMenuMark()||"contextmenu"==t.eventType)return;var n=!0,a=t.getDom(),r=a.offsetWidth,o=a.offsetHeight,s=r/2+t.SPACE,l=o/2,c=Math.abs(i.screenX-t.left),d=Math.abs(i.screenY-t.top);clearTimeout(e),e=setTimeout(function(){d>0&&d<l?t.setOpacity(a,"1"):d>l&&d<l+70?(t.setOpacity(a,"0.5"),n=!1):d>l+70&&d<l+140&&t.hide(),n&&c>0&&c<s?t.setOpacity(a,"1"):c>s&&c<s+70?t.setOpacity(a,"0.5"):c>s+70&&c<s+140&&t.hide()})}}),browser.chrome&&r.on(i,"mouseout",function(e){var i=e.relatedTarget||e.toElement;null!=i&&"HTML"!=i.tagName||t.hide()}),t.editor.addListener("afterhidepop",function(){t.isHidden||(s=!0)})},initItems:function(){if(a.isArray(this.items))for(var e=0,i=this.items.length;e<i;e++){var n=this.items[e].toLowerCase();t[n]&&(this.items[e]=new t[n](this.editor),this.items[e].className+=" edui-shortcutsubmenu ")}},setOpacity:function(e,t){browser.ie&&browser.version<9?e.style.filter="alpha(opacity = "+100*parseFloat(t)+");":e.style.opacity=t},getSubMenuMark:function(){s=!1;for(var e,t=n.getFixedLayer(),i=r.getElementsByTagName(t,"div",function(e){return r.hasClass(e,"edui-shortcutsubmenu edui-popup")}),a=0;e=i[a++];)"none"!=e.style.display&&(s=!0);return s},show:function(e,t){var i=this,a={},o=this.getDom(),s=n.getFixedLayer();function l(e){e.left<0&&(e.left=0),e.top<0&&(e.top=0),o.style.cssText="position:absolute;left:"+e.left+"px;top:"+e.top+"px;"}function c(e){e.tagName||(e=e.getDom()),a.left=parseInt(e.style.left),a.top=parseInt(e.style.top),a.top-=o.offsetHeight+15,l(a)}if(i.eventType=e.type,o.style.cssText="display:block;left:-9999px","contextmenu"==e.type&&t){var d=r.getElementsByTagName(s,"div","edui-contextmenu")[0];d?c(d):i.editor.addListener("aftershowcontextmenu",function(e,t){c(t)})}else(a=n.getViewportOffsetByEvent(e)).top-=o.offsetHeight+i.SPACE,a.left+=i.SPACE+20,l(a),i.setOpacity(o,.2);i.isHidden=!1,i.left=e.screenX+o.offsetWidth/2-i.SPACE,i.top=e.screenY-o.offsetHeight/2-i.SPACE,i.editor&&(o.style.zIndex=1*i.editor.container.style.zIndex+10,s.style.zIndex=o.style.zIndex-1)},hide:function(){this.getDom()&&(this.getDom().style.display="none"),this.isHidden=!0},postRender:function(){if(a.isArray(this.items))for(var e,t=0;e=this.items[t++];)e.postRender()},getHtmlTpl:function(){var e;if(a.isArray(this.items)){e=[];for(var t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();e=e.join("")}else e=this.items;return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+e+"</div>"}},a.inherits(l,i),r.on(document,"mousedown",function(e){c(e)}),r.on(window,"scroll",function(e){c(e)})}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.Breakline=function(e){this.initOptions(e),this.initSeparator()};i.prototype={uiName:"Breakline",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return"<br/>"}},e.inherits(i,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.ui.Message=function(e){this.initOptions(e),this.initMessage()};n.prototype={initMessage:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-message %%"> <div id="##_closer" class="edui-message-closer">×</div> <div id="##_body" class="edui-message-body edui-message-type-info"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-message-content">  </div> </div></div>'},reset:function(e){var t=this;e.keepshow||(clearTimeout(this.timer),t.timer=setTimeout(function(){t.hide()},e.timeout||4e3)),void 0!==e.content&&t.setContent(e.content),void 0!==e.type&&t.setType(e.type),t.show()},postRender:function(){var e=this,i=this.getDom("closer");i&&t.on(i,"click",function(){e.hide()})},setContent:function(e){this.getDom("content").innerHTML=e},setType:function(e){e=e||"info";var t=this.getDom("body");t.className=t.className.replace(/edui-message-type-[\w-]+/,"edui-message-type-"+e)},getContent:function(){return this.getDom("content").innerHTML},getType:function(){var e=this.getDom("body").match(/edui-message-type-([\w-]+)/);return e?e[1]:""},show:function(){this.getDom().style.display="block"},hide:function(){var e=this.getDom();e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e))}},e.inherits(n,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui,i=t.Dialog;t.buttons={},t.Dialog=function(e){var t=new i(e);return t.addListener("hide",function(){if(t.editor){var e=t.editor;try{if(browser.gecko){var i=e.window.scrollY,n=e.window.scrollX;e.body.focus(),e.window.scrollTo(n,i)}else e.focus()}catch(e){}}}),t};for(var n={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",preview:"~/dialogs/preview/preview.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html",charts:"~/dialogs/charts/charts.html"},a=["undo","redo","formatmatch","bold","italic","underline","fontborder","touppercase","tolowercase","strikethrough","subscript","superscript","source","indent","outdent","blockquote","pasteplain","pagebreak","selectall","print","horizontal","removeformat","time","date","unlink","insertparagraphbeforetable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable","drafts"],r=0;l=a[r++];)l=l.toLowerCase(),t[l]=function(e){return function(i){var n=new t.Button({className:"edui-for-"+e,title:i.options.labelMap[e]||i.getLang("labelMap."+e)||"",onclick:function(){i.execCommand(e)},theme:i.options.theme,showText:!1});return t.buttons[e]=n,i.addListener("selectionchange",function(t,a,r){var o=i.queryCommandState(e);-1==o?(n.setDisabled(!0),n.setChecked(!1)):r||(n.setDisabled(!1),n.setChecked(o))}),n}}(l);t.cleardoc=function(e){var i=new t.Button({className:"edui-for-cleardoc",title:e.options.labelMap.cleardoc||e.getLang("labelMap.cleardoc")||"",theme:e.options.theme,onclick:function(){confirm(e.getLang("confirmClear"))&&e.execCommand("cleardoc")}});return t.buttons.cleardoc=i,e.addListener("selectionchange",function(){i.setDisabled(-1==e.queryCommandState("cleardoc"))}),i};var o={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]};for(var s in o)!function(e,i){for(var n,a=0;n=i[a++];)!function(i){t[e.replace("float","")+i]=function(n){var a=new t.Button({className:"edui-for-"+e.replace("float","")+i,title:n.options.labelMap[e.replace("float","")+i]||n.getLang("labelMap."+e.replace("float","")+i)||"",theme:n.options.theme,onclick:function(){n.execCommand(e,i)}});return t.buttons[e]=a,n.addListener("selectionchange",function(t,r,o){a.setDisabled(-1==n.queryCommandState(e)),a.setChecked(n.queryCommandValue(e)==i&&!o)}),a}}(n)}(s,o[s]);var l;for(r=0;l=["backcolor","forecolor"][r++];)t[l]=function(e){return function(i){var n=new t.ColorButton({className:"edui-for-"+e,color:"default",title:i.options.labelMap[e]||i.getLang("labelMap."+e)||"",editor:i,onpickcolor:function(t,n){i.execCommand(e,n)},onpicknocolor:function(){i.execCommand(e,"default"),this.setColor("transparent"),this.color="default"},onbuttonclick:function(){i.execCommand(e,this.color)}});return t.buttons[e]=n,i.addListener("selectionchange",function(){n.setDisabled(-1==i.queryCommandState(e))}),n}}(l);var c={noOk:["searchreplace","help","spechars","webapp","preview"],ok:["attachment","anchor","link","insertimage","map","gmap","insertframe","wordimage","insertvideo","insertframe","edittip","edittable","edittd","scrawl","template","music","background","charts"]};for(var s in c)!function(i,a){for(var r,o=0;r=a[o++];)browser.opera&&"searchreplace"===r||function(a){t[a]=function(r,o,s){var l;o=o||(r.options.iframeUrlMap||{})[a]||n[a],s=r.options.labelMap[a]||r.getLang("labelMap."+a)||"",o&&(l=new t.Dialog(e.extend({iframeUrl:r.ui.mapUrl(o),editor:r,className:"edui-for-"+a,title:s,holdScroll:"insertimage"===a,fullscreen:/charts|preview/.test(a),closeDialog:r.getLang("closeDialog")},"ok"==i?{buttons:[{className:"edui-okbutton",label:r.getLang("ok"),editor:r,onclick:function(){l.close(!0)}},{className:"edui-cancelbutton",label:r.getLang("cancel"),editor:r,onclick:function(){l.close(!1)}}]}:{})),r.ui._dialogs[a+"Dialog"]=l);var c=new t.Button({className:"edui-for-"+a,title:s,onclick:function(){if(l)switch(a){case"wordimage":var e=r.execCommand("wordimage");e&&e.length&&(l.render(),l.open());break;case"scrawl":-1!=r.queryCommandState("scrawl")&&(l.render(),l.open());break;default:l.render(),l.open()}},theme:r.options.theme,disabled:"scrawl"==a&&-1==r.queryCommandState("scrawl")||"charts"==a});return t.buttons[a]=c,r.addListener("selectionchange",function(){if(!(a in{edittable:1})){var e=r.queryCommandState(a);c.getDom()&&(c.setDisabled(-1==e),c.setChecked(e))}}),c}}(r.toLowerCase())}(s,c[s]);t.snapscreen=function(e,i,a){a=e.options.labelMap.snapscreen||e.getLang("labelMap.snapscreen")||"";var r=new t.Button({className:"edui-for-snapscreen",title:a,onclick:function(){e.execCommand("snapscreen")},theme:e.options.theme});if(t.buttons.snapscreen=r,i=i||(e.options.iframeUrlMap||{}).snapscreen||n.snapscreen){var o=new t.Dialog({iframeUrl:e.ui.mapUrl(i),editor:e,className:"edui-for-snapscreen",title:a,buttons:[{className:"edui-okbutton",label:e.getLang("ok"),editor:e,onclick:function(){o.close(!0)}},{className:"edui-cancelbutton",label:e.getLang("cancel"),editor:e,onclick:function(){o.close(!1)}}]});o.render(),e.ui._dialogs.snapscreenDialog=o}return e.addListener("selectionchange",function(){r.setDisabled(-1==e.queryCommandState("snapscreen"))}),r},t.insertcode=function(i,n,a){n=i.options.insertcode||[],a=i.options.labelMap.insertcode||i.getLang("labelMap.insertcode")||"";var r=[];e.each(n,function(e,t){r.push({label:e,value:t,theme:i.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"</div>"}})});var o=new t.Combox({editor:i,items:r,onselect:function(e,t){i.execCommand("insertcode",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:a,initValue:a,className:"edui-for-insertcode",indexByValue:function(e){if(e)for(var t,i=0;t=this.items[i];i++)if(-1!=t.value.indexOf(e))return i;return-1}});return t.buttons.insertcode=o,i.addListener("selectionchange",function(e,t,n){if(!n)if(-1==i.queryCommandState("insertcode"))o.setDisabled(!0);else{o.setDisabled(!1);var r=i.queryCommandValue("insertcode");if(!r)return void o.setValue(a);r&&(r=r.replace(/['"]/g,"").split(",")[0]),o.setValue(r)}}),o},t.fontfamily=function(i,n,a){if(n=i.options.fontfamily||[],a=i.options.labelMap.fontfamily||i.getLang("labelMap.fontfamily")||"",n.length){for(var r,o=0,s=[];r=n[o];o++){var l=i.getLang("fontfamily")[r.name]||"";c=r.label||l,d=r.val,s.push({label:c,value:d,theme:i.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+e.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})}var c,d,u=new t.Combox({editor:i,items:s,onselect:function(e,t){i.execCommand("FontFamily",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:a,initValue:a,className:"edui-for-fontfamily",indexByValue:function(e){if(e)for(var t,i=0;t=this.items[i];i++)if(-1!=t.value.indexOf(e))return i;return-1}});return t.buttons.fontfamily=u,i.addListener("selectionchange",function(e,t,n){if(!n)if(-1==i.queryCommandState("FontFamily"))u.setDisabled(!0);else{u.setDisabled(!1);var a=i.queryCommandValue("FontFamily");a&&(a=a.replace(/['"]/g,"").split(",")[0]),u.setValue(a)}}),u}},t.fontsize=function(e,i,n){if(n=e.options.labelMap.fontsize||e.getLang("labelMap.fontsize")||"",(i=i||e.options.fontsize||[]).length){for(var a=[],r=0;r<i.length;r++){var o=i[r]+"px";a.push({label:o,value:o,theme:e.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var s=new t.Combox({editor:e,items:a,title:n,initValue:n,onselect:function(t,i){e.execCommand("FontSize",this.items[i].value)},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"});return t.buttons.fontsize=s,e.addListener("selectionchange",function(t,i,n){n||(-1==e.queryCommandState("FontSize")?s.setDisabled(!0):(s.setDisabled(!1),s.setValue(e.queryCommandValue("FontSize"))))}),s}},t.paragraph=function(i,n,a){if(a=i.options.labelMap.paragraph||i.getLang("labelMap.paragraph")||"",n=i.options.paragraph||[],!e.isEmptyObject(n)){var r=[];for(var o in n)r.push({value:o,label:n[o]||i.getLang("paragraph")[o],theme:i.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}});var s=new t.Combox({editor:i,items:r,title:a,initValue:a,className:"edui-for-paragraph",onselect:function(e,t){i.execCommand("Paragraph",this.items[t].value)},onbuttonclick:function(){this.showPopup()}});return t.buttons.paragraph=s,i.addListener("selectionchange",function(e,t,n){if(!n)if(-1==i.queryCommandState("Paragraph"))s.setDisabled(!0);else{s.setDisabled(!1);var a=i.queryCommandValue("Paragraph");-1!=s.indexByValue(a)?s.setValue(a):s.setValue(s.initValue)}}),s}},t.customstyle=function(e){var i=e.options.customstyle||[],n=e.options.labelMap.customstyle||e.getLang("labelMap.customstyle")||"";if(i.length){for(var a,r=e.getLang("customstyle"),o=0,s=[];a=i[o++];)!function(t){var i={};i.label=t.label?t.label:r[t.name],i.style=t.style,i.className=t.className,i.tag=t.tag,s.push({label:i.label,value:i,theme:e.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+i.tag+" "+(i.className?' class="'+i.className+'"':"")+(i.style?' style="'+i.style+'"':"")+">"+i.label+"</"+i.tag+"></div>"}})}(a);var l=new t.Combox({editor:e,items:s,title:n,initValue:n,className:"edui-for-customstyle",onselect:function(t,i){e.execCommand("customstyle",this.items[i].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(e){for(var t,i=0;t=this.items[i++];)if(t.label==e)return i-1;return-1}});return t.buttons.customstyle=l,e.addListener("selectionchange",function(t,i,n){if(!n)if(-1==e.queryCommandState("customstyle"))l.setDisabled(!0);else{l.setDisabled(!1);var a=e.queryCommandValue("customstyle");-1!=l.indexByValue(a)?l.setValue(a):l.setValue(l.initValue)}}),l}},t.inserttable=function(e,i,n){n=e.options.labelMap.inserttable||e.getLang("labelMap.inserttable")||"";var a=new t.TableButton({editor:e,title:n,className:"edui-for-inserttable",onpicktable:function(t,i,n){e.execCommand("InsertTable",{numRows:n,numCols:i,border:1})},onbuttonclick:function(){this.showPopup()}});return t.buttons.inserttable=a,e.addListener("selectionchange",function(){a.setDisabled(-1==e.queryCommandState("inserttable"))}),a},t.lineheight=function(e){var i=e.options.lineheight||[];if(i.length){for(var n,a=0,r=[];n=i[a++];)r.push({label:n,value:n,theme:e.options.theme,onclick:function(){e.execCommand("lineheight",this.value)}});var o=new t.MenuButton({editor:e,className:"edui-for-lineheight",title:e.options.labelMap.lineheight||e.getLang("labelMap.lineheight")||"",items:r,onbuttonclick:function(){var t=e.queryCommandValue("LineHeight")||this.value;e.execCommand("LineHeight",t)}});return t.buttons.lineheight=o,e.addListener("selectionchange",function(){var t=e.queryCommandState("LineHeight");if(-1==t)o.setDisabled(!0);else{o.setDisabled(!1);var i=e.queryCommandValue("LineHeight");i&&o.setValue((i+"").replace(/cm/,"")),o.setChecked(t)}}),o}};for(var d,u=["top","bottom"],h=0;d=u[h++];)!function(e){t["rowspacing"+e]=function(i){var n=i.options["rowspacing"+e]||[];if(!n.length)return null;for(var a,r=0,o=[];a=n[r++];)o.push({label:a,value:a,theme:i.options.theme,onclick:function(){i.execCommand("rowspacing",this.value,e)}});var s=new t.MenuButton({editor:i,className:"edui-for-rowspacing"+e,title:i.options.labelMap["rowspacing"+e]||i.getLang("labelMap.rowspacing"+e)||"",items:o,onbuttonclick:function(){var t=i.queryCommandValue("rowspacing",e)||this.value;i.execCommand("rowspacing",t,e)}});return t.buttons[e]=s,i.addListener("selectionchange",function(){var t=i.queryCommandState("rowspacing",e);if(-1==t)s.setDisabled(!0);else{s.setDisabled(!1);var n=i.queryCommandValue("rowspacing",e);n&&s.setValue((n+"").replace(/%/,"")),s.setChecked(t)}}),s}}(d);for(var p,f=["insertorderedlist","insertunorderedlist"],m=0;p=f[m++];)!function(e){t[e]=function(i){var n=i.options[e],a=function(){i.execCommand(e,this.value)},r=[];for(var o in n)r.push({label:n[o]||i.getLang()[e][o]||"",value:o,theme:i.options.theme,onclick:a});var s=new t.MenuButton({editor:i,className:"edui-for-"+e,title:i.getLang("labelMap."+e)||"",items:r,onbuttonclick:function(){var t=i.queryCommandValue(e)||this.value;i.execCommand(e,t)}});return t.buttons[e]=s,i.addListener("selectionchange",function(){var t=i.queryCommandState(e);if(-1==t)s.setDisabled(!0);else{s.setDisabled(!1);var n=i.queryCommandValue(e);s.setValue(n),s.setChecked(t)}}),s}}(p);t.fullscreen=function(e,i){i=e.options.labelMap.fullscreen||e.getLang("labelMap.fullscreen")||"";var n=new t.Button({className:"edui-for-fullscreen",title:i,theme:e.options.theme,onclick:function(){e.ui&&e.ui.setFullScreen(!e.ui.isFullScreen()),this.setChecked(e.ui.isFullScreen())}});return t.buttons.fullscreen=n,e.addListener("selectionchange",function(){var t=e.queryCommandState("fullscreen");n.setDisabled(-1==t),n.setChecked(e.ui.isFullScreen())}),n},t.emotion=function(e,i){var a="emotion",r=new t.MultiMenuPop({title:e.options.labelMap[a]||e.getLang("labelMap."+a)||"",editor:e,className:"edui-for-"+a,iframeUrl:e.ui.mapUrl(i||(e.options.iframeUrlMap||{})[a]||n[a])});return t.buttons[a]=r,e.addListener("selectionchange",function(){r.setDisabled(-1==e.queryCommandState(a))}),r},t.autotypeset=function(e){var i=new t.AutoTypeSetButton({editor:e,title:e.options.labelMap.autotypeset||e.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){e.execCommand("autotypeset")}});return t.buttons.autotypeset=i,e.addListener("selectionchange",function(){i.setDisabled(-1==e.queryCommandState("autotypeset"))}),i},t.simpleupload=function(e){var i="simpleupload",n=new t.Button({className:"edui-for-"+i,title:e.options.labelMap[i]||e.getLang("labelMap."+i)||"",onclick:function(){},theme:e.options.theme,showText:!1});return t.buttons[i]=n,e.addListener("ready",function(){var t=n.getDom("body").children[0];e.fireEvent("simpleuploadbtnready",t)}),e.addListener("selectionchange",function(t,a,r){var o=e.queryCommandState(i);-1==o?(n.setDisabled(!0),n.setChecked(!1)):r||(n.setDisabled(!1),n.setChecked(o))}),n}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.dom.domUtils,a=[];function r(e){this.initOptions(e),this.initEditorUI()}r.prototype={uiName:"editor",initEditorUI:function(){this.editor.ui=this,this._dialogs={},this.initUIBase(),this._initToolbars();var e=this.editor,t=this;e.addListener("ready",function(){if(e.getDialog=function(t){return e.ui._dialogs[t+"Dialog"]},n.on(e.window,"scroll",function(e){baidu.editor.ui.Popup.postHide(e)}),e.ui._actualFrameWidth=e.options.initialFrameWidth,UE.browser.ie&&6===UE.browser.version&&e.container.ownerDocument.execCommand("BackgroundImageCache",!1,!0),e.options.elementPathEnabled&&(e.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+e.getLang("elementPathTip")+":</div>"),e.options.wordCount){n.on(e.document,"click",function(){o(e,t),n.un(e.document,"click",arguments.callee)}),e.ui.getDom("wordcount").innerHTML=e.getLang("wordCountTip")}e.ui._scale(),e.options.scaleEnabled?(e.autoHeightEnabled&&e.disableAutoHeight(),t.enableScale()):t.disableScale(),e.options.elementPathEnabled||e.options.wordCount||e.options.scaleEnabled||(e.ui.getDom("elementpath").style.display="none",e.ui.getDom("wordcount").style.display="none",e.ui.getDom("scale").style.display="none"),e.selection.isFocus()&&e.fireEvent("selectionchange",!1,!0)}),e.addListener("mousedown",function(e,t){var i=t.target||t.srcElement;baidu.editor.ui.Popup.postHide(t,i),baidu.editor.ui.ShortCutMenu.postHide(t)}),e.addListener("delcells",function(){UE.ui.edittip&&new UE.ui.edittip(e),e.getDialog("edittip").open()});var i,a,r=!1;function o(e,t){e.setOpt({wordCount:!0,maximumWords:1e4,wordCountMsg:e.options.wordCountMsg||e.getLang("wordCountMsg"),wordOverFlowMsg:e.options.wordOverFlowMsg||e.getLang("wordOverFlowMsg")});var i=e.options,n=i.maximumWords,a=i.wordCountMsg,r=i.wordOverFlowMsg,o=t.getDom("wordcount");if(i.wordCount){var s=e.getContentLength(!0);s>n?(o.innerHTML=r,e.fireEvent("wordcountoverflow")):o.innerHTML=a.replace("{#leave}",n-s).replace("{#count}",s)}}e.addListener("afterpaste",function(){e.queryCommandState("pasteplain")||(baidu.editor.ui.PastePicker&&(i=new baidu.editor.ui.Popup({content:new baidu.editor.ui.PastePicker({editor:e}),editor:e,className:"edui-wordpastepop"})).render(),r=!0)}),e.addListener("afterinserthtml",function(){clearTimeout(a),a=setTimeout(function(){if(i&&(r||e.ui._isTransfer)){if(i.isHidden()){var t=n.createElement(e.document,"span",{style:"line-height:0px;",innerHTML:"\ufeff"});e.selection.getRange().insertNode(t);var a=getDomNode(t,"firstChild","previousSibling");a&&i.showAnchor(3==a.nodeType?a.parentNode:a),n.remove(t)}else i.show();delete e.ui._isTransfer,r=!1}},200)}),e.addListener("contextmenu",function(e,t){baidu.editor.ui.Popup.postHide(t)}),e.addListener("keydown",function(e,t){i&&i.dispose(t);var n=t.keyCode||t.which;t.altKey&&90==n&&UE.ui.buttons.fullscreen.onclick()}),e.addListener("wordcount",function(e){o(this,t)}),e.addListener("selectionchange",function(){e.options.elementPathEnabled&&t[(-1==e.queryCommandState("elementpath")?"dis":"en")+"ableElementPath"](),e.options.scaleEnabled&&t[(-1==e.queryCommandState("scale")?"dis":"en")+"ableScale"]()});var s=new baidu.editor.ui.Popup({editor:e,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide(),e.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(t){this.hide(),e.ui._dialogs[t]&&e.ui._dialogs[t].open()},_onImgSetFloat:function(t){this.hide(),e.execCommand("imagefloat",t)},_setIframeAlign:function(e){var t=s.anchorEl,i=t.cloneNode(!0);switch(e){case-2:i.setAttribute("align","");break;case-1:i.setAttribute("align","left");break;case 1:i.setAttribute("align","right")}t.parentNode.insertBefore(i,t),n.remove(t),s.anchorEl=i,s.showAnchor(s.anchorEl)},_updateIframe:function(){var t=e._iframe=s.anchorEl;n.hasClass(t,"ueditor_baidumap")?(e.selection.getRange().selectNode(t).select(),e.ui._dialogs.mapDialog.open(),s.hide()):(e.ui._dialogs.insertframeDialog.open(),s.hide())},_onRemoveButtonClick:function(t){e.execCommand(t),this.hide()},queryAutoHide:function(t){return t&&t.ownerDocument==e.document&&("img"==t.tagName.toLowerCase()||n.findParentByTagName(t,"a",!0))?t!==s.anchorEl:baidu.editor.ui.Popup.prototype.queryAutoHide.call(this,t)}});s.render(),e.options.imagePopup&&(e.addListener("mouseover",function(t,i){var n=(i=i||window.event).target||i.srcElement;if(e.ui._dialogs.insertframeDialog&&/iframe/gi.test(n.tagName)){var a=s.formatHtml("<nobr>"+e.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+e.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+e.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+e.getLang("justifyright")+'</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+e.getLang("modify")+"</span></nobr>");a?(s.getDom("content").innerHTML=a,s.anchorEl=n,s.showAnchor(s.anchorEl)):s.hide()}}),e.addListener("selectionchange",function(t,i){if(i){var a="",r="",o=e.selection.getRange().getClosedNode(),l=e.ui._dialogs;if(o&&"IMG"==o.tagName){var c="insertimageDialog";if(-1==o.className.indexOf("edui-faked-video")&&-1==o.className.indexOf("edui-upload-video")||(c="insertvideoDialog"),-1!=o.className.indexOf("edui-faked-webapp")&&(c="webappDialog"),-1!=o.src.indexOf("http://api.map.baidu.com")&&(c="mapDialog"),-1!=o.className.indexOf("edui-faked-music")&&(c="musicDialog"),-1!=o.src.indexOf("http://maps.google.com/maps/api/staticmap")&&(c="gmapDialog"),o.getAttribute("anchorname")&&(c="anchorDialog",a=s.formatHtml("<nobr>"+e.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+e.getLang("modify")+"</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+e.getLang("delete")+"</span></nobr>")),o.getAttribute("word_img")&&(e.word_img=[o.getAttribute("word_img")],c="wordimageDialog"),(n.hasClass(o,"loadingclass")||n.hasClass(o,"loaderrorclass"))&&(c=""),!l[c])return;r="<nobr>"+e.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+e.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+e.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+e.getLang("justifyright")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+e.getLang("justifycenter")+"</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+c+'\');" class="edui-clickable">'+e.getLang("modify")+"</span></nobr>",!a&&(a=s.formatHtml(r))}if(e.ui._dialogs.linkDialog){var d,u=e.queryCommandValue("link");if(u&&(d=u.getAttribute("_href")||u.getAttribute("href",2))){var h=d;d.length>30&&(h=d.substring(0,20)+"..."),a&&(a+='<div style="height:5px;"></div>'),a+=s.formatHtml("<nobr>"+e.getLang("anthorMsg")+': <a target="_blank" href="'+d+'" title="'+d+'" >'+h+'</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+e.getLang("modify")+'</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+e.getLang("clear")+"</span></nobr>"),s.showAnchor(u)}}a?(s.getDom("content").innerHTML=a,s.anchorEl=o||u,s.showAnchor(s.anchorEl)):s.hide()}}))},_initToolbars:function(){for(var t=this.editor,i=this.toolbars||[],n=[],a=0;a<i.length;a++){for(var r=i[a],o=new baidu.editor.ui.Toolbar({theme:t.options.theme}),s=0;s<r.length;s++){var l=r[s],c=null;if("string"==typeof l){if("|"==(l=l.toLowerCase())&&(l="Separator"),"||"==l&&(l="Breakline"),baidu.editor.ui[l]&&(c=new baidu.editor.ui[l](t)),"fullscreen"==l){n&&n[0]?n[0].items.splice(0,0,c):c&&o.items.splice(0,0,c);continue}}else c=l;c&&c.id&&o.add(c)}n[a]=o}e.each(UE._customizeUI,function(e,i){var n,a;if(e.id&&e.id!=t.key)return!1;(n=e.execFn.call(t,t,i))&&(void 0===(a=e.index)&&(a=o.items.length),o.add(n,a))}),this.toolbars=n},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"</div></div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div><div id="##_message_holder" class="%%-messageholder"></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'},showWordImageDialog:function(){this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){for(var e=[],t=0;t<this.toolbars.length;t++)e.push(this.toolbars[t].renderHtml());return e.join("")},setFullScreen:function(e){var t=this.editor,i=t.container.parentNode.parentNode;if(this._fullscreen!=e){if(this._fullscreen=e,this.editor.fireEvent("beforefullscreenchange",e),baidu.editor.browser.gecko)var n=t.selection.getRange().createBookmark();if(e){for(;"BODY"!=i.tagName;){var r=baidu.editor.dom.domUtils.getComputedStyle(i,"position");a.push(r),i.style.position="static",i=i.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow,this._bakBodyOverflow=document.body.style.overflow,this._bakAutoHeight=this.editor.autoHeightEnabled,this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._bakEditorContaninerWidth=t.iframe.parentNode.offsetWidth,this._bakAutoHeight&&(t.autoHeightEnabled=!1,this.editor.disableAutoHeight()),document.documentElement.style.overflow="hidden",window.scrollTo(0,window.scrollY),this._bakCssText=this.getDom().style.cssText,this._bakCssText1=this.getDom("iframeholder").style.cssText,t.iframe.parentNode.style.width="",this._updateFullScreen()}else{for(;"BODY"!=i.tagName;)i.style.position=a.shift(),i=i.parentNode;this.getDom().style.cssText=this._bakCssText,this.getDom("iframeholder").style.cssText=this._bakCssText1,this._bakAutoHeight&&(t.autoHeightEnabled=!0,this.editor.enableAutoHeight()),document.documentElement.style.overflow=this._bakHtmlOverflow,document.body.style.overflow=this._bakBodyOverflow,t.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px",window.scrollTo(0,this._bakScrollTop)}if(browser.gecko&&"true"===t.body.contentEditable){var o=document.createElement("input");document.body.appendChild(o),t.body.contentEditable=!1,setTimeout(function(){o.focus(),setTimeout(function(){t.body.contentEditable=!0,t.fireEvent("fullscreenchanged",e),t.selection.getRange().moveToBookmark(n).select(!0),baidu.editor.dom.domUtils.remove(o),e&&window.scroll(0,0)},0)},0)}"true"===t.body.contentEditable&&(this.editor.fireEvent("fullscreenchanged",e),this.triggerLayout())}},_updateFullScreen:function(){if(this._fullscreen){var e=t.getViewportRect();if(this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+e.width+"px;height:"+e.height+"px;z-index:"+(1*this.getDom().style.zIndex+100),t.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0}),this.editor.setHeight(e.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0),!0),browser.gecko)try{window.onresize()}catch(e){}}},_updateElementPath:function(){var e,t=this.getDom("elementpath");if(this.elementPathEnabled&&(e=this.editor.queryCommandValue("elementpath"))){for(var i,n=[],a=0;i=e[a];a++)n[a]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+a+'&quot;);">'+i+"</span>");t.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+n.join(" &gt; ")+"</div>"}else t.style.display="none"},disableElementPath:function(){var e=this.getDom("elementpath");e.innerHTML="",e.style.display="none",this.elementPathEnabled=!1},enableElementPath:function(){this.getDom("elementpath").style.display="",this.elementPathEnabled=!0,this._updateElementPath()},_scale:function(){var e=document,t=this.editor,i=t.container,a=t.document,r=this.getDom("toolbarbox"),o=this.getDom("bottombar"),s=this.getDom("scale"),l=this.getDom("scalelayer"),c=!1,d=null,u=0,h=t.options.minFrameWidth,p=0,f=0,m=0,g=0;function v(){d=n.getXY(i),u||(u=t.options.minFrameHeight+r.offsetHeight+o.offsetHeight),l.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+i.offsetWidth+"px;height:"+i.offsetHeight+"px;z-index:"+(t.options.zIndex+1),n.on(e,"mousemove",y),n.on(a,"mouseup",_),n.on(e,"mouseup",_)}var b=this;function y(t){w();var i=t||window.event;p=i.pageX||e.documentElement.scrollLeft+i.clientX,f=i.pageY||e.documentElement.scrollTop+i.clientY,m=p-d.x,g=f-d.y,m>=h&&(c=!0,l.style.width=m+"px"),g>=u&&(c=!0,l.style.height=g+"px")}function _(){c&&(c=!1,t.ui._actualFrameWidth=l.offsetWidth-2,i.style.width=t.ui._actualFrameWidth+"px",t.setHeight(l.offsetHeight-o.offsetHeight-r.offsetHeight-2,!0)),l&&(l.style.display="none"),w(),n.un(e,"mousemove",y),n.un(a,"mouseup",_),n.un(e,"mouseup",_)}function w(){browser.ie?e.selection.clear():window.getSelection().removeAllRanges()}this.editor.addListener("fullscreenchanged",function(e,t){if(t)b.disableScale();else if(b.editor.options.scaleEnabled){b.enableScale();var i=b.editor.document.createElement("span");b.editor.body.appendChild(i),b.editor.body.style.height=Math.max(n.getXY(i).y,b.editor.iframe.offsetHeight-20)+"px",n.remove(i)}}),this.enableScale=function(){1!=t.queryCommandState("source")&&(s.style.display="",this.scaleEnabled=!0,n.on(s,"mousedown",v))},this.disableScale=function(){s.style.display="none",this.scaleEnabled=!1,n.un(s,"mousedown",v)}},isFullScreen:function(){return this._fullscreen},postRender:function(){i.prototype.postRender.call(this);for(var e=0;e<this.toolbars.length;e++)this.toolbars[e].postRender();var t,n=this,a=baidu.editor.dom.domUtils,r=function(){clearTimeout(t),t=setTimeout(function(){n._updateFullScreen()})};a.on(window,"resize",r),n.addListener("destroy",function(){a.un(window,"resize",r),clearTimeout(t)})},showToolbarMsg:function(e,t){(this.getDom("toolbarmsg_label").innerHTML=e,this.getDom("toolbarmsg").style.display="",t)||(this.getDom("upload_dialog").style.display="none")},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(e){return e?e.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var e=this.getDom();"1"==e.style.zoom?e.style.zoom="100%":e.style.zoom="1"}},e.inherits(r,baidu.editor.ui.UIBase);var o={};UE.ui.Editor=function(t){var i=new UE.Editor(t);i.options.editor=i,e.loadFile(document,{href:i.options.themePath+i.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var a=i.render;return i.render=function(t){t.constructor===String&&(i.key=t,o[t]=i),e.domReady(function(){function e(){if(i.setOpt({labelMap:i.options.labelMap||i.getLang("labelMap")}),new r(i.options),t&&(t.constructor===String&&(t=document.getElementById(t)),t&&t.getAttribute("name")&&(i.options.textarea=t.getAttribute("name")),t&&/script|textarea/gi.test(t.tagName))){var e=document.createElement("div");t.parentNode.insertBefore(e,t);var o=t.value||t.innerHTML;i.options.initialContent=/^[\t\r\n ]*$/.test(o)?i.options.initialContent:o.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><"),t.className&&(e.className=t.className),t.style.cssText&&(e.style.cssText=t.style.cssText),/textarea/i.test(t.tagName)?(i.textarea=t,i.textarea.style.display="none"):t.parentNode.removeChild(t),t.id&&(e.id=t.id,n.removeAttributes(t,"id")),(t=e).innerHTML=""}n.addClass(t,"edui-"+i.options.theme),i.ui.render(t);var s=i.options;i.container=i.ui.getDom();for(var l=n.findParents(t,!0),c=[],d=0;h=l[d];d++)c[d]=h.style.display,h.style.display="block";if(s.initialFrameWidth)s.minFrameWidth=s.initialFrameWidth;else{s.minFrameWidth=s.initialFrameWidth=t.offsetWidth;var u=t.style.width;/%$/.test(u)&&(s.initialFrameWidth=u)}s.initialFrameHeight?s.minFrameHeight=s.initialFrameHeight:s.initialFrameHeight=s.minFrameHeight=t.offsetHeight;var h;for(d=0;h=l[d];d++)h.style.display=c[d];t.style.height&&(t.style.height=""),i.container.style.width=s.initialFrameWidth+(/%$/.test(s.initialFrameWidth)?"":"px"),i.container.style.zIndex=s.zIndex,a.call(i,i.ui.getDom("iframeholder")),i.fireEvent("afteruiready")}i.langIsReady?e():i.addListener("langReady",e)})},i},UE.getEditor=function(e,t){var i=o[e];return i||(i=o[e]=new UE.ui.Editor(t)).render(e),i},UE.delEditor=function(e){var t;(t=o[e])&&(t.key&&t.destroy(),delete o[e])},UE.registerUI=function(t,i,n,a){e.each(t.split(/\s+/),function(e){UE._customizeUI[e]={id:a,execFn:i,index:n}})}}(),UE.registerUI("message",function(e){var t,i=baidu.editor.ui.Message,n=[],a=e;function r(){var e=a.ui.getDom("toolbarbox");e&&(t.style.top=e.offsetHeight+3+"px"),t.style.zIndex=Math.max(a.options.zIndex,a.iframe.style.zIndex)+1}a.addListener("ready",function(){t=document.getElementById(a.ui.id+"_message_holder"),r(),setTimeout(function(){r()},500)}),a.addListener("showmessage",function(e,o){o=utils.isString(o)?{content:o}:o;var s=new i({timeout:o.timeout,type:o.type,content:o.content,keepshow:o.keepshow,editor:a}),l=o.id||"msg_"+(+new Date).toString(36);return s.render(t),n[l]=s,s.reset(o),r(),l}),a.addListener("updatemessage",function(e,i,a){a=utils.isString(a)?{content:a}:a;var r=n[i];r.render(t),r&&r.reset(a)}),a.addListener("hidemessage",function(e,t){var i=n[t];i&&i.hide()})}),UE.registerUI("autosave",function(e){var t=null,i=null;e.on("afterautosave",function(){clearTimeout(t),t=setTimeout(function(){i&&e.trigger("hidemessage",i),i=e.trigger("showmessage",{content:e.getLang("autosave.success"),timeout:2e3})},2e3)})})}()},LzJ4:function(e,t,i){(function(t,n,a){var r;r=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=15)}([function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.unreachable=i.warn=i.utf8StringToString=i.stringToUTF8String=i.stringToPDFString=i.stringToBytes=i.string32=i.shadow=i.setVerbosityLevel=i.ReadableStream=i.removeNullCharacters=i.readUint32=i.readUint16=i.readInt8=i.log2=i.loadJpegStream=i.isEvalSupported=i.isLittleEndian=i.createValidAbsoluteUrl=i.isSameOrigin=i.isNodeJS=i.isSpace=i.isString=i.isNum=i.isInt=i.isEmptyObj=i.isBool=i.isArrayBuffer=i.isArray=i.info=i.globalScope=i.getVerbosityLevel=i.getLookupTableFactory=i.deprecated=i.createObjectURL=i.createPromiseCapability=i.createBlob=i.bytesToString=i.assert=i.arraysToBytes=i.arrayByteLength=i.FormatError=i.XRefParseException=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.StreamType=i.StatTimer=i.PasswordResponses=i.PasswordException=i.PageViewport=i.NotImplementedException=i.NativeImageDecoding=i.MissingPDFException=i.MissingDataException=i.MessageHandler=i.InvalidPDFException=i.AbortException=i.CMapCompressionType=i.ImageKind=i.FontType=i.AnnotationType=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationBorderStyleType=i.UNSUPPORTED_FEATURES=i.VERBOSITY_LEVELS=i.OPS=i.IDENTITY_MATRIX=i.FONT_IDENTITY_MATRIX=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a(16);var o=a(17),s="undefined"!=typeof window&&window.Math===Math?window:void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:void 0,l={errors:0,warnings:1,infos:5},c=l.warnings;function d(e){c>=l.warnings&&console.log("Warning: "+e)}function u(e){throw new Error(e)}function h(e,t){e||u(t)}var p=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}(),f=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}(),m=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),g=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),v=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}(),b=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),y=function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),_=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}(),w=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="FormatError",e.constructor=e,e}(),x=function(){function e(e){this.name="AbortException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),C=/\x00/g;function S(e){h("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,i=new Uint8Array(t),n=0;n<t;++n)i[n]=255&e.charCodeAt(n);return i}function T(e){return void 0!==e.length?e.length:(h(void 0!==e.byteLength),e.byteLength)}var k=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];e.makeCssRgb=function(e,i,n){return t[1]=e,t[3]=i,t[5]=n,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]},e.getAxialAlignedBoundingBox=function(t,i){var n=e.applyTransform(t,i),a=e.applyTransform(t.slice(2,4),i),r=e.applyTransform([t[0],t[3]],i),o=e.applyTransform([t[2],t[1]],i);return[Math.min(n[0],a[0],r[0],o[0]),Math.min(n[1],a[1],r[1],o[1]),Math.max(n[0],a[0],r[0],o[0]),Math.max(n[1],a[1],r[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],o=(i+r)/2,s=Math.sqrt((i+r)*(i+r)-4*(i*r-a*n))/2,l=o+s||1,c=o-s||1;return[Math.sqrt(l),Math.sqrt(c)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function n(e,t){return e-t}var a=[t[0],t[2],i[0],i[2]].sort(n),r=[t[1],t[3],i[1],i[3]].sort(n),o=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),(a[0]===t[0]&&a[1]===i[0]||a[0]===i[0]&&a[1]===t[0])&&(o[0]=a[1],o[2]=a[2],(r[0]===t[1]&&r[1]===i[1]||r[0]===i[1]&&r[1]===t[1])&&(o[1]=r[1],o[3]=r[2],o))},e.sign=function(e){return e<0?-1:1};var i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return e.toRoman=function(e,t){h(N(e)&&e>0,"The number should be a positive integer.");for(var n,a=[];e>=1e3;)e-=1e3,a.push("M");n=e/100|0,e%=100,a.push(i[n]),n=e/10|0,e%=10,a.push(i[10+n]),a.push(i[20+e]);var r=a.join("");return t?r.toLowerCase():r},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t)e[i]=t[i]},e.getInheritableProperty=function(e,t,i){for(;e&&!e.has(t);)e=e.get("Parent");return e?i?e.getArray(t):e.get(t):null},e.inherit=function(e,t,i){for(var n in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i)e.prototype[n]=i[n]},e.loadScript=function(e,t){var i=document.createElement("script"),n=!1;i.setAttribute("src",e),t&&(i.onload=function(){n||t(),n=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}(),A=function(){function e(e,t,i,n,a,r){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=n,this.offsetY=a;var o,s,l,c,d,u,h,p,f=(e[2]+e[0])/2,m=(e[3]+e[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:o=-1,s=0,l=0,c=1;break;case 90:o=0,s=1,l=1,c=0;break;case 270:o=0,s=-1,l=-1,c=0;break;default:o=1,s=0,l=0,c=-1}r&&(l=-l,c=-c),0===o?(d=Math.abs(m-e[1])*t+n,u=Math.abs(f-e[0])*t+a,h=Math.abs(e[3]-e[1])*t,p=Math.abs(e[2]-e[0])*t):(d=Math.abs(f-e[0])*t+n,u=Math.abs(m-e[1])*t+a,h=Math.abs(e[2]-e[0])*t,p=Math.abs(e[3]-e[1])*t),this.transform=[o*t,s*t,l*t,c*t,d-o*t*f-l*t*m,u-s*t*f-c*t*m],this.width=h,this.height=p,this.fontScale=t}return e.prototype={clone:function(t){var i="scale"in(t=t||{})?t.scale:this.scale,n="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,n,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return k.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=k.applyTransform([e[0],e[1]],this.transform),i=k.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function(e,t){return k.applyInverseTransform([e,t],this.transform)}},e}(),E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function N(e){return"number"==typeof e&&(0|e)===e}function P(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e}var R,I=function(){function e(e,t,i){for(;e.length<i;)e+=t;return e}function t(){this.started=Object.create(null),this.times=[],this.enabled=!0}return t.prototype={time:function(e){this.enabled&&(e in this.started&&d("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||d("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,i,n=this.times,a="",r=0;for(t=0,i=n.length;t<i;++t){var o=n[t].name;o.length>r&&(r=o.length)}for(t=0,i=n.length;t<i;++t){var s=n[t],l=s.end-s.start;a+=e(s.name," ",r)+" "+l+"ms\n"}return a}},t}(),L=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});throw new Error('The "Blob" constructor is not supported.')},D=(R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL){var i=L(e,t);return URL.createObjectURL(i)}for(var n="data:"+t+";base64,",a=0,r=e.length;a<r;a+=3){var o=255&e[a],s=255&e[a+1],l=255&e[a+2];n+=R[o>>2]+R[(3&o)<<4|s>>4]+R[a+1<r?(15&s)<<2|l>>6:64]+R[a+2<r?63&l:64]}return n});function U(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?new Promise(function(n,a){n(e.apply(i,t))}):Promise.resolve(void 0)}function O(e){if("object"!==(void 0===e?"undefined":r(e)))return e;switch(e.name){case"AbortException":return new x(e.message);case"MissingPDFException":return new g(e.message);case"UnexpectedResponseException":return new v(e.message,e.status);default:return new f(e.message,e.details)}}function M(e,t,i){t?e.resolve():e.reject(i)}function B(e,t,i){var n=this;this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var a=this.callbacksCapabilities=Object.create(null),r=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===n.sourceName)if(t.stream)n._processStreamMessage(t);else if(t.isReply){var o=t.callbackId;if(!(t.callbackId in a))throw new Error("Cannot resolve callback "+o);var s=a[o];delete a[o],"error"in t?s.reject(O(t.error)):s.resolve(t.data)}else{if(!(t.action in r))throw new Error("Unknown action from worker: "+t.action);var l=r[t.action];if(t.callbackId){var c=n.sourceName,d=t.sourceName;Promise.resolve().then(function(){return l[0].call(l[1],t.data)}).then(function(e){i.postMessage({sourceName:c,targetName:d,isReply:!0,callbackId:t.callbackId,data:e})},function(e){e instanceof Error&&(e+=""),i.postMessage({sourceName:c,targetName:d,isReply:!0,callbackId:t.callbackId,error:e})})}else t.streamId?n._createStreamSink(t):l[0].call(l[1],t.data)}},i.addEventListener("message",this._onComObjOnMessage)}B.prototype={on:function(e,t,i){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'+e+'"');n[e]=[t,i]},send:function(e,t,i){var n={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(n,i)},sendWithPromise:function(e,t,i){var n=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:n},r=P();this.callbacksCapabilities[n]=r;try{this.postMessage(a,i)}catch(e){r.reject(e)}return r.promise},sendWithStream:function(e,t,i,n){var a=this,r=this.streamId++,s=this.sourceName,l=this.targetName;return new o.ReadableStream({start:function(i){var n=P();return a.streamControllers[r]={controller:i,startCall:n,isClosed:!1},a.postMessage({sourceName:s,targetName:l,action:e,streamId:r,data:t,desiredSize:i.desiredSize}),n.promise},pull:function(e){var t=P();return a.streamControllers[r].pullCall=t,a.postMessage({sourceName:s,targetName:l,stream:"pull",streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=P();return a.streamControllers[r].cancelCall=t,a.streamControllers[r].isClosed=!0,a.postMessage({sourceName:s,targetName:l,stream:"cancel",reason:e,streamId:r}),t.promise}},i)},_createStreamSink:function(e){var t=this,i=this,n=this.actionHandler[e.action],a=e.streamId,r=e.desiredSize,o=this.sourceName,s=e.sourceName,l=function(e){var i=e.stream,n=e.chunk,r=e.transfers,l=e.success,c=e.reason;t.postMessage({sourceName:o,targetName:s,stream:i,streamId:a,chunk:n,success:l,reason:c},r)},c={enqueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2];if(!this.isCancelled){var n=this.desiredSize;this.desiredSize-=t,n>0&&this.desiredSize<=0&&(this.sinkCapability=P(),this.ready=this.sinkCapability.promise),l({stream:"enqueue",chunk:e,transfers:i})}},close:function(){this.isCancelled||(l({stream:"close"}),delete i.streamSinks[a])},error:function(e){this.isCancelled||(this.isCancelled=!0,l({stream:"error",reason:e}))},sinkCapability:P(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[a]=c,U(n[0],[e.data,c],n[1]).then(function(){l({stream:"start_complete",success:!0})},function(e){l({stream:"start_complete",success:!1,reason:e})})},_processStreamMessage:function(e){var t=this,i=this.sourceName,n=e.sourceName,a=e.streamId,r=function(e){var r=e.stream,o=e.success,s=e.reason;t.comObj.postMessage({sourceName:i,targetName:n,stream:r,success:o,streamId:a,reason:s})},o=function(){Promise.all([t.streamControllers[e.streamId].startCall,t.streamControllers[e.streamId].pullCall,t.streamControllers[e.streamId].cancelCall].map(function(e){return e&&(t=e.promise,Promise.resolve(t).catch(function(){}));var t})).then(function(){delete t.streamControllers[e.streamId]})};switch(e.stream){case"start_complete":M(this.streamControllers[e.streamId].startCall,e.success,O(e.reason));break;case"pull_complete":M(this.streamControllers[e.streamId].pullCall,e.success,O(e.reason));break;case"pull":if(!this.streamSinks[e.streamId]){r({stream:"pull_complete",success:!0});break}this.streamSinks[e.streamId].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,U(this.streamSinks[e.streamId].onPull).then(function(){r({stream:"pull_complete",success:!0})},function(e){r({stream:"pull_complete",success:!1,reason:e})});break;case"enqueue":h(this.streamControllers[e.streamId],"enqueue should have stream controller"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case"close":if(h(this.streamControllers[e.streamId],"close should have stream controller"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),o();break;case"error":h(this.streamControllers[e.streamId],"error should have stream controller"),this.streamControllers[e.streamId].controller.error(O(e.reason)),o();break;case"cancel_complete":M(this.streamControllers[e.streamId].cancelCall,e.success,O(e.reason)),o();break;case"cancel":if(!this.streamSinks[e.streamId])break;U(this.streamSinks[e.streamId].onCancel,[O(e.reason)]).then(function(){r({stream:"cancel_complete",success:!0})},function(e){r({stream:"cancel_complete",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(O(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},i.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],i.IDENTITY_MATRIX=[1,0,0,1,0,0],i.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},i.VERBOSITY_LEVELS=l,i.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},i.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},i.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},i.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},i.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},i.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},i.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},i.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},i.AbortException=x,i.InvalidPDFException=m,i.MessageHandler=B,i.MissingDataException=y,i.MissingPDFException=g,i.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},i.NotImplementedException=b,i.PageViewport=A,i.PasswordException=p,i.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},i.StatTimer=I,i.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},i.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},i.UnexpectedResponseException=v,i.UnknownErrorException=f,i.Util=k,i.XRefParseException=_,i.FormatError=w,i.arrayByteLength=T,i.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t,i,n,a=0,r=e.length;for(t=0;t<r;t++)a+=n=T(i=e[t]);var o=0,s=new Uint8Array(a);for(t=0;t<r;t++)(i=e[t])instanceof Uint8Array||(i="string"==typeof i?S(i):new Uint8Array(i)),n=i.byteLength,s.set(i,o),o+=n;return s},i.assert=h,i.bytesToString=function(e){h(null!==e&&"object"===(void 0===e?"undefined":r(e))&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var i=[],n=0;n<t;n+=8192){var a=Math.min(n+8192,t),o=e.subarray(n,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")},i.createBlob=L,i.createPromiseCapability=P,i.createObjectURL=D,i.deprecated=function(e){console.log("Deprecated API usage: "+e)},i.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},i.getVerbosityLevel=function(){return c},i.globalScope=s,i.info=function(e){c>=l.infos&&console.log("Info: "+e)},i.isArray=function(e){return e instanceof Array},i.isArrayBuffer=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&void 0!==e.byteLength},i.isBool=function(e){return"boolean"==typeof e},i.isEmptyObj=function(e){for(var t in e)return!1;return!0},i.isInt=N,i.isNum=function(e){return"number"==typeof e},i.isString=function(e){return"string"==typeof e},i.isSpace=function(e){return 32===e||9===e||13===e||10===e},i.isNodeJS=function(){return"object"===(void 0===n?"undefined":r(n))&&n+""=="[object process]"},i.isSameOrigin=function(e,t){try{var i=new URL(e);if(!i.origin||"null"===i.origin)return!1}catch(e){return!1}var n=new URL(t,i);return i.origin===n.origin},i.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(e){}return null},i.isLittleEndian=function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]},i.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},i.loadJpegStream=function(e,t,i){var n=new Image;n.onload=function(){i.resolve(e,n)},n.onerror=function(){i.resolve(e,null),d("Error during JPEG image loading")},n.src=t},i.log2=function(e){for(var t=1,i=0;e>t;)t<<=1,i++;return i},i.readInt8=function(e,t){return e[t]<<24>>24},i.readUint16=function(e,t){return e[t]<<8|e[t+1]},i.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},i.removeNullCharacters=function(e){return"string"!=typeof e?(d("The argument for removeNullCharacters must be a string."),e):e.replace(C,"")},i.ReadableStream=o.ReadableStream,i.setVerbosityLevel=function(e){c=e},i.shadow=function(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i},i.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},i.stringToBytes=S,i.stringToPDFString=function(e){var t,i=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<i;t+=2)n.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<i;++t){var a=E[e.charCodeAt(t)];n.push(a?String.fromCharCode(a):e.charAt(t))}return n.join("")},i.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},i.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},i.warn=d,i.unreachable=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.getDefaultSetting=t.LinkTarget=t.getFilenameFromUrl=t.isValidUrl=t.isExternalLinkTargetSet=t.addLinkAttributes=t.RenderingCancelledException=t.CustomStyle=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(0);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="noopener noreferrer nofollow",s=function(){function e(){r(this,e)}return n(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("invalid canvas size");var i=document.createElement("canvas"),n=i.getContext("2d");return i.width=e,i.height=t,{canvas:i,context:n}}},{key:"reset",value:function(e,t,i){if(!e.canvas)throw new Error("canvas is not specified");if(t<=0||i<=0)throw new Error("invalid canvas size");e.canvas.width=t,e.canvas.height=i}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}(),l=function(){function e(t){var i=t.baseUrl,n=void 0===i?null:i,a=t.isCompressed,o=void 0!==a&&a;r(this,e),this.baseUrl=n,this.isCompressed=o}return n(e,[{key:"fetch",value:function(e){var t=this,i=e.name;return i?new Promise(function(e,n){var r=t.baseUrl+i+(t.isCompressed?".bcmap":""),o=new XMLHttpRequest;o.open("GET",r,!0),t.isCompressed&&(o.responseType="arraybuffer"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){var i=void 0;if(t.isCompressed&&o.response?i=new Uint8Array(o.response):!t.isCompressed&&o.responseText&&(i=(0,a.stringToBytes)(o.responseText)),i)return void e({cMapData:i,compressionType:t.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE})}n(new Error("Unable to load "+(t.isCompressed?"binary ":"")+"CMap at: "+r))}},o.send(null)}):Promise.reject(new Error("CMap name must be specified."))}}]),e}(),c=function(){var e=["ms","Moz","Webkit","O"],t=Object.create(null);function i(){}return i.getProp=function(i,n){if(1===arguments.length&&"string"==typeof t[i])return t[i];var a,r,o=(n=n||document.documentElement).style;if("string"==typeof o[i])return t[i]=i;r=i.charAt(0).toUpperCase()+i.slice(1);for(var s=0,l=e.length;s<l;s++)if("string"==typeof o[a=e[s]+r])return t[i]=a;return t[i]="undefined"},i.setProp=function(e,t,i){var n=this.getProp(e);"undefined"!==n&&(t.style[n]=i)},i}(),d=function(){function e(e,t){this.message=e,this.type=t}return e.prototype=new Error,e.prototype.name="RenderingCancelledException",e.constructor=e,e}(),u={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},h=["","_self","_blank","_parent","_top"];function p(e){var t=a.globalScope.PDFJS;switch(e){case"pdfBug":return!!t&&t.pdfBug;case"disableAutoFetch":return!!t&&t.disableAutoFetch;case"disableStream":return!!t&&t.disableStream;case"disableRange":return!!t&&t.disableRange;case"disableFontFace":return!!t&&t.disableFontFace;case"disableCreateObjectURL":return!!t&&t.disableCreateObjectURL;case"disableWebGL":return!t||t.disableWebGL;case"cMapUrl":return t?t.cMapUrl:null;case"cMapPacked":return!!t&&t.cMapPacked;case"postMessageTransfers":return!t||t.postMessageTransfers;case"workerPort":return t?t.workerPort:null;case"workerSrc":return t?t.workerSrc:null;case"disableWorker":return!!t&&t.disableWorker;case"maxImageSize":return t?t.maxImageSize:-1;case"imageResourcesPath":return t?t.imageResourcesPath:"";case"isEvalSupported":return!t||t.isEvalSupported;case"externalLinkTarget":if(!t)return u.NONE;switch(t.externalLinkTarget){case u.NONE:case u.SELF:case u.BLANK:case u.PARENT:case u.TOP:return t.externalLinkTarget}return(0,a.warn)("PDFJS.externalLinkTarget is invalid: "+t.externalLinkTarget),t.externalLinkTarget=u.NONE,u.NONE;case"externalLinkRel":return t?t.externalLinkRel:o;case"enableStats":return!(!t||!t.enableStats);case"pdfjsNext":return!(!t||!t.pdfjsNext);default:throw new Error("Unknown default setting: "+e)}}t.CustomStyle=c,t.RenderingCancelledException=d,t.addLinkAttributes=function(e,t){var i=t&&t.url;if(e.href=e.title=i?(0,a.removeNullCharacters)(i):"",i){var n=t.target;void 0===n&&(n=p("externalLinkTarget")),e.target=h[n];var r=t.rel;void 0===r&&(r=p("externalLinkRel")),e.rel=r}},t.isExternalLinkTargetSet=function(){switch(p("externalLinkTarget")){case u.NONE:return!1;case u.SELF:case u.BLANK:case u.PARENT:case u.TOP:return!0}},t.isValidUrl=function(e,t){(0,a.deprecated)("isValidUrl(), please use createValidAbsoluteUrl() instead.");var i=t?"http://example.com":null;return null!==(0,a.createValidAbsoluteUrl)(e,i)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),i=e.indexOf("?"),n=Math.min(t>0?t:e.length,i>0?i:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.LinkTarget=u,t.getDefaultSetting=p,t.DEFAULT_LINK_REL=o,t.DOMCanvasFactory=s,t.DOMCMapReaderFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.version=t._UnsupportedManager=t.setPDFNetworkStreamClass=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=t.getDocument=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),s=n(1),l=n(12),c=n(11),d=n(6),u=n(14);var h,p=65536,f=!1,m=!1,g="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,v=null,b=!1;"undefined"==typeof window?(f=!0,b=!0):b=!0,"undefined"!=typeof requirejs&&requirejs.toUrl&&(h=requirejs.toUrl("./pdf.worker.js"));var y,_="undefined"!=typeof requirejs&&requirejs.load;v=b?function(e){i.e(102).then(function(){var t;t=i("2gYF"),e(t.WorkerMessageHandler)}.bind(null,i)).catch(i.oe)}:_?function(e){requirejs(["./pdf.worker"],function(t){e(t.WorkerMessageHandler)})}:null;var w,x=function(){var e=0;function t(){this._capability=(0,o.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return t.prototype={get promise(){return this._capability.promise},destroy:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},t}(),C=function(){function e(e,t){this.length=e,this.initialData=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,o.createPromiseCapability)()}return e.prototype={addRangeListener:function(e){this._rangeListeners.push(e)},addProgressListener:function(e){this._progressListeners.push(e)},addProgressiveReadListener:function(e){this._progressiveReadListeners.push(e)},onDataRange:function(e,t){for(var i=this._rangeListeners,n=0,a=i.length;n<a;++n)i[n](e,t)},onDataProgress:function(e){var t=this;this._readyCapability.promise.then(function(){for(var i=t._progressListeners,n=0,a=i.length;n<a;++n)i[n](e)})},onDataProgressiveRead:function(e){var t=this;this._readyCapability.promise.then(function(){for(var i=t._progressiveReadListeners,n=0,a=i.length;n<a;++n)i[n](e)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(e,t){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},e}(),S=function(){function e(e,t,i){this.pdfInfo=e,this.transport=t,this.loadingTask=i}return e.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},e}(),T=function(){function e(e,t,i){this.pageIndex=e,this.pageInfo=t,this.transport=i,this.stats=new o.StatTimer,this.stats.enabled=(0,s.getDefaultSetting)("enableStats"),this.commonObjs=i.commonObjs,this.objs=new N,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return e.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new o.PageViewport(this.view,e,t,0,0)},getAnnotations:function(e){var t=e&&e.intent||null;return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,t),this.annotationsIntent=t),this.annotationsPromise},render:function(e){var t=this,i=this.stats;i.time("Overall"),this.pendingCleanup=!1;var n="print"===e.intent?"print":"display",a=e.canvasFactory||new s.DOMCanvasFactory;this.intentStates[n]||(this.intentStates[n]=Object.create(null));var r=this.intentStates[n];r.displayReadyCapability||(r.receivingOperatorList=!0,r.displayReadyCapability=(0,o.createPromiseCapability)(),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:n,renderInteractiveForms:!0===e.renderInteractiveForms}));var l=function(e){var n=r.renderTasks.indexOf(c);n>=0&&r.renderTasks.splice(n,1),t.cleanupAfterRender&&(t.pendingCleanup=!0),t._tryCleanup(),e?c.capability.reject(e):c.capability.resolve(),i.timeEnd("Rendering"),i.timeEnd("Overall")},c=new R(l,e,this.objs,this.commonObjs,r.operatorList,this.pageNumber,a);c.useRequestAnimationFrame="print"!==n,r.renderTasks||(r.renderTasks=[]),r.renderTasks.push(c);var d=c.task;return e.continueCallback&&((0,o.deprecated)("render is used with continueCallback parameter"),d.onContinue=e.continueCallback),r.displayReadyCapability.promise.then(function(e){t.pendingCleanup?l():(i.time("Rendering"),c.initializeGraphics(e),c.operatorListChanged())}).catch(l),d},getOperatorList:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var e,t=this.intentStates.oplist;return t.opListReadCapability||((e={}).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var i=t.renderTasks.indexOf(e);i>=0&&t.renderTasks.splice(i,1)}},t.receivingOperatorList=!0,t.opListReadCapability=(0,o.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})),t.opListReadCapability.promise},streamTextContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===e.normalizeWhitespace,combineTextItems:!0!==e.disableCombineTextItems},{highWaterMark:100,size:function(e){return e.items.length}})},getTextContent:function(e){e=e||{};var t=this.streamTextContent(e);return new Promise(function(e,i){var n=t.getReader(),a={items:[],styles:Object.create(null)};!function t(){n.read().then(function(i){var n=i.value;i.done?e(a):(o.Util.extendObj(a.styles,n.styles),o.Util.appendToArray(a.items,n.items),t())},i)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var e=[];return Object.keys(this.intentStates).forEach(function(t){"oplist"!==t&&this.intentStates[t].renderTasks.forEach(function(t){var i=t.capability.promise.catch(function(){});e.push(i),t.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)},destroy:function(){(0,o.deprecated)("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(e,t){var i=this.intentStates[t];i.displayReadyCapability&&i.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){var i,n,a=this.intentStates[t];for(i=0,n=e.length;i<n;i++)a.operatorList.fnArray.push(e.fnArray[i]),a.operatorList.argsArray.push(e.argsArray[i]);for(a.operatorList.lastChunk=e.lastChunk,i=0;i<a.renderTasks.length;i++)a.renderTasks[i].operatorListChanged();e.lastChunk&&(a.receivingOperatorList=!1,this._tryCleanup())}},e}(),k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return a(e,[{key:"postMessage",value:function(e,t){var i=this;if(this._defer){var n=new WeakMap,a={data:function e(i){if("object"!==(void 0===i?"undefined":r(i))||null===i)return i;if(n.has(i))return n.get(i);var a,s;if((s=i.buffer)&&(0,o.isArrayBuffer)(s)){var l=t&&t.indexOf(s)>=0;return a=i===s?i:l?new i.constructor(s,i.byteOffset,i.byteLength):new i.constructor(i),n.set(i,a),a}for(var c in a=(0,o.isArray)(i)?[]:{},n.set(i,a),i){for(var d,u=i;!(d=Object.getOwnPropertyDescriptor(u,c));)u=Object.getPrototypeOf(u);void 0!==d.value&&"function"!=typeof d.value&&(a[c]=e(d.value))}return a}(e)};this._deferred.then(function(){i._listeners.forEach(function(e){e.call(this,a)},i)})}else this._listeners.forEach(function(t){t.call(this,{data:e})},this)}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var i=this._listeners.indexOf(t);this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),e}(),A=function(){var e=0;function t(){if(void 0!==h)return h;if((0,s.getDefaultSetting)("workerSrc"))return(0,s.getDefaultSetting)("workerSrc");if(g)return g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error("No PDFJS.workerSrc specified")}var i=void 0;var n=new WeakMap;function a(e,t){if(t&&n.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this._readyCapability=(0,o.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return n.set(t,this),void this._initializeFromPort(t);this._initialize()}return a.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(e){this._port=e,this._messageHandler=new o.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var e,i,n=this;if(!f&&!(0,s.getDefaultSetting)("disableWorker")&&"undefined"!=typeof Worker){var a=t();try{(0,o.isSameOrigin)(window.location.href,a)||(e=new URL(a,window.location).href,i="importScripts('"+e+"');",a=URL.createObjectURL(new Blob([i])));var r=new Worker(a),l=new o.MessageHandler("main","worker",r),c=function(){r.removeEventListener("error",d),l.destroy(),r.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},d=function(){n._webWorker||c()};r.addEventListener("error",d),l.on("test",function(e){(r.removeEventListener("error",d),n.destroyed)?c():e&&e.supportTypedArray?(n._messageHandler=l,n._port=r,n._webWorker=r,e.supportTransfers||(n.postMessageTransfers=!1,m=!0),n._readyCapability.resolve(),l.send("configure",{verbosity:(0,o.getVerbosityLevel)()})):(n._setupFakeWorker(),l.destroy(),r.terminate())}),l.on("console_log",function(e){console.log.apply(console,e)}),l.on("console_error",function(e){console.error.apply(console,e)}),l.on("ready",function(e){if(r.removeEventListener("error",d),n.destroyed)c();else try{u()}catch(e){n._setupFakeWorker()}});var u=function(){var e=(0,s.getDefaultSetting)("postMessageTransfers")&&!m,t=new Uint8Array([e?255:0]);try{l.send("test",t,[t.buffer])}catch(e){(0,o.info)("Cannot use postMessage transfers"),t[0]=0,l.send("test",t)}};return void u()}catch(e){(0,o.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var n=this;f||(0,s.getDefaultSetting)("disableWorker")||((0,o.warn)("Setting up fake worker."),f=!0),(i?i.promise:(i=(0,o.createPromiseCapability)(),(v||function(e){o.Util.loadScript(t(),function(){e(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(i.resolve),i.promise)).then(function(t){if(n.destroyed)n._readyCapability.reject(new Error("Worker was destroyed"));else{var i=Uint8Array!==Float32Array,a=new k(i);n._port=a;var r="fake"+e++,s=new o.MessageHandler(r+"_worker",r,a);t.setup(s,a);var l=new o.MessageHandler(r,r+"_worker",a);n._messageHandler=l,n._readyCapability.resolve()}})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},a.fromPort=function(e){return n.has(e)?n.get(e):new a(null,e)},a}(),E=function(){function e(e,t,i,n){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new N,this.fontLoader=new l.FontLoader(t.docId),this.CMapReaderFactory=new n({baseUrl:(0,s.getDefaultSetting)("cMapUrl"),isCompressed:(0,s.getDefaultSetting)("cMapPacked")}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,o.createPromiseCapability)(),this.setupMessageHandler()}return e.prototype={destroy:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,o.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var e=this.messageHandler,t=this.loadingTask;e.on("GetReader",function(e,t){var i=this;(0,o.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){i._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=function(){i._fullReader.read().then(function(e){var i=e.value;e.done?t.close():((0,o.assert)((0,o.isArrayBuffer)(i)),t.enqueue(new Uint8Array(i),1,[i]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){i._fullReader.cancel(e)}},this),e.on("ReaderHeadersReady",function(e){var t=this,i=(0,o.createPromiseCapability)(),n=this._fullReader;return n.headersReady.then(function(){if(!n.isStreamingSupported||!n.isRangeSupported){if(t._lastProgress){var e=t.loadingTask;e.onProgress&&e.onProgress(t._lastProgress)}n.onProgress=function(e){var i=t.loadingTask;i.onProgress&&i.onProgress({loaded:e.loaded,total:e.total})}}i.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},i.reject),i.promise},this),e.on("GetRangeReader",function(e,t){(0,o.assert)(this._networkStream);var i=this._networkStream.getRangeReader(e.begin,e.end);t.onPull=function(){i.read().then(function(e){var i=e.value;e.done?t.close():((0,o.assert)((0,o.isArrayBuffer)(i)),t.enqueue(new Uint8Array(i),1,[i]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){i.cancel(e)}},this),e.on("GetDoc",function(e){var t=e.pdfInfo;this.numPages=e.pdfInfo.numPages;var i=this.loadingTask,n=new S(t,this,i);this.pdfDocument=n,i._capability.resolve(n)},this),e.on("PasswordRequest",function(e){var i=this;if(this._passwordCapability=(0,o.createPromiseCapability)(),t.onPassword){t.onPassword(function(e){i._passwordCapability.resolve({password:e})},e.code)}else this._passwordCapability.reject(new o.PasswordException(e.message,e.code));return this._passwordCapability.promise},this),e.on("PasswordException",function(e){t._capability.reject(new o.PasswordException(e.message,e.code))},this),e.on("InvalidPDF",function(e){this.loadingTask._capability.reject(new o.InvalidPDFException(e.message))},this),e.on("MissingPDF",function(e){this.loadingTask._capability.reject(new o.MissingPDFException(e.message))},this),e.on("UnexpectedResponse",function(e){this.loadingTask._capability.reject(new o.UnexpectedResponseException(e.message,e.status))},this),e.on("UnknownError",function(e){this.loadingTask._capability.reject(new o.UnknownErrorException(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(e){},this),e.on("StartRenderPage",function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t.stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)}},this),e.on("RenderPageChunk",function(e){this.destroyed||this.pageCache[e.pageIndex]._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var t=this;if(!this.destroyed){var i=e[0],n=e[1];if(!this.commonObjs.hasData(i))switch(n){case"Font":var a=e[2];if("error"in a){var r=a.error;(0,o.warn)("Error during font loading: "+r),this.commonObjs.resolve(i,r);break}var c=null;(0,s.getDefaultSetting)("pdfBug")&&o.globalScope.FontInspector&&o.globalScope.FontInspector.enabled&&(c={registerFont:function(e,t){o.globalScope.FontInspector.fontAdded(e,t)}});var d=new l.FontFaceObject(a,{isEvalSuported:(0,s.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,s.getDefaultSetting)("disableFontFace"),fontRegistry:c});this.fontLoader.bind([d],function(e){t.commonObjs.resolve(i,d)});break;case"FontPath":this.commonObjs.resolve(i,e[2]);break;default:throw new Error("Got unknown common object type "+n)}}},this),e.on("obj",function(e){if(!this.destroyed){var t,i=e[0],n=e[1],a=e[2],r=this.pageCache[n];if(!r.objs.hasData(i))switch(a){case"JpegStream":t=e[3],(0,o.loadJpegStream)(i,t,r.objs);break;case"Image":t=e[3],r.objs.resolve(i,t);t&&"data"in t&&t.data.length>8e6&&(r.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+a)}}},this),e.on("DocProgress",function(e){if(!this.destroyed){var t=this.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}},this),e.on("PageError",function(e){if(!this.destroyed){var t=this.pageCache[e.pageNum-1].intentStates[e.intent];if(!t.displayReadyCapability)throw new Error(e.error);if(t.displayReadyCapability.reject(e.error),t.operatorList){t.operatorList.lastChunk=!0;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged()}}},this),e.on("UnsupportedFeature",function(e){if(!this.destroyed){var t=e.featureId,i=this.loadingTask;i.onUnsupportedFeature&&i.onUnsupportedFeature(t),I.notify(t)}},this),e.on("JpegDecode",function(e){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var t=e[0],i=e[1];return 3!==i&&1!==i?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(e,n){var a=new Image;a.onload=function(){var t=a.width,n=a.height,r=t*n,o=4*r,s=new Uint8Array(r*i),l=document.createElement("canvas");l.width=t,l.height=n;var c=l.getContext("2d");c.drawImage(a,0,0);var d,u,h=c.getImageData(0,0,t,n).data;if(3===i)for(d=0,u=0;d<o;d+=4,u+=3)s[u]=h[d],s[u+1]=h[d+1],s[u+2]=h[d+2];else if(1===i)for(d=0,u=0;d<o;d+=4,u++)s[u]=h[d];e({data:s,width:t,height:n})},a.onerror=function(){n(new Error("JpegDecode failed to load image"))},a.src=t})},this),e.on("FetchBuiltInCMap",function(e){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e,t){var i=this;if(!(0,o.isInt)(e)||e<=0||e>this.numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(i.destroyed)throw new Error("Transport destroyed");var t=new T(n,e,i);return i.pageCache[n]=t,t});return this.pagePromises[n]=a,a},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})},getAnnotations:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new d.Metadata(e[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var e=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,i=e.pageCache.length;t<i;t++){var n=e.pageCache[t];n&&n.cleanup()}e.commonObjs.clear(),e.fontLoader.clear()})}},e}(),N=function(){function e(){this.objs=Object.create(null)}return e.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:(0,o.createPromiseCapability)(),data:null,resolved:!1};return this.objs[e]=t,t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;var i=this.objs[e];if(!i||!i.resolved)throw new Error("Requesting object that isn't resolved yet "+e);return i.data},resolve:function(e,t){var i=this.ensureObj(e);i.resolved=!0,i.data=t,i.capability.resolve(t)},isResolved:function(e){var t=this.objs;return!!t[e]&&t[e].resolved},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs=Object.create(null)}},e}(),P=function(){function e(e){this._internalRenderTask=e,this.onContinue=null}return e.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},e}(),R=function(){var e=new WeakMap;function t(e,t,i,n,a,r,s){this.callback=e,this.params=t,this.objs=i,this.commonObjs=n,this.operatorListIdx=null,this.operatorList=a,this.pageNumber=r,this.canvasFactory=s,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,o.createPromiseCapability)(),this.task=new P(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}return t.prototype={initializeGraphics:function(t){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.set(this._canvas,this)}if(!this.cancelled){(0,s.getDefaultSetting)("pdfBug")&&o.globalScope.StepperManager&&o.globalScope.StepperManager.enabled&&(this.stepper=o.globalScope.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var i=this.params;this.gfx=new c.CanvasGraphics(i.canvasContext,this.commonObjs,this.objs,this.canvasFactory,i.imageLayer),this.gfx.beginDrawing({transform:i.transform,viewport:i.viewport,transparency:t,background:i.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&e.delete(this._canvas),(0,s.getDefaultSetting)("pdfjsNext")?this.callback(new s.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback())))}},t}(),I=(w=[],{listen:function(e){(0,o.deprecated)("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),w.push(e)},notify:function(e){for(var t=0,i=w.length;t<i;t++)w[t](e)}});t.version="1.9.426",t.build="2558a58d",t.getDocument=function(e,t,i,n){var a,l=new x;if(arguments.length>1&&(0,o.deprecated)("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),t&&(t instanceof C||((t=Object.create(t)).length=e.length,t.initialData=e.initialData,t.abort||(t.abort=function(){})),(e=Object.create(e)).range=t),l.onPassword=i||null,l.onProgress=n||null,"string"==typeof e)a={url:e};else if((0,o.isArrayBuffer)(e))a={data:e};else if(e instanceof C)a={range:e};else{if("object"!==(void 0===e?"undefined":r(e)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");a=e}var c={},d=null,h=null,f=s.DOMCMapReaderFactory;for(var g in a)if("url"!==g||"undefined"==typeof window)if("range"!==g)if("worker"!==g)if("data"!==g||a[g]instanceof Uint8Array)"CMapReaderFactory"!==g?c[g]=a[g]:f=a[g];else{var v=a[g];if("string"==typeof v)c[g]=(0,o.stringToBytes)(v);else if("object"!==(void 0===v?"undefined":r(v))||null===v||isNaN(v.length)){if(!(0,o.isArrayBuffer)(v))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");c[g]=new Uint8Array(v)}else c[g]=new Uint8Array(v)}else h=a[g];else d=a[g];else c[g]=new URL(a[g],window.location).href;if(c.rangeChunkSize=c.rangeChunkSize||p,c.ignoreErrors=!0!==c.stopAtErrors,void 0!==c.disableNativeImageDecoder&&(0,o.deprecated)("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead"),c.nativeImageDecoderSupport=c.nativeImageDecoderSupport||(!0===c.disableNativeImageDecoder?o.NativeImageDecoding.NONE:o.NativeImageDecoding.DECODE),c.nativeImageDecoderSupport!==o.NativeImageDecoding.DECODE&&c.nativeImageDecoderSupport!==o.NativeImageDecoding.NONE&&c.nativeImageDecoderSupport!==o.NativeImageDecoding.DISPLAY&&((0,o.warn)("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}"),c.nativeImageDecoderSupport=o.NativeImageDecoding.DECODE),!h){var b=(0,s.getDefaultSetting)("workerPort");h=b?A.fromPort(b):new A,l._worker=h}var _=l.docId;return h.promise.then(function(){if(l.destroyed)throw new Error("Loading aborted");return function(e,t,i,n){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(t.disableAutoFetch=(0,s.getDefaultSetting)("disableAutoFetch"),t.disableStream=(0,s.getDefaultSetting)("disableStream"),t.chunkedViewerLoading=!!i,i&&(t.length=i.length,t.initialData=i.initialData),e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:(0,s.getDefaultSetting)("maxImageSize"),disableFontFace:(0,s.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,s.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,s.getDefaultSetting)("postMessageTransfers")&&!m,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors}).then(function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t}))}(h,c,d,_).then(function(e){if(l.destroyed)throw new Error("Loading aborted");var t=void 0;d?t=new u.PDFDataTransportStream(c,d):c.data||(t=new y({source:c,disableRange:(0,s.getDefaultSetting)("disableRange")}));var i=new o.MessageHandler(_,e,h.port);i.postMessageTransfers=h.postMessageTransfers;var n=new E(i,l,t,f);l._transport=n,i.send("Ready",null)})}).catch(l._capability.reject),l},t.LoopbackPort=k,t.PDFDataRangeTransport=C,t.PDFWorker=A,t.PDFDocumentProxy=S,t.PDFPageProxy=T,t.setPDFNetworkStreamClass=function(e){y=e},t._UnsupportedManager=I,t.version="1.9.426",t.build="2558a58d"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=i(1),a=i(0);function r(){}r.prototype={create:function(e){switch(e.data.annotationType){case a.AnnotationType.LINK:return new s(e);case a.AnnotationType.TEXT:return new l(e);case a.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new d(e);case"Btn":if(e.data.radioButton)return new h(e);if(e.data.checkBox)return new u(e);(0,a.warn)("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new p(e)}return new c(e);case a.AnnotationType.POPUP:return new f(e);case a.AnnotationType.LINE:return new g(e);case a.AnnotationType.HIGHLIGHT:return new v(e);case a.AnnotationType.UNDERLINE:return new b(e);case a.AnnotationType.SQUIGGLY:return new y(e);case a.AnnotationType.STRIKEOUT:return new _(e);case a.AnnotationType.FILEATTACHMENT:return new w(e);default:return new o(e)}}};var o=function(){function e(e,t,i){this.isRenderable=t||!1,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,t&&(this.container=this._createContainer(i))}return e.prototype={_createContainer:function(e){var t=this.data,i=this.page,r=this.viewport,o=document.createElement("section"),s=t.rect[2]-t.rect[0],l=t.rect[3]-t.rect[1];o.setAttribute("data-annotation-id",t.id);var c=a.Util.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]);if(n.CustomStyle.setProp("transform",o,"matrix("+r.transform.join(",")+")"),n.CustomStyle.setProp("transformOrigin",o,-c[0]+"px "+-c[1]+"px"),!e&&t.borderStyle.width>0){o.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(s-=2*t.borderStyle.width,l-=2*t.borderStyle.width);var d=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(d>0||u>0){var h=d+"px / "+u+"px";n.CustomStyle.setProp("borderRadius",o,h)}switch(t.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}t.color?o.style.borderColor=a.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):o.style.borderWidth=0}return o.style.left=c[0]+"px",o.style.top=c[1]+"px",o.style.width=s+"px",o.style.height=l+"px",o},_createPopup:function(e,t,i){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var n=new m({container:e,trigger:t,color:i.color,title:i.title,contents:i.contents,hideWrapper:!0}).render();n.style.left=e.style.width,e.appendChild(n)},render:function(){throw new Error("Abstract method AnnotationElement.render called")}},e}(),s=function(){function e(e){o.call(this,e,!0)}return a.Util.inherit(e,o,{render:function(){this.container.className="linkAnnotation";var e=document.createElement("a");return(0,n.addLinkAttributes)(e,{url:this.data.url,target:this.data.newWindow?n.LinkTarget.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(e,this.data.action):this._bindLink(e,this.data.dest)),this.container.appendChild(e),this.container},_bindLink:function(e,t){var i=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&i.linkService.navigateTo(t),!1},t&&(e.className="internalLink")},_bindNamedAction:function(e,t){var i=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return i.linkService.executeNamedAction(t),!1},e.className="internalLink"}}),e}(),l=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t)}return a.Util.inherit(e,o,{render:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}),e}(),c=function(){function e(e,t){o.call(this,e,t)}return a.Util.inherit(e,o,{render:function(){return this.container}}),e}(),d=function(){var e=["left","center","right"];function t(e){var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;c.call(this,e,t)}return a.Util.inherit(t,c,{render:function(){this.container.className="textWidgetAnnotation";var t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea")).textContent=this.data.fieldValue:((t=document.createElement("input")).type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){var i=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing="calc("+i+"px - 1ch)"}}else{(t=document.createElement("div")).textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";var n=null;this.data.fontRefName&&(n=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(t,n)}return null!==this.data.textAlignment&&(t.style.textAlign=e[this.data.textAlignment]),this.container.appendChild(t),this.container},_setTextStyle:function(e,t){var i=e.style;if(i.fontSize=this.data.fontSize+"px",i.direction=this.data.fontDirection<0?"rtl":"ltr",t){i.fontWeight=t.black?t.bold?"900":"bold":t.bold?"bold":"normal",i.fontStyle=t.italic?"italic":"normal";var n=t.loadedName?'"'+t.loadedName+'", ':"",a=t.fallbackName||"Helvetica, sans-serif";i.fontFamily=n+a}}}),t}(),u=function(){function e(e){c.call(this,e,e.renderInteractiveForms)}return a.Util.inherit(e,c,{render:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}),e}(),h=function(){function e(e){c.call(this,e,e.renderInteractiveForms)}return a.Util.inherit(e,c,{render:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}),e}(),p=function(){function e(e){c.call(this,e,e.renderInteractiveForms)}return a.Util.inherit(e,c,{render:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(var t=0,i=this.data.options.length;t<i;t++){var n=this.data.options[t],a=document.createElement("option");a.textContent=n.displayValue,a.value=n.exportValue,this.data.fieldValue.indexOf(n.displayValue)>=0&&a.setAttribute("selected",!0),e.appendChild(a)}return this.container.appendChild(e),this.container}}),e}(),f=function(){var e=["Line"];function t(e){var t=!(!e.data.title&&!e.data.contents);o.call(this,e,t)}return a.Util.inherit(t,o,{render:function(){if(this.container.className="popupAnnotation",e.indexOf(this.data.parentType)>=0)return this.container;var t='[data-annotation-id="'+this.data.parentId+'"]',i=this.layer.querySelector(t);if(!i)return this.container;var a=new m({container:this.container,trigger:i,color:this.data.color,title:this.data.title,contents:this.data.contents}),r=parseFloat(i.style.left),o=parseFloat(i.style.width);return n.CustomStyle.setProp("transformOrigin",this.container,-(r+o)+"px -"+i.style.top),this.container.style.left=r+o+"px",this.container.appendChild(a.render()),this.container}}),t}(),m=function(){function e(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return e.prototype={render:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var i=this.color;if(i){var n=.7*(255-i[0])+i[0],r=.7*(255-i[1])+i[1],o=.7*(255-i[2])+i[2];t.style.backgroundColor=a.Util.makeCssRgb(0|n,0|r,0|o)}var s=this._formatContents(this.contents),l=document.createElement("h1");return l.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(l),t.appendChild(s),e.appendChild(t),e},_formatContents:function(e){for(var t=document.createElement("p"),i=e.split(/(?:\r\n?|\n)/),n=0,a=i.length;n<a;++n){var r=i[n];t.appendChild(document.createTextNode(r)),n<a-1&&t.appendChild(document.createElement("br"))}return t},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(e){e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(e){e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}},e}(),g=function(){var e="http://www.w3.org/2000/svg";function t(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(t,o,{render:function(){this.container.className="lineAnnotation";var t=this.data,i=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],a=document.createElementNS(e,"svg:svg");a.setAttributeNS(null,"version","1.1"),a.setAttributeNS(null,"width",i+"px"),a.setAttributeNS(null,"height",n+"px"),a.setAttributeNS(null,"preserveAspectRatio","none"),a.setAttributeNS(null,"viewBox","0 0 "+i+" "+n);var r=document.createElementNS(e,"svg:line");return r.setAttributeNS(null,"x1",t.rect[2]-t.lineCoordinates[0]),r.setAttributeNS(null,"y1",t.rect[3]-t.lineCoordinates[1]),r.setAttributeNS(null,"x2",t.rect[2]-t.lineCoordinates[2]),r.setAttributeNS(null,"y2",t.rect[3]-t.lineCoordinates[3]),r.setAttributeNS(null,"stroke-width",t.borderStyle.width),r.setAttributeNS(null,"stroke","transparent"),a.appendChild(r),this.container.append(a),this._createPopup(this.container,r,this.data),this.container}}),t}(),v=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),b=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),y=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),_=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),w=function(){function e(e){o.call(this,e,!0);var t=this.data.file;this.filename=(0,n.getFilenameFromUrl)(t.filename),this.content=t.content,this.linkService.onFileAttachmentAnnotation({id:(0,a.stringToPDFString)(t.filename),filename:t.filename,content:t.content})}return a.Util.inherit(e,o,{render:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container},_download:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,a.warn)("Download cannot be started due to unavailable download manager")}}),e}(),x={render:function(e){for(var t=new r,i=0,a=e.annotations.length;i<a;i++){var o=e.annotations[i];if(o){var s=t.create({data:o,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||(0,n.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:e.renderInteractiveForms||!1});s.isRenderable&&e.div.appendChild(s.render())}}},update:function(e){for(var t=0,i=e.annotations.length;t<i;t++){var a=e.annotations[t],r=e.div.querySelector('[data-annotation-id="'+a.id+'"]');r&&n.CustomStyle.setProp("transform",r,"matrix("+e.viewport.transform.join(",")+")")}e.div.removeAttribute("hidden")}};t.AnnotationLayer=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var o,s=r(0),l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=12,r=new Int32Array(256),o=0;o<256;o++){for(var l=o,c=0;c<8;c++)l=1&l?3988292384^l>>1&2147483647:l>>1&2147483647;r[o]=l}function d(e,t,i,n){var a=n,o=t.length;i[a]=o>>24&255,i[a+1]=o>>16&255,i[a+2]=o>>8&255,i[a+3]=255&o,i[a+=4]=255&e.charCodeAt(0),i[a+1]=255&e.charCodeAt(1),i[a+2]=255&e.charCodeAt(2),i[a+3]=255&e.charCodeAt(3),a+=4,i.set(t,a);var s=function(e,t,i){for(var n=-1,a=t;a<i;a++){var o=255&(n^e[a]);n=n>>>8^r[o]}return-1^n}(i,n+4,a+=t.length);i[a]=s>>24&255,i[a+1]=s>>16&255,i[a+2]=s>>8&255,i[a+3]=255&s}function u(e){var t=e.length,i=Math.ceil(t/65535),n=new Uint8Array(2+t+5*i+4),a=0;n[a++]=120,n[a++]=156;for(var r=0;t>65535;)n[a++]=0,n[a++]=255,n[a++]=255,n[a++]=0,n[a++]=0,n.set(e.subarray(r,r+65535),a),a+=65535,r+=65535,t-=65535;n[a++]=1,n[a++]=255&t,n[a++]=t>>8&255,n[a++]=255&~t,n[a++]=(65535&~t)>>8&255,n.set(e.subarray(r),a),a+=e.length-r;var o=function(e,t,i){for(var n=1,a=0,r=t;r<i;++r)a=(a+(n=(n+(255&e[r]))%65521))%65521;return a<<16|n}(e,0,e.length);return n[a++]=o>>24&255,n[a++]=o>>16&255,n[a++]=o>>8&255,n[a++]=255&o,n}function h(r,o,l){var c,h,p,f=r.width,m=r.height,g=r.data;switch(o){case s.ImageKind.GRAYSCALE_1BPP:h=0,c=1,p=f+7>>3;break;case s.ImageKind.RGB_24BPP:h=2,c=8,p=3*f;break;case s.ImageKind.RGBA_32BPP:h=6,c=8,p=4*f;break;default:throw new Error("invalid format")}var v,b,y=new Uint8Array((1+p)*m),_=0,w=0;for(v=0;v<m;++v)y[_++]=0,y.set(g.subarray(w,w+p),_),w+=p,_+=p;if(o===s.ImageKind.GRAYSCALE_1BPP)for(_=0,v=0;v<m;v++)for(_++,b=0;b<p;b++)y[_++]^=255;var x=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,m>>24&255,m>>16&255,m>>8&255,255&m,c,h,0,0,0]),C=function(e){if(!(0,s.isNodeJS)())return u(e);try{var t;t=parseInt(n.versions.node)>=8?e:new a(e);var r=i("sEZp").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return u(e)}(y),S=e.length+3*t+x.length+C.length,T=new Uint8Array(S),k=0;return T.set(e,k),d("IHDR",x,T,k+=e.length),d("IDATA",C,T,k+=t+x.length),k+=t+C.length,d("IEND",new Uint8Array(0),T,k),(0,s.createObjectURL)(T,"image/png",l)}return function(e,t){return h(e,void 0===e.kind?s.ImageKind.GRAYSCALE_1BPP:e.kind,t)}}(),d=function(){function e(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}();t.SVGGraphics=o=function(){function e(e){if(e===(0|e))return e.toString();var t=e.toFixed(10),i=t.length-1;if("0"!==t[i])return t;do{i--}while("0"===t[i]);return t.substr(0,"."===t[i]?i:i+1)}function t(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale("+e(t[0])+" "+e(t[3])+")";if(t[0]===t[3]&&t[1]===-t[2])return"rotate("+e(180*Math.acos(t[0])/Math.PI)+")"}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate("+e(t[4])+" "+e(t[5])+")";return"matrix("+e(t[0])+" "+e(t[1])+" "+e(t[2])+" "+e(t[3])+" "+e(t[4])+" "+e(t[5])+")"}function i(e,t,i){this.current=new d,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!i}var n="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xlink",r=["butt","round","square"],o=["miter","round","bevel"],u=0,h=0;return i.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=this,i=e.fnArray,n=i.length,a=e.argsArray,r=0;r<n;r++)if(s.OPS.dependency===i[r])for(var o=a[r],l=0,c=o.length;l<c;l++){var d,u=o[l];d="g_"===u.substring(0,2)?new Promise(function(e){t.commonObjs.get(u,e)}):new Promise(function(e){t.objs.get(u,e)}),this.current.dependencies.push(d)}return Promise.all(this.current.dependencies)},transform:function(e,t,i,n,a,r){var o=[e,t,i,n,a,r];this.transformMatrix=s.Util.transform(this.transformMatrix,o),this.tgrp=null},getSVG:function(e,t){var i=this;this.viewport=t;var n=this._initialize(t);return this.loadDependencies(e).then(function(){i.transformMatrix=s.IDENTITY_MATRIX;var t=i.convertOpList(e);return i.executeOpTree(t),n})},convertOpList:function(e){var t=e.argsArray,i=e.fnArray,n=i.length,a=[],r=[];for(var o in s.OPS)a[s.OPS[o]]=o;for(var l=0;l<n;l++){var c=i[l];r.push({fnId:c,fn:a[c],args:t[l]})}return function(e){for(var t=[],i=[],n=e.length,a=0;a<n;a++)"save"!==e[a].fn?"restore"===e[a].fn?t=i.pop():t.push(e[a]):(t.push({fnId:92,fn:"group",items:[]}),i.push(t),t=t[t.length-1].items);return t}(r)},executeOpTree:function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i].fn,a=e[i].fnId,r=e[i].args;switch(0|a){case s.OPS.beginText:this.beginText();break;case s.OPS.setLeading:this.setLeading(r);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case s.OPS.setFont:this.setFont(r);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(r[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(r[0],r[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case s.OPS.setHScale:this.setHScale(r[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.setLineWidth:this.setLineWidth(r[0]);break;case s.OPS.setLineJoin:this.setLineJoin(r[0]);break;case s.OPS.setLineCap:this.setLineCap(r[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case s.OPS.setDash:this.setDash(r[0],r[1]);break;case s.OPS.setGState:this.setGState(r[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintJpegXObject:this.paintJpegXObject(r[0],r[1],r[2]);break;case s.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.constructPath:this.constructPath(r[0],r[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(e[i].items);break;default:(0,s.warn)("Unimplemented operator "+n)}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(t,i,a,r,o,s){var l=this.current;this.current.textMatrix=this.current.lineMatrix=[t,i,a,r,o,s],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,l.xcoords=[],l.tspan=document.createElementNS(n,"svg:tspan"),l.tspan.setAttributeNS(null,"font-family",l.fontFamily),l.tspan.setAttributeNS(null,"font-size",e(l.fontSize)+"px"),l.tspan.setAttributeNS(null,"y",e(-l.y)),l.txtElement=document.createElementNS(n,"svg:text"),l.txtElement.appendChild(l.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=s.IDENTITY_MATRIX,this.current.lineMatrix=s.IDENTITY_MATRIX,this.current.tspan=document.createElementNS(n,"svg:tspan"),this.current.txtElement=document.createElementNS(n,"svg:text"),this.current.txtgrp=document.createElementNS(n,"svg:g"),this.current.xcoords=[]},moveText:function(t,i){var a=this.current;this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i,a.xcoords=[],a.tspan=document.createElementNS(n,"svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",e(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",e(-a.y))},showText:function(i){var n=this.current,a=n.font,r=n.fontSize;if(0!==r){var o,c=n.charSpacing,d=n.wordSpacing,u=n.fontDirection,h=n.textHScale*u,p=i.length,f=a.vertical,m=r*n.fontMatrix[0],g=0;for(o=0;o<p;++o){var v=i[o];if(null!==v)if((0,s.isNum)(v))g+=-v*r*.001;else{n.xcoords.push(n.x+g*h);var b=v.width,y=v.fontChar;g+=b*m+((v.isSpace?d:0)+c)*u,n.tspan.textContent+=y}else g+=u*d}f?n.y-=g*h:n.x+=g*h,n.tspan.setAttributeNS(null,"x",n.xcoords.map(e).join(" ")),n.tspan.setAttributeNS(null,"y",e(-n.y)),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",e(n.fontSize)+"px"),n.fontStyle!==l.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==l.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight),n.fillColor!==l.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.txtElement.setAttributeNS(null,"transform",t(n.textMatrix)+" scale(1, -1)"),n.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=document.createElementNS(n,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,s.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'"; src: url('+t+"); }\n"},setFont:function(t){var i=this.current,a=this.commonObjs.get(t[0]),r=t[1];this.current.font=a,this.embedFonts&&a.data&&!this.embeddedFonts[a.loadedName]&&(this.addFontStyle(a),this.embeddedFonts[a.loadedName]=a),i.fontMatrix=a.fontMatrix?a.fontMatrix:s.FONT_IDENTITY_MATRIX;var o=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",l=a.italic?"italic":"normal";r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,i.fontSize=r,i.fontFamily=a.loadedName,i.fontWeight=o,i.fontStyle=l,i.tspan=document.createElementNS(n,"svg:tspan"),i.tspan.setAttributeNS(null,"y",e(-i.y)),i.xcoords=[]},endText:function(){},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=r[e]},setLineJoin:function(e){this.current.lineJoin=o[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeAlpha:function(e){this.current.strokeAlpha=e},setStrokeRGBColor:function(e,t,i){var n=s.Util.makeCssRgb(e,t,i);this.current.strokeColor=n},setFillAlpha:function(e){this.current.fillAlpha=e},setFillRGBColor:function(e,t,i){var a=s.Util.makeCssRgb(e,t,i);this.current.fillColor=a,this.current.tspan=document.createElementNS(n,"svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(t,i){var a=this.current,r=a.x,o=a.y;a.path=document.createElementNS(n,"svg:path");for(var l=[],c=t.length,d=0,u=0;d<c;d++)switch(0|t[d]){case s.OPS.rectangle:r=i[u++],o=i[u++];var h=r+i[u++],p=o+i[u++];l.push("M",e(r),e(o),"L",e(h),e(o),"L",e(h),e(p),"L",e(r),e(p),"Z");break;case s.OPS.moveTo:r=i[u++],o=i[u++],l.push("M",e(r),e(o));break;case s.OPS.lineTo:r=i[u++],o=i[u++],l.push("L",e(r),e(o));break;case s.OPS.curveTo:r=i[u+4],o=i[u+5],l.push("C",e(i[u]),e(i[u+1]),e(i[u+2]),e(i[u+3]),e(r),e(o)),u+=6;break;case s.OPS.curveTo2:r=i[u+2],o=i[u+3],l.push("C",e(r),e(o),e(i[u]),e(i[u+1]),e(i[u+2]),e(i[u+3])),u+=4;break;case s.OPS.curveTo3:r=i[u+2],o=i[u+3],l.push("C",e(i[u]),e(i[u+1]),e(r),e(o),e(r),e(o)),u+=4;break;case s.OPS.closePath:l.push("Z")}a.path.setAttributeNS(null,"d",l.join(" ")),a.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(a.path),a.element=a.path,a.setCurrentPoint(r,o)},endPath:function(){if(this.pendingClip){var e=this.current,i="clippath"+u;u++;var a=document.createElementNS(n,"svg:clipPath");a.setAttributeNS(null,"id",i),a.setAttributeNS(null,"transform",t(this.transformMatrix));var r=e.element.cloneNode();"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,a.appendChild(r),this.defs.appendChild(a),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null})),e.activeClipUrl="url(#"+i+")",this.tgrp=null}},clip:function(e){this.pendingClip=e},closePath:function(){var e=this.current,t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t],a=n[0],r=n[1];switch(a){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"Font":this.setFont(r);break;case"CA":this.setStrokeAlpha(r);break;case"ca":this.setFillAlpha(r);break;default:(0,s.warn)("Unimplemented graphic state "+a)}}},fill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha)},stroke:function(){var t=this.current;t.element.setAttributeNS(null,"stroke",t.strokeColor),t.element.setAttributeNS(null,"stroke-opacity",t.strokeAlpha),t.element.setAttributeNS(null,"stroke-miterlimit",e(t.miterLimit)),t.element.setAttributeNS(null,"stroke-linecap",t.lineCap),t.element.setAttributeNS(null,"stroke-linejoin",t.lineJoin),t.element.setAttributeNS(null,"stroke-width",e(t.lineWidth)+"px"),t.element.setAttributeNS(null,"stroke-dasharray",t.dashArray.map(e).join(" ")),t.element.setAttributeNS(null,"stroke-dashoffset",e(t.dashPhase)+"px"),t.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=document.createElementNS(n,"svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this._ensureTransformGroup().appendChild(t)},paintJpegXObject:function(t,i,r){var o=this.objs.get(t),s=document.createElementNS(n,"svg:image");s.setAttributeNS(a,"xlink:href",o.src),s.setAttributeNS(null,"width",e(i)),s.setAttributeNS(null,"height",e(r)),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",e(-r)),s.setAttributeNS(null,"transform","scale("+e(1/i)+" "+e(-1/r)+")"),this._ensureTransformGroup().appendChild(s)},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(t,i){var r=t.width,o=t.height,s=c(t,this.forceDataSchema),l=document.createElementNS(n,"svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",e(r)),l.setAttributeNS(null,"height",e(o)),this.current.element=l,this.clip("nonzero");var d=document.createElementNS(n,"svg:image");d.setAttributeNS(a,"xlink:href",s),d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y",e(-o)),d.setAttributeNS(null,"width",e(r)+"px"),d.setAttributeNS(null,"height",e(o)+"px"),d.setAttributeNS(null,"transform","scale("+e(1/r)+" "+e(-1/o)+")"),i?i.appendChild(d):this._ensureTransformGroup().appendChild(d)},paintImageMaskXObject:function(t){var i=this.current,a=t.width,r=t.height,o=i.fillColor;i.maskId="mask"+h++;var s=document.createElementNS(n,"svg:mask");s.setAttributeNS(null,"id",i.maskId);var l=document.createElementNS(n,"svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",e(a)),l.setAttributeNS(null,"height",e(r)),l.setAttributeNS(null,"fill",o),l.setAttributeNS(null,"mask","url(#"+i.maskId+")"),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(l),this.paintInlineImageXObject(t,s)},paintFormXObjectBegin:function(t,i){if((0,s.isArray)(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),(0,s.isArray)(i)&&4===i.length){var a=i[2]-i[0],r=i[3]-i[1],o=document.createElementNS(n,"svg:rect");o.setAttributeNS(null,"x",i[0]),o.setAttributeNS(null,"y",i[1]),o.setAttributeNS(null,"width",e(a)),o.setAttributeNS(null,"height",e(r)),this.current.element=o,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(e){var i=document.createElementNS(n,"svg:svg");i.setAttributeNS(null,"version","1.1"),i.setAttributeNS(null,"width",e.width+"px"),i.setAttributeNS(null,"height",e.height+"px"),i.setAttributeNS(null,"preserveAspectRatio","none"),i.setAttributeNS(null,"viewBox","0 0 "+e.width+" "+e.height);var a=document.createElementNS(n,"svg:defs");i.appendChild(a),this.defs=a;var r=document.createElementNS(n,"svg:g");return r.setAttributeNS(null,"transform",t(e.transform)),i.appendChild(r),this.svg=r,i},_ensureClipGroup:function(){if(!this.current.clipGroup){var e=document.createElementNS(n,"svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=document.createElementNS(n,"svg:g"),this.tgrp.setAttributeNS(null,"transform",t(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},i}(),t.SVGGraphics=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var n=i(0),a=i(1),r=function(){var e=1e5,t=/\S/;var i=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function r(e,r,o){var s,l=document.createElement("div"),c={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(l),s=r.str,!t.test(s))return c.isWhitespace=!0,void e._textDivProperties.set(l,c);var d=n.Util.transform(e._viewport.transform,r.transform),u=Math.atan2(d[1],d[0]),h=o[r.fontName];h.vertical&&(u+=Math.PI/2);var p,f,m=Math.sqrt(d[2]*d[2]+d[3]*d[3]),g=m;if(h.ascent?g=h.ascent*g:h.descent&&(g=(1+h.descent)*g),0===u?(p=d[4],f=d[5]-g):(p=d[4]+g*Math.sin(u),f=d[5]-g*Math.cos(u)),i[1]=p,i[3]=f,i[5]=m,i[7]=h.fontFamily,c.style=i.join(""),l.setAttribute("style",c.style),l.textContent=r.str,(0,a.getDefaultSetting)("pdfBug")&&(l.dataset.fontName=r.fontName),0!==u&&(c.angle=u*(180/Math.PI)),r.str.length>1&&(h.vertical?c.canvasWidth=r.height*e._viewport.scale:c.canvasWidth=r.width*e._viewport.scale),e._textDivProperties.set(l,c),e._textContentStream&&e._layoutText(l),e._enhanceTextSelection){var v=1,b=0;0!==u&&(v=Math.cos(u),b=Math.sin(u));var y,_,w=(h.vertical?r.height:r.width)*e._viewport.scale,x=m;0!==u?(y=[v,b,-b,v,p,f],_=n.Util.getAxialAlignedBoundingBox([0,0,w,x],y)):_=[p,f,p+w,f+x],e._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:l,size:[w,x],m:y})}}function o(t){if(!t._canceled){var i=t._textDivs,n=t._capability,a=i.length;if(a>e)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var r=0;r<a;r++)t._layoutText(i[r]);t._renderingDone=!0,n.resolve()}}function s(e){for(var t=e._bounds,i=e._viewport,a=function(e,t,i){var n=i.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});l(e,n);var a=new Array(i.length);return n.forEach(function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),i.map(function(t,i){var r=a[i],o=n[i];o.x1=t.top,o.y1=e-r.right,o.x2=t.bottom,o.y2=e-r.left,o.index=i,o.x1New=void 0,o.x2New=void 0}),l(t,n),n.forEach(function(e){var t=e.index;a[t].top=e.x1New,a[t].bottom=e.x2New}),a}(i.width,i.height,t),r=0;r<a.length;r++){var o=t[r].div,s=e._textDivProperties.get(o);if(0!==s.angle){var c=a[r],d=t[r],u=d.m,h=u[0],p=u[1],f=[[0,0],[0,d.size[1]],[d.size[0],0],d.size],m=new Float64Array(64);f.forEach(function(e,t){var i=n.Util.applyTransform(e,u);m[t+0]=h&&(c.left-i[0])/h,m[t+4]=p&&(c.top-i[1])/p,m[t+8]=h&&(c.right-i[0])/h,m[t+12]=p&&(c.bottom-i[1])/p,m[t+16]=p&&(c.left-i[0])/-p,m[t+20]=h&&(c.top-i[1])/h,m[t+24]=p&&(c.right-i[0])/-p,m[t+28]=h&&(c.bottom-i[1])/h,m[t+32]=h&&(c.left-i[0])/-h,m[t+36]=p&&(c.top-i[1])/-p,m[t+40]=h&&(c.right-i[0])/-h,m[t+44]=p&&(c.bottom-i[1])/-p,m[t+48]=p&&(c.left-i[0])/p,m[t+52]=h&&(c.top-i[1])/-h,m[t+56]=p&&(c.right-i[0])/p,m[t+60]=h&&(c.bottom-i[1])/-h});var g=function(e,t,i){for(var n=0,a=0;a<i;a++){var r=e[t++];r>0&&(n=n?Math.min(r,n):r)}return n},v=1+Math.min(Math.abs(h),Math.abs(p));s.paddingLeft=g(m,32,16)/v,s.paddingTop=g(m,48,16)/v,s.paddingRight=g(m,0,16)/v,s.paddingBottom=g(m,16,16)/v,e._textDivProperties.set(o,s)}else s.paddingLeft=t[r].left-a[r].left,s.paddingTop=t[r].top-a[r].top,s.paddingRight=a[r].right-t[r].right,s.paddingBottom=a[r].bottom-t[r].bottom,e._textDivProperties.set(o,s)}}function l(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach(function(e){for(var t=0;t<i.length&&i[t].end<=e.y1;)t++;for(var n,a,r=i.length-1;r>=0&&i[r].start>=e.y2;)r--;var o,s,l=-1/0;for(o=t;o<=r;o++){var c;(c=(a=(n=i[o]).boundary).x2>e.x1?a.index>e.index?a.x1New:e.x1:void 0===a.x2New?(a.x2+e.x1)/2:a.x2New)>l&&(l=c)}for(e.x1New=l,o=t;o<=r;o++)void 0===(a=(n=i[o]).boundary).x2New?a.x2>e.x1?a.index>e.index&&(a.x2New=a.x2):a.x2New=l:a.x2New>l&&(a.x2New=Math.max(l,a.x2));var d=[],u=null;for(o=t;o<=r;o++){var h=(a=(n=i[o]).boundary).x2>e.x2?a:e;u===h?d[d.length-1].end=n.end:(d.push({start:n.start,end:n.end,boundary:h}),u=h)}for(i[t].start<e.y1&&(d[0].start=e.y1,d.unshift({start:i[t].start,end:e.y1,boundary:i[t].boundary})),e.y2<i[r].end&&(d[d.length-1].end=e.y2,d.push({start:e.y2,end:i[r].end,boundary:i[r].boundary})),o=t;o<=r;o++)if(void 0===(a=(n=i[o]).boundary).x2New){var p=!1;for(s=t-1;!p&&s>=0&&i[s].start>=a.y1;s--)p=i[s].boundary===a;for(s=r+1;!p&&s<i.length&&i[s].end<=a.y2;s++)p=i[s].boundary===a;for(s=0;!p&&s<d.length;s++)p=d[s].boundary===a;p||(a.x2New=l)}Array.prototype.splice.apply(i,[t,r-t+1].concat(d))}),i.forEach(function(t){var i=t.boundary;void 0===i.x2New&&(i.x2New=Math.max(e,i.x2))})}function c(e){var t=e.textContent,i=e.textContentStream,a=e.container,r=e.viewport,o=e.textDivs,s=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=t,this._textContentStream=i,this._container=a,this._viewport=r,this._textDivs=o||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!l,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}return c.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new n.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(e,t){for(var i=0,n=e.length;i<n;i++)this._textContentItemsStr.push(e[i].str),r(this,e[i],t)},_layoutText:function(e){var t=this._container,i=this._textDivProperties.get(e);if(!i.isWhitespace){var n=e.style.fontSize,r=e.style.fontFamily;n===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=n+" "+r,this._lastFontSize=n,this._lastFontFamily=r);var o=this._layoutTextCtx.measureText(e.textContent).width,s="";0!==i.canvasWidth&&o>0&&(i.scale=i.canvasWidth/o,s="scaleX("+i.scale+")"),0!==i.angle&&(s="rotate("+i.angle+"deg) "+s),""!==s&&(i.originalTransform=s,a.CustomStyle.setProp("transform",e,s)),this._textDivProperties.set(e,i),t.appendChild(e)}},_render:function(e){var t=this,i=(0,n.createPromiseCapability)(),a=Object.create(null),r=document.createElement("canvas");if(r.mozOpaque=!0,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then(function(r){var o=r.value;r.done?i.resolve():(n.Util.extendObj(a,o.styles),t._processItems(o.items,a),e())},i.reject)}()}i.promise.then(function(){a=null,e?t._renderTimer=setTimeout(function(){o(t),t._renderTimer=null},e):o(t)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(s(this),this._bounds=null);for(var t=0,i=this._textDivs.length;t<i;t++){var n=this._textDivs[t],r=this._textDivProperties.get(n);if(!r.isWhitespace)if(e){var o="",l="";1!==r.scale&&(o="scaleX("+r.scale+")"),0!==r.angle&&(o="rotate("+r.angle+"deg) "+o),0!==r.paddingLeft&&(l+=" padding-left: "+r.paddingLeft/r.scale+"px;",o+=" translateX("+-r.paddingLeft/r.scale+"px)"),0!==r.paddingTop&&(l+=" padding-top: "+r.paddingTop+"px;",o+=" translateY("+-r.paddingTop+"px)"),0!==r.paddingRight&&(l+=" padding-right: "+r.paddingRight/r.scale+"px;"),0!==r.paddingBottom&&(l+=" padding-bottom: "+r.paddingBottom+"px;"),""!==l&&n.setAttribute("style",r.style+l),""!==o&&a.CustomStyle.setProp("transform",n,o)}else n.style.padding=0,a.CustomStyle.setProp("transform",n,r.originalTransform||"")}}}},function(e){var t=new c({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=r},function(e,t,i){"use strict";function n(e){if("string"==typeof e)e=function(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var i=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,i,n){return String.fromCharCode(64*t+8*i+1*n)}),n="",a=0;a<i.length;a+=2){var r=256*i.charCodeAt(a)+i.charCodeAt(a+1);n+=r>=32&&r<127&&60!==r&&62!==r&&38!==r?String.fromCharCode(r):"&#x"+(65536+r).toString(16).substring(1)+";"}return">"+n})}(e),e=(new DOMParser).parseFromString(e,"application/xml");else if(!(e instanceof Document))throw new Error("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata=Object.create(null),this.parse()}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype={parse:function(){var e=this.metaDocument.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var t=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===t&&e.hasChildNodes()){var i,n,a,r,o,s,l,c=e.childNodes;for(r=0,s=c.length;r<s;r++)if("rdf:description"===(i=c[r]).nodeName.toLowerCase())for(o=0,l=i.childNodes.length;o<l;o++)"#text"!==i.childNodes[o].nodeName.toLowerCase()&&(a=(n=i.childNodes[o]).nodeName.toLowerCase(),this.metadata[a]=n.textContent.trim())}},get:function(e){return this.metadata[e]||null},has:function(e){return void 0!==this.metadata[e]}},t.Metadata=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUtils=void 0;var n=i(1),a=i(0),r=function(){function e(e,t,i){var n=e.createShader(i);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+a)}return n}function t(t,i){return e(t,i,t.VERTEX_SHADER)}function i(t,i){return e(t,i,t.FRAGMENT_SHADER)}function r(e,t){for(var i=e.createProgram(),n=0,a=t.length;n<a;++n)e.attachShader(i,t[n]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var r=e.getProgramInfoLog(i);throw new Error("Error during program linking: "+r)}return i}function o(e,t,i){e.activeTexture(i);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var s,l;function c(){s||(l=document.createElement("canvas"),s=l.getContext("webgl",{premultipliedalpha:!1}))}var d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",u="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",h=null;var p="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",f="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m=null;return{get isEnabled(){if((0,n.getDefaultSetting)("disableWebGL"))return!1;var e=!1;try{c(),e=!!s}catch(e){}return(0,a.shadow)(this,"isEnabled",e)},composeSMask:function(e,n,a){var p=e.width,f=e.height;h||function(){var e,n;c(),e=l,l=null,n=s,s=null;var a=r(n,[t(n,d),i(n,u)]);n.useProgram(a);var o={};o.gl=n,o.canvas=e,o.resolutionLocation=n.getUniformLocation(a,"u_resolution"),o.positionLocation=n.getAttribLocation(a,"a_position"),o.backdropLocation=n.getUniformLocation(a,"u_backdrop"),o.subtypeLocation=n.getUniformLocation(a,"u_subtype");var p=n.getAttribLocation(a,"a_texCoord"),f=n.getUniformLocation(a,"u_image"),m=n.getUniformLocation(a,"u_mask"),g=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,g),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),n.enableVertexAttribArray(p),n.vertexAttribPointer(p,2,n.FLOAT,!1,0,0),n.uniform1i(f,0),n.uniform1i(m,1),h=o}();var m=h,g=m.canvas,v=m.gl;g.width=p,g.height=f,v.viewport(0,0,v.drawingBufferWidth,v.drawingBufferHeight),v.uniform2f(m.resolutionLocation,p,f),a.backdrop?v.uniform4f(m.resolutionLocation,a.backdrop[0],a.backdrop[1],a.backdrop[2],1):v.uniform4f(m.resolutionLocation,0,0,0,0),v.uniform1i(m.subtypeLocation,"Luminosity"===a.subtype?1:0);var b=o(v,e,v.TEXTURE0),y=o(v,n,v.TEXTURE1),_=v.createBuffer();return v.bindBuffer(v.ARRAY_BUFFER,_),v.bufferData(v.ARRAY_BUFFER,new Float32Array([0,0,p,0,0,f,0,f,p,0,p,f]),v.STATIC_DRAW),v.enableVertexAttribArray(m.positionLocation),v.vertexAttribPointer(m.positionLocation,2,v.FLOAT,!1,0,0),v.clearColor(0,0,0,0),v.enable(v.BLEND),v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA),v.clear(v.COLOR_BUFFER_BIT),v.drawArrays(v.TRIANGLES,0,6),v.flush(),v.deleteTexture(b),v.deleteTexture(y),v.deleteBuffer(_),g},drawFigures:function(e,n,a,o,d){m||function(){var e,n;c(),e=l,l=null,n=s,s=null;var a=r(n,[t(n,p),i(n,f)]);n.useProgram(a);var o={};o.gl=n,o.canvas=e,o.resolutionLocation=n.getUniformLocation(a,"u_resolution"),o.scaleLocation=n.getUniformLocation(a,"u_scale"),o.offsetLocation=n.getUniformLocation(a,"u_offset"),o.positionLocation=n.getAttribLocation(a,"a_position"),o.colorLocation=n.getAttribLocation(a,"a_color"),m=o}();var u=m,h=u.canvas,g=u.gl;h.width=e,h.height=n,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(u.resolutionLocation,e,n);var v,b,y,_=0;for(v=0,b=o.length;v<b;v++)switch(o[v].type){case"lattice":_+=((y=o[v].coords.length/o[v].verticesPerRow|0)-1)*(o[v].verticesPerRow-1)*6;break;case"triangles":_+=o[v].coords.length}var w=new Float32Array(2*_),x=new Uint8Array(3*_),C=d.coords,S=d.colors,T=0,k=0;for(v=0,b=o.length;v<b;v++){var A=o[v],E=A.coords,N=A.colors;switch(A.type){case"lattice":var P=A.verticesPerRow;y=E.length/P|0;for(var R=1;R<y;R++)for(var I=R*P+1,L=1;L<P;L++,I++)w[T]=C[E[I-P-1]],w[T+1]=C[E[I-P-1]+1],w[T+2]=C[E[I-P]],w[T+3]=C[E[I-P]+1],w[T+4]=C[E[I-1]],w[T+5]=C[E[I-1]+1],x[k]=S[N[I-P-1]],x[k+1]=S[N[I-P-1]+1],x[k+2]=S[N[I-P-1]+2],x[k+3]=S[N[I-P]],x[k+4]=S[N[I-P]+1],x[k+5]=S[N[I-P]+2],x[k+6]=S[N[I-1]],x[k+7]=S[N[I-1]+1],x[k+8]=S[N[I-1]+2],w[T+6]=w[T+2],w[T+7]=w[T+3],w[T+8]=w[T+4],w[T+9]=w[T+5],w[T+10]=C[E[I]],w[T+11]=C[E[I]+1],x[k+9]=x[k+3],x[k+10]=x[k+4],x[k+11]=x[k+5],x[k+12]=x[k+6],x[k+13]=x[k+7],x[k+14]=x[k+8],x[k+15]=S[N[I]],x[k+16]=S[N[I]+1],x[k+17]=S[N[I]+2],T+=12,k+=18;break;case"triangles":for(var D=0,U=E.length;D<U;D++)w[T]=C[E[D]],w[T+1]=C[E[D]+1],x[k]=S[N[D]],x[k+1]=S[N[D]+1],x[k+2]=S[N[D]+2],T+=2,k+=3}}a?g.clearColor(a[0]/255,a[1]/255,a[2]/255,1):g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT);var O=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,O),g.bufferData(g.ARRAY_BUFFER,w,g.STATIC_DRAW),g.enableVertexAttribArray(u.positionLocation),g.vertexAttribPointer(u.positionLocation,2,g.FLOAT,!1,0,0);var M=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,M),g.bufferData(g.ARRAY_BUFFER,x,g.STATIC_DRAW),g.enableVertexAttribArray(u.colorLocation),g.vertexAttribPointer(u.colorLocation,3,g.UNSIGNED_BYTE,!1,0,0),g.uniform2f(u.scaleLocation,d.scaleX,d.scaleY),g.uniform2f(u.offsetLocation,d.offsetX,d.offsetY),g.drawArrays(g.TRIANGLES,0,_),g.flush(),g.deleteBuffer(O),g.deleteBuffer(M),h},clear:function(){h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0),m&&m.canvas&&(m.canvas.width=0,m.canvas.height=0),h=null,m=null}}}();t.WebGLUtils=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFJS=t.isWorker=t.globalScope=void 0;var n=i(2),a=i(1),r=i(0),o=i(3),s=i(6),l=i(5),c=i(4),d="undefined"==typeof window;r.globalScope.PDFJS||(r.globalScope.PDFJS={});var u=r.globalScope.PDFJS;u.version="1.9.426",u.build="2558a58d",u.pdfBug=!1,void 0!==u.verbosity&&(0,r.setVerbosityLevel)(u.verbosity),delete u.verbosity,Object.defineProperty(u,"verbosity",{get:function(){return(0,r.getVerbosityLevel)()},set:function(e){(0,r.setVerbosityLevel)(e)},enumerable:!0,configurable:!0}),u.VERBOSITY_LEVELS=r.VERBOSITY_LEVELS,u.OPS=r.OPS,u.UNSUPPORTED_FEATURES=r.UNSUPPORTED_FEATURES,u.isValidUrl=a.isValidUrl,u.shadow=r.shadow,u.createBlob=r.createBlob,u.createObjectURL=function(e,t){return(0,r.createObjectURL)(e,t,u.disableCreateObjectURL)},Object.defineProperty(u,"isLittleEndian",{configurable:!0,get:function(){return(0,r.shadow)(u,"isLittleEndian",(0,r.isLittleEndian)())}}),u.removeNullCharacters=r.removeNullCharacters,u.PasswordResponses=r.PasswordResponses,u.PasswordException=r.PasswordException,u.UnknownErrorException=r.UnknownErrorException,u.InvalidPDFException=r.InvalidPDFException,u.MissingPDFException=r.MissingPDFException,u.UnexpectedResponseException=r.UnexpectedResponseException,u.Util=r.Util,u.PageViewport=r.PageViewport,u.createPromiseCapability=r.createPromiseCapability,u.maxImageSize=void 0===u.maxImageSize?-1:u.maxImageSize,u.cMapUrl=void 0===u.cMapUrl?null:u.cMapUrl,u.cMapPacked=void 0!==u.cMapPacked&&u.cMapPacked,u.disableFontFace=void 0!==u.disableFontFace&&u.disableFontFace,u.imageResourcesPath=void 0===u.imageResourcesPath?"":u.imageResourcesPath,u.disableWorker=void 0!==u.disableWorker&&u.disableWorker,u.workerSrc=void 0===u.workerSrc?null:u.workerSrc,u.workerPort=void 0===u.workerPort?null:u.workerPort,u.disableRange=void 0!==u.disableRange&&u.disableRange,u.disableStream=void 0!==u.disableStream&&u.disableStream,u.disableAutoFetch=void 0!==u.disableAutoFetch&&u.disableAutoFetch,u.pdfBug=void 0!==u.pdfBug&&u.pdfBug,u.postMessageTransfers=void 0===u.postMessageTransfers||u.postMessageTransfers,u.disableCreateObjectURL=void 0!==u.disableCreateObjectURL&&u.disableCreateObjectURL,u.disableWebGL=void 0===u.disableWebGL||u.disableWebGL,u.externalLinkTarget=void 0===u.externalLinkTarget?a.LinkTarget.NONE:u.externalLinkTarget,u.externalLinkRel=void 0===u.externalLinkRel?a.DEFAULT_LINK_REL:u.externalLinkRel,u.isEvalSupported=void 0===u.isEvalSupported||u.isEvalSupported,u.pdfjsNext=void 0!==u.pdfjsNext&&u.pdfjsNext;var h=u.openExternalLinksInNewWindow;delete u.openExternalLinksInNewWindow,Object.defineProperty(u,"openExternalLinksInNewWindow",{get:function(){return u.externalLinkTarget===a.LinkTarget.BLANK},set:function(e){e&&(0,r.deprecated)('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),u.externalLinkTarget===a.LinkTarget.NONE?u.externalLinkTarget=e?a.LinkTarget.BLANK:a.LinkTarget.NONE:(0,r.warn)("PDFJS.externalLinkTarget is already initialized")},enumerable:!0,configurable:!0}),h&&(u.openExternalLinksInNewWindow=h),u.getDocument=n.getDocument,u.LoopbackPort=n.LoopbackPort,u.PDFDataRangeTransport=n.PDFDataRangeTransport,u.PDFWorker=n.PDFWorker,u.hasCanvasTypedArrays=!0,u.CustomStyle=a.CustomStyle,u.LinkTarget=a.LinkTarget,u.addLinkAttributes=a.addLinkAttributes,u.getFilenameFromUrl=a.getFilenameFromUrl,u.isExternalLinkTargetSet=a.isExternalLinkTargetSet,u.AnnotationLayer=o.AnnotationLayer,u.renderTextLayer=l.renderTextLayer,u.Metadata=s.Metadata,u.SVGGraphics=c.SVGGraphics,u.UnsupportedManager=n._UnsupportedManager,t.globalScope=r.globalScope,t.isWorker=d,t.PDFJS=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.PDFNetworkStream=void 0;var n=i(0),a=i(2);function r(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function o(e){var t=e.response;if("string"!=typeof t)return t;for(var i=t.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=255&t.charCodeAt(a);return n.buffer}var s=function(){try{var e=new XMLHttpRequest;return e.open("GET",n.globalScope.location.href),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return!1}}();function l(e){this._options=e;var t=e.source;this._manager=new r(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function c(e,t){this._manager=e;var i=t.source,a={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:i.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(a),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this.onProgress=null}function d(e,t,i){this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,i,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}r.prototype={requestRange:function(e,t,i){var n={begin:e,end:t};for(var a in i)n[a]=i[a];return this.request(n)},requestFull:function(e){return this.request(e)},request:function(e){var t=this.getXhr(),i=this.currXhrId++,n=this.pendingRequests[i]={xhr:t};for(var a in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var r=this.httpHeaders[a];void 0!==r&&t.setRequestHeader(a,r)}if(this.isHttp&&"begin"in e&&"end"in e){var o=e.begin+"-"+(e.end-1);t.setRequestHeader("Range","bytes="+o),n.expectedStatus=206}else n.expectedStatus=200;return s&&!!e.onProgressiveData?(t.responseType="moz-chunked-arraybuffer",n.onProgressiveData=e.onProgressiveData,n.mozChunked=!0):t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),i},onProgress:function(e,t){var i=this.pendingRequests[e];if(i){if(i.mozChunked){var n=o(i.xhr);i.onProgressiveData(n)}var a=i.onProgress;a&&a(t)}},onStateChange:function(e,t){var i=this.pendingRequests[e];if(i){var n=i.xhr;if(n.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===n.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===n.status&&this.isHttp)i.onError&&i.onError(n.status);else{var a=n.status||200;if(200===a&&206===i.expectedStatus||a===i.expectedStatus){this.loadedRequests[e]=!0;var r=o(n);if(206===a){var s=n.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(s),c=parseInt(l[1],10);i.onDone({begin:c,chunk:r})}else i.onProgressiveData?i.onDone(null):r?i.onDone({begin:0,chunk:r}):i.onError&&i.onError(n.status)}else i.onError&&i.onError(n.status)}}},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},l.prototype={_onRangeRequestReaderClosed:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)},getFullReader:function(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new c(this._manager,this._options),this._fullRequestReader},getRangeReader:function(e,t){var i=new d(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}},c.prototype={_validateRangeRequestCapabilities:function(){if(this._disableRange)return!1;var e=this._manager;if(!e.isHttp)return!1;var t=this._fullRequestId,i=e.getRequestXhr(t);if("bytes"!==i.getResponseHeader("Accept-Ranges"))return!1;if("identity"!==(i.getResponseHeader("Content-Encoding")||"identity"))return!1;var a=i.getResponseHeader("Content-Length");return a=parseInt(a,10),!!(0,n.isInt)(a)&&(this._contentLength=a,!(a<=2*this._rangeChunkSize))},_onHeadersReceived:function(){this._validateRangeRequestCapabilities()&&(this._isRangeSupported=!0);var e=this._manager,t=this._fullRequestId;e.isStreamingRequest(t)?this._isStreamingSupported=!0:this._isRangeSupported&&e.abortRequest(t),this._headersReceivedCapability.resolve()},_onProgressiveData:function(e){this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e)},_onDone:function(e){e&&this._onProgressiveData(e.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(e){var t,i=this._url;t=404===e||0===e&&/^file:/.test(i)?new n.MissingPDFException('Missing PDF "'+i+'".'):new n.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+i+'".',e),this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach(function(e){e.reject(t)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(this._cachedChunks.length>0){var e=this._cachedChunks.shift();return Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},d.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},(0,a.setPDFNetworkStreamClass)(l),t.PDFNetworkStream=l,t.NetworkManager=r},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){for(var i in t)e[i]=t[i]}(t,function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e,t,i){var a="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return void 0===e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":n(e)},r=i(1).assert;function o(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":a(e))}function s(e,t,i){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}t.typeIsObject=function(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e||"function"==typeof e},t.createDataProperty=function(e,i,n){r(t.typeIsObject(e)),Object.defineProperty(e,i,{value:n,writable:!0,enumerable:!0,configurable:!0})},t.createArrayFromList=function(e){return e.slice()},t.ArrayBufferCopy=function(e,t,i,n,a){new Uint8Array(e).set(new Uint8Array(i,n,a),t)},t.CreateIterResultObject=function(e,t){r("boolean"==typeof t);var i={};return Object.defineProperty(i,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(i,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),i},t.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&(e!==1/0&&!(e<0))},t.InvokeOrNoop=function(e,t,i){r(void 0!==e),r(o(t)),r(Array.isArray(i));var n=e[t];if(void 0!==n)return s(n,e,i)},t.PromiseInvokeOrNoop=function(e,i,n){r(void 0!==e),r(o(i)),r(Array.isArray(n));try{return Promise.resolve(t.InvokeOrNoop(e,i,n))}catch(e){return Promise.reject(e)}},t.PromiseInvokeOrPerformFallback=function(e,t,i,n,a){r(void 0!==e),r(o(t)),r(Array.isArray(i)),r(Array.isArray(a));var l=void 0;try{l=e[t]}catch(e){return Promise.reject(e)}if(void 0===l)return n.apply(null,a);try{return Promise.resolve(s(l,e,i))}catch(e){return Promise.reject(e)}},t.TransferArrayBuffer=function(e){return e.slice()},t.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},t.ValidateAndNormalizeQueuingStrategy=function(e,i){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return{size:e,highWaterMark:i=t.ValidateAndNormalizeHighWaterMark(i)}}},function(e,t,i){function n(e){this.name="AssertionError",this.message=e||"",this.stack=(new Error).stack}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===n&&setTimeout(function(){throw e},0)},AssertionError:n,assert:function(e,t){if(!e)throw new n(t)}}},function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),o=r.InvokeOrNoop,s=r.PromiseInvokeOrNoop,l=r.ValidateAndNormalizeQueuingStrategy,c=r.typeIsObject,d=i(1),u=d.assert,h=d.rethrowAssertionErrorRejection,p=i(3),f=p.DequeueValue,m=p.EnqueueValueWithSize,g=p.PeekQueueValue,v=p.ResetQueue,b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.size,r=i.highWaterMark,o=void 0===r?1:r;if(a(this,e),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==t.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new B(this,t,n,o),this._writableStreamController.__startSteps()}return n(e,[{key:"abort",value:function(e){return!1===_(this)?Promise.reject(V("abort")):!0===w(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):x(this,e)}},{key:"getWriter",value:function(){if(!1===_(this))throw V("getWriter");return y(this)}},{key:"locked",get:function(){if(!1===_(this))throw V("locked");return w(this)}}]),e}();function y(e){return new R(e)}function _(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function w(e){return u(!0===_(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function x(e,t){var i=e._state;if("closed"===i)return Promise.resolve(void 0);if("errored"===i)return Promise.reject(e._storedError);var n=new TypeError("Requested to abort");if(void 0!==e._pendingAbortRequest)return Promise.reject(n);u("writable"===i||"erroring"===i,"state must be writable or erroring");var a=!1;"erroring"===i&&(a=!0,t=void 0);var r=new Promise(function(i,n){e._pendingAbortRequest={_resolve:i,_reject:n,_reason:t,_wasAlreadyErroring:a}});return!1===a&&S(e,n),r}function C(e,t){var i=e._state;"writable"!==i?(u("erroring"===i),T(e)):S(e,t)}function S(e,t){u(void 0===e._storedError,"stream._storedError === undefined"),u("writable"===e._state,"state must be writable");var i=e._writableStreamController;u(void 0!==i,"controller must not be undefined"),e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&U(n,t),!1===E(e)&&!0===i._started&&T(e)}function T(e){u("erroring"===e._state,"stream._state === erroring"),u(!1===E(e),"WritableStreamHasOperationMarkedInFlight(stream) === false"),e._state="errored",e._writableStreamController.__errorSteps();for(var t=e._storedError,i=0;i<e._writeRequests.length;i++){e._writeRequests[i]._reject(t)}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void N(e);e._writableStreamController.__abortSteps(n._reason).then(function(){n._resolve(),N(e)},function(t){n._reject(t),N(e)})}else N(e)}function k(e){u(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;u("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var i=e._writer;void 0!==i&&function(e){u(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),u(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),u("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(i),u(void 0===e._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),u(void 0===e._storedError,"stream._storedError === undefined")}function A(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function E(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function N(e){u("errored"===e._state,'_stream_.[[state]] is `"errored"`'),void 0!==e._closeRequest&&(u(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(G(t,e._storedError),t._closedPromise.catch(function(){}))}function P(e,t){u("writable"===e._state),u(!1===A(e));var i=e._writer;void 0!==i&&t!==e._backpressure&&(!0===t?function(e){u(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),u(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=new Promise(function(t,i){e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}(i):(u(!1===t),K(i))),e._backpressure=t}e.exports={AcquireWritableStreamDefaultWriter:y,IsWritableStream:_,IsWritableStreamLocked:w,WritableStream:b,WritableStreamAbort:x,WritableStreamDefaultControllerError:q,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream;u(void 0!==t);var i=t._state;if(!0===A(t)||"closed"===i)return Promise.resolve();if("errored"===i)return Promise.reject(t._storedError);return u("writable"===i||"erroring"===i),L(e)},WritableStreamDefaultWriterRelease:O,WritableStreamDefaultWriterWrite:M,WritableStreamCloseQueuedOrInFlight:A};var R=function(){function e(t){if(a(this,e),!1===_(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===w(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var i,n=t._state;if("writable"===n)!1===A(t)&&!0===t._backpressure?((i=this)._readyPromise=new Promise(function(e,t){i._readyPromise_resolve=e,i._readyPromise_reject=t}),i._readyPromiseState="pending"):J(this),Y(this);else if("erroring"===n)X(this,t._storedError),this._readyPromise.catch(function(){}),Y(this);else if("closed"===n)J(this),function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(this);else{u("errored"===n,"state must be errored");var r=t._storedError;X(this,r),this._readyPromise.catch(function(){}),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}(this,r),this._closedPromise.catch(function(){})}}return n(e,[{key:"abort",value:function(e){return!1===I(this)?Promise.reject(z("abort")):void 0===this._ownerWritableStream?Promise.reject($("abort")):function(e,t){var i=e._ownerWritableStream;return u(void 0!==i),x(i,t)}(this,e)}},{key:"close",value:function(){if(!1===I(this))return Promise.reject(z("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject($("close")):!0===A(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):L(this)}},{key:"releaseLock",value:function(){if(!1===I(this))throw z("releaseLock");var e=this._ownerWritableStream;void 0!==e&&(u(void 0!==e._writer),O(this))}},{key:"write",value:function(e){return!1===I(this)?Promise.reject(z("write")):void 0===this._ownerWritableStream?Promise.reject($("write to")):M(this,e)}},{key:"closed",get:function(){return!1===I(this)?Promise.reject(z("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===I(this))throw z("desiredSize");if(void 0===this._ownerWritableStream)throw $("desiredSize");return function(e){var t=e._ownerWritableStream,i=t._state;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return F(t._writableStreamController)}(this)}},{key:"ready",get:function(){return!1===I(this)?Promise.reject(z("ready")):this._readyPromise}}]),e}();function I(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function L(e){var t=e._ownerWritableStream;u(void 0!==t);var i=t._state;if("closed"===i||"errored"===i)return Promise.reject(new TypeError("The stream (in "+i+" state) is not in the writable state and cannot be closed"));u("writable"===i||"erroring"===i),u(!1===A(t));var n,a=new Promise(function(e,i){var n={_resolve:e,_reject:i};t._closeRequest=n});return!0===t._backpressure&&"writable"===i&&K(e),n=t._writableStreamController,m(n,"close",0),j(n),a}function D(e,t){"pending"===e._closedPromiseState?G(e,t):function(e,t){u(void 0===e._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),u(void 0===e._closedPromise_reject,"writer._closedPromise_reject === undefined"),u("pending"!==e._closedPromiseState,"writer._closedPromiseState is not pending"),e._closedPromise=Promise.reject(t),e._closedPromiseState="rejected"}(e,t),e._closedPromise.catch(function(){})}function U(e,t){"pending"===e._readyPromiseState?function(e,t){u(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),u(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}(e,t):function(e,t){u(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),u(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=Promise.reject(t),e._readyPromiseState="rejected"}(e,t),e._readyPromise.catch(function(){})}function O(e){var t=e._ownerWritableStream;u(void 0!==t),u(t._writer===e);var i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");U(e,i),D(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function M(e,t){var i=e._ownerWritableStream;u(void 0!==i);var n=i._writableStreamController,a=function(e,t){var i=e._strategySize;if(void 0===i)return 1;try{return i(t)}catch(t){return H(e,t),1}}(n,t);if(i!==e._ownerWritableStream)return Promise.reject($("write to"));var r=i._state;if("errored"===r)return Promise.reject(i._storedError);if(!0===A(i)||"closed"===r)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===r)return Promise.reject(i._storedError);u("writable"===r);var o=function(e){return u(!0===w(e)),u("writable"===e._state),new Promise(function(t,i){var n={_resolve:t,_reject:i};e._writeRequests.push(n)})}(i);return function(e,t,i){var n={chunk:t};try{m(e,n,i)}catch(t){return void H(e,t)}var a=e._controlledWritableStream;if(!1===A(a)&&"writable"===a._state){var r=W(e);P(a,r)}j(e)}(n,t,a),o}var B=function(){function e(t,i,n,r){if(a(this,e),!1===_(t))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==t._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=t,this._underlyingSink=i,this._queue=void 0,this._queueTotalSize=void 0,v(this),this._started=!1;var o=l(n,r);this._strategySize=o.size,this._strategyHWM=o.highWaterMark,P(t,W(this))}return n(e,[{key:"error",value:function(e){if(!1===function(e){if(!c(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_underlyingSink"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&q(this,e)}},{key:"__abortSteps",value:function(e){return s(this._underlyingSink,"abort",[e])}},{key:"__errorSteps",value:function(){v(this)}},{key:"__startSteps",value:function(){var e=this,t=o(this._underlyingSink,"start",[this]),i=this._controlledWritableStream;Promise.resolve(t).then(function(){u("writable"===i._state||"erroring"===i._state),e._started=!0,j(e)},function(t){u("writable"===i._state||"erroring"===i._state),e._started=!0,C(i,t)}).catch(h)}}]),e}();function F(e){return e._strategyHWM-e._queueTotalSize}function j(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var i=t._state;if("closed"!==i&&"errored"!==i)if("erroring"!==i){if(0!==e._queue.length){var n=g(e);"close"===n?function(e){var t=e._controlledWritableStream;(function(e){u(void 0===e._inFlightCloseRequest),u(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),f(e),u(0===e._queue.length,"queue must be empty once the final write record is dequeued"),s(e._underlyingSink,"close",[]).then(function(){k(t)},function(e){!function(e,t){u(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,u("writable"===e._state||"erroring"===e._state),void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),C(e,t)}(t,e)}).catch(h)}(e):function(e,t){var i=e._controlledWritableStream;(function(e){u(void 0===e._inFlightWriteRequest,"there must be no pending write request"),u(0!==e._writeRequests.length,"writeRequests must not be empty"),e._inFlightWriteRequest=e._writeRequests.shift()})(i),s(e._underlyingSink,"write",[t,e]).then(function(){!function(e){u(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(i);var t=i._state;if(u("writable"===t||"erroring"===t),f(e),!1===A(i)&&"writable"===t){var n=W(e);P(i,n)}j(e)},function(e){!function(e,t){u(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,u("writable"===e._state||"erroring"===e._state),C(e,t)}(i,e)}).catch(h)}(e,n.chunk)}}else T(t)}}function H(e,t){"writable"===e._controlledWritableStream._state&&q(e,t)}function W(e){return F(e)<=0}function q(e,t){var i=e._controlledWritableStream;u("writable"===i._state),S(i,t)}function V(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function z(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function $(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Y(e){e._closedPromise=new Promise(function(t,i){e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function G(e,t){u(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),u(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),u("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function X(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function J(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function K(e){u(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),u(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}},function(e,t,i){var n=i(0).IsFiniteNonNegativeNumber,a=i(1).assert;t.DequeueValue=function(e){a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a(e._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,i){if(a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),i=Number(i),!n(i))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i},t.PeekQueueValue=function(e){return a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a(e._queue.length>0,"Spec-level failure: should never peek at an empty queue."),e._queue[0].value},t.ResetQueue=function(e){a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),o=r.ArrayBufferCopy,s=r.CreateIterResultObject,l=r.IsFiniteNonNegativeNumber,c=r.InvokeOrNoop,d=r.PromiseInvokeOrNoop,u=r.TransferArrayBuffer,h=r.ValidateAndNormalizeQueuingStrategy,p=r.ValidateAndNormalizeHighWaterMark,f=i(0),m=f.createArrayFromList,g=f.createDataProperty,v=f.typeIsObject,b=i(1),y=b.assert,_=b.rethrowAssertionErrorRejection,w=i(3),x=w.DequeueValue,C=w.EnqueueValueWithSize,S=w.ResetQueue,T=i(2),k=T.AcquireWritableStreamDefaultWriter,A=T.IsWritableStream,E=T.IsWritableStreamLocked,N=T.WritableStreamAbort,P=T.WritableStreamDefaultWriterCloseWithErrorPropagation,R=T.WritableStreamDefaultWriterRelease,I=T.WritableStreamDefaultWriterWrite,L=T.WritableStreamCloseQueuedOrInFlight,D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.size,r=i.highWaterMark;a(this,e),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var o=t.type;if("bytes"===String(o))void 0===r&&(r=0),this._readableStreamController=new he(this,t,r);else{if(void 0!==o)throw new RangeError("Invalid type is specified");void 0===r&&(r=1),this._readableStreamController=new ne(this,t,n,r)}}return n(e,[{key:"cancel",value:function(e){return!1===O(this)?Promise.reject(Ne("cancel")):!0===M(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):H(this,e)}},{key:"getReader",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===O(this))throw Ne("getReader");if(void 0===e)return U(this);if("byob"===(e=String(e)))return new J(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var i=e.writable,n=e.readable;return function(e){try{Promise.prototype.then.call(e,void 0,function(){})}catch(e){}}(this.pipeTo(i,t)),n}},{key:"pipeTo",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.preventClose,a=i.preventAbort,r=i.preventCancel;if(!1===O(this))return Promise.reject(Ne("pipeTo"));if(!1===A(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(n=Boolean(n),a=Boolean(a),r=Boolean(r),!0===M(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===E(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var o=U(this),s=k(e),l=!1,c=Promise.resolve();return new Promise(function(i,d){var u,h,p;if(g(t,o._closedPromise,function(t){!1===a?v(function(){return N(e,t)},!0,t):b(!0,t)}),g(e,s._closedPromise,function(e){!1===r?v(function(){return H(t,e)},!0,e):b(!0,e)}),u=t,h=o._closedPromise,p=function(){!1===n?v(function(){return P(s)}):b()},"closed"===u._state?p():h.then(p).catch(_),!0===L(e)||"closed"===e._state){var f=new TypeError("the destination writable stream closed before all data could be piped to it");!1===r?v(function(){return H(t,f)},!0,f):b(!0,f)}function m(){var e=c;return c.then(function(){return e!==c?m():void 0})}function g(e,t,i){"errored"===e._state?i(e._storedError):t.catch(i).catch(_)}function v(t,i,n){function a(){t().then(function(){return y(i,n)},function(e){return y(!0,e)}).catch(_)}!0!==l&&(l=!0,"writable"===e._state&&!1===L(e)?m().then(a):a())}function b(t,i){!0!==l&&(l=!0,"writable"===e._state&&!1===L(e)?m().then(function(){return y(t,i)}).catch(_):y(t,i))}function y(e,t){R(s),te(o),e?d(t):i(void 0)}(function e(){return c=Promise.resolve(),!0===l?Promise.resolve():s._readyPromise.then(function(){return ie(o).then(function(e){var t=e.value;!0!==e.done&&(c=I(s,t).catch(function(){}))})}).then(e)})().catch(function(e){c=Promise.resolve(),_(e)})})}},{key:"tee",value:function(){if(!1===O(this))throw Ne("tee");var e=B(this,!1);return m(e)}},{key:"locked",get:function(){if(!1===O(this))throw Ne("locked");return M(this)}}]),e}();function U(e){return new X(e)}function O(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function M(e){return y(!0===O(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function B(e,t){y(!0===O(e)),y("boolean"==typeof t);var i=U(e),n={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};n.promise=new Promise(function(e){n._resolve=e});var a=function(){return function e(){var t=e._reader,i=e._branch1,n=e._branch2,a=e._teeState;return ie(t).then(function(e){y(v(e));var t=e.value,r=e.done;if(y("boolean"==typeof r),!0===r&&!1===a.closedOrErrored&&(!1===a.canceled1&&oe(i),!1===a.canceled2&&oe(n),a.closedOrErrored=!0),!0!==a.closedOrErrored){var o=t,s=t;!1===a.canceled1&&se(i,o),!1===a.canceled2&&se(n,s)}})}}();a._reader=i,a._teeState=n,a._cloneForBranch2=t;var r=function(){return function e(t){var i=e._stream,n=e._teeState;n.canceled1=!0;n.reason1=t;if(!0===n.canceled2){var a=m([n.reason1,n.reason2]),r=H(i,a);n._resolve(r)}return n.promise}}();r._stream=e,r._teeState=n;var o=function(){return function e(t){var i=e._stream,n=e._teeState;n.canceled2=!0;n.reason2=t;if(!0===n.canceled1){var a=m([n.reason1,n.reason2]),r=H(i,a);n._resolve(r)}return n.promise}}();o._stream=e,o._teeState=n;var s=Object.create(Object.prototype);g(s,"pull",a),g(s,"cancel",r);var l=new D(s),c=Object.create(Object.prototype);g(c,"pull",a),g(c,"cancel",o);var d=new D(c);return a._branch1=l._readableStreamController,a._branch2=d._readableStreamController,i._closedPromise.catch(function(e){!0!==n.closedOrErrored&&(le(a._branch1,e),le(a._branch2,e),n.closedOrErrored=!0)}),[l,d]}function F(e){return y(!0===K(e._reader)),y("readable"===e._state||"closed"===e._state),new Promise(function(t,i){var n={_resolve:t,_reject:i};e._reader._readIntoRequests.push(n)})}function j(e){return y(!0===Q(e._reader)),y("readable"===e._state),new Promise(function(t,i){var n={_resolve:t,_reject:i};e._reader._readRequests.push(n)})}function H(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(W(e),e._readableStreamController.__cancelSteps(t).then(function(){}))}function W(e){y("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===Q(t)){for(var i=0;i<t._readRequests.length;i++){(0,t._readRequests[i]._resolve)(s(void 0,!0))}t._readRequests=[]}!function(e){y(void 0!==e._closedPromise_resolve),y(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(t)}}function q(e,t){y(!0===O(e),"stream must be ReadableStream"),y("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var i=e._reader;if(void 0!==i){if(!0===Q(i)){for(var n=0;n<i._readRequests.length;n++){i._readRequests[n]._reject(t)}i._readRequests=[]}else{y(K(i),"reader must be ReadableStreamBYOBReader");for(var a=0;a<i._readIntoRequests.length;a++){i._readIntoRequests[a]._reject(t)}i._readIntoRequests=[]}Ie(i,t),i._closedPromise.catch(function(){})}}function V(e,t,i){var n=e._reader;y(n._readRequests.length>0),n._readRequests.shift()._resolve(s(t,i))}function z(e){return e._reader._readIntoRequests.length}function $(e){return e._reader._readRequests.length}function Y(e){var t=e._reader;return void 0!==t&&!1!==K(t)}function G(e){var t=e._reader;return void 0!==t&&!1!==Q(t)}e.exports={ReadableStream:D,IsReadableStreamDisturbed:function(e){return y(!0===O(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed},ReadableStreamDefaultControllerClose:oe,ReadableStreamDefaultControllerEnqueue:se,ReadableStreamDefaultControllerError:le,ReadableStreamDefaultControllerGetDesiredSize:de};var X=function(){function e(t){if(a(this,e),!1===O(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===M(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,t),this._readRequests=[]}return n(e,[{key:"cancel",value:function(e){return!1===Q(this)?Promise.reject(Re("cancel")):void 0===this._ownerReadableStream?Promise.reject(Pe("cancel")):ee(this,e)}},{key:"read",value:function(){return!1===Q(this)?Promise.reject(Re("read")):void 0===this._ownerReadableStream?Promise.reject(Pe("read from")):ie(this)}},{key:"releaseLock",value:function(){if(!1===Q(this))throw Re("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");te(this)}}},{key:"closed",get:function(){return!1===Q(this)?Promise.reject(Re("closed")):this._closedPromise}}]),e}(),J=function(){function e(t){if(a(this,e),!O(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===pe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(M(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,t),this._readIntoRequests=[]}return n(e,[{key:"cancel",value:function(e){return K(this)?void 0===this._ownerReadableStream?Promise.reject(Pe("cancel")):ee(this,e):Promise.reject(Le("cancel"))}},{key:"read",value:function(e){return K(this)?void 0===this._ownerReadableStream?Promise.reject(Pe("read from")):ArrayBuffer.isView(e)?0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(e,t){var i=e._ownerReadableStream;if(y(void 0!==i),i._disturbed=!0,"errored"===i._state)return Promise.reject(i._storedError);return function(e,t){var i=e._controlledReadableStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);var a=t.constructor,r={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return r.buffer=u(r.buffer),e._pendingPullIntos.push(r),F(i);if("closed"===i._state){var o=new t.constructor(r.buffer,r.byteOffset,0);return Promise.resolve(s(o,!0))}if(e._queueTotalSize>0){if(!0===_e(e,r)){var l=be(r);return xe(e),Promise.resolve(s(l,!1))}if(!0===e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ae(e,c),Promise.reject(c)}}r.buffer=u(r.buffer),e._pendingPullIntos.push(r);var d=F(i);return me(e),d}(i._readableStreamController,t)}(this,e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(Le("read"))}},{key:"releaseLock",value:function(){if(!K(this))throw Le("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");te(this)}}},{key:"closed",get:function(){return K(this)?this._closedPromise:Promise.reject(Le("closed"))}}]),e}();function K(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Q(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Z(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?function(e){e._closedPromise=new Promise(function(t,i){e._closedPromise_resolve=t,e._closedPromise_reject=i})}(e):"closed"===t._state?function(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e):(y("errored"===t._state,"state must be errored"),function(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e,t._storedError),e._closedPromise.catch(function(){}))}function ee(e,t){var i=e._ownerReadableStream;return y(void 0!==i),H(i,t)}function te(e){y(void 0!==e._ownerReadableStream),y(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Ie(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){y(void 0===e._closedPromise_resolve),y(void 0===e._closedPromise_reject),e._closedPromise=Promise.reject(t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ie(e){var t=e._ownerReadableStream;return y(void 0!==t),t._disturbed=!0,"closed"===t._state?Promise.resolve(s(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):(y("readable"===t._state),t._readableStreamController.__pullSteps())}var ne=function(){function e(t,i,n,r){if(a(this,e),!1===O(t))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==t._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=t,this._underlyingSource=i,this._queue=void 0,this._queueTotalSize=void 0,S(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var o=h(n,r);this._strategySize=o.size,this._strategyHWM=o.highWaterMark;var s=this,l=c(i,"start",[this]);Promise.resolve(l).then(function(){s._started=!0,y(!1===s._pulling),y(!1===s._pullAgain),re(s)},function(e){ce(s,e)}).catch(_)}return n(e,[{key:"close",value:function(){if(!1===ae(this))throw De("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");oe(this)}},{key:"enqueue",value:function(e){if(!1===ae(this))throw De("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return se(this,e)}},{key:"error",value:function(e){if(!1===ae(this))throw De("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");le(this,e)}},{key:"__cancelSteps",value:function(e){return S(this),d(this._underlyingSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=x(this);return!0===this._closeRequested&&0===this._queue.length?W(e):re(this),Promise.resolve(s(t,!1))}var i=j(e);return re(this),i}},{key:"desiredSize",get:function(){if(!1===ae(this))throw De("desiredSize");return de(this)}}]),e}();function ae(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function re(e){!1!==function(e){var t=e._controlledReadableStream;if("closed"===t._state||"errored"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===M(t)&&$(t)>0)return!0;if(de(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(y(!1===e._pullAgain),e._pulling=!0,d(e._underlyingSource,"pull",[e]).then(function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,re(e)},function(t){ce(e,t)}).catch(_)):e._pullAgain=!0)}function oe(e){var t=e._controlledReadableStream;y(!1===e._closeRequested),y("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&W(t)}function se(e,t){var i=e._controlledReadableStream;if(y(!1===e._closeRequested),y("readable"===i._state),!0===M(i)&&$(i)>0)V(i,t,!1);else{var n=1;if(void 0!==e._strategySize){var a=e._strategySize;try{n=a(t)}catch(t){throw ce(e,t),t}}try{C(e,t,n)}catch(t){throw ce(e,t),t}}re(e)}function le(e,t){var i=e._controlledReadableStream;y("readable"===i._state),S(e),q(i,t)}function ce(e,t){"readable"===e._controlledReadableStream._state&&le(e,t)}function de(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}var ue=function(){function e(t,i){a(this,e),this._associatedReadableByteStreamController=t,this._view=i}return n(e,[{key:"respond",value:function(e){if(!1===fe(this))throw Ue("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(t=Number(t),!1===l(t))throw new RangeError("bytesWritten must be a finite");y(e._pendingPullIntos.length>0),Te(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===fe(this))throw Ue("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){y(e._pendingPullIntos.length>0);var i=e._pendingPullIntos[0];if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=t.buffer,Te(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){return this._view}}]),e}(),he=function(){function e(t,i,n){if(a(this,e),!1===O(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=i,this._pullAgain=!1,this._pulling=!1,ge(this),this._queue=this._queueTotalSize=void 0,S(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=p(n);var r=i.autoAllocateChunkSize;if(void 0!==r&&(!1===Number.isInteger(r)||r<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=r,this._pendingPullIntos=[];var o=this,s=c(i,"start",[this]);Promise.resolve(s).then(function(){o._started=!0,y(!1===o._pulling),y(!1===o._pullAgain),me(o)},function(e){"readable"===t._state&&Ae(o,e)}).catch(_)}return n(e,[{key:"close",value:function(){if(!1===pe(this))throw Oe("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableStream;if(y(!1===e._closeRequested),y("readable"===t._state),e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){var i=e._pendingPullIntos[0];if(i.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ae(e,n),n}}W(t)}(this)}},{key:"enqueue",value:function(e){if(!1===pe(this))throw Oe("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var i=e._controlledReadableStream;y(!1===e._closeRequested),y("readable"===i._state);var n=t.buffer,a=t.byteOffset,r=t.byteLength,o=u(n);if(!0===G(i))if(0===$(i))ye(e,o,a,r);else{y(0===e._queue.length);var s=new Uint8Array(o,a,r);V(i,s,!1)}else!0===Y(i)?(ye(e,o,a,r),Se(e)):(y(!1===M(i),"stream must not be locked"),ye(e,o,a,r))}(this,e)}},{key:"error",value:function(e){if(!1===pe(this))throw Oe("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");Ae(this,e)}},{key:"__cancelSteps",value:function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0);return S(this),d(this._underlyingByteSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(y(!0===G(e)),this._queueTotalSize>0){y(0===$(e));var t=this._queue.shift();this._queueTotalSize-=t.byteLength,xe(this);var i=void 0;try{i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(s(i,!1))}var n=this._autoAllocateChunkSize;if(void 0!==n){var a=void 0;try{a=new ArrayBuffer(n)}catch(e){return Promise.reject(e)}var r={buffer:a,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}var o=j(e);return me(this),o}},{key:"byobRequest",get:function(){if(!1===pe(this))throw Oe("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new ue(this,t)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===pe(this))throw Oe("desiredSize");return Ee(this)}}]),e}();function pe(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function fe(e){return!!v(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function me(e){!1!==function(e){var t=e._controlledReadableStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===G(t)&&$(t)>0)return!0;if(!0===Y(t)&&z(t)>0)return!0;if(Ee(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(y(!1===e._pullAgain),e._pulling=!0,d(e._underlyingByteSource,"pull",[e]).then(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,me(e))},function(t){"readable"===e._controlledReadableStream._state&&Ae(e,t)}).catch(_)):e._pullAgain=!0)}function ge(e){Ce(e),e._pendingPullIntos=[]}function ve(e,t){y("errored"!==e._state,"state must not be errored");var i=!1;"closed"===e._state&&(y(0===t.bytesFilled),i=!0);var n=be(t);"default"===t.readerType?V(e,n,i):(y("byob"===t.readerType),function(e,t,i){var n=e._reader;y(n._readIntoRequests.length>0),n._readIntoRequests.shift()._resolve(s(t,i))}(e,n,i))}function be(e){var t=e.bytesFilled,i=e.elementSize;return y(t<=e.byteLength),y(t%i==0),new e.ctor(e.buffer,e.byteOffset,t/i)}function ye(e,t,i,n){e._queue.push({buffer:t,byteOffset:i,byteLength:n}),e._queueTotalSize+=n}function _e(e,t){var i=t.elementSize,n=t.bytesFilled-t.bytesFilled%i,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+a,s=r-r%i,l=a,c=!1;s>n&&(l=s-t.bytesFilled,c=!0);for(var d=e._queue;l>0;){var u=d[0],h=Math.min(l,u.byteLength),p=t.byteOffset+t.bytesFilled;o(t.buffer,p,u.buffer,u.byteOffset,h),u.byteLength===h?d.shift():(u.byteOffset+=h,u.byteLength-=h),e._queueTotalSize-=h,we(e,h,t),l-=h}return!1===c&&(y(0===e._queueTotalSize,"queue must be empty"),y(t.bytesFilled>0),y(t.bytesFilled<t.elementSize)),c}function we(e,t,i){y(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===i),Ce(e),i.bytesFilled+=t}function xe(e){y("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?W(e._controlledReadableStream):me(e)}function Ce(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Se(e){for(y(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===_e(e,t)&&(ke(e),ve(e._controlledReadableStream,t))}}function Te(e,t){var i=e._pendingPullIntos[0],n=e._controlledReadableStream;if("closed"===n._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=u(t.buffer),y(0===t.bytesFilled,"bytesFilled must be 0");var i=e._controlledReadableStream;if(!0===Y(i))for(;z(i)>0;)ve(i,ke(e))}(e,i)}else y("readable"===n._state),function(e,t,i){if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range");if(we(e,t,i),!(i.bytesFilled<i.elementSize)){ke(e);var n=i.bytesFilled%i.elementSize;if(n>0){var a=i.byteOffset+i.bytesFilled,r=i.buffer.slice(a-n,a);ye(e,r,0,r.byteLength)}i.buffer=u(i.buffer),i.bytesFilled-=n,ve(e._controlledReadableStream,i),Se(e)}}(e,t,i)}function ke(e){var t=e._pendingPullIntos.shift();return Ce(e),t}function Ae(e,t){var i=e._controlledReadableStream;y("readable"===i._state),ge(e),S(e),q(i,t)}function Ee(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ne(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Pe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Re(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Ie(e,t){y(void 0!==e._closedPromise_resolve),y(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Le(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function De(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Ue(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function Oe(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}},function(e,t,i){var n=i(6),a=i(4),r=i(2);t.TransformStream=n.TransformStream,t.ReadableStream=a.ReadableStream,t.IsReadableStreamDisturbed=a.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=a.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=a.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=a.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=a.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=r.AcquireWritableStreamDefaultWriter,t.IsWritableStream=r.IsWritableStream,t.IsWritableStreamLocked=r.IsWritableStreamLocked,t.WritableStream=r.WritableStream,t.WritableStreamAbort=r.WritableStreamAbort,t.WritableStreamDefaultControllerError=r.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=r.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=r.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=r.WritableStreamDefaultWriterWrite},function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(1).assert,o=i(0),s=o.InvokeOrNoop,l=o.PromiseInvokeOrPerformFallback,c=o.PromiseInvokeOrNoop,d=o.typeIsObject,u=i(4),h=u.ReadableStream,p=u.ReadableStreamDefaultControllerClose,f=u.ReadableStreamDefaultControllerEnqueue,m=u.ReadableStreamDefaultControllerError,g=u.ReadableStreamDefaultControllerGetDesiredSize,v=i(2),b=v.WritableStream,y=v.WritableStreamDefaultControllerError;function _(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");var i=e._readableController;try{f(i,t)}catch(t){throw e._readableClosed=!0,x(e,t),e._storedError}!0===g(i)<=0&&!1===e._backpressure&&T(e,!0)}function w(e){r(!1===e._errored),r(!1===e._readableClosed);try{p(e._readableController)}catch(e){r(!1)}e._readableClosed=!0}function x(e,t){!1===e._errored&&C(e,t)}function C(e,t){r(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&y(e._writableController,t),!1===e._readableClosed&&m(e._readableController,t)}function S(e){return r(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure?Promise.resolve():(r(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function T(e,t){r(e._backpressure!==t,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(t),e._backpressureChangePromise=new Promise(function(t){e._backpressureChangePromise_resolve=t}),e._backpressureChangePromise.then(function(e){r(e!==t,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),e._backpressure=t}function k(e,t){return _(t._controlledTransformStream,e),Promise.resolve()}function A(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function E(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}var N=function(){function e(t,i){a(this,e),this._transformStream=t,this._startPromise=i}return n(e,[{key:"start",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return S(t)})}},{key:"write",value:function(e){return function(e,t){r(!1===e._errored),r(!1===e._transforming),r(!1===e._backpressure),e._transforming=!0;var i=e._transformer,n=e._transformStreamController;return l(i,"transform",[t,n],k,[t,n]).then(function(){return e._transforming=!1,S(e)},function(t){return x(e,t),Promise.reject(t)})}(this._transformStream,e)}},{key:"abort",value:function(){var e=this._transformStream;e._writableDone=!0,C(e,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var e=this._transformStream;return r(!1===e._transforming),e._writableDone=!0,c(e._transformer,"flush",[e._transformStreamController]).then(function(){return!0===e._errored?Promise.reject(e._storedError):(!1===e._readableClosed&&w(e),Promise.resolve())}).catch(function(t){return x(e,t),Promise.reject(e._storedError)})}}]),e}(),P=function(){function e(t,i){a(this,e),this._transformStream=t,this._startPromise=i}return n(e,[{key:"start",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return r(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===t._backpressure?Promise.resolve():(r(!1===t._backpressure,"_backpressure should have been initialized"),t._backpressureChangePromise)})}},{key:"pull",value:function(){var e=this._transformStream;return r(!0===e._backpressure,"pull() should be never called while _backpressure is false"),r(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),T(e,!1),e._backpressureChangePromise}},{key:"cancel",value:function(){var e=this._transformStream;e._readableClosed=!0,C(e,new TypeError("Readable side canceled"))}}]),e}(),R=function(){function e(t){if(a(this,e),!1===E(t))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==t._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=t}return n(e,[{key:"enqueue",value:function(e){if(!1===A(this))throw L("enqueue");_(this._controlledTransformStream,e)}},{key:"close",value:function(){if(!1===A(this))throw L("close");!function(e){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");w(e)}(this._controlledTransformStream)}},{key:"error",value:function(e){if(!1===A(this))throw L("error");!function(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");C(e,t)}(this._controlledTransformStream,e)}},{key:"desiredSize",get:function(){if(!1===A(this))throw L("desiredSize");var e=this._controlledTransformStream._readableController;return g(e)}}]),e}(),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this._transformer=t;var i=t.readableStrategy,n=t.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new R(this);var o=void 0,l=new Promise(function(e){o=e}),c=new P(this,l);this._readable=new h(c,i);var d=new N(this,l);this._writable=new b(d,n),r(void 0!==this._writableController),r(void 0!==this._readableController),T(this,g(this._readableController)<=0);var u=this,p=s(t,"start",[u._transformStreamController]);o(p),l.catch(function(e){!1===u._errored&&(u._errored=!0,u._storedError=e)})}return n(e,[{key:"readable",get:function(){if(!1===E(this))throw D("readable");return this._readable}},{key:"writable",get:function(){if(!1===E(this))throw D("writable");return this._writable}}]),e}();function L(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function D(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.exports={TransformStream:I}},function(e,t,i){e.exports=i(5)}]))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=i(0),a=i(13),r=i(7),o=16,s={get value(){return(0,n.shadow)(s,"value",(0,n.isLittleEndian)())}};function l(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],i=e[1],n=e[2],a=e[3],r=e[4],o=e[5],s=t*a-i*n,l=i*n-t*a;return[a/s,i/l,n/l,t/s,(a*r-n*o)/l,(i*r-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var i=this._transformMatrix;i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this._originalTranslate(e,t)},e.scale=function(e,t){var i=this._transformMatrix;i[0]=i[0]*e,i[1]=i[1]*e,i[2]=i[2]*t,i[3]=i[3]*t,this._originalScale(e,t)},e.transform=function(t,i,n,a,r,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*i,s[1]*t+s[3]*i,s[0]*n+s[2]*a,s[1]*n+s[3]*a,s[0]*r+s[2]*o+s[4],s[1]*r+s[3]*o+s[5]],e._originalTransform(t,i,n,a,r,o)},e.setTransform=function(t,i,n,a,r,o){this._transformMatrix=[t,i,n,a,r,o],e._originalSetTransform(t,i,n,a,r,o)},e.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*i,n[1]*t+n[3]*i,n[0]*-i+n[2]*t,n[1]*-i+n[3]*t,n[4],n[5]],this._originalRotate(e)})}var c=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,i,n){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,i),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,i),this.cache[e]=a),n&&l(a.context),a},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var d=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),u=function(){function e(e,t,i,n,a){this.ctx=e,this.current=new d,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=n,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new c(this.canvasFactory),e&&l(e),this.cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var i,a,r,l,c,d=t.height,u=t.width,h=d%o,p=(d-h)/o,f=0===h?p:p+1,m=e.createImageData(u,o),g=0,v=t.data,b=m.data;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var y=v.byteLength,_=new Uint32Array(b.buffer,0,b.byteLength>>2),w=_.length,x=u+7>>3,C=4294967295,S=s.value?4278190080:255;for(a=0;a<f;a++){for(l=a<p?o:h,i=0,r=0;r<l;r++){for(var T=y-g,k=0,A=T>x?u:8*T-7,E=-8&A,N=0,P=0;k<E;k+=8)P=v[g++],_[i++]=128&P?C:S,_[i++]=64&P?C:S,_[i++]=32&P?C:S,_[i++]=16&P?C:S,_[i++]=8&P?C:S,_[i++]=4&P?C:S,_[i++]=2&P?C:S,_[i++]=1&P?C:S;for(;k<A;k++)0===N&&(P=v[g++],N=128),_[i++]=P&N?C:S,N>>=1}for(;i<w;)_[i++]=0;e.putImageData(m,0,a*o)}}else if(t.kind===n.ImageKind.RGBA_32BPP){for(r=0,c=u*o*4,a=0;a<p;a++)b.set(v.subarray(g,g+c)),g+=c,e.putImageData(m,0,r),r+=o;a<f&&(c=u*h*4,b.set(v.subarray(g,g+c)),e.putImageData(m,0,r))}else{if(t.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+t.kind);for(c=u*(l=o),a=0;a<f;a++){for(a>=p&&(c=u*(l=h)),i=0,r=c;r--;)b[i++]=v[g++],b[i++]=v[g++],b[i++]=v[g++],b[i++]=255;e.putImageData(m,0,a*o)}}}}function i(e,t){for(var i=t.height,n=t.width,a=i%o,r=(i-a)/o,s=0===a?r:r+1,l=e.createImageData(n,o),c=0,d=t.data,u=l.data,h=0;h<s;h++){for(var p=h<r?o:a,f=3,m=0;m<p;m++)for(var g=0,v=0;v<n;v++){if(!g){var b=d[c++];g=128}u[f]=b&g?0:255,f+=4,g>>=1}e.putImageData(l,0,h*o)}}function u(e,t){for(var i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,a=i.length;n<a;n++){var r=i[n];void 0!==e[r]&&(t[r]=e[r])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function h(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function p(e,t,i,n){for(var a=e.length,r=3;r<a;r+=4){var o=e[r];if(0===o)e[r-3]=t,e[r-2]=i,e[r-1]=n;else if(o<255){var s=255-o;e[r-3]=e[r-3]*o+t*s>>8,e[r-2]=e[r-2]*o+i*s>>8,e[r-1]=e[r-1]*o+n*s>>8}}}function f(e,t,i){for(var n=e.length,a=3;a<n;a+=4){var r=i?i[e[a]]:e[a];t[a]=t[a]*r*(1/255)|0}}function m(e,t,i){for(var n=e.length,a=3;a<n;a+=4){var r=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=i?t[a]*i[r>>8]>>8:t[a]*r>>16}}function g(e,t,i){var n=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&r.WebGLUtils.isEnabled){var s=r.WebGLUtils.composeSMask(i.canvas,n,{subtype:t.subtype,backdrop:o});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,i,n,a,r,o){var s,l=!!r,c=l?r[0]:0,d=l?r[1]:0,u=l?r[2]:0;s="Luminosity"===a?m:f;for(var h=Math.min(n,Math.ceil(1048576/i)),g=0;g<n;g+=h){var v=Math.min(h,n-g),b=e.getImageData(0,g,i,v),y=t.getImageData(0,g,i,v);l&&p(b.data,c,d,u),s(b.data,y.data,o),e.putImageData(y,0,g)}}(a,i,n.width,n.height,t.subtype,o,t.transferMap),e.drawImage(n,0,0)}var v=["butt","round","square"],b=["miter","round","bevel"],y={},_={};for(var w in e.prototype={beginDrawing:function(e){var t=e.transform,i=e.viewport,n=e.transparency,a=e.background,r=void 0===a?null:a,o=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=r||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,o,s),this.ctx.restore(),n){var l=this.cachedCanvases.getCanvas("transparent",o,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),h(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,i.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,i,a){var r=e.argsArray,o=e.fnArray,s=t||0,l=r.length;if(l===s)return s;for(var c,d=l-s>10&&"function"==typeof i,u=d?Date.now()+15:0,h=0,p=this.commonObjs,f=this.objs;;){if(void 0!==a&&s===a.nextBreakPoint)return a.breakIt(s,i),s;if((c=o[s])!==n.OPS.dependency)this[c].apply(this,r[s]);else for(var m=r[s],g=0,v=m.length;g<v;g++){var b=m[g],y="g"===b[0]&&"_"===b[1]?p:f;if(!y.isResolved(b))return y.get(b,i),s}if(++s===l)return s;if(d&&++h>10){if(Date.now()>u)return i(),s;h=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),r.WebGLUtils.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=v[e]},setLineJoin:function(e){this.ctx.lineJoin=b[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t],a=n[0],r=n[1];switch(a){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=r?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,i=e.canvas.height,n="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(n,t,i,!0),r=this.ctx,o=r.mozCurrentTransform;this.ctx.save();var s=a.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,o),e.startTransformInverse=s.mozCurrentTransformInverse,u(r,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,e),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e;var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,e),this.ctx.restore(),u(e,this.ctx);var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(e,t,i,n,a,r){this.ctx.transform(e,t,i,n,a,r),this.cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var i=this.ctx,a=this.current,r=a.x,o=a.y,s=0,l=0,c=e.length;s<c;s++)switch(0|e[s]){case n.OPS.rectangle:r=t[l++],o=t[l++];var d=t[l++],u=t[l++];0===d&&(d=this.getSinglePixelWidth()),0===u&&(u=this.getSinglePixelWidth());var h=r+d,p=o+u;this.ctx.moveTo(r,o),this.ctx.lineTo(h,o),this.ctx.lineTo(h,p),this.ctx.lineTo(r,p),this.ctx.lineTo(r,o),this.ctx.closePath();break;case n.OPS.moveTo:r=t[l++],o=t[l++],i.moveTo(r,o);break;case n.OPS.lineTo:r=t[l++],o=t[l++],i.lineTo(r,o);break;case n.OPS.curveTo:r=t[l+4],o=t[l+5],i.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],r,o),l+=6;break;case n.OPS.curveTo2:i.bezierCurveTo(r,o,t[l],t[l+1],t[l+2],t[l+3]),r=t[l+2],o=t[l+3],l+=4;break;case n.OPS.curveTo3:r=t[l+2],o=t[l+3],i.bezierCurveTo(t[l],t[l+1],r,o,r,o),l+=4;break;case n.OPS.closePath:i.closePath()}a.setCurrentPoint(r,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,i=this.current.strokeColor;t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,i&&i.hasOwnProperty("type")&&"Pattern"===i.type?(t.save(),t.strokeStyle=i.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,i=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=i.getPattern(t,this),n=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=y},eoClip:function(){this.pendingClip=_},beginText:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var i=0;i<e.length;i++){var n=e[i];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var i=this.commonObjs.get(e),a=this.current;if(!i)throw new Error("Can't find font for "+e);if(a.fontMatrix=i.fontMatrix?i.fontMatrix:n.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=t,!i.isType3Font){var r=i.loadedName||"sans-serif",o=i.black?"900":i.bold?"bold":"normal",s=i.italic?"italic":"normal",l='"'+r+'", '+i.fallbackName,c=t<16?16:t>100?100:t;this.current.fontSizeScale=t/c;var d=s+" "+o+" "+c+"px "+l;this.ctx.font=d}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,i,n,a,r){this.current.textMatrix=[e,t,i,n,a,r],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,i){var a,r=this.ctx,o=this.current,s=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,d=l&n.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG);((s.disableFontFace||u)&&(a=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace?(r.save(),r.translate(t,i),r.beginPath(),a(r,c),d!==n.TextRenderingMode.FILL&&d!==n.TextRenderingMode.FILL_STROKE||r.fill(),d!==n.TextRenderingMode.STROKE&&d!==n.TextRenderingMode.FILL_STROKE||r.stroke(),r.restore()):(d!==n.TextRenderingMode.FILL&&d!==n.TextRenderingMode.FILL_STROKE||r.fillText(e,t,i),d!==n.TextRenderingMode.STROKE&&d!==n.TextRenderingMode.FILL_STROKE||r.strokeText(e,t,i)),u)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:r.mozCurrentTransform,x:t,y:i,fontSize:c,addToPath:a})},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,i=!1,a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){i=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",i)},showText:function(e){var t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);var a=t.fontSize;if(0!==a){var r=this.ctx,o=t.fontSizeScale,s=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,u=e.length,h=i.vertical,p=h?1:-1,f=i.defaultVMetrics,m=a*t.fontMatrix[0],g=t.textRenderingMode===n.TextRenderingMode.FILL&&!i.disableFontFace;r.save(),r.transform.apply(r,t.textMatrix),r.translate(t.x,t.y+t.textRise),t.patternFill&&(r.fillStyle=t.fillColor.getPattern(r,this)),c>0?r.scale(d,-1):r.scale(d,1);var v=t.lineWidth,b=t.textMatrixScale;if(0===b||0===v){var y=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;y!==n.TextRenderingMode.STROKE&&y!==n.TextRenderingMode.FILL_STROKE||(this.cachedGetSinglePixelWidth=null,v=.65*this.getSinglePixelWidth())}else v/=b;1!==o&&(r.scale(o,o),v/=o),r.lineWidth=v;var _,w=0;for(_=0;_<u;++_){var x=e[_];if((0,n.isNum)(x))w+=p*x*a/1e3;else{var C,S,T,k,A,E,N,P=!1,R=(x.isSpace?l:0)+s,I=x.fontChar,L=x.accent,D=x.width;if(h)A=x.vmetric||f,E=-(E=x.vmetric?A[1]:.5*D)*m,N=A[2]*m,D=A?-A[0]:D,C=E/o,S=(w+N)/o;else C=w/o,S=0;if(i.remeasure&&D>0){var U=1e3*r.measureText(I).width/a*o;if(D<U&&this.isFontSubpixelAAEnabled){var O=D/U;P=!0,r.save(),r.scale(O,1),C/=O}else D!==U&&(C+=(D-U)/2e3*a/o)}(x.isInFont||i.missingFile)&&(g&&!L?r.fillText(I,C,S):(this.paintChar(I,C,S),L&&(T=C+L.offset.x/o,k=S-L.offset.y/o,this.paintChar(L.fontChar,T,k)))),w+=D*m+R*c,P&&r.restore()}}h?t.y-=w*d:t.x+=w*d,r.restore()}},showType3Text:function(e){var t,i,a,r,o=this.ctx,s=this.current,l=s.font,c=s.fontSize,d=s.fontDirection,u=l.vertical?1:-1,h=s.charSpacing,p=s.wordSpacing,f=s.textHScale*d,m=s.fontMatrix||n.FONT_IDENTITY_MATRIX,g=e.length;if(!(s.textRenderingMode===n.TextRenderingMode.INVISIBLE)&&0!==c){for(this.cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(f,d),t=0;t<g;++t)if(i=e[t],(0,n.isNum)(i))r=u*i*c/1e3,this.ctx.translate(r,0),s.x+=r*f;else{var v=(i.isSpace?p:0)+h,b=l.charProcOperatorList[i.operatorListId];if(b)this.processingType3=i,this.save(),o.scale(c,c),o.transform.apply(o,m),this.executeOperatorList(b),this.restore(),a=n.Util.applyTransform([i.width,0],m)[0]*c+v,o.translate(a,0),s.x+=a*f;else(0,n.warn)('Type3 character "'+i.operatorListId+'" is not available.')}o.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,i,n,a,r){this.ctx.rect(i,n,a-i,r-n),this.clip(),this.endPath()},getColorN_Pattern:function(t){var i,n=this;if("TilingPattern"===t[0]){var r=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(t){return new e(t,n.commonObjs,n.objs,n.canvasFactory)}};i=new a.TilingPattern(t,r,this.ctx,s,o)}else i=(0,a.getShadingPatternFromIR)(t);return i},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,i){var a=n.Util.makeCssRgb(e,t,i);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(e,t,i){var a=n.Util.makeCssRgb(e,t,i);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var i=(0,a.getShadingPatternFromIR)(e);t.fillStyle=i.getPattern(t,this,!0);var r=t.mozCurrentTransformInverse;if(r){var o=t.canvas,s=o.width,l=o.height,c=n.Util.applyTransform([0,0],r),d=n.Util.applyTransform([0,l],r),u=n.Util.applyTransform([s,0],r),h=n.Util.applyTransform([s,l],r),p=Math.min(c[0],d[0],u[0],h[0]),f=Math.min(c[1],d[1],u[1],h[1]),m=Math.max(c[0],d[0],u[0],h[0]),g=Math.max(c[1],d[1],u[1],h[1]);this.ctx.fillRect(p,f,m-p,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){throw new Error("Should not call beginInlineImage")},beginImageData:function(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),(0,n.isArray)(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,(0,n.isArray)(t)&&4===t.length){var i=t[2]-t[0],a=t[3]-t[1];this.ctx.rect(t[0],t[1],i,a),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,n.info)("TODO: Support non-isolated groups."),e.knockout&&(0,n.warn)("Knockout groups not supported.");var i=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var a=n.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),r=[0,0,t.canvas.width,t.canvas.height];a=n.Util.intersect(a,r)||[0,0,0,0];var o=Math.floor(a[0]),s=Math.floor(a[1]),l=Math.max(Math.ceil(a[2])-o,1),c=Math.max(Math.ceil(a[3])-s,1),d=1,h=1;l>4096&&(d=l/4096,l=4096),c>4096&&(h=c/4096,c=4096);var p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(p,l,c,!0),m=f.context;m.scale(1/d,1/h),m.translate(-o,-s),m.transform.apply(m,i),e.smask?this.smaskStack.push({canvas:f.canvas,context:m,offsetX:o,offsetY:s,scaleX:d,scaleY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,s),t.scale(d,h)),u(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,i){if(this.save(),h(this.ctx),this.current=new d,(0,n.isArray)(e)&&4===e.length){var a=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],a,r),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,i)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,i){var a=this.objs.get(e);if(a){this.save();var r=this.ctx;if(r.scale(1/t,-1/i),r.drawImage(a,0,0,a.width,a.height,0,-i,t,i),this.imageLayer){var o=r.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:s[0],top:s[1],width:t/o[0],height:i/o[3]})}this.restore()}else(0,n.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,a=e.height,r=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=n<=1e3&&a<=1e3?function(e){var t,i,n,a,r=e.width,o=e.height,s=r+1,l=new Uint8Array(s*(o+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=r+7&-8,u=e.data,h=new Uint8Array(d*o),p=0;for(t=0,a=u.length;t<a;t++)for(var f=128,m=u[t];f>0;)h[p++]=m&f?0:255,f>>=1;var g=0;for(0!==h[p=0]&&(l[0]=1,++g),i=1;i<r;i++)h[p]!==h[p+1]&&(l[i]=h[p]?2:1,++g),p++;for(0!==h[p]&&(l[i]=2,++g),t=1;t<o;t++){n=t*s,h[(p=t*d)-d]!==h[p]&&(l[n]=h[p]?1:8,++g);var v=(h[p]?4:0)+(h[p-d]?8:0);for(i=1;i<r;i++)c[v=(v>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0)]&&(l[n+i]=c[v],++g),p++;if(h[p-d]!==h[p]&&(l[n+i]=h[p]?2:4,++g),g>1e3)return null}for(n=t*s,0!==h[p=d*(o-1)]&&(l[n]=8,++g),i=1;i<r;i++)h[p]!==h[p+1]&&(l[n+i]=h[p]?4:8,++g),p++;if(0!==h[p]&&(l[n+i]=4,++g),g>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=[];for(t=0;g&&t<=o;t++){for(var _=t*s,w=_+r;_<w&&!l[_];)_++;if(_!==w){var x,C=[_%s,t],S=l[_],T=_;do{var k=b[S];do{_+=k}while(!l[_]);5!==(x=l[_])&&10!==x?(S=x,l[_]=0):(S=x&51*S>>4,l[_]&=S>>2|S<<2),C.push(_%s),C.push(_/s|0),--g}while(T!==_);y.push(C),--t}}return function(e){e.save(),e.scale(1/r,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,i=y.length;t<i;t++){var n=y[t];e.moveTo(n[0],n[1]);for(var a=2,s=n.length;a<s;a+=2)e.lineTo(n[a],n[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:n,height:a}):null),s&&s.compiled)s.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",n,a),c=l.context;c.save(),i(c,e),c.globalCompositeOperation="source-in",c.fillStyle=o?r.getPattern(c,this):r,c.fillRect(0,0,n,a),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,n,a){var r=e.width,o=e.height,s=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",r,o),d=c.context;d.save(),i(d,e),d.globalCompositeOperation="source-in",d.fillStyle=l?s.getPattern(d,this):s,d.fillRect(0,0,r,o),d.restore();for(var u=this.ctx,h=0,p=a.length;h<p;h+=2)u.save(),u.transform(t,0,0,n,a[h],a[h+1]),u.scale(1,-1),u.drawImage(c.canvas,0,0,r,o,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=this.current.fillColor,a=this.current.patternFill,r=0,o=e.length;r<o;r++){var s=e[r],l=s.width,c=s.height,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),u=d.context;u.save(),i(u,s),u.globalCompositeOperation="source-in",u.fillStyle=a?n.getPattern(u,this):n,u.fillRect(0,0,l,c),u.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(d.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,i,a){var r=this.objs.get(e);if(r){for(var o=r.width,s=r.height,l=[],c=0,d=a.length;c<d;c+=2)l.push({transform:[t,0,0,i,a[c],a[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(r,l)}else(0,n.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var i=e.width,n=e.height,a=this.ctx;this.save(),a.scale(1/i,-1/n);var r,o,s=a.mozCurrentTransformInverse,l=s[0],c=s[1],d=Math.max(Math.sqrt(l*l+c*c),1),u=s[2],h=s[3],p=Math.max(Math.sqrt(u*u+h*h),1);if(e instanceof HTMLElement||!e.data)r=e;else{var f=(o=this.cachedCanvases.getCanvas("inlineImage",i,n)).context;t(f,e),r=o.canvas}for(var m=i,g=n,v="prescale1";d>2&&m>1||p>2&&g>1;){var b=m,y=g;d>2&&m>1&&(d/=m/(b=Math.ceil(m/2))),p>2&&g>1&&(p/=g/(y=Math.ceil(g/2))),(f=(o=this.cachedCanvases.getCanvas(v,b,y)).context).clearRect(0,0,b,y),f.drawImage(r,0,0,m,g,0,0,b,y),r=o.canvas,m=b,g=y,v="prescale1"===v?"prescale2":"prescale1"}if(a.drawImage(r,0,0,m,g,0,-n,i,n),this.imageLayer){var _=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:i/s[0],height:n/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,i){var n=this.ctx,a=e.width,r=e.height,o=this.cachedCanvases.getCanvas("inlineImage",a,r);t(o.context,e);for(var s=0,l=i.length;s<l;s++){var c=i[s];if(n.save(),n.transform.apply(n,c.transform),n.scale(1,-1),n.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var d=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:d[0],top:d[1],width:a,height:r})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===_?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var t=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var i=this.ctx.mozCurrentTransform;return[i[0]*e+i[2]*t+i[4],i[1]*e+i[3]*t+i[5]]}},n.OPS)e.prototype[n.OPS[w]]=e.prototype[w];return e}();t.CanvasGraphics=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=i(0);function a(e){this.docId=e,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}a.prototype={insertRule:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(t));var i=t.sheet;i.insertRule(e,i.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0}};Object.defineProperty(a.prototype,"loadTestFont",{get:function(){return(0,n.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},configurable:!0}),a.prototype.addNativeFontFace=function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},a.prototype.bind=function(e,t){for(var i=[],r=[],o=[],s=function(e){return e.loaded.catch(function(t){(0,n.warn)('Failed to load font "'+e.family+'": '+t)})},l=a.isFontLoadingAPISupported&&!a.isSyncFontLoadingSupported,c=0,d=e.length;c<d;c++){var u=e[c];if(!u.attached&&!1!==u.loading)if(u.attached=!0,l){var h=u.createNativeFontFace();h&&(this.addNativeFontFace(h),o.push(s(h)))}else{var p=u.createFontFaceRule();p&&(this.insertRule(p),i.push(p),r.push(u))}}var f=this.queueLoadingCallback(t);l?Promise.all(o).then(function(){f.complete()}):i.length>0&&!a.isSyncFontLoadingSupported?this.prepareFontLoadEvent(i,r,f):f.complete()},a.prototype.queueLoadingCallback=function(e){var t=this.loadingContext,i={id:"pdfjs-font-loading-"+t.nextRequestId++,complete:function(){for((0,n.assert)(!i.end,"completeRequest() cannot be called twice"),i.end=Date.now();t.requests.length>0&&t.requests[0].end;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e,started:Date.now()};return t.requests.push(i),i},a.prototype.prepareFontLoadEvent=function(e,t,i){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,i,n){return e.substr(0,t)+n+e.substr(t+i)}var o,s,l=document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d"),d=0;var u="lt"+Date.now()+this.loadTestFontId++,h=this.loadTestFont,p=a(h=r(h,976,u.length,u),16);for(o=0,s=u.length-3;o<s;o+=4)p=p-1482184792+a(u,o)|0;o<u.length&&(p=p-1482184792+a(u+"XXX",o)|0),h=r(h,16,4,(0,n.string32)(p));var f='@font-face { font-family:"'+u+'";src:'+("url(data:font/opentype;base64,"+btoa(h)+");")+"}";this.insertRule(f);var m=[];for(o=0,s=t.length;o<s;o++)m.push(t[o].loadedName);m.push(u);var g=document.createElement("div");for(g.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),o=0,s=m.length;o<s;++o){var v=document.createElement("span");v.textContent="Hi",v.style.fontFamily=m[o],g.appendChild(v)}document.body.appendChild(g),function e(t,i){if(++d>30)return(0,n.warn)("Load test font never loaded."),void i();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?i():setTimeout(e.bind(null,t,i))}(u,function(){document.body.removeChild(g),i.complete()})},a.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;Object.defineProperty(a,"isSyncFontLoadingSupported",{get:function(){return(0,n.shadow)(a,"isSyncFontLoadingSupported",function(){if("undefined"==typeof navigator)return!0;var e=!1,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return t&&t[1]>=14&&(e=!0),e}())},enumerable:!0,configurable:!0});var r={get value(){return(0,n.shadow)(this,"value",(0,n.isEvalSupported)())}},o=function(){function e(e,t){for(var i in this.compiledGlyphs=Object.create(null),e)this[i]=e[i];this.options=t}return e.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=new FontFace(this.loadedName,this.data,{});return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this),e},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=(0,n.bytesToString)(new Uint8Array(this.data)),t=this.loadedName,i="url(data:"+this.mimetype+";base64,"+btoa(e)+");",a='@font-face { font-family:"'+t+'";src:'+i+"}";return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,i),a},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var i,n,a,o=e.get(this.loadedName+"_path_"+t);if(this.options.isEvalSupported&&r.value){var s,l="";for(n=0,a=o.length;n<a;n++)s=void 0!==(i=o[n]).args?i.args.join(","):"",l+="c."+i.cmd+"("+s+");\n";this.compiledGlyphs[t]=new Function("c","size",l)}else this.compiledGlyphs[t]=function(e,t){for(n=0,a=o.length;n<a;n++)"scale"===(i=o[n]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}return this.compiledGlyphs[t]}},e}();t.FontFaceObject=o,t.FontLoader=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.getShadingPatternFromIR=void 0;var n=i(0),a=i(7),r={RadialAxial:{fromIR:function(e){var t=e[1],i=e[2],n=e[3],a=e[4],r=e[5],o=e[6];return{type:"Pattern",getPattern:function(e){var s;"axial"===t?s=e.createLinearGradient(n[0],n[1],a[0],a[1]):"radial"===t&&(s=e.createRadialGradient(n[0],n[1],r,a[0],a[1],o));for(var l=0,c=i.length;l<c;++l){var d=i[l];s.addColorStop(d[0],d[1])}return s}}}}},o=function(){function e(e,t,i,n,a,r,o,s){var l,c=t.coords,d=t.colors,u=e.data,h=4*e.width;c[i+1]>c[n+1]&&(l=i,i=n,n=l,l=r,r=o,o=l),c[n+1]>c[a+1]&&(l=n,n=a,a=l,l=o,o=s,s=l),c[i+1]>c[n+1]&&(l=i,i=n,n=l,l=r,r=o,o=l);var p=(c[i]+t.offsetX)*t.scaleX,f=(c[i+1]+t.offsetY)*t.scaleY,m=(c[n]+t.offsetX)*t.scaleX,g=(c[n+1]+t.offsetY)*t.scaleY,v=(c[a]+t.offsetX)*t.scaleX,b=(c[a+1]+t.offsetY)*t.scaleY;if(!(f>=b))for(var y,_,w,x,C,S,T,k,A,E=d[r],N=d[r+1],P=d[r+2],R=d[o],I=d[o+1],L=d[o+2],D=d[s],U=d[s+1],O=d[s+2],M=Math.round(f),B=Math.round(b),F=M;F<=B;F++){F<g?(y=p-(p-m)*(A=F<f?0:f===g?1:(f-F)/(f-g)),_=E-(E-R)*A,w=N-(N-I)*A,x=P-(P-L)*A):(y=m-(m-v)*(A=F>b?1:g===b?0:(g-F)/(g-b)),_=R-(R-D)*A,w=I-(I-U)*A,x=L-(L-O)*A),C=p-(p-v)*(A=F<f?0:F>b?1:(f-F)/(f-b)),S=E-(E-D)*A,T=N-(N-U)*A,k=P-(P-O)*A;for(var j=Math.round(Math.min(y,C)),H=Math.round(Math.max(y,C)),W=h*F+4*j,q=j;q<=H;q++)A=(A=(y-q)/(y-C))<0?0:A>1?1:A,u[W++]=_-(_-S)*A|0,u[W++]=w-(w-T)*A|0,u[W++]=x-(x-k)*A|0,u[W++]=255}}function t(t,i,n){var a,r,o=i.coords,s=i.colors;switch(i.type){case"lattice":var l=i.verticesPerRow,c=Math.floor(o.length/l)-1,d=l-1;for(a=0;a<c;a++)for(var u=a*l,h=0;h<d;h++,u++)e(t,n,o[u],o[u+1],o[u+l],s[u],s[u+1],s[u+l]),e(t,n,o[u+l+1],o[u+1],o[u+l],s[u+l+1],s[u+1],s[u+l]);break;case"triangles":for(a=0,r=o.length;a<r;a+=3)e(t,n,o[a],o[a+1],o[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}return function(e,i,n,r,o,s,l){var c,d,u,h,p=Math.floor(e[0]),f=Math.floor(e[1]),m=Math.ceil(e[2])-p,g=Math.ceil(e[3])-f,v=Math.min(Math.ceil(Math.abs(m*i[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*i[1]*1.1)),3e3),y=m/v,_=g/b,w={coords:n,colors:r,offsetX:-p,offsetY:-f,scaleX:1/y,scaleY:1/_},x=v+4,C=b+4;if(a.WebGLUtils.isEnabled)c=a.WebGLUtils.drawFigures(v,b,s,o,w),(d=l.getCanvas("mesh",x,C,!1)).context.drawImage(c,2,2),c=d.canvas;else{var S=(d=l.getCanvas("mesh",x,C,!1)).context,T=S.createImageData(v,b);if(s){var k=T.data;for(u=0,h=k.length;u<h;u+=4)k[u]=s[0],k[u+1]=s[1],k[u+2]=s[2],k[u+3]=255}for(u=0;u<o.length;u++)t(T,o[u],w);S.putImageData(T,2,2),c=d.canvas}return{canvas:c,offsetX:p-2*y,offsetY:f-2*_,scaleX:y,scaleY:_}}}();r.Mesh={fromIR:function(e){var t=e[2],i=e[3],a=e[4],r=e[5],s=e[6],l=e[8];return{type:"Pattern",getPattern:function(e,c,d){var u;if(d)u=n.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(u=n.Util.singularValueDecompose2dScale(c.baseTransform),s){var h=n.Util.singularValueDecompose2dScale(s);u=[u[0]*h[0],u[1]*h[1]]}var p=o(r,u,t,i,a,d?null:l,c.cachedCanvases);return d||(e.setTransform.apply(e,c.baseTransform),s&&e.transform.apply(e,s)),e.translate(p.offsetX,p.offsetY),e.scale(p.scaleX,p.scaleY),e.createPattern(p.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){var e=1,t=2;function i(e,t,i,n,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=a,this.type="Pattern",this.ctx=i}return i.prototype={createPatternCanvas:function(e){var t=this.operatorList,i=this.bbox,a=this.xstep,r=this.ystep,o=this.paintType,s=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+s);var d=i[0],u=i[1],h=i[2],p=i[3],f=[d,u],m=[d+a,u+r],g=m[0]-f[0],v=m[1]-f[1],b=n.Util.singularValueDecompose2dScale(this.matrix),y=n.Util.singularValueDecompose2dScale(this.baseTransform),_=[b[0]*y[0],b[1]*y[1]];g=Math.min(Math.ceil(Math.abs(g*_[0])),3e3),v=Math.min(Math.ceil(Math.abs(v*_[1])),3e3);var w=e.cachedCanvases.getCanvas("pattern",g,v,!0),x=w.context,C=c.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(x,o,l),this.setScale(g,v,a,r),this.transformToScale(C);var S=[1,0,0,1,-f[0],-f[1]];return C.transform.apply(C,S),this.clipBbox(C,i,d,u,h,p),C.executeOperatorList(t),w.canvas},setScale:function(e,t,i,n){this.scale=[e/i,t/n]},transformToScale:function(e){var t=this.scale,i=[t[0],0,0,t[1],0,0];e.transform.apply(e,i)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,i,a,r,o){if((0,n.isArray)(t)&&4===t.length){var s=r-i,l=o-a;e.ctx.rect(i,a,s,l),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(i,a,r){switch(a){case e:var o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle;break;case t:var s=n.Util.makeCssRgb(r[0],r[1],r[2]);i.fillStyle=s,i.strokeStyle=s;break;default:throw new n.FormatError("Unsupported paint type: "+a)}},getPattern:function(e,t){var i=this.createPatternCanvas(t);return(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(i,"repeat")}},i}();t.getShadingPatternFromIR=function(e){var t=r[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=i(0),a=function(){function e(e,t){var i=this;(0,n.assert)(t),this._queuedChunks=[];var a=e.initialData;if(a&&a.length>0){var r=new Uint8Array(a).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=t,this._isRangeSupported=!e.disableRange,this._isStreamingSupported=!e.disableStream,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){i._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e){i._onProgress({loaded:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){i._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.transportReady()}function t(e,t){this._stream=e,this._done=!1,this._queuedChunks=t||[],this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}function i(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return e.prototype={_onReceiveData:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var i=this._rangeReaders.some(function(i){return i._begin===e.begin&&(i._enqueue(t),!0)});(0,n.assert)(i)}},_onProgress:function(e){if(this._rangeReaders.length>0){var t=this._rangeReaders[0];t.onProgress&&t.onProgress({loaded:e.loaded})}},_removeRangeReader:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)},getFullReader:function(){(0,n.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new t(this,e)},getRangeReader:function(e,t){var n=new i(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach(function(t){t.cancel(e)}),this._pdfDataRangeTransport.abort()}},t.prototype={_enqueue:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(this._queuedChunks.length>0){var e=this._queuedChunks.shift();return Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},i.prototype={_enqueue:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},e}();t.PDFDataTransportStream=a},function(e,t,i){"use strict";var n=i(0),a=i(8),r=i(2),o=i(5),s=i(3),l=i(1),c=i(4);i(9),t.PDFJS=a.PDFJS,t.build=r.build,t.version=r.version,t.getDocument=r.getDocument,t.LoopbackPort=r.LoopbackPort,t.PDFDataRangeTransport=r.PDFDataRangeTransport,t.PDFWorker=r.PDFWorker,t.renderTextLayer=o.renderTextLayer,t.AnnotationLayer=s.AnnotationLayer,t.CustomStyle=l.CustomStyle,t.createPromiseCapability=n.createPromiseCapability,t.PasswordResponses=n.PasswordResponses,t.InvalidPDFException=n.InvalidPDFException,t.MissingPDFException=n.MissingPDFException,t.SVGGraphics=c.SVGGraphics,t.NativeImageDecoding=n.NativeImageDecoding,t.UnexpectedResponseException=n.UnexpectedResponseException,t.OPS=n.OPS,t.UNSUPPORTED_FEATURES=n.UNSUPPORTED_FEATURES,t.isValidUrl=l.isValidUrl,t.createValidAbsoluteUrl=n.createValidAbsoluteUrl,t.createObjectURL=n.createObjectURL,t.removeNullCharacters=n.removeNullCharacters,t.shadow=n.shadow,t.createBlob=n.createBlob,t.RenderingCancelledException=l.RenderingCancelledException,t.getFilenameFromUrl=l.getFilenameFromUrl,t.addLinkAttributes=l.addLinkAttributes,t.StatTimer=n.StatTimer},function(e,i,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var r="undefined"!=typeof window&&window.Math===Math?window:void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:{},o="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Android/.test(o),l=/Android\s[0-2][^\d]/.test(o),c=/Android\s[0-4][^\d]/.test(o),d=o.indexOf("Chrom")>=0,u=/Chrome\/(39|40)\./.test(o),h=o.indexOf("CriOS")>=0,p=o.indexOf("Trident")>=0,f=/\b(iPad|iPhone|iPod)(?=;)/.test(o),m=o.indexOf("Opera")>=0,g=/Safari\//.test(o)&&!/(Chrome\/|Android\s)/.test(o),v="object"===("undefined"==typeof window?"undefined":a(window))&&"object"===("undefined"==typeof document?"undefined":a(document));"undefined"==typeof PDFJS&&(r.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){if("undefined"!=typeof Uint8Array)return void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),void("undefined"==typeof Float64Array&&(r.Float64Array=Float32Array));function e(e,t){return new s(this.slice(e,t))}function t(e,t){arguments.length<2&&(t=0);for(var i=0,n=e.length;i<n;++i,++t)this[t]=255&e[i]}function i(e,t){this.buffer=e,this.byteLength=e.length,this.length=t,function(e){for(;n<e;)Object.defineProperty(i.prototype,n,o(n)),n++}(this.length)}i.prototype=Object.create(null);var n=0;function o(e){return{get:function(){var t=this.buffer,i=e<<2;return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0},set:function(t){var i=this.buffer,n=e<<2;i[n]=255&t,i[n+1]=t>>8&255,i[n+2]=t>>16&255,i[n+3]=t>>>24&255}}}function s(i){var n,r,o;if("number"==typeof i)for(n=[],r=0;r<i;++r)n[r]=0;else if("slice"in i)n=i.slice(0);else for(n=[],r=0,o=i.length;r<o;++r)n[r]=i[r];return n.subarray=e,n.buffer=n,n.byteLength=n.length,n.set=t,"object"===(void 0===i?"undefined":a(i))&&i.buffer&&(n.buffer=i.buffer),n}r.Uint8Array=s,r.Int8Array=s,r.Int32Array=s,r.Uint16Array=s,r.Float32Array=s,r.Float64Array=s,r.Uint32Array=function(){if(3===arguments.length){if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new i(arguments[0],arguments[2])}return s.apply(this,arguments)}}(),function(){if(v&&window.CanvasPixelArray){var e=window.CanvasPixelArray.prototype;"buffer"in e||(Object.defineProperty(e,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),r.URL||(r.URL=r.webkitURL),function(){if(void 0!==Object.defineProperty){var e=!0;try{v&&Object.defineProperty(new Image,"id",{value:"test"});var t=function(){};t.prototype={get id(){}},Object.defineProperty(new t,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(t){e=!1}if(e)return}Object.defineProperty=function(e,t,i){delete e[t],"get"in i&&e.__defineGetter__(t,i.get),"set"in i&&e.__defineSetter__(t,i.set),"value"in i&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=i.value)}}(),function(){if("undefined"!=typeof XMLHttpRequest){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest;"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(e){}}),"responseType"in t||(Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){"text"!==e&&"arraybuffer"!==e||(this._responseType=e,"arraybuffer"===e&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"==typeof VBArray?Object.defineProperty(e,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var e,t=this.responseText,i=t.length,n=new Uint8Array(i);for(e=0;e<i;++e)n[e]=255&t.charCodeAt(e);return n.buffer}}):Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}))}}(),function(){if(!("btoa"in r)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.btoa=function(t){var i,n,a="";for(i=0,n=t.length;i<n;i+=3){var r=255&t.charCodeAt(i),o=255&t.charCodeAt(i+1),s=255&t.charCodeAt(i+2),l=(3&r)<<4|o>>4,c=i+1<n?(15&o)<<2|s>>6:64,d=i+2<n?63&s:64;a+=e.charAt(r>>2)+e.charAt(l)+e.charAt(c)+e.charAt(d)}return a}}}(),function(){if(!("atob"in r)){r.atob=function(e){if((e=e.replace(/=+$/,"")).length%4==1)throw new Error("bad atob input");for(var t,i,n=0,a=0,r="";i=e.charAt(a++);~i&&(t=n%4?64*t+i:i,n++%4)?r+=String.fromCharCode(255&t>>(-2*n&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return r}}}(),void 0===Function.prototype.bind&&(Function.prototype.bind=function(e){var t=this,i=Array.prototype.slice.call(arguments,1);return function(){var n=i.concat(Array.prototype.slice.call(arguments));return t.apply(e,n)}}),v&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var e={},t=0,i=this.attributes.length;t<i;t++){var n=this.attributes[t];"data-"===n.name.substring(0,5)&&(e[n.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=n.value)}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})),function(){function e(e,t,i,n){var a=(e.className||"").split(/\s+/g);""===a[0]&&a.shift();var r=a.indexOf(t);return r<0&&i&&a.push(t),r>=0&&n&&a.splice(r,1),e.className=a.join(" "),r>=0}if(v&&!("classList"in document.createElement("div"))){var t={add:function(t){e(this.element,t,!0,!1)},contains:function(t){return e(this.element,t,!1,!1)},remove:function(t){e(this.element,t,!1,!0)},toggle:function(t){e(this.element,t,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=Object.create(t,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}}(),function(){if(!("undefined"==typeof importScripts||"console"in r)){var e={},t={log:function(){var e=Array.prototype.slice.call(arguments);r.postMessage({targetName:"main",action:"console_log",data:e})},error:function(){var e=Array.prototype.slice.call(arguments);r.postMessage({targetName:"main",action:"console_error",data:e})},time:function(t){e[t]=Date.now()},timeEnd:function(t){var i=e[t];if(!i)throw new Error("Unknown timer name "+t);this.log("Timer:",t,Date.now()-i)}};r.console=t}}(),function(){var e;if(v){if("console"in window)return"bind"in console.log?void 0:(console.log=(e=console.log,function(t){return e(t)}),console.error=function(e){return function(t){return e(t)}}(console.error),void(console.warn=function(e){return function(t){return e(t)}}(console.warn)));window.console={log:function(){},error:function(){},warn:function(){}}}}(),function(){m&&document.addEventListener("click",function(e){(function e(t){return t.disabled||t.parentNode&&e(t.parentNode)})(e.target)&&e.stopPropagation()},!0)}(),(p||h)&&(PDFJS.disableCreateObjectURL=!0),"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")),(g||l||u||f)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0),v&&(history.pushState&&!l||(PDFJS.disableHistory=!0)),function(){if(v)if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,i=this.length;t<i;t++)this[t]=e[t]});else{var e,t=!1;if(d?t=(e=o.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(e[2])<21:s?t=c:g&&(t=(e=o.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(e[1])<6),t){var i=window.CanvasRenderingContext2D.prototype,n=i.createImageData;i.createImageData=function(e,t){var i=n.call(this,e,t);return i.data.set=function(e){for(var t=0,i=this.length;t<i;t++)this[t]=e[t]},i},i=null}}}(),function(){function e(){window.requestAnimationFrame=function(e){return window.setTimeout(e,20)},window.cancelAnimationFrame=function(e){window.clearTimeout(e)}}v&&(f?e():"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||e()))}(),(f||s)&&(PDFJS.maxCanvasPixels=5242880),v&&p&&window.parent!==window&&(PDFJS.disableFullscreen=!0),v&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},enumerable:!0,configurable:!0})),function(){if(v){var e=document.createElement("input");try{e.type="number"}catch(n){var t=e.constructor.prototype,i=Object.getOwnPropertyDescriptor(t,"type");Object.defineProperty(t,"type",{get:function(){return i.get.call(this)},set:function(e){i.set.call(this,"number"===e?"text":e)},enumerable:!0,configurable:!0})}}}(),function(){if(v&&document.attachEvent){var e=document.constructor.prototype,t=Object.getOwnPropertyDescriptor(e,"readyState");Object.defineProperty(e,"readyState",{get:function(){var e=t.get.call(this);return"interactive"===e?"loading":e},set:function(e){t.set.call(this,e)},enumerable:!0,configurable:!0})}}(),v&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Number.isNaN||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),function(){if(r.Promise)return"function"!=typeof r.Promise.all&&(r.Promise.all=function(e){var t,i,n=0,a=[],o=new r.Promise(function(e,n){t=e,i=n});return e.forEach(function(e,r){n++,e.then(function(e){a[r]=e,0===--n&&t(a)},i)}),0===n&&t(a),o}),"function"!=typeof r.Promise.resolve&&(r.Promise.resolve=function(e){return new r.Promise(function(t){t(e)})}),"function"!=typeof r.Promise.reject&&(r.Promise.reject=function(e){return new r.Promise(function(t,i){i(e)})}),void("function"!=typeof r.Promise.prototype.catch&&(r.Promise.prototype.catch=function(e){return r.Promise.prototype.then(void 0,e)}));var e=2,t={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var t=Date.now()+1;this.handlers.length>0;){var i=this.handlers.shift(),n=i.thisPromise._status,a=i.thisPromise._value;try{1===n?"function"==typeof i.onResolve&&(a=i.onResolve(a)):"function"==typeof i.onReject&&(a=i.onReject(a),n=1,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(t){n=e,a=t}if(i.nextPromise._updateStatus(n,a),Date.now()>=t)break}this.handlers.length>0?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){var e=this;this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){e.pendingRejectionCheck=!1;for(var t=Date.now(),i=0;i<e.unhandledRejections.length;i++)if(t-e.unhandledRejections[i].time>500){var n=e.unhandledRejections[i].promise._value,a="Unhandled rejection: "+n;n.stack&&(a+="\n"+n.stack);try{throw new Error(a)}catch(e){console.warn(a)}e.unhandledRejections.splice(i),i--}e.unhandledRejections.length&&e.scheduleRejectionCheck()},500))}},i=function(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}};i.all=function(t){var n,a,r=new i(function(e,t){n=e,a=t}),o=t.length,s=[];if(0===o)return n(s),r;function l(t){r._status!==e&&(s=[],a(t))}for(var c=0,d=t.length;c<d;++c){var u=t[c],h=function(t){return function(i){r._status!==e&&(s[t]=i,0===--o&&n(s))}}(c);i.isPromise(u)?u.then(h,l):h(u)}return r},i.isPromise=function(e){return e&&"function"==typeof e.then},i.resolve=function(e){return new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,i){i(e)})},i.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(n,a){1!==this._status&&this._status!==e&&(1===n&&i.isPromise(a)?a.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,e)):(this._status=n,this._value=a,n===e&&0===this._handlers.length&&(this._unhandledRejection=!0,t.addUnhandledRejection(this)),t.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(t){this._updateStatus(e,t)},then:function(e,n){var a=new i(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:a}),t.scheduleHandlers(this),a},catch:function(e){return this.then(void 0,e)}},r.Promise=i}(),function(){if(!r.WeakMap){var e=0;t.prototype={has:function(e){return("object"===(void 0===e?"undefined":a(e))||"function"==typeof e)&&null!==e&&!!Object.getOwnPropertyDescriptor(e,this.id)},get:function(e){return this.has(e)?e[this.id]:void 0},set:function(e,t){Object.defineProperty(e,this.id,{value:t,enumerable:!1,configurable:!0})},delete:function(e){delete e[this.id]}},r.WeakMap=t}function t(){this.id="$weakmap"+e++}}(),function(){var e=!1;try{if("function"==typeof URL&&"object"===a(URL.prototype)&&"origin"in URL.prototype){var t=new URL("b","http://a");t.pathname="c%20d",e="http://a/c%20d"===t.href}}catch(e){}if(!e){var i=Object.create(null);i.ftp=21,i.file=0,i.gopher=70,i.http=80,i.https=443,i.ws=80,i.wss=443;var n=Object.create(null);n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var o,s=/[a-zA-Z]/,l=/[a-zA-Z0-9\+\-\.]/;v.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){g.call(this),m.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||m.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&m.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&m.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&m.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],m.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"===e[0]&&(e=e.slice(1)),m.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"===e[0]&&(e=e.slice(1)),m.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new v(this._schemeData).origin||"null"}catch(e){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var c=r.URL;c&&(v.createObjectURL=function(e){return c.createObjectURL.apply(c,arguments)},v.revokeObjectURL=function(e){c.revokeObjectURL(e)}),r.URL=v}function d(e){return void 0!==i[e]}function u(){g.call(this),this._isInvalid=!0}function h(e){return""===e&&u.call(this),e.toLowerCase()}function p(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function f(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function m(e,t,a){function r(e){y.push(e)}var c=t||"scheme start",m=0,g="",v=!1,b=!1,y=[];e:for(;(e[m-1]!==o||0===m)&&!this._isInvalid;){var _=e[m];switch(c){case"scheme start":if(!_||!s.test(_)){if(t){r("Invalid scheme.");break e}g="",c="no scheme";continue}g+=_.toLowerCase(),c="scheme";break;case"scheme":if(_&&l.test(_))g+=_.toLowerCase();else{if(":"!==_){if(t){if(_===o)break e;r("Code point not allowed in scheme: "+_);break e}g="",m=0,c="no scheme";continue}if(this._scheme=g,g="",t)break e;d(this._scheme)&&(this._isRelative=!0),c="file"===this._scheme?"relative":this._isRelative&&a&&a._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===_?(this._query="?",c="query"):"#"===_?(this._fragment="#",c="fragment"):_!==o&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._schemeData+=p(_));break;case"no scheme":if(a&&d(a._scheme)){c="relative";continue}r("Missing scheme."),u.call(this);break;case"relative or authority":if("/"!==_||"/"!==e[m+1]){r("Expected /, got: "+_),c="relative";continue}c="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=a._scheme),_===o){this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query=a._query,this._username=a._username,this._password=a._password;break e}if("/"===_||"\\"===_)"\\"===_&&r("\\ is an invalid code point."),c="relative slash";else if("?"===_)this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query="?",this._username=a._username,this._password=a._password,c="query";else{if("#"!==_){var w=e[m+1],x=e[m+2];("file"!==this._scheme||!s.test(_)||":"!==w&&"|"!==w||x!==o&&"/"!==x&&"\\"!==x&&"?"!==x&&"#"!==x)&&(this._host=a._host,this._port=a._port,this._username=a._username,this._password=a._password,this._path=a._path.slice(),this._path.pop()),c="relative path";continue}this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query=a._query,this._fragment="#",this._username=a._username,this._password=a._password,c="fragment"}break;case"relative slash":if("/"!==_&&"\\"!==_){"file"!==this._scheme&&(this._host=a._host,this._port=a._port,this._username=a._username,this._password=a._password),c="relative path";continue}"\\"===_&&r("\\ is an invalid code point."),c="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==_){r("Expected '/', got: "+_),c="authority ignore slashes";continue}c="authority second slash";break;case"authority second slash":if(c="authority ignore slashes","/"!==_){r("Expected '/', got: "+_);continue}break;case"authority ignore slashes":if("/"!==_&&"\\"!==_){c="authority";continue}r("Expected authority, got: "+_);break;case"authority":if("@"===_){v&&(r("@ already seen."),g+="%40"),v=!0;for(var C=0;C<g.length;C++){var S=g[C];if("\t"!==S&&"\n"!==S&&"\r"!==S)if(":"!==S||null!==this._password){var T=p(S);null!==this._password?this._password+=T:this._username+=T}else this._password="";else r("Invalid whitespace in authority.")}g=""}else{if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_){m-=g.length,g="",c="host";continue}g+=_}break;case"file host":if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_){2!==g.length||!s.test(g[0])||":"!==g[1]&&"|"!==g[1]?0===g.length?c="relative path start":(this._host=h.call(this,g),g="",c="relative path start"):c="relative path";continue}"\t"===_||"\n"===_||"\r"===_?r("Invalid whitespace in file host."):g+=_;break;case"host":case"hostname":if(":"!==_||b){if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_){if(this._host=h.call(this,g),g="",c="relative path start",t)break e;continue}"\t"!==_&&"\n"!==_&&"\r"!==_?("["===_?b=!0:"]"===_&&(b=!1),g+=_):r("Invalid code point in host/hostname: "+_)}else if(this._host=h.call(this,g),g="",c="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(_))g+=_;else{if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_||t){if(""!==g){var k=parseInt(g,10);k!==i[this._scheme]&&(this._port=k+""),g=""}if(t)break e;c="relative path start";continue}"\t"===_||"\n"===_||"\r"===_?r("Invalid code point in port: "+_):u.call(this)}break;case"relative path start":if("\\"===_&&r("'\\' not allowed in path."),c="relative path","/"!==_&&"\\"!==_)continue;break;case"relative path":var A;if(_!==o&&"/"!==_&&"\\"!==_&&(t||"?"!==_&&"#"!==_))"\t"!==_&&"\n"!==_&&"\r"!==_&&(g+=p(_));else"\\"===_&&r("\\ not allowed in relative path."),(A=n[g.toLowerCase()])&&(g=A),".."===g?(this._path.pop(),"/"!==_&&"\\"!==_&&this._path.push("")):"."===g&&"/"!==_&&"\\"!==_?this._path.push(""):"."!==g&&("file"===this._scheme&&0===this._path.length&&2===g.length&&s.test(g[0])&&"|"===g[1]&&(g=g[0]+":"),this._path.push(g)),g="","?"===_?(this._query="?",c="query"):"#"===_&&(this._fragment="#",c="fragment");break;case"query":t||"#"!==_?_!==o&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._query+=f(_)):(this._fragment="#",c="fragment");break;case"fragment":_!==o&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._fragment+=_)}m++}}function g(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function v(e,t){void 0===t||t instanceof v||(t=new v(String(t))),this._url=e,g.call(this);var i=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");m.call(this,i,null,t)}}()}},function(e,t,i){"use strict";var n=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),n=!0}catch(e){}t.ReadableStream=n?ReadableStream:i(10).ReadableStream}])},e.exports=r()}).call(t,i("9AUj"),i("V0EG"),i("7xR8").Buffer)},N04a:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y");i("briU"),i("8os4"),i("KchE"),i("xDzJ"),i("X6pT");var a=i("jRlL"),r=i.n(a),o=i("KGCO"),s=i("L7Pj"),l=i.n(s),c=i("C331"),d=i("RR1J"),u=i("Qs1v"),h=i("Zuxa"),p=i("4sVQ"),f=i("okaO"),m=(d.default,u.default,h.default,p.default,f.default,{components:{MainLayout:d.default,LoginLayout:u.default,formLayout:h.default,mobileLayout:p.default,applicationLayout:f.default},created:function(){Object(c.d)(this)},data:function(){return{navToggle:!0,sidebarShow:!0,layoutType:"left",navList:[],headItems:[],account:null,options:[],asyncLogin:!1,ajaxRequests:[],ASYNC_LOGIN_PROCESS:"async_login_process",myWidth:100,entrySetting:{mainRoutes:["/index","/school/test"]},windowObj2:{width:100}}},provide:function(){return{windowObj:this.windowObj2}},watch:{account:{handler:function(){var e=this;this.navList=[],this.account&&"FRESHMAN"!==this.account.type&&l.a.ajax({url:"/api/currentUser/menus",type:"get",success:function(t){t.state?t.data.sort(e.compare("sort")).forEach(function(t,i){e.navList.push(e._getRouteObj(t,0===i))}):e.toast(t.message)}})},deep:!0}},methods:{_getRouteObj:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return n.title=e.name,e.url&&e.url.indexOf("?id=")>=0?(this.$set(n,"route",e.url.split("?id=")[0]),this.$set(n,"data",this._getParams(e.url))):this.$set(n,"route",e.url),e.subMenus&&e.subMenus.length>0&&(this.$set(n,"open",i),n.children||this.$set(n,"children",[]),e.subMenus.sort(this.compare("sort")).forEach(function(e){n.children.push(t._getRouteObj(e))})),n},_getParams:function(e){var t={};if(-1!==e.indexOf("?"))for(var i=e.substr(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return t},initNavList:function(e){this.navList=e},initAccount:function(e){this.account=e},compare:function(e){return function(t,i){return t[e]-i[e]}},readyToAsyncLogin:function(e){if(this.ajaxRequests.push(e),!window.localStorage.getItem(this.ASYNC_LOGIN_PROCESS)&&!this.asyncLogin){this.toast("登录信息已超时"),this.asyncLogin=!0;var t=this;window.addEventListener("storage",function(e){window.localStorage.getItem(this.ASYNC_LOGIN_PROCESS)||(t.asyncLogin=!1,t.ajaxRequests.forEach(function(e){Object(c.c)(e,!0)}),t.ajaxRequests=[])})}}},mounted:function(){var e=null,t=this;l()(window).off("resize").on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){t.windowObj2.width=window.innerWidth},300)})}}),g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.entrySetting.mainRoutes.indexOf(e.$route.path)>=0?i("router-view",{attrs:{navList:e.navList,headItems:e.headItems,account:e.account,navToggle:e.navToggle,sidebarShow:e.sidebarShow,layoutType:e.layoutType,asyncLogin:e.asyncLogin},on:{initNavList:e.initNavList,initAccount:e.initAccount}}):i("router-view",{attrs:{account:e.account},on:{initAccount:e.initAccount}})},staticRenderFns:[]};var v=i("C7Lr")(m,g,!1,function(e){i("kUbc")},null,null).exports,b=function(){return new Promise(function(e){e()}).then(i.bind(null,"RR1J"))},y=function(){return new Promise(function(e){e()}).then(i.bind(null,"Qs1v"))},_=function(){return new Promise(function(e){e()}).then(i.bind(null,"okaO"))},w=function(){return Promise.all([i.e(0),i.e(7)]).then(i.bind(null,"BrgE"))},x=function(){return i.e(39).then(i.bind(null,"SWg4"))},C=function(){return Promise.all([i.e(0),i.e(14)]).then(i.bind(null,"r37U"))},S=function(){return i.e(15).then(i.bind(null,"sNFd"))},T=function(){return i.e(72).then(i.bind(null,"fBt1"))},k=function(){return i.e(93).then(i.bind(null,"GLWG"))},A=function(){return i.e(43).then(i.bind(null,"mBLU"))},E={"/":function(){return i.e(16).then(i.bind(null,"2eNn"))},"/freshman/freshmanMainPage":function(){return i.e(38).then(i.bind(null,"e3KV"))},"/permission/departmentManage":function(){return i.e(54).then(i.bind(null,"z08q"))},"/permission/personnelManage":function(){return i.e(74).then(i.bind(null,"wM6K"))},"/workflow/appManage/department":w,"/workflow/appManage/manager":w,"/permission/collegeManage":function(){return i.e(31).then(i.bind(null,"EzB9"))},"/permission/collegeImport":function(){return i.e(63).then(i.bind(null,"746C"))},"/workflow/flowManage":function(){return i.e(64).then(i.bind(null,"JTLb"))},"/workflow/formManage":function(){return i.e(55).then(i.bind(null,"MPQl"))},"/formSetManage":function(){return i.e(0).then(i.bind(null,"7CEZ"))},"/flowSetManage":function(){return i.e(0).then(i.bind(null,"lh7w"))},"/relationship/relationshipManage/college":x,"/relationship/relationshipManage/school":x,"/relationship/relationClassManage":function(){return i.e(8).then(i.bind(null,"O6ru"))},"/dictionary/dictionaryManage":function(){return i.e(70).then(i.bind(null,"o0lZ"))},"/authority/schoolRoleManage":function(){return i.e(52).then(i.bind(null,"xxE6"))},"/authority/collegeRoleManage":function(){return i.e(40).then(i.bind(null,"pEit"))},"/authority/systemRoleManage":function(){return i.e(73).then(i.bind(null,"Jyhk"))},"/permission/schoolRoleApproverManage":function(){return i.e(47).then(i.bind(null,"Y+4G"))},"/permission/collegeRoleApproverManage":function(){return i.e(34).then(i.bind(null,"RWGZ"))},"/permission/approverRoleManage":function(){return i.e(92).then(i.bind(null,"h3WQ"))},"/document/studentManage/school":C,"/document/studentManage/college":C,"/document/studentManage/myManage":C,"/document/instructorInfoManage":function(){return Promise.all([i.e(0),i.e(76)]).then(i.bind(null,"k4om"))},"/freshman/freshmanManage":function(){return i.e(32).then(i.bind(null,"BLwR"))},"/document/studentImport":function(){return i.e(78).then(i.bind(null,"4hyi"))},"/document/teacherImport":function(){return i.e(60).then(i.bind(null,"2oBD"))},"/app/flow":function(){return i.e(1).then(i.bind(null,"kyKM"))},"/app/form":function(){return i.e(30).then(i.bind(null,"cJZF"))},"/app/link":function(){return i.e(100).then(i.bind(null,"JhrW"))},"/announce/detail":function(){return i.e(85).then(i.bind(null,"zr5z"))},"/login/loginSet":function(){return i.e(56).then(i.bind(null,"QZt9"))},"/announcement/announcementManage/school":S,"/announcement/announcementManage/college":S,"/announcement/announcementManage/instructor":S,"/home/myAffairs":function(){return i.e(88).then(i.bind(null,"n7SD"))},"/user/certificationManage":function(){return i.e(89).then(i.bind(null,"Mn0I"))},"/activityManage/activityContentTypeManage":function(){return i.e(51).then(i.bind(null,"jMn9"))},"/activityManage/activityTypeManage":function(){return Promise.all([i.e(0),i.e(91)]).then(i.bind(null,"AjNI"))},"/activityManage/organizationManage/school":T,"/activityManage/organizationManage/college":T,"/activityManage/activityDown":function(){return i.e(81).then(i.bind(null,"eWak"))},"/activityManage/markList":function(){return i.e(45).then(i.bind(null,"0YwO"))},"/modules/iSignIn/main":function(){return Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"FSXf"))},"/workStudy/flowSet":function(){return i.e(10).then(i.bind(null,"Ykpf"))},"/workStudy/batchManage":function(){return i.e(97).then(i.bind(null,"ww2R"))},"/workStudy/employmentUnitManage":function(){return i.e(87).then(i.bind(null,"+xpI"))},"/workStudy/schoolJobManage":function(){return Promise.all([i.e(0),i.e(101)]).then(i.bind(null,"Yzjt"))},"/workStudy/unitJobCheck":function(){return i.e(6).then(i.bind(null,"PS2J"))},"/workStudy/unitJobManage":function(){return i.e(5).then(i.bind(null,"NcP/"))},"/workStudy/jobApply":function(){return Promise.all([i.e(0),i.e(29)]).then(i.bind(null,"TiG+"))},"/workStudy/studentJobApplyCheck":function(){return Promise.all([i.e(0),i.e(37)]).then(i.bind(null,"uXk9"))},"/workStudy/studentRetiredApplyCheck":function(){return Promise.all([i.e(0),i.e(57)]).then(i.bind(null,"r47H"))},"/workStudy/unitSalaryManage":function(){return i.e(62).then(i.bind(null,"ZdO9"))},"/workStudy/salaryGrantCheck":function(){return i.e(33).then(i.bind(null,"4lyk"))},"/workStudy/myJob":function(){return i.e(86).then(i.bind(null,"TeFI"))},"/workStudy/jobDetail":function(){return Promise.all([i.e(0),i.e(83)]).then(i.bind(null,"498K"))},"/psychologicalReservation/schedulingManage":function(){return Promise.all([i.e(0),i.e(11)]).then(i.bind(null,"HUfU"))},"/psychologicalReservation/consultantManage":function(){return i.e(95).then(i.bind(null,"vwya"))},"/psychologicalReservation/reservationInformationManage":function(){return Promise.all([i.e(0),i.e(13)]).then(i.bind(null,"ok3N"))},"/psychologicalReservation/reservationSet":function(){return i.e(12).then(i.bind(null,"NM4P"))},"/psychologicalReservation/myScheduling":function(){return Promise.all([i.e(0),i.e(84)]).then(i.bind(null,"TMfh"))},"/psychologicalReservation/studentReservationRecord":function(){return Promise.all([i.e(0),i.e(44)]).then(i.bind(null,"BjIg"))},"/psychologicalReservation/advisoryInformationPerfect":function(){return i.e(103).then(i.bind(null,"n9+X"))},"/psychologicalReservation/psychologicalAdvisoryReservation":function(){return i.e(28).then(i.bind(null,"4nYE"))},"/psychologicalReservation/reservationRecord":function(){return i.e(82).then(i.bind(null,"dteg"))},"/psychologicalReservation/consultantInfoManage":function(){return i.e(80).then(i.bind(null,"JbxV"))},"/psychologicalReservation/studentInfoManage":function(){return i.e(58).then(i.bind(null,"yVZl"))}},N={"/applicationList/MWorkHall":function(){return i.e(19).then(i.bind(null,"ZElc"))},"/applicationList/MFreshmanApplication":function(){return i.e(96).then(i.bind(null,"uTnm"))},"/accountCircle/MAccountCircle":function(){return i.e(71).then(i.bind(null,"BTUs"))},"/accountCircle/MFreshmanStatus":function(){return i.e(90).then(i.bind(null,"gHNN"))},"/accountCircle/MMyActivity":function(){return i.e(25).then(i.bind(null,"lOqF"))},"/accountCircle/MRemarkReport":function(){return i.e(69).then(i.bind(null,"mOaO"))},"/myAffair/MyAffairList":function(){return i.e(79).then(i.bind(null,"OSw1"))},"/form/MFormLayout":function(){return new Promise(function(e){e()}).then(i.bind(null,"xdES"))},"/form/MFlowDetail":function(){return new Promise(function(e){e()}).then(i.bind(null,"m4Hq"))},"/announcement/MAnnouncement":function(){return i.e(48).then(i.bind(null,"nQ+6"))},"/announcement/MAnnouncementDetail":function(){return i.e(41).then(i.bind(null,"6Yiw"))},"/activity/MSecondClassRoom":function(){return i.e(21).then(i.bind(null,"crxq"))},"/activity/MPublishActivity":function(){return i.e(65).then(i.bind(null,"1IlA"))},"/activity/MActivitySearch":function(){return i.e(59).then(i.bind(null,"CVGC"))},"/activity/MActivityDetail":k,"/activity/MAuditList":function(){return i.e(9).then(i.bind(null,"F5eI"))},"/activity/MCommentList":function(){return i.e(23).then(i.bind(null,"D0Zk"))},"/activity/MSignInList":function(){return i.e(20).then(i.bind(null,"W7pB"))},"/activity/MSignInDetail":function(){return i.e(4).then(i.bind(null,"Zy6H"))},"/activity/MCreateSignIn":function(){return i.e(22).then(i.bind(null,"bFtx"))},"/activity/MAuthorizationManage":function(){return i.e(75).then(i.bind(null,"C2d8"))},"/activity/MActivityFeedback":function(){return i.e(94).then(i.bind(null,"+5sQ"))},"/activity/MActivityUserStar":function(){return i.e(24).then(i.bind(null,"IEqX"))},"/organization/MorganizationPersonnelCheck":function(){return i.e(35).then(i.bind(null,"rfNw"))},"/organization/MOrganizationManage":function(){return i.e(18).then(i.bind(null,"4X5N"))},"/organization/MOrganizationSearch":function(){return i.e(17).then(i.bind(null,"dqlE"))},"/ISignIn/MISignInList":A,"/ISignIn/MISignInDetail":function(){return i.e(3).then(i.bind(null,"RTY8"))},"/ISignIn/MISignInUserList":function(){return i.e(26).then(i.bind(null,"Ach9"))},"/ISignIn/MISignInSearch":function(){return i.e(42).then(i.bind(null,"jWsx"))},"/partTime/positionList":function(){return i.e(50).then(i.bind(null,"BK0L"))},"/partTime/positionDetail":function(){return i.e(61).then(i.bind(null,"xLY9"))},"/partTime/positionApply":function(){return i.e(46).then(i.bind(null,"1mZ2"))},"/partTime/positionMyApplies":function(){return i.e(66).then(i.bind(null,"mWdi"))},"/paymentHall/transactionRecord":function(){return i.e(49).then(i.bind(null,"Frcs"))},"/paymentHall/myPayment":function(){return i.e(36).then(i.bind(null,"NV6o"))},"/paymentHall/paymentDetail":function(){return i.e(77).then(i.bind(null,"UlVK"))},"/psychology/MCampus":function(){return i.e(98).then(i.bind(null,"FIqS"))},"/psychology/MProtocol":function(){return i.e(53).then(i.bind(null,"W/9S"))},"/psychology/MCounselorList":function(){return i.e(67).then(i.bind(null,"ck7n"))},"/psychology/MCounselorDetail":function(){return i.e(68).then(i.bind(null,"G3XV"))},"/psychology/MCounselorAppointment":function(){return i.e(99).then(i.bind(null,"v9fp"))}};n.a.use(o.a);var P=new o.a({mode:"history",routes:[{path:"/",redirect:"/index",component:v,children:[{path:"index",component:b,children:[{path:"/",components:E}]},{path:"form",component:function(){return new Promise(function(e){e()}).then(i.bind(null,"Zuxa"))}},{path:":schoolId/login",component:y},{path:"login",component:y},{path:"mobile",component:function(){return new Promise(function(e){e()}).then(i.bind(null,"4sVQ"))},children:[{path:"/",components:N},{path:"/activity/:id",components:{"/":k}},{path:"/iSignIn",components:{"/":A}}]},{path:"app/:id",component:_,children:[{path:"/",components:E}]},{path:"mobile/app/:id",component:_,children:[{path:"/",components:N}]},{path:"school/:id",component:b,children:[{path:"/",components:E}]}]}]}),R=i("NuOq"),I={spinner:function(){return'<div id="showWaiting" class="page-waiting">\n              <div class="spinner">\n                <div class="spinner-container container1">\n                  <div class="circle1"></div>\n                  <div class="circle2"></div>\n                  <div class="circle3"></div>\n                  <div class="circle4"></div>\n                </div>\n                <div class="spinner-container container2">\n                  <div class="circle1"></div>\n                  <div class="circle2"></div>\n                  <div class="circle3"></div>\n                  <div class="circle4"></div>\n                </div>\n                <div class="spinner-container container3">\n                  <div class="circle1"></div>\n                  <div class="circle2"></div>\n                  <div class="circle3"></div>\n                  <div class="circle4"></div>\n                </div>\n              </div>\n            </div>'},normal:function(e){return'<div id="showWaiting" class="page-toast" style="opacity: 0;">\n              <div class="show-content">\n                <span class="message">'+e+"</span>\n              </div>\n            </div>"},happy:function(e){return'<div id="showWaiting" class="page-toast" style="opacity: 0;">\n              <div class="show-content">\n                <div class=\'smiley-green\'>\n                  <div class=\'left-eye\'>.</div>\n                  <div class=\'right-eye\'></div>\n                  <div class=\'smile\'></div>\n                </div>\n                <span class="message">'+e+"</span>\n              </div>\n            </div>"},amazed:function(e){return'<div id="showWaiting" class="page-toast" style="opacity: 0;">\n              <div class="show-content">\n                <div class=\'smiley-yellow\'>\n                  <div class=\'left-eye\'>.</div>\n                  <div class=\'right-eye\'></div>\n                  <div class=\'smile\'></div>\n                </div>\n                <span class="message">'+e+"</span>\n              </div>\n            </div>"},upset:function(e){return'<div id="showWaiting" class="page-toast" style="opacity: 0;">\n              <div class="show-content">\n                <div class=\'smiley-green\'>\n                  <div class=\'left-eye\'>.</div>\n                  <div class=\'right-eye\'></div>\n                  <div class=\'smile\'></div>\n                </div>\n                <span class="message">'+e+"</span>\n              </div>\n            </div>"},check:function(e){return'<div id="showWaiting" class="page-toast" style="opacity: 0;">\n              <div class="show-content">\n                <span class="check-icon"></span>\n                <span class="message">'+e+"</span>\n              </div>\n            </div>"},cancel:function(e){return'<div id="showWaiting" class="page-toast" style="opacity: 0;">\n              <div class="show-content">\n                <span class="cancel-icon"></span>\n                <span class="message">'+e+"</span>\n              </div>\n            </div>"}},L=function(){n.a.prototype.showWaiting=function(e,t){var i=I.spinner;e=e||"html",l()(e).append(i),setTimeout(function(){l()("#showWaiting.page-waiting").remove()},5e3)},n.a.prototype.closeWaiting=function(){l()("#showWaiting.page-waiting").remove()},n.a.prototype.toast=function(e,t,i,n){I[i],i="normal",n=n||"html",t=t||3e3,e=e||"","normal"===i&&""===e&&(e="操作成功！");var a=I[i](e);l()(n).append(a),l()("#showWaiting.page-toast").animate({opacity:1},300),setTimeout(function(){l()("#showWaiting.page-toast").animate({opacity:0},300,function(){l()("#showWaiting.page-toast").remove()})},t)},n.a.prototype.$pullUpToLoad=function(e){var t={container:e.container,up:{bottom:e.up&&e.up.bottom||150,callback:e.up&&e.up.callback||function(){}},down:{height:e.down&&e.down.height||200,callback:e.down&&e.down.callback||function(){}}};if(e.container){l()(t.container).addClass("xc-pull-refresh-container");var i=l()(t.container);if(e.up){var n=null,a=0,r=0;i.off("scroll").on("scroll",function(){var e=l()(this).scrollTop(),i=l()(this).get(0).scrollHeight,o=l()(this).height();a=e-r,r=e,a>0&&(n&&clearTimeout(n),n=setTimeout(function(){i-e<=o+t.up.bottom&&t.up.callback&&t.up.callback()},100))})}if(e.down){var o=!1,s=0,c=0,d=0;i.off("touchstart").on("touchstart",function(e){s=e.targetTouches[0].pageY,0===i.scrollTop()&&(o=!0)}),i.off("touchmove").on("touchmove",function(e){if(o){var n=e.targetTouches[0].pageY-s;n>0&&(i.addClass("xc-pull-refresh-tip"),n=n>t.down.height?t.down.height:n,e.preventDefault(),c=Math.floor(.25*n),i.css("transform","translateY("+c+"px)"),c>=t.down.height/4?(d=1,i.addClass("xc-pull-refresh-release")):d=0)}}),i.off("touchend").on("touchend",function(){o=!1,2!==d?c>=t.down.height/4?(i.addClass("xc-pull-refresh-loadding"),setTimeout(function(){t.down.callback&&t.down.callback(),c=0,i.css("transform","translateY("+c+"px)"),i.removeClass("xc-pull-refresh-release xc-pull-refresh-loadding xc-pull-refresh-tip")},300)):(d=0,c=0,i.css("transform","translateY("+c+"px)"),i.removeClass("xc-pull-refresh-tip")):c=t.down.height/4})}}else console.error("$pullUpToLoad.container为空，初始化失败！")}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]};var U=i("C7Lr")({name:"App"},D,!1,function(e){i("OKwA")},null,null).exports,O=(i("wvnA"),i("e/lV")),M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"wrap croppa-wrap"},[i("div",{staticClass:"croppa-content"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-9 croppa-parent"},[e.show?i("croppa",{staticClass:"croppa",attrs:{placeholder:"选  图","placeholder-font-size":48,"zoom-speed":3,"reverse-scroll-to-zoom":!1,width:e.width,height:e.height,"show-remove-button":!1,"disable-click-to-choose":!1},model:{value:e.croppa,callback:function(t){e.croppa=t},expression:"croppa"}},[i("img",{attrs:{slot:"initial",src:e.imageUrl},slot:"initial"})]):e._e(),e._v(" "),i("span",{staticClass:"maticon remove-image",domProps:{innerHTML:e._s(e.icons("cancel"))},on:{click:function(t){e._remove()}}})],1),e._v(" "),i("div",{staticClass:"col-sm-3"},[i("button",{staticClass:"btn",on:{click:function(t){e.croppa.rotate()}}},[e._v("旋转")]),e._v(" "),i("button",{staticClass:"btn",on:{click:function(t){e.croppa.flipX()}}},[e._v("左右翻转")]),e._v(" "),i("button",{staticClass:"btn",on:{click:function(t){e.croppa.flipY()}}},[e._v("上下翻转")]),e._v(" "),i("button",{staticClass:"btn",on:{click:function(t){e.croppa.zoomIn()}}},[e._v("放大")]),e._v(" "),i("button",{staticClass:"btn",on:{click:function(t){e.croppa.zoomOut()}}},[e._v("缩小")])])]),e._v(" "),i("div",{staticClass:"row options"},[i("div",{staticClass:"col-sm-12"},[i("button",{staticClass:"btn pull-right sure",on:{click:e._endCut}},[e._v("确定")]),e._v(" "),i("button",{staticClass:"btn pull-right cancel",on:{click:function(t){e.show=!1}}},[e._v("取消")])])])])])]):e._e()},staticRenderFns:[]};var B=function(e){i("Z/HC")},F=i("C7Lr")(O.a,M,!1,B,null,null).exports,j=n.a.extend(F);function H(e){var t=new j({el:document.createElement("div"),data:function(){return{file:e.file||null,scale:e.scale,width:parseInt(e.width)||300,height:parseInt(e.height)||300}},methods:{sure:function(t){e.sure&&e.sure(t)},cancel:function(){e.cancel&&e.cancel()}}});document.body.appendChild(t.$el)}var W=function(){n.a.prototype.$croppa=H},q={data:function(){return{show:!0,displayDayView:!0,displayMonthView:!1,displayYearView:!1,hour:0,minute:0,second:0,hasChange:!1,rect:{},translation:{"zh-cn":{daysOfWeek:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},en:{daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},lang:this.defaultLang}},computed:{position:function(){var e=0,t=0;return window.innerWidth>=768?(e=window.innerHeight-this.rect.bottom<295?(e=this.rect.top-295)<0?0:e:this.rect.bottom,t=window.innerWidth-this.rect.left<218?window.innerWidth-218:this.rect.left):(t=(window.innerWidth-218)/2,e=(window.innerHeight-295)/3),"left:"+t+"px;top:"+e+"px;opacity: 1;"},decadeRange:function(){for(var e=[],t=this.currDate.getFullYear().toString(),i=t.substring(0,t.length-1)+0-1,n=0;n<12;n++)e.push({text:i+n});return e},dateRange:function(){var e=[],t=new Date(this.currDate.getFullYear(),this.currDate.getMonth(),1).getDay()+1;0===t&&(t=7);var i=this._getDayCount(this.currDate.getFullYear(),this.currDate.getMonth());if(t>1)for(var n=this._getYearMonth(this.currDate.getFullYear(),this.currDate.getMonth()-1),a=this._getDayCount(n.year,n.month),r=1;r<t;r++){var o=a-t+r+1;e.push({text:o,date:new Date(n.year,n.month,o),sclass:"datepicker-item-gray"})}for(var s=1;s<=i;s++){var l=new Date(this.currDate.getFullYear(),this.currDate.getMonth(),s),c=(l.getDay(),"");if(s===this.currDate.getDate()){var d=this._parse(this.value);d&&d.getFullYear()===this.currDate.getFullYear()&&d.getMonth()===this.currDate.getMonth()&&(c="datepicker-dateRange-item-active")}e.push({text:s,date:l,sclass:c})}if(e.length<42)for(var u=42-e.length,h=this._getYearMonth(this.currDate.getFullYear(),this.currDate.getMonth()+1),p=1;p<=u;p++)e.push({text:p,date:new Date(h.year,h.month,p),sclass:"datepicker-item-gray"});return e},translate:function(){return this.translation[this.defaultLang]},yearView:function(){return/^y{4}$/.test(this.format)},monthView:function(){return/^y{4}(\-|\/|\.)M{2}$/.test(this.format)},hourView:function(){return/^h{2}$/.test(this.format)},minuteView:function(){return/^h{2}:i{2}$/.test(this.format)},secondView:function(){return/^h{2}:i{2}:s{2}$/.test(this.format)},dayView:function(){return!(this.yearView||this.monthView||this.hourView||this.minuteView||this.secondView)}},created:function(){this.hour=this.currDate.getHours(),this.minute=this.currDate.getMinutes(),this.second=this.currDate.getSeconds(),this.hour=this.hour<10?"0"+this.hour:this.hour,this.minute=this.minute<10?"0"+this.minute:this.minute,this.second=this.second<10?"0"+this.second:this.second,this.displayDayView=this.dayView,this.displayMonthView=this.monthView,this.displayYearView=this.yearView},methods:{_getDayCount:function(e,t){return 1===t&&(e%400==0||e%4==0&&e%100!=0)?29:[31,28,31,30,31,30,31,31,30,31,30,31][t]},_preNextDecadeClick:function(e){var t=this.currDate.getFullYear(),i=this.currDate.getMonth(),n=this.currDate.getDate();this.currDate=0===e?new Date(t-10,i,n):new Date(t+10,i,n)},_preNextMonthClick:function(e){var t=this.currDate.getFullYear(),i=this.currDate.getMonth(),n=this.currDate.getDate();if(0===e){var a=this._getYearMonth(t,i-1);this.currDate=new Date(a.year,a.month,n)}else{var r=this._getYearMonth(t,i+1);this.currDate=new Date(r.year,r.month,n)}},_preNextYearClick:function(e){var t=this.currDate.getFullYear(),i=this.currDate.getMonth(),n=this.currDate.getDate();this.currDate=0===e?new Date(t-1,i,n):new Date(t+1,i,n)},_yearSelect:function(e){this.displayYearView=!1,this.currDate=new Date(e,this.currDate.getMonth(),this.currDate.getDate()),this.yearView?(this.value=this._stringify(this.currDate),this.show=!1,this._optionResult(this.value)):this.displayMonthView=!0},_monthSelect:function(e){this.displayMonthView=!1,this.currDate=new Date(this.currDate.getFullYear(),e,this.currDate.getDate()),this.monthView?(this.value=this._stringify(this.currDate),this.show=!1,this._optionResult(this.value)):this.displayDayView=!0},_daySelect:function(e,t){if("datepicker-item-disable"===t.target.classList[0])return!1;this.currDate=e,this.value=this._stringify(this.currDate),this.displayDayView=!1,this.show=!1,this._optionResult(this.value)},_switchMonthView:function(){this.displayDayView=!1,this.displayMonthView=!0},_switchDecadeView:function(){this.displayMonthView=!1,this.displayYearView=!0},_getYearMonth:function(e,t){return t>11?(e++,t=0):t<0&&(e--,t=11),{year:e,month:t}},_checkTime:function(){(isNaN(this.hour)||this.hour<0||this.hour>23)&&(this.hour=this.currDate.getHours()),(isNaN(this.minute)||this.minute<0||this.minute>59)&&(this.minute=this.currDate.getMinutes()),(isNaN(this.second)||this.second<0||this.second>59)&&(this.second=this.currDate.getSeconds())},_stringifyDecadeHeader:function(e){var t=e.getFullYear().toString(),i=t.substring(0,t.length-1)+0;return i+"-"+(parseInt(i,10)+10)},_stringifyDayHeader:function(e){return this.translate.months[e.getMonth()]+" "+e.getFullYear()},_stringifyYearHeader:function(e){return e.getFullYear()},_stringify:function(e,t){if(e||(e=this._parse()),!e)return"";var i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=this._parseMonth(e);return(t=t||"yyyy-MM-dd hh:ii:ss").replace(/yyyy/g,i).replace(/MMMM/g,r).replace(/MMM/g,r.substring(0,3)).replace(/MM/g,("0"+n).slice(-2)).replace(/dd/g,("0"+a).slice(-2)).replace(/yy/g,i).replace(/M(?!a)/g,n).replace(/d/g,a).replace(/hh/g,this.hour).replace(/ii/g,this.minute).replace(/ss/g,this.second)},_parseMonth:function(e){return this.translate.months[e.getMonth()]},_parse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=void 0;return t=10!==e.length||"dd-MM-yyyy"!==this.format&&"dd/MM/yyyy"!==this.format?e?new Date(e):new Date:new Date(e.substring(6,10),e.substring(3,5)-1,e.substring(0,2)),isNaN(t.getFullYear())?new Date:t},_close:function(){this.show=!1,this.displayDayView=this.displayMonthView=this.displayYearView=!1,this.hasChange&&this._optionResult(this.selectedItems),this._optionClose(),window.onresize=""}},mounted:function(){var e=this;this.rect=this.el?this.el.getBoundingClientRect():{left:e.event.clientX,bottom:e.event.clientY,top:e.event.clientY},window.onresize=function(){e.rect=e.el?e.el.getBoundingClientRect():{left:e.event.clientX,bottom:e.event.clientY,top:e.event.clientY}}}},V={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"v-date-cover",on:{click:e._close}},[e.dayView?i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayDayView,expression:"displayDayView"}],staticClass:"datepicker-popup",style:e.position,on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"datepicker-inner"},[i("div",{staticClass:"datepicker-body"},[i("div",{staticClass:"datepicker-ctrl"},[i("span",{staticClass:"datepicker-preBtn glyphicon glyphicon-chevron-left",attrs:{"aria-hidden":"true"},on:{click:function(t){t.stopPropagation(),e._preNextMonthClick(0)}}}),e._v(" "),i("span",{staticClass:"datepicker-nextBtn glyphicon glyphicon-chevron-right",attrs:{"aria-hidden":"true"},on:{click:function(t){t.stopPropagation(),e._preNextMonthClick(1)}}}),e._v(" "),i("p",{on:{click:function(t){return t.stopPropagation(),e._switchMonthView(t)}}},[e._v(e._s(e._stringifyDayHeader(e.currDate)))])]),e._v(" "),i("div",{staticClass:"datepicker-weekRange"},e._l(e.translate.daysOfWeek,function(t,n){return i("span",{key:n},[e._v(e._s(t))])})),e._v(" "),i("div",{staticClass:"datepicker-dateRange"},e._l(e.dateRange,function(t,n){return i("span",{key:n,class:t.sclass,on:{click:function(i){i.stopPropagation(),e._daySelect(t.date,i)}}},[e._v(e._s(t.text))])}))]),e._v(" "),e.showTime?i("div",{staticClass:"datepicker-footer container-fluid"},[i("div",{staticClass:"row text-center"},[i("div",{staticClass:"col-xs-2 clear-padding time-input"}),e._v(" "),i("div",{staticClass:"form-group col-xs-2 clear-padding time-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.hour,expression:"hour"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.hour},on:{change:e._checkTime,input:function(t){t.target.composing||(e.hour=t.target.value)}}})]),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"form-group col-xs-2 clear-padding time-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minute,expression:"minute"}],staticClass:"form-control pull-left",attrs:{type:"text"},domProps:{value:e.minute},on:{change:e._checkTime,input:function(t){t.target.composing||(e.minute=t.target.value)}}})]),e._v(" "),e._m(1),e._v(" "),i("div",{staticClass:"form-group col-xs-2 clear-padding time-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.second,expression:"second"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.second},on:{change:e._checkTime,input:function(t){t.target.composing||(e.second=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"col-xs-2 clear-padding time-input"})])]):e._e()])]):e._e(),e._v(" "),e.yearView||e.hourView||e.minuteView||e.secondView?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayMonthView,expression:"displayMonthView"}],staticClass:"datepicker-popup",style:e.position,on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"datepicker-inner"},[i("div",{staticClass:"datepicker-body"},[i("div",{staticClass:"datepicker-ctrl"},[i("span",{staticClass:"datepicker-preBtn glyphicon glyphicon-chevron-left",attrs:{"aria-hidden":"true"},on:{click:function(t){t.stopPropagation(),e._preNextYearClick(0)}}}),e._v(" "),i("span",{staticClass:"datepicker-nextBtn glyphicon glyphicon-chevron-right",attrs:{"aria-hidden":"true"},on:{click:function(t){t.stopPropagation(),e._preNextYearClick(1)}}}),e._v(" "),i("p",{on:{click:function(t){return t.stopPropagation(),e._switchDecadeView(t)}}},[e._v(e._s(e._stringifyYearHeader(e.currDate)))])]),e._v(" "),i("div",{staticClass:"datepicker-monthRange"},[e._l(e.translate.months,function(t,n){return[i("span",{key:n,class:{"datepicker-dateRange-item-active":e.translate.months[e._parse(e.value).getMonth()]===t&&e.currDate.getFullYear()===e._parse(e.value).getFullYear()},on:{click:function(t){t.stopPropagation(),e._monthSelect(n)}}},[e._v(e._s(t.substr(0,3)))])]})],2)])])]),e._v(" "),e.hourView||e.minuteView||e.secondView?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayYearView,expression:"displayYearView"}],staticClass:"datepicker-popup",style:e.position,on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"datepicker-inner"},[i("div",{staticClass:"datepicker-body"},[i("div",{staticClass:"datepicker-ctrl"},[i("span",{staticClass:"datepicker-preBtn glyphicon glyphicon-chevron-left",attrs:{"aria-hidden":"true"},on:{click:function(t){t.stopPropagation(),e._preNextDecadeClick(0)}}}),e._v(" "),i("span",{staticClass:"datepicker-nextBtn glyphicon glyphicon-chevron-right",attrs:{"aria-hidden":"true"},on:{click:function(t){t.stopPropagation(),e._preNextDecadeClick(1)}}}),e._v(" "),i("p",[e._v(e._s(e._stringifyDecadeHeader(e.currDate)))])]),e._v(" "),i("div",{staticClass:"datepicker-monthRange decadeRange"},[e._l(e.decadeRange,function(t,n){return[i("span",{key:n,class:{"datepicker-dateRange-item-active":e._parse(e.value).getFullYear()===t.text},on:{click:function(i){i.stopPropagation(),e._yearSelect(t.text)}}},[e._v(e._s(t.text))])]})],2)])])])]):e._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-xs-1 clear-padding time-input"},[t("label",{attrs:{for:""}},[this._v(":")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-xs-1 clear-padding time-input"},[t("label",{attrs:{for:""}},[this._v(":")])])}]};var z=i("C7Lr")(q,V,!1,function(e){i("4KXY")},null,null).exports,$=n.a.extend(z),Y=function(e){var t=this.$el,i=null,n=e.value||"";e.value=n.replace(/-/g,"/"),i=new Date(e.value),i=isNaN(i.getFullYear())?new Date:i;var a=new $({el:document.createElement("div"),data:{format:e.dateFormat||"yyyy-MM-dd",value:e.value||"",showTime:e.showTime||e.dateFormat&&e.dateFormat.length>10||!1,currDate:i,defaultLang:e.defaultLang||"zh-cn",el:e.type?null:t,event:e.event},methods:{_optionResult:function(t){e.onSelect&&e.onSelect(t)},_optionClose:function(){e.onClose&&e.onClose()}}});document.body.appendChild(a.$el)},G=function(){n.a.prototype.$date=Y},X=(i("mMnA"),{inject:{windowObj:{default:null}},data:function(){return{show:!0,types:["pcx","emf","gif","bmp","tga","jpg","tif","jpeg","png","rle"],isPhone:!1,deg:0}},computed:{rotateClass:function(){return this.deg/90>0?"rotate"+this.deg/90:""}},methods:{_close:function(){this.show=!1},_rotateImage:function(){this.deg+=90,this.deg>=360&&(this.deg=0)},_download:function(e){if(/(iP)/g.test(navigator.userAgent))return this.$toast("您的ios设备不支持附件下载，请用其它设备打开！造成不便尽请谅解~"),!1;var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t)},_imageLoad:function(){this.$waiting.close()},createPdfContainer:function(e,t){var i=document.getElementById("pdf-container"),n=document.createElement("canvas");n.id=e,n.className=t,i.appendChild(n)},renderPDF:function(e,t,i){e.getPage(t).then(function(e){var t=e.getViewport(1.5),n=document.getElementById(i),a=n.getContext("2d");n.height=t.height,n.width=t.width;var r={canvasContext:a,viewport:t};e.render(r)})},createSeriesCanvas:function(e,t){for(var i="",n=1;n<=e;n++)i=t+n,this.createPdfContainer(i,"pdfClass")},loadPDF:function(e,t){var i=this;PDFJS.getDocument(e).then(function(e){var n="",a=e.numPages;i.createSeriesCanvas(a,"cw-pdf-",t);for(var r=1;r<=a;r++)n="cw-pdf-"+r,i.renderPDF(e,r,n);t&&t()})},_computeIsPhone:function(){this.isPhone=document.body.clientWidth<=768}},mounted:function(){var e=this;this._computeIsPhone(),this.$nextTick(function(){e.$waiting.show({text:"加载中...",container:"#attachmentPreview .attachment-detail"}),e.types.indexOf(e.type)<0&&e.loadPDF(e.url+"/preview",function(){e.$waiting.close()})})},watch:{windowObj:{deep:!0,handler:function(e){this._computeIsPhone()}}}}),J={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"attachment-preview",style:"position:"+("body"===e.container?"fixed":"absolute")+";",attrs:{id:"attachmentPreview2"},on:{click:e._close}},[i("div",{class:{"attachment-mobile-content":e.isPhone,"attachment-pc-content":!e.isPhone},on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"attachment-header"},[i("i",{staticClass:"maticon preview-close-icon pull-left",domProps:{innerHTML:e._s(e.icons("close"))},on:{click:function(t){e.show=!1}}}),e._v(" "),i("span",{staticClass:"title",domProps:{innerHTML:e._s(e.name)}}),e._v(" "),i("span",{staticClass:"pull-right download-btn"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("cloud_download"))},on:{click:function(t){e._download(e.url)}}}),e._v(" "),e.types.indexOf(e.type)>=0?i("i",{staticClass:"maticon rotate",domProps:{innerHTML:e._s(e.icons("refresh"))},on:{click:e._rotateImage}}):e._e()])]),e._v(" "),i("div",{ref:"ad",staticClass:"attachment-detail",class:{"attachment-mobile-detail":e.isPhone,"attachment-pc-detail":!e.isPhone},style:{height:e.types.indexOf(e.type)>=0?"auto":"100%"}},[e.types.indexOf(e.type)>=0?i("img",{staticClass:"attachment-img",class:e.rotateClass,attrs:{src:e.url},on:{load:e._imageLoad}}):i("div",{staticClass:"wrapper",attrs:{id:"pdf-container"}})])])]):e._e()},staticRenderFns:[]};var K=i("C7Lr")(X,J,!1,function(e){i("qO/Y")},null,null).exports,Q=n.a.extend(K);function Z(e){e=e||{container:"body",name:"",type:"",url:""};var t=new Q({el:document.createElement("div"),data:function(){return{container:e.container||"body",name:e.name||"",type:e.type||"",url:e.url||""}}});l()(e.container||"body").append(t.$el)}var ee=function(){n.a.prototype.$preview=Z},te={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"v-dialog-cover",on:{click:function(t){e.show=!1}}},[i("div",{staticClass:"v-prompt-content modal-content",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"v-prompt-tip"},[e._v(e._s(e.tip))])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"},{name:"focus",rawName:"v-focus"}],staticClass:"v-prompt-text",attrs:{placeholder:e.placeholder},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),e._v(" "),e.warn?i("label",{staticClass:"v-prompt-warn"},[e._v("友情提示: "),i("span",{domProps:{innerHTML:e._s(e.warn)}})]):e._e()]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn cancel-btn",on:{click:function(t){e._prompt("cancel")}}},[e._v("取消")]),e._v(" "),i("button",{staticClass:"btn submit-btn",on:{click:function(t){e._prompt("ok")}}},[e._v("确定")])])])]):e._e()},staticRenderFns:[]};var ie=i("C7Lr")({},te,!1,function(e){i("Chyv")},null,null).exports,ne=n.a.extend(ie),ae=function(e){var t=new ne({el:document.createElement("div"),data:{show:!0,tip:e.tip,placeholder:e.placeholder,warn:e.warn||"",text:""},methods:{_optionResult:function(t){return e.callback&&e.callback(t)},_prompt:function(e){this.show&&!1!==this._optionResult({text:this.text,type:e})&&(this.show=!1)}}});document.body.appendChild(t.$el)},re=function(){n.a.prototype.$prompt=ae},oe=i("3cXf"),se=i.n(oe),le={data:function(){return{show:!0,searchValue:"",isPhone:!1,hasChange:!1,rect:{},maxHeight:200,lang:this.defaultLang}},computed:{dropdownHeight:function(){var e=27*this.options.length+2+(this.canSearch?34:0);return e>this.maxHeight?this.maxHeight:e},top:function(){var e=0;return window.innerHeight-this.rect.bottom<this.dropdownHeight?(e=this.rect.top-this.dropdownHeight,e=e<0?0:e):e=this.rect.bottom,e},phoneStyle:function(){return this.isPhone&&!this.dropdownClass},canSearch:function(){return this.options.length>=this.minSearch}},methods:{clearSearch:function(){this.searchValue="",this.$refs.search.focus()},selectItem:function(e){this.hasChange=!0;var t=this._isSelected(e);if(t>=0){if(this.required&&1===this.selectedItems.length)return void this.$toast("该项必填，不可置空");this.selectedItems.splice(t,1)}else{if(this.multiple||(this.selectedItems=[]),this.multiple&&this.limit<=this.selectedItems.length)return void this.$toast("选项数最多选择"+this.limit+"项");this.selectedItems.push(e)}!this.multiple||this.multiple&&this.closeOnSelect?this._close():this._optionResult(this.selectedItems),this._optionClick(e)},_isSelected:function(e){var t=this,i=-1;return this.selectedItems.forEach(function(n,a){n[t.optionsValue]===e[t.optionsValue]&&(i=a)}),i},_close:function(){this.show=!1,this.hasChange&&this._optionResult(this.selectedItems),this._optionClose(),window.onresize=""}},mounted:function(){var e=this;window.innerWidth<768?this.isPhone=!0:this.isPhone=!1,this.rect=this.el.getBoundingClientRect(),window.onresize=function(){window.innerWidth<768?this.isPhone=!0:this.isPhone=!1,e.rect=e.el.getBoundingClientRect()}}},ce={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"v-select-cover",class:[{"mobile-select-cover":e.phoneStyle},e.dropdownClass],on:{click:e._close}},[i("div",{staticClass:"top-cover"}),e._v(" "),i("ul",{staticClass:"dropdown-menu",style:this.isPhone?"":{left:e.rect.left+"px",top:e.top+"px",width:this.rect.width+"px",height:this.dropdownHeight+"px"},on:{click:function(e){e.stopPropagation()}}},[e.canSearch?i("div",{staticClass:"searchbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"search",staticClass:"form-control",attrs:{type:"text",placeholder:e.searchText},domProps:{value:e.searchValue},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.show=!1},input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.searchValue,expression:"searchValue"}],staticClass:"close",on:{click:function(t){t.stopPropagation(),e.searchValue=""}}},[e._v("×")])]):e._e(),e._v(" "),i("GeminiScrollbar",{staticClass:"items-group",class:{top:e.canSearch},attrs:{scrollX:!1}},e._l(e.options,function(t,n){return t[e.optionsLabel].indexOf(e.searchValue)>=0?i("li",{key:n,staticClass:"dropdown-items",class:{active:e._isSelected(t)>=0},on:{click:function(i){e.selectItem(t)}}},[i("label",{staticClass:"btn-block",attrs:{title:t[e.optionsLabel]||t[e.optionsValue]}},[e.phoneStyle?i("span",{staticClass:"pull-left"},[e._isSelected(t)>=0?i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons(e.multiple?"check_box":"radio_button_checked"))}}):i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons(e.multiple?"check_box_outline_blank":"radio_button_unchecked"))}})]):i("span",{directives:[{name:"show",rawName:"v-show",value:e._isSelected(t)>=0,expression:"_isSelected(option)>=0"}],staticClass:"maticon pull-right check-mark",domProps:{innerHTML:e._s(e.icons("done"))}}),e._v(" "),i("span",{domProps:{innerHTML:e._s(t[e.optionsLabel]||t[e.optionsValue])}})])]):e._e()}))],1),e._v(" "),i("div",{staticClass:"bottom-cover",style:{left:e.rect.left+"px",top:e.top+2+"px",bottom:"0px",width:"100%"}})]):e._e()},staticRenderFns:[]};var de=i("C7Lr")(le,ce,!1,function(e){i("ApDO")},null,null).exports,ue=n.a.extend(de),he=function(e){e.options=JSON.parse(se()(e.options)),e.selectedItems=JSON.parse(se()(e.selectedItems));var t=e.el||this.$el,i=new ue({el:document.createElement("div"),data:{options:e.options||[],optionsLabel:e.optionsLabel||"label",optionsValue:e.optionsValue||"value",multiple:e.multiple,closeOnSelect:e.closeOnSelect,required:e.required,limit:e.limit||1024,minSearch:e.minSearch||10,searchText:e.searchText||"搜索项",selectedItems:e.selectedItems||[],dropdownClass:e.dropdownClass,defaultLang:e.defaultLang||"zh-cn",el:t},methods:{_optionResult:function(t){e.onSelect&&e.onSelect(t)},_optionClose:function(){e.onClose&&e.onClose()},_optionClick:function(t){e.onClick&&e.onClick(t)}}});document.body.appendChild(i.$el)},pe=function(){n.a.prototype.$select=he},fe={render:function(){var e=this.$createElement,t=this._self._c||e;return this.show?t("div",{staticClass:"wrap toast-wrap"},[t("div",{staticClass:"show-content"},[t("span",{staticClass:"message"},[this._v(this._s(this.text))])])]):this._e()},staticRenderFns:[]};var me=i("C7Lr")({props:{show:{default:!1}}},fe,!1,function(e){i("s8jq")},null,null).exports,ge=n.a.extend(me);function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=new ge({el:document.createElement("div"),data:function(){return{text:e,show:!0}}});document.body.appendChild(i.$el),i.show=!0,setTimeout(function(){i.show=!1},t)}var be=function(){n.a.prototype.$toast=ve},ye={data:function(){return{show:!1,tipHeight:50,rect:{},lang:this.defaultLang}},computed:{position:function(){return"left:"+this.rect.left+"px;top:"+(this.rect.top-this.tipHeight-20)+"px;"}},watch:{show:function(e){var t=this;e&&setTimeout(function(){t.vT=document.getElementById("vTip"),t.tipHeight=t.vT.offsetHeight},100)}}},_e={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"v-tooltip",style:this.position,attrs:{id:"vTip"}},[this._v("\n  "+this._s(this.tip)+"\n  "),t("span",{staticClass:"tri-icon"})])},staticRenderFns:[]};var we=i("C7Lr")(ye,_e,!1,function(e){i("NtEc")},null,null).exports,xe=new(n.a.extend(we))({el:document.createElement("div")});document.body.appendChild(xe.$el),document.body.appendChild(xe.$el);var Ce=function(e,t){xe.tip=t,xe.show=t,e&&(xe.el=e.target,xe.rect=e.target.getBoundingClientRect())},Se=function(){n.a.prototype.$tooltip=Ce},Te={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:"wrap waiting-wrap",style:"position:"+("body"===e.container?"fixed":"absolute")+";"},[e._m(0),e._v(" "),e.text?i("p",{staticClass:"waiting-text"},[e._v(e._s(e.text))]):e._e()]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"spinner"},[i("div",{staticClass:"spinner-container container1"},[i("div",{staticClass:"circle1"}),e._v(" "),i("div",{staticClass:"circle2"}),e._v(" "),i("div",{staticClass:"circle3"}),e._v(" "),i("div",{staticClass:"circle4"})]),e._v(" "),i("div",{staticClass:"spinner-container container2"},[i("div",{staticClass:"circle1"}),e._v(" "),i("div",{staticClass:"circle2"}),e._v(" "),i("div",{staticClass:"circle3"}),e._v(" "),i("div",{staticClass:"circle4"})]),e._v(" "),i("div",{staticClass:"spinner-container container3"},[i("div",{staticClass:"circle1"}),e._v(" "),i("div",{staticClass:"circle2"}),e._v(" "),i("div",{staticClass:"circle3"}),e._v(" "),i("div",{staticClass:"circle4"})])])}]};var ke=i("C7Lr")({props:{show:{default:!1}}},Te,!1,function(e){i("tscI")},null,null).exports,Ae=n.a.extend(ke),Ee=null;function Ne(e){e=e||{text:"",container:"body"},Ee=new Ae({el:document.createElement("div"),data:function(){return{text:e.text||"",show:!0,container:e.container||"body"}}}),l()(Ee.container).append(Ee.$el),Ee.show=!0}function Pe(){Ee.show=!1}var Re=function(){n.a.prototype.$waiting={show:Ne,close:Pe}},Ie=i("LzJ4"),Le={types:["pcx","emf","gif","bmp","tga","jpg","tif","jpeg","png","rle"],isPhone:!1,_close:function(){l()("#attachmentPreview .preview-close-icon").off("click"),l()("#attachmentPreview.attachment-preview").remove()},_download:function(e){if(l()("#attachmentPreview .download-btn").off("click"),/(iP)/g.test(navigator.userAgent))return n.a.prototype.toast("您的ios设备不支持附件下载，请用其它设备打开！造成不便尽请谅解~"),!1;var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t)},show:function(e){var t=this;document.body.clientWidth<=1024?this.isPhone=!0:this.isPhone=!1;var i='<div id="attachmentPreview" class="attachment-preview">';this.isPhone?i+='<div class="attachment-mobile-content">':i+='<div class="attachment-pc-content">',i+='<div class="attachment-header">\n         <i class="maticon preview-close-icon pull-left">'+Object(R.a)("close")+'</i>\n         <span class="title">'+e.name+'</span>\n         <span class="pull-right download-btn">下载</span>\n      </div>',this.isPhone?i+='<div class="attachment-mobile-detail">':i+='<div class="attachment-pc-detail">',this.types.indexOf(e.type)>=0?i+='<img class="attachment-img" src="'+e.url+'">':i+='<div class="wrapper" id="pdf-container"></div>',i+=" </div>\n    </div>\n  </div>",l()("body").append(i),l()("#attachmentPreview .preview-close-icon").on("click",this._close),l()("#attachmentPreview .download-btn").on("click",function(){t._download(e.url)}),l()("#attachmentPreview .attachment-img").on("load",function(){n.a.prototype.closeWaiting()}),n.a.prototype.showWaiting("#attachmentPreview .attachment-detail"),setTimeout(function(){n.a.prototype.closeWaiting()},5e3),this.types.indexOf(e.type)>=0||this.loadPDF(e.url+"/preview",function(){n.a.prototype.closeWaiting()})},createPdfContainer:function(e,t){var i=document.getElementById("pdf-container"),n=document.createElement("canvas");n.id=e,n.className=t,i.appendChild(n)},renderPDF:function(e,t,i){e.getPage(t).then(function(e){var t=e.getViewport(1.5),n=document.getElementById(i),a=n.getContext("2d");n.height=t.height,n.width=t.width;var r={canvasContext:a,viewport:t};e.render(r)})},createSeriesCanvas:function(e,t,i){for(var n="",a=1;a<=e;a++)n=t+a,this.createPdfContainer(n,"pdfClass");i()},loadPDF:function(e,t){var i=this;Ie.PDFJS.getDocument(e).then(function(e){var n="",a=e.numPages;i.createSeriesCanvas(a,"cw-pdf-",t);for(var r=1;r<=a;r++)n="cw-pdf-"+r,i.renderPDF(e,r,n)})}},De=i("iE8p"),Ue=i.n(De),Oe=i("a40n"),Me=i.n(Oe),Be={install:function(e,t){e.prototype.getPdf=function(e,t){var i=e||this.title;Ue()(document.querySelector("#pdfDom"),{allowTaint:!0}).then(function(e){var n=e.width,a=e.height,r=n/592.28*841.89,o=a,s=0,l=592.28/n*a,c=e.toDataURL("image/jpeg",1),d=new Me.a("","pt","a4");if(o<r)d.addImage(c,"JPEG",0,0,595.28,l);else for(;o>0;)d.addImage(c,"JPEG",0,s,595.28,l),s-=841.89,(o-=r)>0&&d.addPage();t?t(d.output("arraybuffer")):d.save(i+".pdf")})}}},Fe=i("hRKE"),je=i.n(Fe),He={props:{idField:{required:!0},search:{default:null},title:{default:""},pagesize:{default:5},method:{default:"get"},multiple:{default:null},order:{default:null},defaultLang:{default:"zh-cn"},url:{default:""},columns:{required:!0,default:null},rows:{default:[]},columnsControl:{default:!1},paginationShow:{default:!0},searchParams:{default:null}},data:function(){return{tableState:{searching:this.search,columnsControlShow:!1,allCheck:!1,pageCheck:!1,checkedIds:[],goPageIndex:1,totalRecords:0,currentPageIndex:0,pagesize:this.paginationShow?this.pagesize:99999,pagesizeModel:this.pagesize,pageIndexJson:{},timer:null,loading:!1},newVal:{},tableSearchFields:{},tableUrl:this.url,lang:this.defaultLang}},created:function(){var e=localStorage.getItem("lang");if(Object(c.e)(e)&&(this.lang=e),this.searchParams)for(var t in this.searchParams)this.$set(this.tableSearchFields,t,this.searchParams[t]);else this.initTable()},computed:{curPageData:function(){return this.tableState.pageIndexJson[this.tableState.currentPageIndex]||[]},columnsLength:function(){var e=this.columns.length;return this.multiple&&(e+=1),this.order&&(e+=1),e},pagesCount:function(){return parseInt(Math.ceil(this.tableState.totalRecords/this.tableState.pagesize))},checkedRecords:function(){var e=[];return this.curPageData.forEach(function(t){t.checked&&e.push(t)}),e},translate:function(){return Object(c.e)(this.lang).table}},watch:{pagesize:function(e){e<=0&&(this.pagesize=1),this.tableState.currentPageIndex>this.pagesCount&&(this.tableState.currentPageIndex=0)},searchParams:{deep:!0,handler:function(){for(var e in this.searchParams)this.$set(this.tableSearchFields,e,this.searchParams[e])}},tableSearchFields:{deep:!0,handler:function(e,t){var i=this;clearTimeout(this.tableState.timer),this.tableState.timer=setTimeout(function(){i.tableState.currentPageIndex=0,i.tableState.pageIndexJson={},i.tableState.totalRecords=0,i.initTable(),i.tableState.timer=0},600)}},url:function(){var e=this;this.tableState.timer?(clearTimeout(this.tableState.timer),this.tableState.timer=setTimeout(function(){e.tableUrl=e.url,e.initTable(),e.tableState.timer=0},600)):(this.tableUrl=this.url,this.initTable())},rows:{deep:!0,handler:function(){this.initTable()}}},methods:{_exchangeColumn:function(e){e.hidden=!e.hidden,this.$emit("columnExchanged",e)},_rowClick:function(e,t){this.$emit("rowClick",e,t)},_rowCheck:function(e){var t=this;this.$set(e,"checked",!e.checked),setTimeout(function(){t.$emit("afterChecked",t.checkedRecords)})},_changeCheckState:function(){var e=this;this.tableState.pageCheck=0===this.checkedRecords.length,this.curPageData.forEach(function(t){e.$set(t,"checked",e.tableState.pageCheck)}),setTimeout(function(){e.$emit("afterChecked",e.checkedRecords)})},_searchWord:function(e){return e.search.data&&e.search.data.placeholder||e.title},_isShow:function(e,t){var i=parseInt((t-1)/2);return this.tableState.currentPageIndex-i<=0?e>=0&&e<t:this.tableState.currentPageIndex+i>=this.pagesCount?e>=this.pagesCount-5&&e<this.pagesCount:e<=this.tableState.currentPageIndex+i&&e>=this.tableState.currentPageIndex-i},_isDisabled:function(e){return 0===e&&0===this.tableState.currentPageIndex||1===e&&this.tableState.currentPageIndex===this.pagesCount-1?"disabled":""},_prePage:function(){this.tableState.pageCheck=!1,this.tableState.currentPageIndex>0&&(this.tableState.currentPageIndex=this.tableState.currentPageIndex-1,this.initTable())},_nextPage:function(){this.tableState.pageCheck=!1,this.tableState.currentPageIndex<this.pagesCount-1&&(this.tableState.currentPageIndex=this.tableState.currentPageIndex+1,this.initTable())},_gotoPage:function(e){this.tableState.pageCheck=!1;var t=0;e=parseInt(e),t=isNaN(e)?0:(e-=1)<1?0:e>this.pagesCount?this.pagesCount-1:e,this.tableState.currentPageIndex!==t&&(this.tableState.currentPageIndex=t,this.initTable())},_edit:function(e,t){this.newVal[t[this.idField]]||this.$set(this.newVal,t[this.idField],{}),this.$set(this.newVal[t[this.idField]],e.id,t[e.id])},_save:function(e,t){this.$emit("saveEdit",{row:t,name:e.id,value:this.newVal[t[this.idField]][e.id]}),this.$emit("change",{row:t,name:e.id,value:this.newVal[t[this.idField]][e.id]})},_afterSelect:function(e,t,i){this.newVal[i[this.idField]]||this.$set(this.newVal,i[this.idField],{}),this.$set(this.newVal[i[this.idField]],t.id,e.val),this._save(t,i)},_daySelect:function(e,t,i){this.newVal[i[this.idField]]||this.$set(this.newVal,i[this.idField],{}),this.$set(this.newVal[i[this.idField]],t.id,e.value),this._save(t,i)},_afterSelectSearch:function(e,t){this.$set(this.tableSearchFields,t.id,e.val)},_daySelectSearch:function(e,t,i){this.$set(this.tableSearchFields,t.id+"_"+i,e.value)},initTable:function(){var e=0,t=this;if(t.tableState.loading=!0,t.tableUrl)l.a.ajax({type:t.method,url:t.tableUrl,data:{pageIndex:t.tableState.currentPageIndex,pageSize:t.tableState.pagesize,lang:t.lang,pageParams:t.tableSearchFields},success:function(e){e.state?(t.tableState.totalRecords!==e.total&&(t.tableState.totalRecords=e.total?e.total:e.data.length),t.$set(t.tableState.pageIndexJson,t.tableState.currentPageIndex,e.data),t._initEditValue(t.tableState.pageIndexJson[t.tableState.currentPageIndex])):t.toast(e.message),t.tableState.loading=!1}});else{this.tableState.pageIndexJson={},this.$set(this.tableState.pageIndexJson,e,[]),this.tableState.totalRecords=0;for(var i=0;i<this.rows.length;i++)this._searchSatisfied(this.rows[i])&&(this.tableState.totalRecords>=(e+1)*this.tableState.pagesize&&(e++,this.$set(this.tableState.pageIndexJson,e,[])),this.tableState.pageIndexJson[e].push(this.rows[i]),this.tableState.totalRecords++);t._initEditValue(this.rows),t.tableState.loading=!1}},_initEditValue:function(e){var t=this;e.forEach(function(e){t.columns.forEach(function(i){i.edit&&(t.newVal[e[t.idField]]||t.$set(t.newVal,e[t.idField],{}),t.$set(t.newVal[e[t.idField]],i.id,e[i.id]))})})},_searchSatisfied:function(e){for(var t in e)if(this.tableSearchFields[t]&&e[t].indexOf(this.tableSearchFields[t])<0)return!1;return!0},_refresh:function(){this.tableState.pagesizeModel=this.tableState.pagesizeModel<=0?1:this.tableState.pagesizeModel,this.tableState.pagesize=this.tableState.pagesizeModel,this.initTable()},_regx:function(e){this.tableState.pagesizeModel=this.tableState.pagesizeModel.toString().replace(/[^0-9]/gi,"")},_getColumnOptions:function(e,t,i){return e.options?e.options:e.formatter&&"object"===je()(e.formatter(t,i))?e.formatter(t,i):null},getFocus:function(e){this.$refs[e]&&this.$refs[e][0]&&this.$refs[e][0].focus()}},beforeDestroy:function(){this.paginationShow=!1}},We={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-fluid table-container"},[i("div",{staticClass:"row"},[i("table",{staticClass:"table table-hover"},[i("tr",{staticClass:"table-header table-title"},[i("th",{staticClass:"table-title-container",attrs:{colspan:e.columnsLength}},[e.title?i("h3",{staticClass:"panel-title pull-left"},[e._v(e._s(e.title))]):e._e(),e._v(" "),e.columnsControl?i("div",{staticClass:"btn-group pull-right"},[i("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button",title:e.translate.hiddenCol},on:{click:function(t){e.tableState.columnsControlShow=!e.tableState.columnsControlShow}}},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("more_vert"))}},[e._v("more_vert")])]),e._v(" "),e.tableState.columnsControlShow?i("ul",{staticClass:"dropdown-menu hidden-col",staticStyle:{display:"block"}},e._l(e.columns,function(t,n){return i("li",{key:n,class:t.hidden?"":"active",attrs:{title:t.title,"data-id":t.id},on:{click:function(i){e._exchangeColumn(t)}}},[t.hidden?i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("check_box_outline_blank"))}},[e._v("check_box_outline_blank")]):i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("check_box"))}},[e._v("check_box")]),e._v("\n                "+e._s(t.title)+"\n              ")])})):e._e()]):e._e(),e._v(" "),null!==e.tableState.searching?i("button",{staticClass:"btn btn-default pull-right search-btn",attrs:{type:"button"},on:{click:function(t){e.tableState.searching=!e.tableState.searching}}},[i("i",{staticClass:"maticon",class:!0===e.tableState.searching?"active":"",domProps:{innerHTML:e._s(e.icons("search"))}},[e._v("search")])]):e._e(),e._v(" "),e._t("btn-group")],2)])]),e._v(" "),i("div",{staticClass:"table-data"},[i("table",{staticClass:"table table-hover"},[i("thead",[i("tr",{staticClass:"table-head"},[e.multiple?i("th",{staticClass:"text-center",attrs:{width:"40"}},[i("label",{staticClass:"check-opt",on:{click:function(t){e._changeCheckState()}}},[0===e.checkedRecords.length?i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("check_box_outline_blank"))}},[e._v("check_box_outline_blank")]):e.checkedRecords.length===e.curPageData.length?i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("check_box"))}},[e._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("indeterminate_check_box"))}},[e._v("indeterminate_check_box")])])]):e._e(),e._v(" "),e.order?i("th",{staticClass:"text-center",attrs:{width:"30"}},[i("div",{staticClass:"order-opt"},[e._v("\n                "+e._s(e.translate.colOrder)+"\n              ")])]):e._e(),e._v(" "),e._l(e.columns,function(t,n){return t.hidden?e._e():i("th",{key:n,attrs:{width:t.width,"data-id":t.title}},[i("div",{class:t.className,style:"width:"+t.width+"px"},[e._v("\n                "+e._s(t.title)+"\n              ")]),e._v(" "),t.search&&null!==e.tableState.searching?i("div",{directives:[{name:"show",rawName:"v-show",value:e.tableState.searching,expression:"tableState.searching"}],staticClass:"title-search-div",style:"width:"+t.width+"px"},["select"===t.search.type?i("v-select",{ref:t.id,refInFor:!0,class:t.className,attrs:{url:t.search.data&&t.search.data.url||"",options:t.search.data&&t.search.data.options,"options-value":t.search.data&&t.search.data.optionsValue||"id","options-label":t.search.data&&t.search.data.optionsLabel||"name",placeholder:e._searchWord(t),search:"","close-on-select":""},on:{afterSelected:function(i){e._afterSelectSearch(i,t)}}}):"multiSelect"===t.search.type?i("v-select",{ref:t.id,refInFor:!0,class:t.className,attrs:{url:t.search.data&&t.search.data.url||"",options:t.search.data&&t.search.data.options,"options-value":t.search.data&&t.search.data.optionsValue||"id","options-label":t.search.data&&t.search.data.optionsLabel||"name",placeholder:e._searchWord(t),search:"",multiple:""},on:{afterSelected:function(i){e._afterSelectSearch(i,t)}}}):"datetime"===t.search.type?i("v-datepicker-area",{class:t.className,attrs:{placeholder:e._searchWord(t),dateFormat:t.search.data&&t.search.data.dateFormat},on:{startSelected:function(i){e._daySelectSearch(i,t,"start")},endSelected:function(i){e._daySelectSearch(i,t,"end")}}}):"input"===t.search.type&&t.search.data&&t.search.data.autoFocus?i("input",{directives:[{name:"model",rawName:"v-model",value:e.tableSearchFields[t.id],expression:"tableSearchFields[column.id]"},{name:"focus",rawName:"v-focus"}],ref:t.id,refInFor:!0,staticClass:"form-control",class:t.className,attrs:{type:"text",placeholder:e._searchWord(t)},domProps:{value:e.tableSearchFields[t.id]},on:{input:function(i){i.target.composing||e.$set(e.tableSearchFields,t.id,i.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.tableSearchFields[t.id],expression:"tableSearchFields[column.id]"}],ref:t.id,refInFor:!0,staticClass:"form-control",class:t.className,attrs:{type:"text",placeholder:e._searchWord(t)},domProps:{value:e.tableSearchFields[t.id]},on:{input:function(i){i.target.composing||e.$set(e.tableSearchFields,t.id,i.target.value)}}})],1):e._e()])})],2)]),e._v(" "),i("tbody",e._l(e.curPageData,function(t,n){return i("tr",{key:n,attrs:{"data-zIndex":e.tableState.pagesize-n},on:{click:function(i){e._rowClick(t,n)}}},[e.multiple?i("td",{staticClass:"check-td check-opt",on:{click:function(i){i.stopPropagation(),e._rowCheck(t)}}},[t.checked?i("i",{staticClass:"maticon blue",domProps:{innerHTML:e._s(e.icons("check_box"))}},[e._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("check_box_outline_blank"))}},[e._v("check_box_outline_blank")])]):e._e(),e._v(" "),e.order?i("td",{staticClass:"text-center"},[i("div",{staticClass:"order-opt"},[e._v("\n                "+e._s(n+1+e.tableState.currentPageIndex*e.tableState.pagesize)+"\n              ")])]):e._e(),e._v(" "),e._l(e.columns,function(a,r){return a.hidden?e._e():i("td",{key:r,attrs:{width:a.width}},[e._getColumnOptions(a,t,n)?i("div",{staticClass:"column-content column-opts",class:a.className,style:"width:"+a.width+"px"},e._l(e._getColumnOptions(a,t,n),function(a,r){return"button"==a.tag?i("button",{key:r,staticClass:"btn btn-xs",class:a.className,domProps:{innerHTML:e._s(a.text)},on:{click:function(e){e.stopPropagation(),a.callback&&a.callback(t,n)}}},[e._v(e._s(a.text))]):"button-group"==a.tag?i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn dropdown-toggle",class:a.className,attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},domProps:{innerHTML:e._s(a.text)}},[e._v(e._s(a.text)+"\n                    ")]),e._v(" "),i("ul",{staticClass:"dropdown-menu"},e._l(a.optList,function(a,r){return i("li",{key:r,on:{click:function(e){e.stopPropagation(),a.callback&&a.callback(t,n)}}},[i("a",{attrs:{href:"javascript:;"},domProps:{innerHTML:e._s(a.text)}},[e._v("\n                        "+e._s(a.text)+"\n                      ")])])}))]):"a"==a.tag?i("a",{staticClass:"opt-btn",class:a.className,attrs:{href:a.href||"javascript:;"},domProps:{innerHTML:e._s(a.text)},on:{click:function(e){e.stopPropagation(),a.callback&&a.callback(t,n)}}},[e._v(e._s(a.text))]):"img"==a.tag?i("img",{class:a.className,attrs:{title:a.text||"img",src:a.src},on:{click:function(e){e.stopPropagation(),a.callback&&a.callback(t,n)}}}):i("span",[e._v(e._s(e.translate.unsigned))])})):a.edit?a.edit?i("div",{staticClass:"column-content",class:a.className,style:"width:"+a.width+"px"},["select"===a.edit.type?i("v-select",{staticClass:"btn-block info-value row-edit-wigt",attrs:{options:a.edit.data&&a.edit.data.options||[],value:e.newVal[t[e.idField]]&&e.newVal[t[e.idField]][a.id],placeholder:a.edit.data&&a.edit.data.placeholder||a.title,"options-value":"id","options-label":"name",search:"","close-on-select":""},on:{afterSelected:function(i){e._afterSelect(i,a,t)}}}):"multiSelect"===a.edit.type?i("v-select",{staticClass:"btn-block info-value row-edit-wigt",attrs:{options:a.edit.data&&a.edit.data.options||[],value:e.newVal[t[e.idField]]&&e.newVal[t[e.idField]][a.id],placeholder:a.edit.data&&a.edit.data.placeholder||a.title,"options-value":"id","options-label":"name",search:"",multiple:""},on:{afterSelected:function(i){e._afterSelect(i,a,t)}}}):"datetime"===a.edit.type?i("v-datepicker",{staticClass:"info-value btn-block row-edit-wigt",attrs:{width:"100%",placeholder:a.edit.data&&a.edit.data.placeholder||a.title,value:e.newVal[t[e.idField]]&&e.newVal[t[e.idField]][a.id],showTime:!1,format:a.edit.data&&a.edit.data.dateFormat},on:{daySelected:function(i){e._daySelect(i,a,t)}}}):"number"===a.edit.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.newVal[t[e.idField]][a.id],expression:"newVal[row[idField]][column.id]"}],staticClass:"row-edit-input",attrs:{type:"number",placeholder:a.edit.data&&a.edit.data.placeholder||a.title},domProps:{value:e.newVal[t[e.idField]][a.id]},on:{focus:function(i){e._edit(a,t)},change:function(i){e._save(a,t)},input:function(i){i.target.composing||e.$set(e.newVal[t[e.idField]],a.id,i.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.newVal[t[e.idField]][a.id],expression:"newVal[row[idField]][column.id]"}],staticClass:"row-edit-input",attrs:{type:"text",placeholder:a.edit.data&&a.edit.data.placeholder||a.title},domProps:{value:e.newVal[t[e.idField]][a.id]},on:{focus:function(i){e._edit(a,t)},change:function(i){e._save(a,t)},input:function(i){i.target.composing||e.$set(e.newVal[t[e.idField]],a.id,i.target.value)}}})],1):e._e():i("div",{staticClass:"column-content",class:a.className,style:"width:"+a.width+"px",attrs:{title:!1===a.hover?"":a.formatter&&a.formatter(t,n)||t[a.id]},domProps:{innerHTML:e._s(a.formatter&&a.formatter(t,n)||t[a.id])}},[e._v("\n                "+e._s(a.formatter&&a.formatter(t,n)||t[a.id])+"\n              ")])])})],2)}))]),e._v(" "),e.tableState.loading?i("p",{staticClass:"table-tip text-center text-muted"},[e._v(e._s(e.translate.loading))]):0===e.curPageData.length?i("p",{staticClass:"table-tip text-center text-muted"},[e._v(e._s(e.translate.isNullTip))]):e._e()])]),e._v(" "),e.paginationShow?i("div",{staticClass:"row"},[i("nav",[i("label",{staticClass:"pull-left pageinfo"},[e._v(e._s(e.translate.total)+e._s(e.tableState.totalRecords)+e._s(e.translate.records)+"，"+e._s(e.translate.eachPage)),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tableState.pagesizeModel,expression:"tableState.pagesizeModel"}],attrs:{type:"text"},domProps:{value:e.tableState.pagesizeModel},on:{keyup:e._regx,change:e._refresh,input:function(t){t.target.composing||e.$set(e.tableState,"pagesizeModel",t.target.value)}}}),e._v(e._s(e.translate.records))]),e._v(" "),i("ul",{staticClass:"pagination pull-right"},[i("li",{class:e._isDisabled(0),on:{click:e._prePage}},[i("a",{staticClass:"page-control",attrs:{href:"javascript:;","aria-label":"Previous"}},[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("chevron_left"))}},[e._v("chevron_left")])])]),e._v(" "),e._l(e.pagesCount,function(t){return e._isShow(t-1,5)?i("li",{key:t,class:t-1===e.tableState.currentPageIndex?"active":"",on:{click:function(i){e._gotoPage(t)}}},[i("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])]):e._e()}),e._v(" "),i("li",{class:e._isDisabled(1),on:{click:e._nextPage}},[i("a",{staticClass:"page-control",attrs:{href:"javascript:;","aria-label":"Next"}},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:e._s(e.icons("chevron_right"))}},[e._v("chevron_right")])])])],2),e._v(" "),i("div",{staticClass:"input-group pull-right gotopage"},[i("span",{staticClass:"input-group-btn"},[i("button",{staticClass:"btn",attrs:{type:"button"}},[e._v(e._s(e.translate.pageGoBtn))])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tableState.goPageIndex,expression:"tableState.goPageIndex"}],staticClass:"form-control text-left",attrs:{type:"text",placeholder:e.translate.pageGoPlaceholder},domProps:{value:e.tableState.goPageIndex},on:{change:function(t){e._gotoPage(e.tableState.goPageIndex)},input:function(t){t.target.composing||e.$set(e.tableState,"goPageIndex",t.target.value)}}}),e._v(" "),i("span",{staticClass:"input-group-btn"},[e._v(e._s(e.translate.page))])])])]):e._e()])},staticRenderFns:[]};var qe=i("C7Lr")(He,We,!1,function(e){i("PQiD")},null,null).exports,Ve=(Boolean,Number,Number,Number,String,String,Number,Boolean,{props:{autoHeight:{type:Boolean,default:!1},lineHeight:{type:Number,default:18},rows:{type:Number,default:1},cols:{type:Number,default:0},placeholder:{type:String,default:""},value:{type:String,default:""},maxLength:{type:Number,default:-1},readonly:{type:Boolean,default:!1}},data:function(){return{text:"",scrollHeight:18}},computed:{maxHeight:function(){return this.lineHeight*(parseInt(this.rows)+.5)}},methods:{_change:function(e){this.$emit("change",e)},_getScrollHeight:function(e){e.target.style.height="auto",this.scrollHeight!==e.target.scrollHeight&&(e.target.scrollHeight>this.scrollHeight?this.scrollHeight=e.target.scrollHeight:this.scrollHeight=this.scrollHeight-this.lineHeight),e.target.style.height=this.scrollHeight+"px",this.$refs.container.scrollTop=this.scrollHeight}},created:function(){this.text=this.value||""},mounted:function(){this.autoHeight},watch:{value:function(e){this.text=e},text:function(e){this.$emit("input",e)}}}),ze={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-textarea"},[i("div",{ref:"container",staticClass:"v-text-container",style:{maxHeight:e.maxHeight+"px"}},[e.readonly?i("pre",{staticClass:"v-textarea-readonly",style:{lineHeight:e.lineHeight+"px"}},[e._v(e._s(e.text||e.placeholder))]):i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"},{name:"focus",rawName:"v-focus"}],ref:"texta",style:{lineHeight:e.lineHeight+"px"},attrs:{placeholder:e.placeholder,cols:e.cols,maxlength:e.maxLength},domProps:{value:e.text},on:{change:e._change,input:[function(t){t.target.composing||(e.text=t.target.value)},e._getScrollHeight],focus:e._getScrollHeight}})]),e._v(" "),e.maxLength?i("label",{staticClass:"v-textarea-tip"},[e._v(e._s(e.text.length)+"/"+e._s(e.maxLength))]):e._e()])},staticRenderFns:[]};var $e=i("C7Lr")(Ve,ze,!1,function(e){i("Rk8k")},null,null).exports,Ye={props:{treeId:{default:"v-tree"},activeId:{default:0},idField:{default:"id"},titleField:{default:"title"},editable:{default:!1},checkable:{default:!1},cascade:{default:!1},collapsed:{default:!1},index:{default:0},item:{default:null},pItem:{default:null},isCheck:{default:!1},lang:{default:"zh-cn"},beforeAdd:{default:function(){return!0}},beforeDelete:{default:function(){return!0}},beforeEdit:{default:function(){return!0}},itemClick:{default:function(e,t){return function(e,t){}}}},data:function(){var e=this.item;return{editing:!1,checked:this.item.checked,treeItem:e,expended:this.collapsed}},computed:{id:function(){return this.treeItem[this.idField]},title:function(){return this.treeItem[this.titleField]},children:function(){return this.treeItem.children},active:function(){return this.id!==this.activeId||this.children?"":"active"},disabled:function(){return this.treeItem.disabled},ulId:function(){return"Group"+this.treeItem[this.idField]}},watch:{isCheck:function(){this.cascade&&"false"!==this.cascade&&!this.disabled&&"true"!==this.disabled&&(this.checked=this.isCheck,this.treeItem.checked=this.checked)},item:{deep:!0,handler:function(){this.treeItem=this.item,this.checked=this.item.checked}}},methods:{_checkChange:function(){this.treeItem.disabled||(this.checked=!this.checked,this.treeItem.checked=this.checked)},_deleteItem:function(e){this.beforeDelete&&!1===this.beforeDelete(this.treeItem,this.treeItem.children[e])||this.treeItem.children.splice(e,1)},_deleteEmit:function(){this.$emit("_deleteItem",this.index)},_addItem:function(){var e={},t=(new Date).getTime();e[this.idField]=t,e[this.titleField]=this.translate.newNodeTitle,e.edit=!0,e.delete=!0,e.add=!0,this.beforeAdd&&!1===this.beforeAdd(this.treeItem,e)||(this.children||n.a.set(this.treeItem,"children",[]),this.treeItem.children.push(e))},_idChange:function(){this.treeItem.route&&this.$router.push({path:this.treeItem.route}),this.itemClick(this.pItem,this.item),this.$emit("_changeItem",this.id)},_changeItem:function(e){this.$emit("_changeItem",e)},_changeEditing:function(){this.beforeEdit&&!1===this.beforeEdit(this.pItem,this.treeItem)||(this.editing=!this.editing)},translate:function(){return Object(c.e)(this.lang).tree}}},Ge={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"list-group-item tree-item",class:e.active,staticStyle:{border:"none","padding-right":"0"}},[e.editing?i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.treeItem[e.titleField],expression:"treeItem[titleField]"}],staticClass:"form-control",attrs:{type:"text",autofocus:""},domProps:{value:e.treeItem[e.titleField]},on:{blur:e._changeEditing,input:function(t){t.target.composing||e.$set(e.treeItem,e.titleField,t.target.value)}}}),e._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(t){return t.stopPropagation(),e._changeEditing(t)}}},[i("i",{staticClass:" glyphicon glyphicon-ok",attrs:{title:e.translate.saveIconTitle}})])]):i("a",{staticClass:"btn-block",class:e.expended?"":"collapsed",attrs:{role:"button","aria-expanded":e.expended},on:{click:e._idChange}},[e.checkable?i("span",{staticClass:"span-check pull-left",class:e.checked?"active":"",on:{click:function(t){return t.stopPropagation(),e._checkChange(t)}}},[e.checked?i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("check_box"))}},[e._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("check_box_outline_blank"))}},[e._v("check_box_outline_blank")])]):e._e(),e._v(" "),e.children&&e.children.length>0?i("span",{staticClass:"pull-right",on:{click:function(t){t.stopPropagation(),e.expended=!e.expended}}},[e.expended?i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("expand_less"))}},[e._v("expand_less")]):i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("expand_more"))}},[e._v("expand_more")])]):e._e(),e._v(" "+e._s(e.title)+"\n      "),e.editable?i("span",{staticClass:"pull-right",staticStyle:{"padding-right":"15px"}},[e.treeItem.edit?i("i",{staticClass:"glyphicon glyphicon-pencil",attrs:{title:e.translate.editIconTitle},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e._changeEditing(t)}}}):e._e(),e._v(" "),e.treeItem.add?i("i",{staticClass:"glyphicon glyphicon-plus",attrs:{title:e.translate.addIconTitle},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e._addItem(t)}}}):e._e(),e._v(" "),e.treeItem.delete?i("i",{staticClass:"glyphicon glyphicon-remove",attrs:{title:e.translate.deleteIconTitle},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e._deleteEmit(t)}}}):e._e()]):e._e()]),e._v(" "),e.children&&e.children.length>0?i("ul",{staticClass:"panel-collapse collapse list-group",class:this.expended?"in":"",attrs:{role:"tabpanel"}},e._l(e.children,function(t,n){return i("v-treeitem",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!it.hidden"}],key:t[e.idField],attrs:{treeId:e.treeId,idField:e.idField,titleField:e.titleField,editable:e.editable,item:t,pItem:e.item,activeId:e.activeId,index:n,checkable:e.checkable,cascade:e.cascade,collapsed:e.collapsed,isCheck:e.checked,beforeAdd:e.beforeAdd,beforeDelete:e.beforeDelete,beforeEdit:e.beforeEdit,itemClick:e.itemClick,lang:e.lang},on:{_changeItem:e._changeItem,_deleteItem:e._deleteItem}})}),1):e._e()])},staticRenderFns:[]};var Xe=i("C7Lr")(Ye,Ge,!1,function(e){i("XRfD")},null,null).exports;n.a.component("v-treeitem",Xe);n.a.component("v-treeitem",Xe);var Je={props:{id:{required:!0,default:"v-tree"},activeId:{default:void 0},idField:{default:"id"},titleField:{default:"title"},collapsed:{default:!0},cascade:{default:!1},editable:{default:!1},checkable:{default:!1},title:{default:""},footer:{default:function(){return{title:"footer",show:!1}}},search:{default:!1},defaultLang:{default:"zh-cn"},items:{default:function(){return[{id:1,title:"首页",edit:!0,children:[{id:5,title:"子目录",disabled:!0},{id:6,title:"子目录"},{id:7,title:"子目录"}]},{id:2,title:"目录",delete:!0},{id:3,title:"目录"},{id:4,title:"目录"}]}},url:{default:""},params:{default:function(){return{}}},beforeAdd:{default:null},beforeDelete:{default:null},beforeEdit:{default:null},itemClick:{default:function(){return function(e,t){}}}},components:{VTreeitem:Xe},created:function(){var e=localStorage.getItem("lang");Object(c.e)(e)&&(this.lang=e),this.url?this._initTreeWithUrl():this._initTreeWithItems()},data:function(){return{editing:!1,searchValue:"",aId:this.activeId,treeItems:[],lang:this.defaultLang}},computed:{result:function(){return this.search&&this._searchFromTree("title",this.searchValue),this.treeItems},treeJson:function(){var e={},t=this;return function i(n){n.forEach(function(n){e[n[t.idField]]=n,n.children&&n.children.length>0&&i(n.children)})}(t.treeItems),e},treeObj:function(){return{title:this.title,children:this.treeItems}},translate:function(){return Object(c.e)(this.lang).tree}},watch:{url:function(){this._initTreeWithUrl(),this.searchValue=""},items:{deep:!0,handler:function(){this.treeItems=JSON.parse(se()(this.items)),this.searchValue=""}}},methods:{_initTreeWithUrl:function(){var e=this;e.params.lang=this.lang,l.a.ajax({url:e.url,type:"get",data:e.params,success:function(t){t.state?e.treeItems=t.data:e.toast(t.message)}})},_initTreeWithItems:function(){this.treeItems=JSON.parse(se()(this.items))},_changeEditing:function(){this.editing=!this.editing},_addItem:function(){var e={},t=(new Date).getTime();e[this.idFiled]=t,e[this.titleField]=this.translate.newNodeTitle,e.edit=!0,e.delete=!0,e.add=!0,this.beforeAdd&&!1===this.beforeAdd(this.treeObj,e)||(this.treeItems||(this.treeItems=[]),this.treeItems.push(e))},_changeItem:function(e){this.aId=e},_deleteItem:function(e){this.beforeDelete&&!1===this.beforeDelete(this.treeObj,this.treeItems[e])||this.treeItems.splice(e,1)},_searchFromTree:function(e,t){!function i(a){var r=!1;a.forEach(function(a){var o=!1;a[e].indexOf(t)<0?o=!0:(o=!1,r=!0),a.children&&a.children.length>0&&i(a.children)&&(o=!1),n.a.set(a,"hidden",o)});return r}(this.treeItems)},getData:function(){return this.treeItems},setChecked:function(e){var t=this;!function i(a){a.forEach(function(a){e.indexOf(a[t.idField])>=0&&n.a.set(a,"checked",!0),a.children&&a.children.length>0&&i(a.children)})}(this.treeItems)},getChecked:function(){var e=[];return function t(i){i.forEach(function(i){i.checked&&e.push(i),i.children&&i.children.length>0&&t(i.children)})}(this.treeItems),e},getItemById:function(e){return this.treeJson[e]}}},Ke={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-tree"},[e.search?i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.translate.searchPlaceholder,"aria-describedby":"basic-addon2"},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),e._v(" "),i("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon2"}},[i("i",{staticClass:" glyphicon glyphicon-search",attrs:{title:e.translate.searchIconTitle}})])]):e._e(),e._v(" "),e.title||e.editable?i("div",{staticClass:"panel-heading",attrs:{role:"tab"}},[i("h4",{staticClass:"panel-title"},[e.editing?i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",autofocus:""},domProps:{value:e.title},on:{blur:e._changeEditing,input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e._changeEditing(t)}}},[i("i",{staticClass:" glyphicon glyphicon-check",attrs:{title:e.translate.saveIconTitle}})])]):i("label",{staticClass:"collapsed btn-block",attrs:{role:"button","data-toggle":"collapse",href:"#"+e.id}},[e._v("\n\t\t            "+e._s(e.title)+"\n\t\t             "),e.editable?i("span",{staticClass:"pull-right"},[i("i",{staticClass:"glyphicon glyphicon-edit",attrs:{title:e.translate.editIconTitle},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e._changeEditing(t)}}}),e._v(" "),i("i",{staticClass:"glyphicon glyphicon-plus",attrs:{title:e.translate.addIconTitle},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e._addItem(t)}}})]):e._e()])])]):e._e(),e._v(" "),i("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.id,role:"tabpanel"}},[i("ul",{staticClass:"list-group"},e._l(e.result,function(t,n){return i("v-treeitem",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!item.hidden"}],key:t[e.idField],attrs:{treeId:e.id,idField:e.idField,titleField:e.titleField,item:t,pItem:e.treeObj,editable:e.editable,activeId:e.aId,index:n,cascade:e.cascade,checkable:e.checkable,beforeAdd:e.beforeAdd,beforeDelete:e.beforeDelete,beforeEdit:e.beforeEdit,itemClick:e.itemClick,collapsed:e.collapsed,lang:e.lang},on:{_changeItem:e._changeItem,_deleteItem:e._deleteItem}})}),1)]),e._v(" "),e.footer.show?i("div",{staticClass:"panel-footer"},[e._v("\n      Footer\n    ")]):e._e()])},staticRenderFns:[]};var Qe=i("C7Lr")(Je,Ke,!1,function(e){i("x0r5")},null,null).exports,Ze=(Boolean,String,Array,Boolean,Boolean,Boolean,Boolean,String,Number,String,String,String,Boolean,Number,String,String,{props:{autoSelect:{type:Boolean,default:!0},defaultValue:{default:""},value:{type:String,default:""},options:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},clearButton:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},defaultLang:{type:String,default:"zh-cn"},dropdownClass:{type:"String",default:null},limit:{type:Number,default:1024},optionsLabel:{type:String,default:"label"},optionsValue:{type:String,default:"value"},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},minSearch:{type:Number,default:10},searchText:{type:String,default:""},url:{type:String,default:""}},data:function(){return{loading:null,show:!1,selfOptions:[],values:"",isSelect:!1,lang:this.defaultLang}},computed:{selected:function(){var e=this,t=[],i=this.value||this.values;this.multiple||isNaN(i)||(i=i?i+"":null),i&&"object"===(void 0===i?"undefined":je()(i))&&(i=i.join(",")),t=i?i.split(","):[];var n=[];return this.selfOptions.forEach(function(i){t.indexOf(i[e.optionsValue])>=0&&n.push(i[e.optionsLabel])}),n.join(",")},selectedItems:function(){var e=this,t=[],i=this.value||this.values;this.multiple||isNaN(i)||(i+=""),i&&"object"===(void 0===i?"undefined":je()(i))&&(i=i.join(",")),t=i?i.split(","):[];var n=[];return this.selfOptions.forEach(function(i){t.indexOf(i[e.optionsValue])>=0&&n.push(i)}),n},classes:function(){return[{open:this.show,disabled:this.disabled},this.class,"btn-group"]},translate:function(){return Object(c.e)(this.lang).comboAndDate}},watch:{url:function(){this.update()},options:{deep:!0,handler:function(e){var t=this;this.selfOptions=e,this.selfOptions.forEach(function(e){e[t.optionsValue]=e[t.optionsValue].toString()}),this.required&&0===this.values.length&&this.selfOptions[0]&&(this.values=this.selfOptions[0][this.optionsValue])}},value:function(e,t){this.values=e},values:function(e){this.$emit("input",e),this.autoSelect?this.$emit("afterSelected",{val:e,value:e,target:this}):this.isSelect&&(this.$emit("afterSelected",{val:e,value:e,target:this}),this.isSelect=!1)}},methods:{clear:function(){this.disabled},showOptions:function(){var e=this;this.disabled||(this.show=!0,this.$select({selectedItems:this.selectedItems,options:this.selfOptions,optionsLabel:this.optionsLabel,optionsValue:this.optionsValue,multiple:this.multiple,closeOnSelect:this.closeOnSelect,required:this.required,limit:this.limit,minSearch:this.minSearch,searchText:this.searchText,dropdownClass:this.dropdownClass,defaultLang:this.lang,onSelect:function(t){var i=[];t.forEach(function(t){i.push(t[e.optionsValue])}),e.values=i.join(","),e.isSelect=!0},onClick:function(t){e.$emit("optionClick",{option:t,target:e})},onClose:function(){e.show=!1}}))},update:function(){var e=this;this.url&&(this.loading=!0,l.a.ajax({url:this.url,type:"get",data:{lang:this.lang},success:function(t){t.state?(e.selfOptions=t.data||[],e.selfOptions.forEach(function(t){t[e.optionsValue]=t[e.optionsValue].toString()}),e.required&&0===e.values.length&&e.selfOptions[0]&&(e.values=e.selfOptions[0][e.optionsValue])):e.toast(t.message)}}).always(function(){e.loading=!1}))}},created:function(){var e=this,t=localStorage.getItem("lang");Object(c.e)(t)&&(this.lang=t),this.selfOptions=this.options||[],this.selfOptions.forEach(function(t){t[e.optionsValue]=t[e.optionsValue].toString()}),this.values=this.value,this.required&&!this.values&&this.selfOptions[0]&&(this.values=this.selfOptions[0][this.optionsValue]),this.update()},mounted:function(){this.$emit("onload",this)}}),et={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-select",class:e.classes},[i("div",{staticClass:"form-control dropdown-toggle",style:"cursor:"+(e.disabled?"not-allowed":"pointer"),attrs:{disabled:e.disabled},on:{click:function(t){e.showOptions()}}},[i("span",{staticClass:"btn-content",attrs:{title:e.selected||(e.loading?e.translate.loading:e.placeholder||e.translate.notSelected)},domProps:{innerHTML:e._s(e.selected||(e.loading?e.translate.loading:e.placeholder||e.translate.notSelected))}}),e._v(" "),e.selectedItems.length&&e.clearButton?i("span",{staticClass:"close",on:{click:function(t){t.stopPropagation(),e.clear()}}},[e._v("×")]):e._e(),e._v(" "),i("span",{staticClass:"dropdown-icon"},[e.show?i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("arrow_drop_up"))}},[e._v("arrow_drop_up")]):i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("arrow_drop_down"))}},[e._v("arrow_drop_down")])])])])},staticRenderFns:[]};var tt=i("C7Lr")(Ze,et,!1,function(e){i("j+01")},null,null).exports,it=i("a3Yh"),nt=i.n(it),at=(String,Object,Boolean,Boolean,String,Object,{props:{radius:{type:String,default:"300"},center:{type:Object,default:null},search:{type:Boolean,default:!1},location:{type:Boolean,default:!0},searchText:{type:String,default:"搜索地点"},value:{type:Object,default:null}},data:function(){var e;return e={timeStamp:"",pageId:"VMap",searching:!1,searchVal:"",searchResults:[],locationStr:"定位中",searchService:null,geolocation:null,curLocation:{nation:"中国",province:"北京",city:""},map:null,marker:null,selfMarker:null,markers:[],circle:null,info:null,geocoder:null,selfInfo:null,tCenter:null,color:null,icon:null},nt()(e,"locationStr","定位中"),nt()(e,"timer",null),e},computed:{isIn:function(){return!(!this.tCenter||!this.center||void 0===this.center.lat||void 0===this.center.lng)&&this._getDistance(this.center.lat,this.center.lng)<parseInt(this.radius)}},methods:{_input:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.clearOverlays(e.markers),e.searchService.setLocation(""+e.curLocation.nation+e.curLocation.province+e.curLocation.city+(e.curLocation.district||"")+(e.curLocation.addr||"")),e.searchService.search(e.searchVal)},600)},_getLocation:function(e){var t=this;this.geolocation.getLocation(function(i){t.selfMarker&&t.selfMarker.setMap(null),t.curLocation=i,i.inRange=t.isIn,t.$emit("getLocation",i),t.tCenter=new qq.maps.LatLng(i.lat,i.lng),t.map.setCenter(t.tCenter),t.selfMarker=new qq.maps.Marker({position:t.tCenter,map:t.map}),t.selfMarker.setIcon(t.icon),t.selfMarker.setAnimation(qq.maps.MarkerAnimation.DOWN),e&&e()},function(t){e&&e()})},_setCenter:function(e,t){this.tCenter=new qq.maps.LatLng(e,t),this.circle.setCenter(this.tCenter),this.map.setCenter(this.tCenter),this.marker.setPosition(this.tCenter)},rad:function(e){return e*Math.PI/180},_getDistance:function(e,t){var i=this.rad(e),n=this.rad(this.curLocation.lat),a=i-n,r=this.rad(t)-this.rad(this.curLocation.lng),o=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(i)*Math.cos(n)*Math.pow(Math.sin(r/2),2)));return o*=6378.137,o=Math.round(1e4*o)/10},clearOverlays:function(e){for(var t;t=e.pop();)t.setMap(null)}},created:function(){this.timeStamp=Object(c.a)()},mounted:function(){var e=this;this.tCenter=new qq.maps.LatLng(this.center&&this.center.lat?this.center.lat:39.916527,this.center&&this.center.lng?this.center.lng:116.397128);var t={zoom:15,center:this.tCenter,panControl:!1,zoomControl:!1,mapTypeControl:!1};this.map=new qq.maps.Map(document.getElementById(""+this.pageId+this.timeStamp),t),this.marker=new qq.maps.Marker({position:this.tCenter,map:this.map}),this.geocoder=new qq.maps.Geocoder({complete:function(t){e.info.setContent(t.detail.address),e.$emit("markerClick",t.detail)}});var i=new qq.maps.Point(18,35),n=new qq.maps.Size(35,35),a=new qq.maps.Point(0,0);if(this.icon=new qq.maps.MarkerImage("/static/image/location.png",n,a,i),this.marker.setIcon(this.icon),this.color=new qq.maps.Color(0,0,0,.3),this.circle=new qq.maps.Circle({map:this.map,center:this.tCenter,radius:parseInt(this.radius),fillColor:this.color,strokeWeight:0}),this.info=new qq.maps.InfoWindow({map:this.map}),this.selfInfo=new qq.maps.InfoWindow({map:this.map}),this.geolocation=new qq.maps.Geolocation("J7MBZ-24CKP-TR6DO-VHSBB-5LASQ-LVBZY","saas"),this.searchService=new qq.maps.SearchService({pageIndex:0,pageCapacity:20,panel:document.getElementById("panel"+this.timeStamp),autoExtend:!0,complete:function(t){var i=t.detail.pois||[];if(0!==i.length){for(var n=new qq.maps.LatLngBounds,a=0,r=i.length;a<r;a++){var o=i[a];n.extend(o.latLng),function(e,t){var n=new qq.maps.Marker({map:t.map});n.setPosition(i[e].latLng),n.setIcon(t.icon),t.markers.push(n),qq.maps.event.addListener(n,"click",function(){t.info.open(),t.info.setPosition(n.getPosition()),t.geocoder.getAddress(n.getPosition()),t._setCenter(n.position.lat,n.position.lng)})}(a,e)}e.map.fitBounds(n)}else e._getLocation()},error:function(){}}),qq.maps.event.addListener(this.marker,"click",function(t){var i=e.marker.getPosition();e.info.close(),e.info.open(),e.info.setPosition(i),e.geocoder.getAddress(i)}),this.location&&this._getLocation(function(){qq.maps.event.addListener(e.selfMarker,"click",function(){e.selfInfo.open(),e.selfInfo.setContent("我的位置:<br/>"+e.curLocation.nation+e.curLocation.province+e.curLocation.city+(e.curLocation.district||"")+(e.curLocation.addr||"")),e.selfInfo.setPosition(e.tCenter),e.geocoder.getAddress(e.selfMarker.getPosition())})}),this.value){var r=new qq.maps.LatLng(this.value.lat,this.value.lng),o=new qq.maps.Marker({map:this.map,position:r});o.setIcon(this.icon),qq.maps.event.addListener(o,"click",function(t){var i=o.getPosition();e.info.open(),e.info.setPosition(i),e.geocoder.getAddress(i)})}},watch:{radius:function(e){this.circle.setRadius(parseInt(e))},center:{deep:!0,handler:function(e){e.lat&&e.lng?this._setCenter(e.lat,e.lng):this.$toast("中心坐标不符合规范（经度， 纬度）！")}}}}),rt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-map-container"},[e.search?i("div",{staticClass:"v-map-search",class:{active:e.searching}},[e.searching?e._e():i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("search"))},on:{click:function(t){e.searching=!0}}},[e._v("search")]),e._v(" "),i("div",{staticClass:"search-part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],staticClass:"map-input",attrs:{placeholder:e.searchText,type:"text"},domProps:{value:e.searchVal},on:{input:[function(t){t.target.composing||(e.searchVal=t.target.value)},e._input]}}),e._v(" "),i("button",{staticClass:"map-btn",on:{click:function(t){e.searching=!1}}},[e._v("取消")])])]):e._e(),e._v(" "),e.location?i("div",{staticClass:"v-map-position",on:{click:function(t){e._getLocation()}}},[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("my_location"))}}),i("strong",{staticClass:"pull-left",staticStyle:{"line-height":"24px"}},[e._v(e._s(e.isIn?"正处在":"未处在")+"定位范围内")])]):e._e(),e._v(" "),i("div",{staticClass:"v-map-panel",class:{activee:e.searchVal},attrs:{id:"panel"+e.timeStamp}}),e._v(" "),i("div",{staticClass:"v-map",attrs:{id:""+e.pageId+e.timeStamp}})])},staticRenderFns:[]};var ot=i("C7Lr")(at,rt,!1,function(e){i("CXCA")},null,null).exports,st=i("4Xi4"),lt=i.n(st),ct=(Boolean,String,Boolean,Boolean,Boolean,{props:{show:{required:!0,type:Boolean},width:{default:null},effect:{type:String,default:null},backdrop:{type:Boolean,default:!1},large:{type:Boolean,default:!1},small:{type:Boolean,default:!1}},data:function(){return{isShow:this.show}},computed:{optionalWidth:function(){return null===this.width?null:(lt()(this.width),this.width+"px")}},watch:{show:function(){this.isShow=this.show},isShow:function(e){var t=this,i=this.$refs.modal,n=document.body,a=this.getScrollBarWidth();e?(l()(i).find(".modal-content").focus(),i.style.display="block",setTimeout(function(){return l()(i).addClass("in")},0),l()(n).addClass("modal-open"),0!==a&&(n.style.paddingRight=a+"px"),this.backdrop&&l()(i).on("click",function(e){e.target===i&&(t.isShow=!1)})):(n.style.paddingRight=null,l()(n).removeClass("modal-open"),l()(i).removeClass("in").css("display","none"))}},methods:{close:function(){this.isShow=!1},getScrollBarWidth:function(){if(document.documentElement.scrollHeight<=document.documentElement.clientHeight)return 0;var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;return i===n&&(n=t.clientWidth),document.body.removeChild(t),i-n}}}),dt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"modal",class:{modal:!0,fade:"fade"===e.effect,zoom:"zoom"===e.effect},attrs:{role:"dialog"}},[i("div",{class:{"modal-dialog":!0,"modal-lg":e.large,"modal-sm":e.small},style:{width:e.optionalWidth},attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[e._t("modal-header",[e._t("title")]),e._v(" "),e._t("modal-body"),e._v(" "),e._t("modal-footer")],2)])])},staticRenderFns:[]};var ut=i("C7Lr")(ct,dt,!1,function(e){i("QbUS")},null,null).exports,ht=(i("qIWb"),i("HIHJ")),pt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",attrs:{id:"batchSet-page"}},[i("button",{staticClass:"btn back-btn clearBtnBorder",attrs:{type:"button"},on:{click:e._backParentPage}},[i("i",{staticClass:"maticon back-icon-btn",domProps:{innerHTML:e._s(e.icons("arrow_back"))}},[e._v("arrow_back")]),i("span",{staticClass:"nav-title"},[e._v(e._s(e.translate.back)+e._s(e.parentPageTitle))])]),e._v(" "),i("div",{staticClass:"page-body"},[i("div",{staticClass:"page-title"},[e._v(e._s(e.translate.batch)+e._s(e.translate.import))]),e._v(" "),i("div",{staticClass:"page-text-prompt"},[i("label",[e._v(e._s(e.translate.importFristText))]),e._v(" "),i("p",[i("label",[e._v(e._s(e.translate.importSecondText))])])]),e._v(" "),i("div",[i("button",{staticClass:"btn download-template-btn clearBtnBorder",attrs:{type:"button"},on:{click:e.downloadTemplate}},[i("i",{staticClass:"maticon template-icon",domProps:{innerHTML:e._s(e.icons("attachment"))}},[e._v("attachment")]),i("span",{staticClass:"template-title"},[e._v(e._s(e.templateName))])])]),e._v(" "),i("div",e._l(e.importTypeData,function(t,n){return i("div",{key:n,staticClass:"button-group",on:{click:function(i){e.importUrlType(t)}}},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.isShowBtn,expression:"col.isShowBtn"}],staticClass:"btn clearBtnBorder import-btn",class:{startImport:e.startImport,importing:e.importing},attrs:{type:"button"}},[i("label",{staticClass:"upload-text",attrs:{for:"upload-file"}},[e._v(e._s(e.importingText||t.name))])]),e._v(" "),e.clearInputShow?i("input",{staticClass:"upload-template",attrs:{type:"file",id:"upload-file"},on:{change:e.getFile}}):e._e()])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowResult,expression:"isShowResult"}],staticClass:"checkResult"},[e.isCorrect?i("div",{staticClass:"error-area"},[e.hasErrorFile?i("label",{staticClass:"error-title"},[e._v(e._s(e.translate.error)+":")]):i("label",{staticClass:"error-title"},[e._v(e._s(e.translate.tip)+":")]),e._v(" "),i("div",{staticClass:"error-content",domProps:{innerHTML:e._s(e.errorResult)}}),e._v(" "),e.hasErrorFile?i("p",[e._v(e._s(e.translate.errorResultText))]):e._e(),e._v(" "),i("div",[e.hasErrorFile?i("button",{staticClass:"btn download-template-btn clearBtnBorder",attrs:{type:"button"},on:{click:e.downloadErrorTemplate}},[i("i",{staticClass:"maticon template-icon",domProps:{innerHTML:e._s(e.icons("attachment"))}},[e._v("attachment")]),i("span",{staticClass:"template-title"},[e._v(e._s(e.errorTemplateName))])]):e._e()])]):i("div",{staticClass:"correct-area",domProps:{innerHTML:e._s(e.correctResult)}})])]),e._v(" "),i("v-modal",{attrs:{show:e.showDeployModal,effect:"fade",width:"500"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[e._v("\n        "+e._s(e.modalName)+"\n      ")])]),e._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[e._t("modal")],2),e._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(t){e.showDeployModal=!1}}},[e._v(e._s(e.translate.cancel))]),e._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:e.modalDownloadTemplate}},[e._v(e._s(e.translate.submit))])])])],1)},staticRenderFns:[]};var ft=function(e){i("Yrfm")},mt=i("C7Lr")(ht.a,pt,!1,ft,null,null).exports,gt=(i("6fg8"),i("2GJD")),vt={props:{height:{default:"200px"},data:{default:null}},created:function(){},data:function(){return{flow:null}},watch:{data:function(){this.flow.load(this.data)}},mounted:function(){var e=this;this.flow=Object(gt.a)("#flow",{datetimeStartText:"业务期开始",datetimeDefaultText:"未设置",datetimeFormat:"yyyy年M月dd日 h:mm",datetimeMode:!0,colWidthOffsetLeftRatio:0,readonly:!1,adjustBranches:!1,data:this.data,debug:!1,animate:!0,animateDuration:200,edgeMaxOffset:20,fixApplyNode:!1,colWidth:180,rowHeight:68,top:38,slideWorkspaceValidAreaOffset:120,slideWorkspaceStep:10,bgColorEven:"#cfd8dc",blurEdge:!0,nodeSelectedClassName:"selected",joinPointOffset:10,textLineDistance:10,startNodeWidth:164,startNodeHeight:60,startNodeRadius:2,endNodeWidth:164,endNodeHeight:60,endNodeRadius:2,processNodeWidth:172,processNodeHeight:60,processNodeRadius:2,conditionNodeWidth:172,conditionNodeHeight:60,waitingNodeInterval:12,waitingProcessNodeText:"节点",waitingProcessNodeWidth:64,waitingProcessNodeHeight:44,waitingConditionNodeText:"条件",waitingConditionNodeWidth:78,waitingConditionNodeHeight:78,waitingEndNodeText:"结束",waitingEndNodeWidth:64,waitingEndNodeHeight:44,deleteConfirm:!1,deleteConfirmText:"确定要删除此节点吗?"}),this.flow.on("selected",function(t){e.$emit("nodeSelected",t)})},methods:{refreshNodeText:function(e,t){this.flow.setNodeName(e,t)},refresh:function(){this.flow.refresh()},setDatetime:function(e,t){return this.flow.setDatetime(e,t)},export:function(){return this.flow.exportDatetime(!0)},exportBeginEndTime:function(){return this.flow.exportBeginEndTime()},load:function(e){this.flow.loadDatetime(e)}}},bt={render:function(){var e=this.$createElement;return(this._self._c||e)("svg",{staticClass:"v-flow",style:"height:"+this.height,attrs:{id:"flow"}})},staticRenderFns:[]};var yt=i("C7Lr")(vt,bt,!1,function(e){i("D53R")},null,null).exports,_t={props:{width:{default:300},height:{default:180},url:{default:""}},data:function(){return{canvas:null,canvasId:"canvas",context:null,canvasWidth:850,linex:[],liney:[],linen:[],lastX:1,lastY:30,flag:0}},computed:{canvasHeight:function(){return this.canvasWidth*this.height/this.width}},created:function(){this.canvasId+=Object(c.a)(),this._drawImage()},mounted:function(){this.canvas=l()("#"+this.canvasId)[0],void 0!==document.ontouchstart?(this.canvas.addEventListener("touchmove",this._onMouseMove,!1),this.canvas.addEventListener("touchstart",this._onMouseDown,!1),this.canvas.addEventListener("touchend",this._onMouseUp,!1)):(this.canvas.addEventListener("mousemove",this._onMouseMove,!1),this.canvas.addEventListener("mousedown",this._onMouseDown,!1),this.canvas.addEventListener("mouseup",this._onMouseUp,!1),this.canvas.addEventListener("mouseleave",this._onMouseUp,!1)),this.context=this.canvas.getContext("2d")},watch:{url:function(){this._clearImage(),this._drawImage()}},methods:{_back:function(){this.$emit("back")},_drawImage:function(){var e=this,t=document.createElement("img");t.src=this.url,t.onload=function(){e.canvas.getContext("2d").drawImage(t,0,0,this.width,this.height)}},_preview:function(){var e=null;try{e=this.canvas.toDataURL("i/png"),this.$emit("preview",e)}catch(e){this.$toast("图片不允许跨域绘制")}},_rewrite:function(){this.linex=[],this.liney=[],this.linen=[],this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight)},_clearImage:function(){this._rewrite()},_getCanvasPos:function(e,t){var i,n,a=e.getBoundingClientRect();return t.targetTouches?(i=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY):(i=t.clientX,n=t.clientY),{x:(i-a.left)*(e.width/a.width),y:(n-a.top)*(e.height/a.height)}},_onMouseMove:function(e){var t=this._getCanvasPos(this.canvas,e).x,i=this._getCanvasPos(this.canvas,e).y;if(1==this.flag){this.linex.push(t),this.liney.push(i),this.linen.push(1),this.context.save(),this.context.translate(this.context.canvas.width/2,this.context.canvas.height/2),this.context.translate(-this.context.canvas.width/2,-this.context.canvas.height/2),this.context.beginPath(),this.context.lineWidth=2;for(var n=1;n<this.linex.length;n++)this.lastX=this.linex[n],this.lastY=this.liney[n],0==this.linen[n]?this.context.moveTo(this.lastX,this.lastY):this.context.lineTo(this.lastX,this.lastY);this.context.shadowBlur=10,this.context.stroke(),this.context.restore()}e.preventDefault()},_onMouseDown:function(e){var t=this._getCanvasPos(this.canvas,e).x,i=this._getCanvasPos(this.canvas,e).y;this.flag=1,this.linex.push(t),this.liney.push(i),this.linen.push(0)},_onMouseUp:function(){this.flag=0}}},wt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sign-container"},[i("canvas",{attrs:{id:e.canvasId,width:e.canvasWidth,height:e.canvasHeight},on:{click:function(e){e.stopPropagation()}}}),e._v(" "),i("p",{staticClass:"text-center"},[i("button",{staticClass:"btn canvas-save",on:{click:function(t){return t.stopPropagation(),e._preview(t)}}},[e._v("确定")]),e._v(" "),i("button",{staticClass:"btn canvas-clear",on:{click:function(t){return t.stopPropagation(),e._clearImage(t)}}},[e._v("清除")]),e._v(" "),i("button",{staticClass:"btn canvas-clear",on:{click:function(t){return t.stopPropagation(),e._back(t)}}},[e._v("取消")])])])},staticRenderFns:[]};var xt=i("C7Lr")(_t,wt,!1,function(e){i("y2x4")},null,null).exports;n.a.component("v-draw",xt);n.a.component("v-draw",xt);var Ct={inject:{windowObj:{default:null}},props:{saveBtnContrl:{default:!0},backArrowControl:{default:!0},title:{default:""},data:{default:[]},defaultData:{default:function(){return{}}},fileServer:{default:""},authorities:{default:null},script:{default:""},log:{default:null},previewformType:{default:""},previewType:{default:"flow"},isPdf:{default:!1},infoSetting:{default:!1},isDemoData:{default:!1}},created:function(){var e=localStorage.getItem("lang");Object(c.e)(e)&&(this.lang=e),this._initFormLayout()},data:function(){return{layout:{},isPhone:!1,logShow:!1,tabShow:!1,formData:{},errorObj:{},errorObjJson:{},previewSetting:{relationShip:{input:"stringValue",image:"stringValue",signature:"stringValue",select:"stringValue",radio:"stringValue",checkbox:"listValue",number:"floatValue",address:"addressValue",datetime:"dateValue",attachment:"attachmentValue",table:"tableValue",map:"locationValue"},authoritiesName:{proxySubmit:"代发",submit:"提交",cancel:"放弃",agree:"同意",disagree:"否决",reject:"驳回",carbonCopy:"抄送",countermand:"撤回",transfer:"转交",save:"保存"},authoritiesIcon:{proxySubmit:"done",submit:"done",cancel:"block",agree:"done",disagree:"block",reject:"call_missed",carbonCopy:"people",countermand:"undo",transfer:"call_missed_outgoing",save:"save"},authoritiesTip:{countermand:"在下一个节点进行审批之前，撤回此表单重新操作",cancel:"申请人可以放弃本次申请，放弃后申请作废",disagree:"否决并作废此表单",reject:"将此表单驳回至某节点重新操作",carbonCopy:"将此表单提交给其他人查看",transfer:"将此表单提交给其他人审核"},resultMessageJson:{overtime:"已超时",rescissory:"已废除",disable:"业务期已停用",success:"已通过",fail:"不通过",end:"已结束"},editableAuthority:["agree","disagree","reject","submit","proxySubmit"],modifyType:{UPDATE:"更新了",ADD:"添加了",DELETE:"删除了"},multiComponents:{address:[{type:"select",name:"province"},{type:"select",name:"city"},{type:"select",name:"area"}]},specialLogComponent:["attachment","table","label","image","splitLine","signature","map"],titleHideComponent:["label","table"],selectOptions:{}},showSetDeliverModal:!1,signatureSetting:{width:0,height:0,esignShow:!1,esignWigt:null},curAuthority:"",userId:"",userNo:"",resultMessage:"",lineHeight:80,cellHeight:65,phoneWidthLimit:768,showAttachmentPreview:!1,supportPreview:["doc","docx","wps","pdf","ppt","pptx","xls","xlsx","png","jpg","jpeg","bmp","txt"],addedFileArr:[],deleteFileArr:[],addedImageArr:[],deleteImageArr:[],searchContent:this.searchValue,highLightWigt:"",searchTimer:null,search:!1,defaultDataStr:"",tabStyleParam:{scrollDeltaX:300,duration:.5},mobileHeight:0,exporting:!1,authorityTemp:{},lang:"zh-cn"}},computed:{formOptional:function(){var e=this,t=!1;return this.data&&this.data.forEach(function(i){"hide"===i.properties.authority||e._wigtDisabled(i)||(t=!0)}),t},dataJson:function(){var e=this,t={};return this.data&&this.data.forEach(function(i){e.$set(t,i.name,i)}),t},pageOptional:function(){if("flow"===this.previewType){if(!this.defaultData||this.defaultData&&!this.defaultData.status)return!0;var e=!1;if(this.authorities)for(var t in this.previewSetting.editableAuthority)this.authorities.indexOf(this.previewSetting.editableAuthority[t])>=0&&(e=!0);return"PENDING"===this.defaultData.status?e:"END"!==this.defaultData.status}return"form"!==this.previewType||(this.defaultData&&this.defaultData.editable||!this.defaultData||this.infoSetting)},pageId:function(){return"preview"+Object(c.a)()},reverseLog:function(){var e=[];if(this.log&&this.log.length>0)for(var t=this.log.length-1;t>=0;t--)e.push(this.log[t]);return e},translate:function(){},logExist:function(){return!this.isPhone&&("flow"===this.previewType&&this.defaultData&&this.defaultData.applicant||"flow"!==this.previewType||this.infoSetting)},infoSettingTabs:function(){return this.infoSetting?this.infoSetting.tabs:[]}},mounted:function(){var e=this;window.pageId=this.pageId,window.vue||(window.vue={}),window.vue[window.pageId]=this,this._computeIsPhone(),setTimeout(function(){e.script=(e.script||"").replace(/\.vue/g,".vue[window.pageId]").replace(/\.vue\./g,".vue[window.pageId]."),e.eval(e.script)});this.isPhone&&(this.mobileHeight=l()(document).height()),this.$emit("onload")},methods:{_exportPdf:function(){var e=this;confirm("是否附上表单日志")&&(this.exporting=!0),setTimeout(function(){e.getPdf(),e.exporting=!1},500)},goToPayment:function(){this.$emit("goToPayment")},_back:function(){var e=this;this.$emit("search",""),this.$emit("back"),this._clearStorageFile({images:this.addedImageArr,files:this.addedFileArr},function(){e.addedImageArr=e.addedFileArr=[]})},_initFormLayout:function(){var e=this;this.data&&this.data.length>0&&JSON.parse(se()(this.data)).forEach(function(t){e._initFormData(t,t.initializationValue||{})});this.defaultData&&this.defaultData.formData&&this.defaultData.formData.forEach(function(t){"table"!==t.name.split("_")[0]?n.a.set(e.formData,t.name,t.value[e.previewSetting.relationShip[t.name.split("_")[0]]||e.previewSetting.relationShip.input]):(n.a.set(e.formData,t.name,[]),t.value.tableValue&&t.value.tableValue.length>0&&t.value.tableValue.forEach(function(i){var a={};n.a.set(a,"id",i.id),e.data.forEach(function(e){e.name===t.name&&n.a.set(a,"tableFields",e.properties.basic.tableFields)}),i.rowData.forEach(function(t){a.tableFields.forEach(function(i){i.name===t.name&&e._setFieldValue(i,t.value,a)})}),e.formData[t.name].push(a)}))}),this.defaultDataStr=se()(this.formData),this._getInitOptions()},_hideEsign:function(){this.signatureSetting.esignShow="",l()("#signCancel").off("click"),l()("#signOk").off("click")},_wigtDisabled:function(e){return"readonly"===e.properties.authority||!this.pageOptional},_previewEsign:function(e){var t=this;this.signatureSetting.esignShow="","pre"!==this.previewType?(this.$waiting.show({text:"签名上传中..."}),Object(c.c)({url:this.uploadBase64,type:"post",data:{data:e},success:function(e){e.state?(t.formData[t.signatureSetting.esignWigt.name]&&t.deleteImageArr.push(t.formData[t.signatureSetting.esignWigt.name]),n.a.set(t.formData,t.signatureSetting.esignWigt.name,e.data.hash),t.addedImageArr.push(e.data.hash),t.$toast("签名成功！")):t.$toast(e.message)}}).always(function(){t.$waiting.close()})):this.formData[this.signatureSetting.esignWigt.name]=e},_showSignOf:function(e,t){this._wigtDisabled(t)||(this.signatureSetting.esignShow=t.name,this.signatureSetting.esignWigt=t,this.signatureSetting.width=l()(e.target).parent(".sign-cover").width(),this.signatureSetting.height=l()(e.target).parent(".sign-cover").height())},_downloadFile:function(e){if("pre"!==this.previewType){if(/(iP)/g.test(navigator.userAgent))return this.$toast("您的ios设备不支持附件下载，请用其它设备打开！造成不便尽请谅解~"),!1;var t=e.target.getAttribute("data-href"),i=document.createElement("iframe");i.src=t,i.style.display="none",document.body.appendChild(i)}else this.$toast("预览模式下附件并未真正上传，不能下载！")},_valueFormat:function(e){if("datetime"===e.name.split("_")[0]){var t=e.newValue.value[this.previewSetting.relationShip[e.name.split("_")[0]]];return this.timeFormat(t?new Date(t.replace(/-/g,"/")):null,e.newValue.value.dateFormat)}return"address"===e.name.split("_")[0]?(t=e.newValue.value[this.previewSetting.relationShip[e.name.split("_")[0]]]).province+t.city+t.area||"空":"checkbox"===e.name.split("_")[0]?(t=e.newValue.value[this.previewSetting.relationShip[e.name.split("_")[0]]]).join(",")||"空":e.newValue.value[this.previewSetting.relationShip[e.name.split("_")[0]]]||"空"},_checkUserId:function(){var e=this;Object(c.c)({url:"/api/relationship/checkUserId/"+this.userNo,dataType:"json",type:"get",success:function(t){t.state?(e.resultMessage=t.data.name+" "+t.data.id,e.userId=t.data.userId):e.resultMessage="出错啦："+t.message}})},_saveTableEdit:function(e,t){this.$set(e.row,e.name,e.value),e.name.indexOf("input")>=0?this.$set(this.errorObj,t.name,this._verifyLength(t)||this._verifyRegex(t)):e.name.indexOf("number")>=0?this.$set(this.errorObj,t.name,this._verifyValue(t)||this._verifyPrecision(t)):e.name.indexOf("checkbox")>=0?this.$set(this.errorObj,t.name,this._verifySelect(t)):e.name.indexOf("datetime")>=0&&this.$set(this.errorObj,t.name,this._verifyDate(t)),l()("#"+this.pageId+" #"+t.name).trigger("change")},_addRecord:function(e){this.formData[e.name]||n.a.set(this.formData,e.name,[]);var t=Object(c.a)();this.formData[e.name].push({id:t,tableFields:e.properties.basic.tableFields}),l()("#"+this.pageId+" #"+e.name).trigger("change")},_fileUpload:function(e,t){var i=this,a=this._verifyFile(e.target.files[0],t);if(a)return n.a.set(this.errorObj,t.name,a),void(e.target.value="");n.a.set(this.errorObj,t.name,""),this.formData[t.name]||n.a.set(this.formData,t.name,[]);if("pre"!==this.previewType){this.$waiting.show({text:"附件上传中..."});var r=new FormData;r.append("file",e.target.files[0]),r.append("fieldName",t.name),Object(c.c)({url:this.fileServer,type:"post",data:r,contentType:!1,processData:!1,success:function(e){"88888"===e.code?(i.formData[t.name].push({path:e.data.hash,name:e.data.originalName,size:e.data.size}),i.addedFileArr.push(e.data.hash),i.$toast("附件上传成功")):i.$toast(e.message)}}).always(function(){i.$waiting.close()})}else this.formData[t.name].push({path:"",name:e.target.files[0].name,type:this._getFileType(e.target.files[0].name),size:e.target.files[0].size});e.target.value=""},_removeFile:function(e,t){confirm("确定删除该附件吗？")&&(this.deleteFileArr.push(this.formData[e.name][t].path),this.formData[e.name].splice(t,1))},_clearStorageFile:function(e,t){var i=[];e.images.forEach(function(e){i.push(e)}),e.files.forEach(function(e){i.push(e)}),i.length},_computeIsPhone:function(){(document.getElementById(this.pageId)?document.getElementById(this.pageId).offsetWidth:document.body.clientWidth)<this.phoneWidthLimit?this.isPhone=!0:this.isPhone=!1,this._computeLayout(),this._offEvents(),this._initEvents()},_getInitOptions:function(){var e=this;this.data&&this.data.forEach(function(t){if(["radio","checkbox","select"].indexOf(t.componentType)>=0){var i=t.properties.basic.options||[];e.$set(e.previewSetting.selectOptions,t.name,[]),i.forEach(function(i){e.previewSetting.selectOptions[t.name].push({id:i,name:i})})}})},_getColumns:function(e,t){var i=this;if(!e)return[];var n=this,a=[];return e.forEach(function(e){var n="input",r=[],o=!i._wigtDisabled(t);"checkbox"===e.componentType?n="multiSelect":"radio"===e.componentType||"select"===e.componentType?n="select":"datetime"===e.componentType?n="datetime":"number"===e.componentType&&(n="number"),"select"!==n&&"multiSelect"!==n||e.properties&&e.properties.basic&&e.properties.basic.options&&e.properties.basic.options.forEach(function(e){r.push({id:e,name:e})}),a.push({id:e.name,title:e.title,width:150,edit:o?{type:n,data:{options:r,optionsLabel:"label",optionsValue:"value",placeholder:e.properties.basic.placeholder,dateFormat:e.properties.basic.dateFormat}}:null,className:"text-left"})}),this._wigtDisabled(t)||a.splice(0,0,{title:"",width:40,formatter:function(e,a){return[{tag:"a",text:"remove_circle_outline",className:"maticon table-remove-opt",callback:function(e,a){n.formData[t.name].splice(a,1),l()("#"+i.pageId+" #"+t.name).trigger("change")}}]}}),a},_computeLayout:function(){var e=this,t={},i=0;if(this.data.forEach(function(a){"hide"!==a.properties.authority&&(i<a.y+a.h-1&&(i=a.y+a.h-1),t[a.y]||n.a.set(t,a.y,[]),e._pushIntoArr(a,t[a.y]))}),!this.isPhone){for(var a in t){var r=0,o=[];t[a].forEach(function(e,t){e.x===r?r+=e.w:(o.push({properties:{},w:e.x-r}),r=e.x+e.w),o.push(e)}),t[a]=o}for(var s=0;s<=i;s++)t[s]||this._emptyLineNeeded(s,t)&&n.a.set(t,s,[])}this.layout=t},_emptyLineNeeded:function(e,t){for(var i=[],n=0,a=!1,r=0;r<e;r++)t[r]&&t[r].length>0&&(i=t[r],n=r);return i.forEach(function(t){t.h>e-n&&(a=!0)}),a},_pushIntoArr:function(e,t){var i=0;t.forEach(function(t){e.x>t.x&&i++}),t.splice(i,0,e)},_getAddressOptions:function(e,t){return"province"===t?this.provinceList:"city"===t?this._getCityList(this.formData[e.name]&&this.formData[e.name].province):"area"===t?this._getAreaList(this.formData[e.name]&&this.formData[e.name].city,this.formData[e.name]&&this.formData[e.name].province):void 0},_afterSelect:function(e,t){var i=this,a=e.target.$attrs["data-name"];if("address"===t.componentType){var r=e.target.$attrs["data-address"];"province"===r&&this.formData[a]&&(this.formData[a].city=this.formData[a].area=""),"city"===r&&this.formData[a]&&(this.formData[a].area=""),this.formData[a]||n.a.set(this.formData,a,{}),n.a.set(this.formData[a],r,e.val)}else"checkbox"===t.componentType&&n.a.set(this.errorObj,t.name,this._verifySelect(t));setTimeout(function(){l()("#"+i.pageId+" #"+t.name).trigger("change")},300)},_daySelect:function(e,t){e.target.$attrs["data-name"];n.a.set(this.errorObj,t.name,this._verifyDate(t)),l()("#"+this.pageId+" #"+t.name).trigger("change")},timeFormat:function(e,t){if(!e)return"";var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"i+":e.getMinutes(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t},_radioCheck:function(e,t){if(this._wigtDisabled(e))return!1;n.a.set(this.formData,e.name,t),l()("#"+this.pageId+" #"+e.name).trigger("change")},_checkboxCheck:function(e,t){if(this._wigtDisabled(e))return!1;this.formData[e.name]||n.a.set(this.formData,e.name,[]);var i=this.formData[e.name].indexOf(t);i>=0?this.formData[e.name].splice(i,1):this.formData[e.name].push(t),n.a.set(this.errorObj,e.name,this._verifySelect(e)),l()("#"+this.pageId+" #"+e.name).trigger("change")},_initFormData:function(e,t){var i=this;"datetime"===e.componentType?this._setFieldValue(e,t,this.formData):"address"===e.componentType?(n.a.set(this.formData,e.name,{}),n.a.set(this.formData[e.name],"province",t[this.previewSetting.relationShip[e.componentType]]&&t[this.previewSetting.relationShip[e.componentType]].province||""),n.a.set(this.formData[e.name],"city",t[this.previewSetting.relationShip[e.componentType]]&&t[this.previewSetting.relationShip[e.componentType]].city||""),n.a.set(this.formData[e.name],"area",t[this.previewSetting.relationShip[e.componentType]]&&t[this.previewSetting.relationShip[e.componentType]].area||"")):"map"===e.componentType?this.$set(this.formData,e.name,t[this.previewSetting.relationShip[e.componentType]]?t[this.previewSetting.relationShip[e.componentType]]:{}):"table"===e.componentType?(this.$set(this.formData,e.name,[]),t[this.previewSetting.relationShip[e.componentType]]&&t[this.previewSetting.relationShip[e.componentType]].forEach(function(t){var a={};i.$set(a,"id",t.id),n.a.set(a,"tableFields",e.properties.basic.tableFields),t.rowData.forEach(function(e){a.tableFields.forEach(function(t){t.name===e.name&&i._setFieldValue(t,e.value,a)})}),i.formData[e.name].push(a)}),this._wigtDisabled(e)||0!==this.formData[e.name].length||this._addRecord(e)):n.a.set(this.formData,e.name,t&&t[this.previewSetting.relationShip[e.componentType]])},_setFieldValue:function(e,t,i){var n=t[this.previewSetting.relationShip[e.componentType]]?(t[this.previewSetting.relationShip[e.componentType]]+"").split(" ")[0]:"";"datetime"===e.componentType&&n&&(n=this.timeFormat(new Date(n.replace(/-/g,"/")),e.properties.basic.dateFormat||"yyyy-MM-dd hh:ii:ss")),this.$set(i,e.name,n)},_previewImg:function(e,t){var i=this,a=e.target.files[0];if(!e.target.value.substring(e.target.value.lastIndexOf(".")).toLowerCase().match(/.png|.jpg|.jpeg|.gif/))return e.target.value="",void i.$toast("文件格式错误,文件格式必须为：png/jpg/jpeg/gif");i.$waiting.show({text:"图片上传中..."});var r=new FileReader;r.onloadend=function(r){var o=new Image;o.src=r.target.result,o.onload=function(){var r="像素不符合要求，无法提交";if(t.properties.verification.maxWidth&&t.properties.verification.minHeight<this.width)i.$toast(r);else if(t.properties.verification.maxHeight&&t.properties.verification.maxHeight<this.height)i.$toast(r);else if(t.properties.verification.minWidth&&t.properties.verification.minWidth>this.width)i.$toast(r);else if(t.properties.verification.minHeight&&t.properties.verification.minHeight>this.height)i.$toast(r);else if("pre"!==i.previewType)if(a){var o=new FormData;o.append("file",a),Object(c.c)({url:i.uploadImage,type:"post",data:o,processData:!1,contentType:!1,success:function(a){"88888"===a.code?(n.a.set(i.formData,t.name,a.data.hash),i.addedImageArr.push(a.data.hash),e.target.value="",i.$toast("图片上传成功")):i.$toast(a.message)}}).always(function(){i.$waiting.close()})}else i.$waiting.close(),n.a.set(i.formData,t.name,"")},i.$waiting.close()},r.readAsDataURL(a)},_uploadImages:function(e,t){var i=this;this.$croppa({width:parseInt(t.properties.verification.maxWidth||800),height:parseInt(t.properties.verification.maxHeight||800),scale:t.properties.basic.scale,sure:function(e){"pre"===i.previewType?i.$set(i.formData,t.name,e):(i.$waiting.show({text:"结果上传中..."}),Object(c.c)({url:i.uploadBase64,type:"post",data:{data:e},success:function(e){e.state?(i.$set(i.formData,t.name,e.data.hash),i.addedImageArr.push(e.data.hash),i.$toast("图片上传成功")):i.$toast(e.message)}}).always(function(){i.$waiting.close()}))}})},_autoHeight:function(e,t){var i=this,n=setInterval(function(){i._judgeHeight(e.target,t)||clearInterval(n)},1)},_judgeHeight:function(e,t){var i=parseInt(e.style.height.replace("px","")),n=parseInt(l()(e).css("line-height").replace("px",""))*(parseInt(t.properties.basic.rows||1)+.5),a=e.scrollHeight;return e.style.height="auto",e.style.height=a>n?n+"px":a+"px",i!==a},_verified:function(e){var t="",i="";"input"===e.componentType?(t=this._verifyRegex(e),i=this._verifyLength(e)):"number"===e.componentType&&(t=this._verifyPrecision(e),i=this._verifyValue(e)),n.a.set(this.errorObj,e.name,t||i)},_verifyRegex:function(e){if("table"===e.componentType){var t="";return this.formData[e.name].forEach(function(i){e.properties.basic.tableFields.forEach(function(e){"input"===e.componentType&&e.properties.verification.regexExpression&&(new RegExp(e.properties.verification.regexExpression).test(i[e.name])||(t=e.title+"不满足正则要求"+e.properties.verification.regexExpression))})}),t}return e.properties.verification.regexExpression&&!new RegExp(e.properties.verification.regexExpression).test(this.formData[e.name])?"不满足正则要求"+e.properties.verification.regexExpression:""},_verifyPrecision:function(e){if("table"===e.componentType){var t="";return this.formData[e.name].forEach(function(i){e.properties.basic.tableFields.forEach(function(e){"number"===e.componentType&&e.properties.basic.precision&&(new RegExp("^(-?\\d+)(\\.\\d{0,"+e.properties.basic.precision+"})?$").test(i[e.name])||(t="数字输入有误, 最多保留"+e.properties.basic.precision+"位小数"))})}),t}return e.properties.basic.precision&&!new RegExp("^(-?\\d+)(\\.\\d{0,"+e.properties.basic.precision+"})?$").test(this.formData[e.name])?"数字输入有误, 最多保留"+e.properties.basic.precision+"位小数":""},_verifyLength:function(e){if("table"===e.componentType){var t="";return this.formData[e.name].forEach(function(i){e.properties.basic.tableFields.forEach(function(e){"input"===e.componentType&&(e.properties.verification.minLength&&i[e.name]&&i[e.name].length<e.properties.verification.minLength&&(t=e.title+"最短长度要求"+e.properties.verification.minLength),e.properties.verification.maxLength&&i[e.name]&&i[e.name].length>e.properties.verification.maxLength&&(t=e.title+"最大长度要求"+e.properties.verification.maxLength))})}),t}return e.properties.verification.minLength&&this.formData[e.name].length<e.properties.verification.minLength?"最短长度要求"+e.properties.verification.minLength:e.properties.verification.maxLength&&this.formData[e.name].length>e.properties.verification.maxLength?"最大长度要求"+e.properties.verification.maxLength:""},_verifySelect:function(e){if("table"===e.componentType){var t="";return this.formData[e.name].forEach(function(i){e.properties.basic.tableFields.forEach(function(e){["select","radio","checkbox"].indexOf(e.componentType)>=0&&(e.properties.verification.minSelect&&i[e.name]&&i[e.name].length<e.properties.verification.minSelect&&(t=e.title+"最小选择数要求"+e.properties.verification.minSelect),e.properties.verification.maxSelect&&i[e.name]&&i[e.name].length>e.properties.verification.maxSelect&&(t=e.title+"最大选择数要求"+e.properties.verification.maxSelect))})}),t}return e.properties.verification.minSelect&&this.formData[e.name].length<e.properties.verification.minSelect?"最小选择数要求"+e.properties.verification.minSelect:e.properties.verification.maxSelect&&this.formData[e.name].length>e.properties.verification.maxSelect?"最大选择数要求"+e.properties.verification.maxSelect:""},_verifyValue:function(e){if("table"===e.componentType){var t="";return this.formData[e.name].forEach(function(i){e.properties.basic.tableFields.forEach(function(e){"number"===e.componentType&&(e.properties.verification.minValue&&parseFloat(e.properties.verification.minValue)-parseFloat(i[e.name])>1e-5&&(t=e.title+"最小值要求"+e.properties.verification.minValue),e.properties.verification.maxValue&&parseFloat(i[e.name])-parseFloat(e.properties.verification.maxValue)>1e-5&&(t=e.title+"最大值要求"+e.properties.verification.maxValue))})}),t}return e.properties.verification.minValue&&parseFloat(e.properties.verification.minValue)-parseFloat(this.formData[e.name])>1e-5?"最小值要求"+e.properties.verification.minValue:e.properties.verification.maxValue&&parseFloat(this.formData[e.name])-parseFloat(e.properties.verification.maxValue)>1e-5?"最大值要求"+e.properties.verification.maxValue:""},_verifyDate:function(e){if("table"===e.componentType){var t="";return this.formData[e.name].forEach(function(i){e.properties.basic.tableFields.forEach(function(e){if("datetime"===e.componentType){if(e.properties.verification.minDate){var n="currentTime"===e.properties.verification.minDate?(new Date).getTime():new Date(e.properties.verification.minDate.replace(/-/g,"/")).getTime();new Date((i[e.name]||"").replace(/-/g,"/")).getTime()<n&&(t=e.title+"不早于"+e.properties.verification.minDate)}if(e.properties.verification.maxDate){var a="currentTime"===e.properties.verification.maxDate?(new Date).getTime():new Date(e.properties.verification.maxDate.replace(/-/g,"/")).getTime();new Date((i[e.name]||"").replace(/-/g,"/")).getTime()>a&&(t=e.title+"不晚于"+e.properties.verification.maxDate)}}})}),t}if(e.properties.verification.minDate){var i="currentTime"===e.properties.verification.minDate?(new Date).getTime():new Date(e.properties.verification.minDate.replace(/-/g,"/")).getTime();if(new Date((this.formData[e.name]||"").replace(/-/g,"/")).getTime()<i)return"不早于"+e.properties.verification.minDate}if(e.properties.verification.maxDate){var n="currentTime"===e.properties.verification.maxDate?(new Date).getTime():new Date(e.properties.verification.maxDate.replace(/-/g,"/")).getTime();if(new Date((this.formData[e.name]||"").replace(/-/g,"/")).getTime()>n)return"不晚于"+e.properties.verification.maxDate}return""},_verifyFile:function(e,t){var i=this._getFileType(e.name),n=e.size;return t.properties.verification.fileFormat&&t.properties.verification.fileFormat.split(",").indexOf(i)<0?"附件类型只允许："+t.properties.verification.fileFormat:t.properties.verification.fileSize&&1024*t.properties.verification.fileSize<n?"附件大小只允许："+t.properties.verification.fileSize+"KB以内":this.formData[t.name]&&t.properties.verification.fileMaxNumber&&t.properties.verification.fileMaxNumber<=this.formData[t.name].length?"附件最大数量只允许："+t.properties.verification.fileMaxNumber+"个":""},_verifyExistSearchContent:function(e){var t=this,i=!1;return e.title&&e.title.indexOf(this.searchContent)>=0&&(i=!0),this.formData[e.name]&&this.formData[e.name].toString().indexOf(this.searchContent)>=0&&(i=!0),"table"===e.componentType&&e.properties.basic.tableFields&&e.properties.basic.tableFields.forEach(function(n){n.title&&n.title.indexOf(t.searchContent)>=0&&(i=!0),t.formData[e.name]&&t.formData[e.name].forEach(function(e){e[n.name]&&e[n.name].toString().indexOf(t.searchContent)>=0&&(i=!0)})}),!i},_getFileType:function(e){var t=e.lastIndexOf(".");return-1!==t?"."+e.substring(t+1,e.length).toLowerCase():""},_initEvents:function(){var e=this;this.data.forEach(function(t,i){t.events.forEach(function(i){i.cases&&i.cases.length>0&&(console.log(t.title+"绑定"+i.name.toLowerCase()),l()("#"+e.pageId).on(i.name.toLowerCase(),"#"+t.name,function(){console.log("-----触发器开始-------------------------"),console.log(e.pageId,"触发了"+t.title+"的"+i.name.toLowerCase()+"事件"),i.cases.forEach(function(t){e._satisfiedCondition(t.condition)&&t.actions.forEach(function(t){console.log("触发了"+t.name),e._triggerAction(t)})})}))})})},_offEvents:function(){var e=this;this.data.forEach(function(t,i){t.events.forEach(function(t){t.cases&&t.cases.length>0&&l()("#"+e.pageId).off(t.name.toLowerCase())})})},_satisfiedCondition:function(e){var t=this.formData[e.component]||"";return"="===e.operator?"address"===e.component.split("_")[0]?t.province===e.data.province&&t.city===e.data.city&&t.area===e.data.area:t===e.data.value:"<"===e.operator?t<e.data.value:"<="===e.operator?t<=e.data.value:">"===e.operator?t>e.data.value:">="===e.operator?t>=e.data.value:"!="===e.operator?t!==e.data.value:"include"===e.operator?this._includeOrExclude(e.component.split("_")[0],t,e.data.value,"include"):"exclude"===e.operator?this._includeOrExclude(e.component.split("_")[0],t,e.data.value,"exclude"):"between"===e.operator?this._between(e.component.split("_")[0],t,e):"notBetween"!==e.operator||!this._between(e.component.split("_")[0],t,e)},_includeOrExclude:function(e,t,i,n){var a=!0;if("checkbox"===e){var r=t?t.split(","):"",o=i||[];"string"==typeof i&&(o=i.split(",")),o&&o.forEach(function(e){"include"===n?r.indexOf(e)<0&&(a=!1):r.indexOf(e)>=0&&(a=!1)})}else a="include"===n?t.indexOf(i)>=0:t.indexOf(i)<0;return a},_between:function(e,t,i){var n=!0;if("datetime"===e){var a=i.data.minDate?new Date(i.data.minDate.replace(/\-/g,"/")):"",r=i.data.maxDate?new Date(i.data.maxDate.replace(/\-/g,"/")):"",o=t?new Date(t.replace(/\-/g,"/")):"";o||(n=!1),a&&o&&a.gettime()>o.getTime()&&(n=!1),r&&o&&r.gettime()<o.getTime()&&(n=!1)}else n=left<=i.data.maxValue&&left>=i.data.minValue;return n},_triggerAction:function(e){var t=this;if("hideComponent"===e.name)e.properties&&e.properties.fields&&e.properties.fields.forEach(function(e){console.log(e.title+"隐藏"),l()("#"+t.pageId+" #"+e.name).hide(),t.data.forEach(function(i){i.name===e.name&&"required"===i.properties.authority&&(t.authorityTemp[e.name]=i.properties.authority,t.$set(i.properties,"authority","optional"))})});else if("showComponent"===e.name)e.properties&&e.properties.fields&&e.properties.fields.forEach(function(e){console.log(e.title+"显示"),l()("#"+t.pageId+" #"+e.name).show(),t.data.forEach(function(i){i.name===e.name&&t.authorityTemp[e.name]&&t.$set(i.properties,"authority",t.authorityTemp[e.name])})});else if("setText"===e.name)for(var i in e.properties){var a=i.split("_")[0];"label"===a?(console.log("设置"+i+"内容为"+e.properties[i].value),l()("#"+this.pageId+" #"+i+" .div-label").html(e.properties[i].value)):"address"===a?(this.formData[i]||n.a.set(this.formData,i,{}),this.previewSetting.multiComponents.address.forEach(function(a){n.a.set(t.formData[i],a.name,e.properties[i].value[a.name]||"")}),console.log("设置"+i+"内容为"+e.properties[i].value)):(n.a.set(this.formData,i,e.properties[i].value),console.log("设置"+i+"内容为"+e.properties[i].value))}else if("triggerEvent"===e.name)for(var r in e.properties)e.properties[r].eventsId&&e.properties[r].eventsId.split(",").forEach(function(e){l()("#"+t.pageId+" #"+r).trigger(e.toLowerCase()),console.log("触发"+r+"的"+e.toLowerCase()+"事件")});else if("script"===e.name){console.log("触发脚本"+e.properties.script);var o=(e.properties.script||"").replace(/\.vue/g,".vue[window.pageId]").replace(/\.vue\./g,".vue[window.pageId].");this.eval(o)}},eval:function(e){var t=document.createElement("script");t.type="text/javascript",t.text=e,document.getElementsByTagName("head")[0].appendChild(t),document.head.removeChild(document.head.lastChild)},submitTo:function(e){var t=this;if("flow"===this.previewType){if(this.curAuthority=e,("transfer"===e||"carbonCopy"===e)&&!this.userId)return void(this.showSetDeliverModal=!0)}else if("form"===this.previewType){if(!this.saveBtnContrl)return}else if("pre"===this.previewType)return void this.$toast("预览模式下操作无效，仅供参考！");var i="";if("save"!==e&&(i=this._getErrorStr(this.errorObj,this.formData),this.infoSetting&&this.$set(this.errorObjJson,this.infoSetting.curInfoId,i)),i)this.infoSetting||this.$toast(i);else{var n=[];for(var a in this.formData)this.data.forEach(function(e){e.name===a&&n.push({name:e.name,title:e.title,value:t._getCorrectValue(e,t.formData[e.name])})});var r={userId:this.userId,type:e,formData:n};"flow"===this.previewType?(r.title=this.previewSetting.authoritiesName[e]||"",this.curAuthority=""):"form"===this.previewType&&(r.previewformType=this.previewformType),this.infoSetting&&this.defaultData?se()(this.formData)!==this.defaultDataStr&&this.$emit("submit",r):this.$emit("submit",r),this._clearStorageFile({images:this.deleteImageArr,files:this.deleteFileArr},function(){t.deleteImageArr=t.deleteFileArr=[]}),this.userId="",this.userNo="",this.showSetDeliverModal=!1}},_getErrorStr:function(e,t){var i=this,n="";if(e&&t&&this.data.forEach(function(a){a.properties&&"required"===a.properties.authority?(i.$set(e,a.name,""),(!t[a.name]||["attachment","table","checkbox"].indexOf(a.componentType)>=0&&0===t[a.name].length)&&(n+=a.title+"不能为空\n",i.$set(e,a.name,a.title+"不能为空"))):i.$set(e,a.name,"")}),!this.infoSetting)for(var a in e)e[a]&&(n+=this.dataJson[a].title+e[a]+"\n");return n},_getCorrectValue:function(e,t){var i=this,n={},a=this.previewSetting.relationShip[e.componentType]||this.previewSetting.relationShip.input;return"dateValue"===a?n[a]=t?this.timeFormat(new Date(t.replace(/-/g,"/")),"yyyy-MM-dd hh:ii:ss"):"":"tableValue"===a?(n[a]=[],t.forEach(function(t){var r=[];for(var o in t)if("id"!==o&&"tableFields"!==o){var s=null;if(t.tableFields.forEach(function(e){e.name===o&&(s=e)}),s){if(e.properties.basic.checkable&&!t.checked)return;r.push({name:s.name,title:s.title,value:i._getCorrectValue(s,t[o])})}}n[a].push({id:t.id,rowData:r})})):n[a]="listValue"===a&&"string"==typeof t?t.split(","):t,n},_showAttachmentPreview:function(e,t){if("image"===t||"pre"!==this.previewType){var i=("pre"===this.previewType?"":this.fileUrlPrefix)+e.path;this.$preview({name:e.name,url:i,type:"image"===t?"png":e.name.match(/([^.]+)$/)[1]})}else this.$toast("预览模式附件未真正上传，不可预览！")},_scrollTab:function(e){var t=l()("#"+pageId+" .tab-container .tab-list"),i=parseInt(t.css("left").replace("px",""));e?-(i-=this.tabStyleParam.scrollDeltaX)>=t.width()-l()(".tab-container").width()+this.tabStyleParam.scrollDeltaX/2&&(i=-(t.width()-l()(".tab-container").width()+this.tabStyleParam.scrollDeltaX/2)):-(i+=this.tabStyleParam.scrollDeltaX)<=0&&(i=0),t.css({left:i+"px","transition-duration":this.tabStyleParam.duration+"s"})},_formTabClick:function(e,t){if(e.id!==this.infoSetting.curInfoId&&(this.submitTo("submit"),this.$emit("tabExchange",e,t)),t>=0){var i=l()("#"+pageId+" .tab-container .tab-list"),n=-l()("#"+pageId+" .tab-list .tab-item").eq(t).position().left;i.css({left:n+"px","transition-duration":this.tabStyleParam.duration+"s"}),this.tabShow=!1}},_submitToArr:function(){var e=this;this.submitTo("submit"),this.$nextTick(function(){e.$emit("submitAll")})},_searchChange:function(e){var t=this;this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout(function(){t.$emit("search",t.searchContent)},600)},_getLocation:function(e,t){this.formData[t.name]||this.$set(this.formData,t.name,{}),this.formData[t.name]=e}},watch:{data:{deep:!0,handler:function(){this.infoSetting&&(this._computeLayout(),this._initFormLayout())}},highLightWigt:function(e){setTimeout(function(){document.getElementById(e)&&document.getElementById(e).scrollIntoView(!0)},300)},infoSettingTabs:function(e){var t=this;if(e.length>0){var i=0;e.forEach(function(e,n){e.id===t.infoSetting.curInfoId&&(!0,i=n)}),0===i&&this.$emit("tabExchange",e[i])}},windowObj:{deep:!0,handler:function(e){this._computeIsPhone(),this.isPhone&&(l()(document).height()<this.mobileHeight?l()("#"+this.pageId+" .phone-options").css("position","static"):l()("#"+this.pageId+" .phone-options").css("position","fixed"))}}},destroyed:function(){this._offEvents()}},St={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-page",class:[e.isPhone?"mobile-view":"pc-view"],style:{maxWidth:e.isPdf||e.exporting?"840px":"1240px"},attrs:{id:e.pageId}},[e.logExist?i("button",{staticClass:"btn log-toggle",class:[e.logShow?"open":"","form"!==e.previewType?"flow-log-toggle":""],attrs:{title:"操作日志"},on:{click:function(t){e.logShow=!e.logShow}}},[e._v("\n    日志\n  ")]):e._e(),e._v(" "),e.logExist?i("GeminiScrollbar",{staticClass:"log pc-log",class:["form"!==e.previewType?"flow-log":"",e.logShow?"active":""]},["form"!==e.previewType&&e.defaultData.result?i("div",{staticClass:"log-item"},[i("span",{staticClass:"btn-block log-time"},[e._v("当前状态")]),e._v(" "),"PENDING"===e.defaultData.status?i("label",[e._v("进行至"+e._s(e.defaultData.currentNode.name))]):i("label",[e._v(e._s(e.previewSetting.resultMessageJson[e.defaultData.result.toLowerCase()]))])]):e._e(),e._v(" "),e._l(e.reverseLog,function(t,n){return i("div",{key:n,staticClass:"log-item"},[i("label",{staticClass:"btn-block log-time"},[e._v(e._s(t.time))]),e._v(" "),t.nodeName?i("label",{staticClass:"btn-block log-content"},[e._v("在"),i("strong",[e._v(e._s(t.nodeName))]),e._v("节点")]):e._e(),e._v(" "),i("label",{staticClass:"btn-block log-content"},[i("strong",[e._v(e._s(t.handlerName))]),i("strong",[e._v(e._s(t.action?e.previewSetting.authoritiesName[t.action]:"修改了")+"表单")])]),e._v(" "),t.message?i("label",{staticClass:"btn-block log-content"},[i("strong",[e._v(e._s(t.action?e.previewSetting.authoritiesName[t.action]:"修改")+"意见：")]),e._v(e._s(t.message))]):e._e(),e._v(" "),i("div",{staticClass:"log-records"},e._l(t.modifyRecords,function(t,n){return i("p",{key:n},[e._v("\n          "+e._s(e.previewSetting.modifyType[e.previewSetting.specialLogComponent.indexOf(t.name.split("_")[0])<0?t.modifyType:"UPDATE"])+"\n          "),i("strong",[e._v(e._s(t.title))]),e._v(" "),e.previewSetting.specialLogComponent.indexOf(t.name.split("_")[0])<0?i("span",[e._v("\n            为 "),i("strong",[e._v(e._s(e._valueFormat(t)))])]):e._e()])}))])}),e._v(" "),e.log&&e.log.length>0?e._e():i("div",{staticClass:"log-item"},[i("span",{staticClass:"btn-block log-time"},[e._v("暂无记录")])])],2):e._e(),e._v(" "),e.isPhone?e._e():i("div",{staticClass:"pc-options text-right",class:{"form-options":"form"===e.previewType}},[i("label",{directives:[{name:"show",rawName:"v-show",value:e.backArrowControl,expression:"backArrowControl"}],staticClass:"back pull-left",on:{click:e._back}},[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("arrow_back"))}},[e._v("arrow_back")]),i("span",[e._v("返回")])]),e._v(" "),!e.infoSetting||e.isPhone||e.search||"pre"===e.previewType?e._e():i("span",{staticClass:"search",on:{click:function(t){e.search=!0}}},[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("search"))}}),e._v("点击搜索\n    ")]),e._v(" "),i("div",{staticClass:"container-fluid"},[i("label",{staticClass:"text-center"},[e._v(e._s(e.defaultData&&e.defaultData.result?this.previewSetting.resultMessageJson[e.defaultData.result.toLowerCase()]:""))]),e._v(" "),e.infoSetting?e._e():i("button",{staticClass:"btn btn-default export-pdf",on:{click:function(t){e._exportPdf()}}},[e._v("导出pdf")])])]),e._v(" "),e.infoSetting&&!e.isPhone&&"pre"!==e.previewType?i("div",{staticClass:"search-header",style:{top:e.search?"0px":"-70px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchContent,expression:"searchContent"}],staticClass:"text-center",attrs:{type:"text",placeholder:"请输入搜索内容"},domProps:{value:e.searchContent},on:{input:[function(t){t.target.composing||(e.searchContent=t.target.value)},e._searchChange]}}),e._v(" "),i("i",{staticClass:"maticon pull-left back",domProps:{innerHTML:e._s(e.icons("arrow_back"))},on:{click:function(t){e.search=!1}}},[e._v("arrow_back")])]):e._e(),e._v(" "),i("GeminiScrollbar",{staticClass:"container-fluid form-preview-content",class:{"pc-view":!e.isPhone,"form-view":"form"===e.previewType,"flow-view":["flow","pre"].includes(e.previewType)},attrs:{scrollX:!1}},[i("div",{class:"form"!==e.previewType?"flow-style":"form-style",attrs:{id:"pdfDom"}},[e.isPhone||e.infoSetting?!e.isPhone&&e.infoSetting?i("div",{staticClass:"form-title info-title"},[i("span",{staticClass:"tab-pre",on:{click:function(t){e._scrollTab(0)}}}),e._v(" "),i("span",{staticClass:"tab-next",on:{click:function(t){e._scrollTab(1)}}}),e._v(" "),i("div",{staticClass:"tab-container"},[i("div",{staticClass:"tab-list"},e._l(e.infoSetting.tabs,function(t,n){return i("div",{key:n,staticClass:"tab-item",class:{active:e.infoSetting.curInfoId===t.id,error:e.errorObjJson[t.id]},on:{click:function(i){e._formTabClick(t)}}},[e._v(e._s(t.title))])})),e._v(" "),e.tabShow?e._e():i("div",{staticClass:"text-center more",on:{click:function(t){e.tabShow=!e.tabShow}}},[i("i",{staticClass:"maticon",class:{active:e.tabShow},staticStyle:{"margin-top":"32px",transform:"rotate(-90deg)",cursor:"pointer"},attrs:{title:"类别总览"},domProps:{innerHTML:e._s(e.icons("chevron_left"))}})])]),e._v(" "),e.tabShow?i("div",{staticClass:"tab-container2 container-fluid",class:{active:e.tabShow}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.tabShow,expression:"tabShow"}],staticClass:"row"},e._l(e.infoSetting.tabs,function(t,n){return i("div",{key:n,staticClass:"col-md-3 tab-item2",class:{active:e.infoSetting.curInfoId===t.id},attrs:{title:t.title},on:{click:function(i){e._formTabClick(t,n)}}},[e._v("\n              "+e._s(t.title)+"\n            ")])})),e._v(" "),i("div",{staticClass:"text-center more",on:{click:function(t){e.tabShow=!e.tabShow}}},[i("i",{staticClass:"maticon",class:{active:e.tabShow},attrs:{title:"类别总览"},domProps:{innerHTML:e._s(e.icons("chevron_left"))}})])]):e._e()]):e._e():i("h2",{staticClass:"text-center form-title"},[e._v(e._s(e.title))]),e._v(" "),e._l(e.layout,function(t,n){return i("div",{key:n,staticClass:"row",class:{"cell-div-pc":!e.isPhone,"empty-row":0===t.length}},e._l(t,function(t,n){return i("div",{key:n,staticClass:"form-group form-cell",class:["col-sm-"+t.w,{"phone-padding":e.isPhone,"split-container":"splitLine"===t.componentType,active:e.highLightWigt===t.name,hidden:t.name&&e.searchContent&&e._verifyExistSearchContent(t)}],attrs:{id:t.name,tabindex:n}},[e.previewSetting.titleHideComponent.indexOf(t.componentType)<0&&"hide"!==t.properties.authority?i("label",{staticClass:"cell-label",class:{"required-tip":t.properties&&"required"===t.properties.authority}},[i("span",{domProps:{innerHTML:e._s(t.title)}}),e._v(" "),"attachment"!==t.componentType||e._wigtDisabled(t)?e._e():i("div",{staticClass:"btn upload"},[e._v("上传"),i("input",{attrs:{type:"file"},on:{change:function(i){e._fileUpload(i,t)}}})])]):e._e(),e._v(" "),"input"===t.componentType&&1===t.properties.basic.rows&&"hide"!==t.properties.authority?i("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.name],expression:"formData[wigt.name]"}],staticClass:"form-control info-value",class:{error:e.errorObj[t.name],disabled:e._wigtDisabled(t)},attrs:{type:"text","data-str":e.formData[t.name],placeholder:t.properties.basic.placeholder,maxlength:t.properties.verification.maxLength,disabled:e._wigtDisabled(t)?"disabled":null},domProps:{value:e.formData[t.name]},on:{change:function(i){e._verified(t)},input:function(i){i.target.composing||e.$set(e.formData,t.name,i.target.value)}}}):e._e(),e._v(" "),"input"===t.componentType&&t.properties.basic.rows>1&&"hide"!==t.properties.authority?i("v-textarea",{staticClass:"info-value",class:{error:e.errorObj[t.name],disabled:e._wigtDisabled(t)},attrs:{placeholder:t.properties.basic.placeholder,readonly:e._wigtDisabled(t),autoHeight:!0,rows:t.properties.basic.rows,maxLength:t.properties.verification.maxLength},on:{change:function(i){e._verified(t)}},model:{value:e.formData[t.name],callback:function(i){e.$set(e.formData,t.name,i)},expression:"formData[wigt.name]"}}):e._e(),e._v(" "),"number"===t.componentType&&"hide"!==t.properties.authority?i("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.name],expression:"formData[wigt.name]"}],staticClass:"form-control info-value",class:{error:e.errorObj[t.name],disabled:e._wigtDisabled(t)},attrs:{type:"number",placeholder:t.properties.basic.placeholder,max:t.properties.verification.maxValue,min:t.properties.verification.minValue,disabled:e._wigtDisabled(t)?"disabled":null},domProps:{value:e.formData[t.name]},on:{change:function(i){e._verified(t)},input:function(i){i.target.composing||e.$set(e.formData,t.name,i.target.value)}}}):e._e(),e._v(" "),["radio","select","checkbox"].indexOf(t.componentType)>=0&&"hide"!==t.properties.authority?i("v-select",{staticClass:"btn-block info-value",class:{error:e.errorObj[t.name],disabled:e._wigtDisabled(t)},attrs:{options:e.previewSetting.selectOptions[t.name],autoSelect:!0===t.properties.basic.autoSelect,"options-value":"id","options-label":"name",disabled:e._wigtDisabled(t),"data-name":t.name,search:"","close-on-select":"checkbox"!==t.componentType,multiple:"checkbox"===t.componentType},on:{afterSelected:function(i){e._afterSelect(i,t)}},model:{value:e.formData[t.name],callback:function(i){e.$set(e.formData,t.name,i)},expression:"formData[wigt.name]"}}):e._e(),e._v(" "),"datetime"===t.componentType&&"hide"!==t.properties.authority?i("v-datepicker",{staticClass:"info-value btn-block",class:{error:e.errorObj[t.name],disabled:e._wigtDisabled(t)},attrs:{width:"100%",placeholder:t.properties.basic.placeholder,showTime:!1,disabled:e._wigtDisabled(t),"data-name":t.name,format:t.properties.basic.dateFormat},on:{daySelected:function(i){e._daySelect(i,t)}},model:{value:e.formData[t.name],callback:function(i){e.$set(e.formData,t.name,i)},expression:"formData[wigt.name]"}}):e._e(),e._v(" "),"address"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"address-div row"},e._l(e.previewSetting.multiComponents.address,function(n,a){return"province"===n.name||"city"===n.name&&e.formData[t.name]&&e.formData[t.name].province&&e._getCityList(e.formData[t.name].province).length>0||"area"===n.name&&e.formData[t.name]&&e.formData[t.name].city&&e._getAreaList(e.formData[t.name].city,e.formData[t.name].province).length>0?i("div",{staticClass:"col-md-4"},[e.formData[t.name]?i("v-select",{staticClass:"btn-block info-value",class:{error:e.errorObj[t.name],disabled:e._wigtDisabled(t)},attrs:{autoSelect:!1,options:e._getAddressOptions(t,n.name),"options-value":"name","options-label":"name",disabled:e._wigtDisabled(t),"data-name":t.name,"data-address":n.name,search:"","close-on-select":""},on:{afterSelected:function(i){e._afterSelect(i,t)}},model:{value:e.formData[t.name][n.name],callback:function(i){e.$set(e.formData[t.name],n.name,i)},expression:"formData[wigt.name][pro.name]"}}):e._e()],1):e._e()})):e._e(),e._v(" "),"table"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"table-div"},[i("v-table",{class:"table-striped",attrs:{title:t.title,pagesize:"999",idField:"id",rows:e.formData[t.name]||[],columns:e._getColumns(t.properties.basic.tableFields,t),paginationShow:!1,order:t.properties.basic.autoNumber,multiple:t.properties.basic.checkable&&!e._wigtDisabled(t)},on:{change:function(i){e._saveTableEdit(i,t)}}},[i("div",{staticClass:"pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},[t.properties.basic.checkable&&!e._wigtDisabled(t)?i("span",{staticStyle:{color:"orangered"}},[e._v("注意：只提交选中部分数据")]):e._e()])]),e._v(" "),e._wigtDisabled(t)?e._e():i("button",{staticClass:"btn table-add-opt",on:{click:function(i){e._addRecord(t)}}},[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("add_circle_outline"))}},[e._v("add_circle_outline")]),e._v("新增\n                ")])],1):e._e(),e._v(" "),"image"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"img-div",class:{"abs-pos":!e.isPhone},style:{backgroundImage:e.formData[t.name]?"url("+(("pre"!==e.previewType?e.imageUrlPrefix:"")+e.formData[t.name])+("pre"!==e.previewType?"?thumb=true":"")+")":"none",backgroundRepeat:"no-repeat",minHeight:e.isPhone?"160px":e.lineHeight+"px",height:e.isPhone?"auto":(t.h-1)*e.lineHeight+e.cellHeight-25+"px",top:e.isPhone?"auto":"25px"}},[e.formData[t.name]?i("div",{staticClass:"img active",on:{click:function(i){e._showAttachmentPreview({name:t.title,path:e.formData[t.name]},"image")}}},[e._wigtDisabled(t)?e._e():i("div",{staticClass:"close-img text-center"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("cancel"))},on:{click:function(i){i.stopPropagation(),e.deleteImageArr.push(e.formData[t.name]),e.formData[t.name]=""}}},[e._v("cancel")])])]):i("div",{staticClass:"img",class:{"mobile-img":e.isPhone}},[e._wigtDisabled(t)||e.formData[t.name]?e._e():i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("file_upload"))},on:{click:function(i){e._uploadImages(i,t)}}},[e._v("file_upload")])])]):e._e(),e._v(" "),"signature"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"sign-div",class:{"abs-pos":!e.isPhone},style:{backgroundImage:"url("+(e.formData[t.name]?("pre"!==e.previewType?e.imageUrlPrefix:"")+e.formData[t.name]:"")+")",minHeight:e.isPhone?"160px":e.lineHeight+"px",height:e.isPhone?"auto":(t.h-1)*e.lineHeight+e.cellHeight-25+"px",top:e.isPhone?"auto":"25px"}},[e.isPhone&&e.signatureSetting.esignShow===t.name?i("v-draw",{staticStyle:{background:"#fff"},attrs:{width:e.signatureSetting.width,height:e.signatureSetting.height,url:e.formData[e.signatureSetting.esignWigt.name]?"pre"!==e.previewType?e.fileUrlPrefix+e.formData[e.signatureSetting.esignWigt.name]:e.formData[e.signatureSetting.esignWigt.name]:""},on:{preview:e._previewEsign,back:function(t){e.signatureSetting.esignShow=""}}}):e._e(),e._v(" "),e.isPhone||e.formData[t.name]||e._wigtDisabled(t)?e.isPhone||e._wigtDisabled(t)?e.isPhone&&!e._wigtDisabled(t)&&e.signatureSetting.esignShow!==t.name?i("div",{staticClass:"sign-cover sign-cover-create"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("edit"))},on:{click:function(i){e._showSignOf(i,t)}}},[e._v("edit")])]):e._e():i("div",{staticClass:"sign-cover sign-cover-edit"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("edit"))},on:{click:function(i){e._showSignOf(i,t)}}},[e._v("edit")])]):i("div",{staticClass:"sign-cover sign-cover-create"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("edit"))},on:{click:function(i){e._showSignOf(i,t)}}},[e._v("edit")])])],1):e._e(),e._v(" "),"map"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"map-div",class:{"abs-pos":!e.isPhone},style:{minHeight:e.isPhone?"160px":e.lineHeight+"px",height:e.isPhone?"300px":(t.h-1)*e.lineHeight+e.cellHeight-25+"px",top:e.isPhone?"auto":"25px"}},[i("v-map",{attrs:{search:!1,location:!e._wigtDisabled(t)||!(e.defaultData&&e.defaultData.applicant),value:e.formData[t.name],radius:t.properties.basic.map.radius,center:t.properties.basic.map.center},on:{getLocation:function(i){e._getLocation(i,t)}}})],1):e._e(),e._v(" "),"splitLine"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"div-line",style:"background:"+t.properties.style.color}):e._e(),e._v(" "),"label"===t.componentType&&"hide"!==t.properties.authority?i("div",{staticClass:"div-label",class:{"abs-pos":!e.isPhone,"border-top":t.properties.style.borderTop,"border-bottom":t.properties.style.borderBottom},style:{height:e.isPhone?"auto":(t.h-1)*e.lineHeight+e.cellHeight+"px",overflow:"auto",borderColor:t.properties.style.color},domProps:{innerHTML:e._s(t.properties.basic.content)}}):e._e(),e._v(" "),"attachment"===t.componentType&&"hide"!==t.properties.authority?i("GeminiScrollbar",{class:{"abs-pos":!e.isPhone},style:{height:e.isPhone?"auto":(t.h-1)*e.lineHeight+e.cellHeight-25+"px",overflow:"auto",width:"auto",top:e.isPhone?"auto":"25px"},attrs:{scrollX:!1}},[i("div",{staticClass:"file-div",style:{paddingRight:e.isPhone?"0":"10px"}},[e.formData[t.name]&&e.formData[t.name].length>0?i("ul",{staticClass:"list-group"},e._l(e.formData[t.name],function(n,a){return i("li",{key:a,staticClass:"list-group-item"},[i("span",{staticClass:"pull-right"},[i("a",{attrs:{"data-href":e.fileUrlPrefix+n.path},on:{click:e._downloadFile}},[e._v("下载")])]),e._v(" "),e._wigtDisabled(t)?e._e():i("i",{staticClass:" maticon pull-right",domProps:{innerHTML:e._s(e.icons("cancel"))},on:{click:function(i){e._removeFile(t,a)}}},[e._v("cancel")]),e._v(" "),e.supportPreview.indexOf(n.name.match(/([^.]+)$/)[1])>=0?i("p",{staticClass:"fileName"},[i("a",{staticClass:"a-style",on:{click:function(t){e._showAttachmentPreview(n)}}},[e._v(e._s(n.name))])]):i("p",{staticClass:"fileName"},[i("a",[e._v(e._s(n.name))])])])})):e._e()])]):e._e(),e._v(" "),i("span",{staticClass:"error-msg",class:e.errorObj[t.name]?"error-opacity":""},[e._v(e._s(e.errorObj[t.name]))])],1)}))}),e._v(" "),e.isPhone&&e.log&&e.log.length>0||e.isPdf||e.exporting?i("div",{staticClass:"log pdflog"},["form"!==e.previewType&&e.defaultData?i("div",{staticClass:"log-item"},[i("span",{staticClass:"btn-block log-time"},[e._v("当前状态")]),e._v(" "),"PENDING"===e.defaultData.status?i("label",[e._v("进行至"+e._s(e.defaultData.currentNode.name))]):i("label",[e._v(e._s(e.previewSetting.resultMessageJson[e.defaultData.result.toLowerCase()]))])]):e._e(),e._v(" "),e._l(e.reverseLog,function(t,n){return i("div",{key:n,staticClass:"log-item"},[i("label",{staticClass:"btn-block log-time"},[e._v(e._s(t.time))]),e._v(" "),t.nodeName?i("label",{staticClass:"btn-block log-content"},[e._v("在"),i("strong",[e._v(e._s(t.nodeName))]),e._v("节点")]):e._e(),e._v(" "),i("label",{staticClass:"btn-block log-content"},[i("strong",[e._v(e._s(t.handlerName))]),i("strong",[e._v(e._s(t.action?e.previewSetting.authoritiesName[t.action]:"修改了")+"表单")])]),e._v(" "),t.message?i("label",{staticClass:"btn-block log-content"},[i("strong",[e._v(e._s(t.action?e.previewSetting.authoritiesName[t.action]:"修改")+"意见：")]),e._v(e._s(t.message))]):e._e(),e._v(" "),i("div",{staticClass:"log-records"},e._l(t.modifyRecords,function(t,n){return i("p",{key:n},[e._v("\n              "+e._s(e.previewSetting.modifyType[e.previewSetting.specialLogComponent.indexOf(t.name.split("_")[0])<0?t.modifyType:"UPDATE"])+"\n              "),i("strong",[e._v(e._s(t.title))]),e._v(" "),e.previewSetting.specialLogComponent.indexOf(t.name.split("_")[0])<0?i("span",[e._v("\n                为 "),i("strong",[e._v(e._s(e._valueFormat(t)))])]):e._e()])}))])})],2):e._e()],2)]),e._v(" "),e.isDemoData?i("span",{staticClass:"form-save",class:[e.saveBtnContrl?"":"disabled",e.isPhone?"position-fixed":"position-absolute"],attrs:{disabled:""},on:{click:e.goToPayment}},[e._v("去缴费")]):i("span",["form"===e.previewType&&e.formOptional&&!e.infoSetting?i("span",{staticClass:"form-save",class:[e.saveBtnContrl?"":"disabled",e.isPhone?"position-fixed":"position-absolute"],attrs:{disabled:""},on:{click:function(t){e.submitTo("submit")}}},[i("i",{staticClass:"maticon",attrs:{disabled:""},domProps:{innerHTML:e._s(e.icons("save"))}},[e._v("save")]),e._v("保存")]):"form"===e.previewType&&e.formOptional?i("span",{staticClass:"form-save",class:[e.saveBtnContrl?"":"disabled",e.isPhone?"position-fixed":"position-absolute"],attrs:{disabled:""},on:{click:function(t){e._submitToArr()}}},[i("i",{staticClass:"maticon",attrs:{disabled:""},domProps:{innerHTML:e._s(e.icons("save"))}},[e._v("save")]),e._v("保存")]):e._e()]),e._v(" "),"form"===e.previewType||e.isPhone?e._e():i("div",{staticClass:"pc-options2 text-center"},[i("div",{staticClass:"red-area"},[e.defaultData&&"PENDING"===e.defaultData.status?i("div",{staticClass:"opts-list"},e._l(e.authorities,function(t,n){return"disagree"===t?i("a",{key:n,staticClass:"preview-opt-btn",class:n>0?"border-left":"",on:{click:function(i){e.submitTo(t)},mouseover:function(i){e.$tooltip(i,e.previewSetting.authoritiesTip[t])},mouseout:function(t){e.$tooltip()}}},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons(e.previewSetting.authoritiesIcon[t]))}},[e._v(e._s(e.icons(e.previewSetting.authoritiesIcon[t])))]),e._v(e._s(e.previewSetting.authoritiesName[t]))]):e._e()})):e._e()]),e._v(" "),i("div",{staticClass:"blue-area"},[e.defaultData&&e.defaultData.applicant?e._e():i("a",{staticClass:"preview-submit-btn",on:{click:function(t){e.submitTo("submit")}}},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons(e.previewSetting.authoritiesIcon.submit))}},[e._v(e._s(e.icons(e.previewSetting.authoritiesIcon.submit)))]),e._v("提交")]),e._v(" "),e.defaultData&&e.defaultData.applicant?e.defaultData&&"PENDING"===e.defaultData.status?i("div",{staticClass:"opts-list"},e._l(e.authorities,function(t,n){return"disagree"!==t?i("a",{key:n,staticClass:"preview-opt-btn",class:n>0?"border-left":"",on:{click:function(i){e.submitTo(t)},mouseover:function(i){e.$tooltip(i,e.previewSetting.authoritiesTip[t])},mouseout:function(t){e.$tooltip()}}},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons(e.previewSetting.authoritiesIcon[t]))}},[e._v("icons(previewSetting.authoritiesIcon[authority])")]),e._v("\n          "+e._s(e.previewSetting.authoritiesName[t])+"\n        ")]):e._e()})):e._e():i("a",{staticClass:"preview-submit-btn border-left",on:{click:function(t){e.submitTo("save")}}},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons(e.previewSetting.authoritiesIcon.save))}},[e._v(e._s(e.icons(e.previewSetting.authoritiesIcon.save)))]),e._v("暂存")])])]),e._v(" "),"form"!==e.previewType&&e.isPhone?i("div",{staticClass:"phone-options"},[e.defaultData&&e.defaultData.id?e.defaultData&&"PENDING"===e.defaultData.status?i("div",{staticClass:"opts-list"},e._l(e.authorities,function(t,n){return i("a",{key:n,staticClass:"preview-opt-btn",on:{click:function(i){e.submitTo(t)}}},[e._v(e._s(e.previewSetting.authoritiesName[t]))])})):e._e():i("button",{staticClass:"btn btn-primary preview-submit-btn",on:{click:function(t){e.submitTo("submit")}}},[e._v("提交")]),e._v(" "),e.defaultData&&e.defaultData.result?i("div",{staticClass:"container-fluid"},[i("label",{staticClass:"text-center"},[e._v(e._s(e.defaultData&&e.defaultData.result?this.previewSetting.resultMessageJson[e.defaultData.result.toLowerCase()]:""))])]):e._e()]):e._e(),e._v(" "),e.signatureSetting.esignShow&&!e.isPhone?i("div",{staticClass:"esign-cover",on:{click:e._hideEsign}},[e.signatureSetting.esignShow?i("v-draw",{attrs:{width:e.signatureSetting.width,height:e.signatureSetting.height,url:e.formData[e.signatureSetting.esignWigt.name]?"pre"!==e.previewType?e.fileUrlPrefix+e.formData[e.signatureSetting.esignWigt.name]:e.formData[e.signatureSetting.esignWigt.name]:""},on:{preview:e._previewEsign}}):e._e()],1):e._e(),e._v(" "),i("v-modal",{staticClass:"preview-modal",attrs:{show:e.showSetDeliverModal,effect:"fade"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[e._v("\n        选择负责人\n    ")])]),e._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"input-group user-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userNo,expression:"userNo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入教工号"},domProps:{value:e.userNo},on:{change:e._checkUserId,input:function(t){t.target.composing||(e.userNo=t.target.value)}}}),e._v(" "),i("span",{staticClass:"input-group-addon",on:{click:e._checkUserId}},[e._v("检测")])]),e._v(" "),i("div",{staticClass:"user-check-result",class:e.resultMessage.indexOf("出错啦")>=0?"red-font":""},[e._v(e._s(e.resultMessage))])]),e._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn",attrs:{type:"button"},on:{click:function(t){e.showSetDeliverModal=!1}}},[e._v("取消")]),e._v(" "),i("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:function(t){e.submitTo(e.curAuthority)}}},[e._v("确定")])])])],1)},staticRenderFns:[]};var Tt=i("C7Lr")(Ct,St,!1,function(e){i("Y7ba")},null,null).exports,kt=(Boolean,String,String,Boolean,String,String,String,{props:{clearButton:{type:Boolean,default:!0},width:{type:String,default:"200px"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},defaultValue:{type:String,default:""},format:{default:"yyyy-MM-dd"},defaultLang:{type:String,default:"zh-cn"},value:{type:String,default:""}},created:function(){var e=localStorage.getItem("lang");Object(c.e)(e)&&(this.lang=e),this.curValue=this.defaultValue||this.value},data:function(){return{curValue:"",lang:this.defaultLang}},computed:{translate:function(){return Object(c.e)(this.lang).comboAndDate},classes:function(){return[{"with-reset-button":this.clearButton}]},text:function(){return this._stringify(this.curValue?new Date(this.curValue.replace(/-/g,"/")):null,this.format)},showTime:function(){return this.format.length>10}},methods:{clearValue:function(){this.curValue=""},inputClick:function(){var e=this;this.disabled||this.$date({value:this.curValue,dateFormat:this.format,defaultLang:this.lang,showTime:this.showTime,onSelect:function(t){t=e._stringify(t?new Date(t.replace(/-/g,"/")):null,"yyyy-MM-dd hh:ii:ss"),e.curValue=t.length>10?t:t+" 00:00:00"}})},_stringify:function(e,t){if(!e)return"";var i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return(t||"yyyy-MM-dd").replace(/yyyy/g,i).replace(/MM/g,("0"+n).slice(-2)).replace(/dd/g,("0"+a).slice(-2)).replace(/yy/g,i).replace(/M(?!a)/g,("0"+n).slice(-2)).replace(/d/g,("0"+a).slice(-2)).replace(/hh/g,("0"+r).slice(-2)).replace(/ii/g,("0"+o).slice(-2)).replace(/ss/g,("0"+s).slice(-2))}},watch:{value:function(e){this.curValue=e},curValue:function(e){this.$emit("input",e),this.$emit("daySelected",{value:e,target:this})}}}),At={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-datepicker",on:{click:e.inputClick}},[!e.disabled&&e.clearButton&&e.text?i("button",{staticClass:"pull-right close",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.clearValue(t)}}},[i("span",[e._v("×")])]):i("span",{staticClass:"maticon v-datepicker-icon",domProps:{innerHTML:e._s(e.icons(e.showTime?"schedule":"event"))}},[e._v("event")]),e._v(" "),(e.disabled,i("input",{staticClass:"form-control v-datepicker-input",class:e.classes,style:"cursor:"+(e.disabled?"not-allowed":"pointer"),attrs:{type:"text",placeholder:e.placeholder||e.translate.datePlaceholder,readonly:"",disabled:""},domProps:{value:e.text}}))])},staticRenderFns:[]};var Et=i("C7Lr")(kt,At,!1,function(e){i("Npw1")},null,null).exports,Nt={props:{dateFormat:{default:"yyyy-MM-dd"},placeholder:{default:""}},data:function(){return{show:!1,startValue:"",endValue:""}},computed:{text:function(){return this._stringify(this.startValue?new Date(this.startValue.replace(/-/g,"/")):null,this.dateFormat)+" ~ "+this._stringify(this.endValue?new Date(this.endValue.replace(/-/g,"/")):null,this.dateFormat)}},methods:{_toggle:function(){this.show=!this.show},_startSelect:function(e){this.$emit("startSelected",e),this.startValue&&this.endValue&&(this.show=!1)},_endSelect:function(e){this.$emit("endSelected",e),this.startValue&&this.endValue&&(this.show=!1)},_stringify:function(e,t){if(!e)return"";var i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return(t||"yyyy-MM-dd").replace(/yyyy/g,i).replace(/MM/g,("0"+n).slice(-2)).replace(/dd/g,("0"+a).slice(-2)).replace(/yy/g,i).replace(/M(?!a)/g,("0"+n).slice(-2)).replace(/d/g,("0"+a).slice(-2)).replace(/hh/g,("0"+r).slice(-2)).replace(/ii/g,("0"+o).slice(-2)).replace(/ss/g,("0"+s).slice(-2))}}},Pt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-datepicker-area"},[i("input",{staticClass:"form-control v-datepicker-area-input text-center",attrs:{title:e.text,type:"text",placeholder:e.placeholder,readonly:""},domProps:{value:e.text},on:{click:e._toggle}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"col-sm-12 v-datepicker-area-div"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6 time-area"},[i("v-datepicker",{attrs:{width:"100%",placeholder:e.placeholder+"开始时间",format:e.dateFormat},on:{daySelected:e._startSelect},model:{value:e.startValue,callback:function(t){e.startValue=t},expression:"startValue"}})],1),e._v(" "),i("div",{staticClass:"col-sm-6 time-area"},[i("v-datepicker",{attrs:{width:"100%",placeholder:e.placeholder+"结束时间",format:e.dateFormat},on:{daySelected:e._endSelect},model:{value:e.endValue,callback:function(t){e.endValue=t},expression:"endValue"}})],1)])])])},staticRenderFns:[]};var Rt=i("C7Lr")(Nt,Pt,!1,function(e){i("GUYV")},null,null).exports,It=(String,Object,{props:{value:{type:String,default:""},config:{type:Object}},created:function(){this.idTime=Object(c.a)()},data:function(){return{editor:null,defaultValue:this.value,idTime:""}},computed:{},watch:{defaultValue:function(e){this.$emit("input",e),this.$emit("change",this.defaultValue)},value:function(e){e!==this.defaultValue&&(this.editor.reset(),this.defaultValue=e,this.editor.setContent(e))}},mounted:function(){var e=this;this.editor=UE.getEditor("editor_"+this.idTime,this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultValue),e.editor.addListener("contentchange",function(){e.defaultValue=e.editor.getContent()})})},methods:{getUEContent:function(){return this.editor.getContent()}},beforeDestroy:function(){this.editor.destroy()}}),Lt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"editor-page"},[t("script",{attrs:{id:"editor_"+this.idTime,type:"text/plain"}})])},staticRenderFns:[]};var Dt=i("C7Lr")(It,Lt,!1,function(e){i("WXJV")},null,null).exports,Ut=i("4YfN"),Ot=i.n(Ut),Mt=i("iBnf"),Bt=(Boolean,Boolean,Boolean,Number,Boolean,Boolean,{props:{autoCreate:{type:Boolean,default:!0},autoshow:{type:Boolean,default:!0},forceGemini:{type:Boolean,default:!1},minThumbSize:{type:Number,default:20},scrollX:{type:Boolean,default:!0},scrollY:{type:Boolean,default:!0}},data:function(){return{geminiScrollbar:null,isPhone:!1,timer:null}},methods:{_createBar:function(){var e=this;this.geminiScrollbar=new Mt.a(Ot()({element:this.$refs.geminiScrollbar,createElements:!1,onResize:function(){e.$emit("resize")}},this.$props)),this.autoCreate&&this.geminiScrollbar.create(),this.$emit("ready",this.geminiScrollbar)},_destroyBar:function(){this.geminiScrollbar&&this.geminiScrollbar.destroy(),this.geminiScrollbar=null},_judgeIsPhone:function(){this.isPhone=document.body.clientWidth<768}},mounted:function(){this._judgeIsPhone(),this.isPhone?this._destroyBar():this._createBar()},updated:function(){var e=this;this._judgeIsPhone(),this.$nextTick(function(){e.isPhone?e._destroyBar():e._createBar(),e.isPhone||setTimeout(function(){e.geminiScrollbar&&e.geminiScrollbar.update()},200)})},beforeDestroy:function(){this._destroyBar()}}),Ft={render:function(){var e=this.$createElement,t=this._self._c||e;return this.isPhone?t("div",[this._t("default")],2):t("div",{ref:"geminiScrollbar",staticClass:"v-gm-scrollbar"},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.scrollX,expression:"scrollX"}],staticClass:"gm-scrollbar -vertical"},[t("div",{staticClass:"thumb"})]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.scrollY,expression:"scrollY"}],staticClass:"gm-scrollbar -horizontal"},[t("div",{staticClass:"thumb"})]),this._v(" "),t("div",{staticClass:"gm-scroll-view"},[this._t("default")],2)])},staticRenderFns:[]};var jt=i("C7Lr")(Bt,Ft,!1,function(e){i("27On")},null,null).exports,Ht={props:{url:{default:""},placeholder:{default:"学工号/姓名"}},data:function(){return{timer:null,searchVal:"",show:!1,options:[]}},methods:{_close:function(){this._reset()},_search:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.show=!0,e._getOptions()},600)},_getOptions:function(){var e=this;this.show&&this.url&&Object(c.c)({url:this.url,type:"get",data:{keyword:this.searchVal},success:function(t){t.state?e.options=t.data||[]:e.$toast(t.message)}})},_afterSelect:function(e){this.$emit("afterSelected",e),this._reset(),this.searchVal=e.name+"("+e.userNo+")"},_reset:function(){this.show=!1,this.options=[],this.searchVal=""}}},Wt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group ditection"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.searchVal},on:{input:[function(t){t.target.composing||(e.searchVal=t.target.value)},e._search]}}),e._v(" "),e.show?i("ul",{staticClass:"dropdown-menu"},[e._l(e.options,function(t,n){return i("li",{key:n,staticClass:"res-item",on:{click:function(i){e._afterSelect(t)}}},[i("div",{staticClass:"option-content"},[i("p",[i("span",[e._v(e._s(t.name))]),e._v(" "),t.userNo?i("span",{staticClass:"user-no"},[e._v("("+e._s(t.userNo)+")")]):e._e()]),e._v(" "),i("p",[i("span",[e._v(e._s(t.organizationName||""))])])])])}),e._v(" "),i("li",[i("div",{staticClass:"option-content"},[i("p",[e._v("搜索到"+e._s(e.options.length)+"条结果"),i("i",{staticClass:"maticon pull-right close",domProps:{innerHTML:e._s(e.icons("close"))},on:{click:e._close}})])])])],2):e._e()])},staticRenderFns:[]};var qt=i("C7Lr")(Ht,Wt,!1,function(e){i("c4bB")},null,null).exports,Vt=i("mdno"),zt=i("e58e"),$t=i("/T/E"),Yt=i("9f8V"),Gt=i("Jp5S"),Xt=(Boolean,Boolean,String,String,Object,Array,Boolean,Boolean,{name:"actionsheet",mounted:function(){var e=this;this.hasHeaderSlot=!!this.$slots.header,this.$nextTick(function(){e.$tabbar=document.querySelector(".weui-tabbar"),e.$refs.iOSMenu&&e.$refs.iOSMenu.addEventListener("transitionend",e.onTransitionEnd)})},props:{value:Boolean,showCancel:Boolean,cancelText:String,theme:{type:String,default:"ios"},menus:{type:[Object,Array],default:function(){return{}}},closeOnClickingMask:{type:Boolean,default:!0},closeOnClickingMenu:{type:Boolean,default:!0}},data:function(){return{hasHeaderSlot:!1,show:!1}},methods:{onTransitionEnd:function(){this.$emit(this.show?"on-after-show":"on-after-hide")},onMenuClick:function(e,t){"string"==typeof e?this.emitEvent("on-click-menu",t,e):"disabled"!==e.type&&"info"!==e.type&&(e.value||0===e.value?this.emitEvent("on-click-menu",e.value,e):(this.emitEvent("on-click-menu","",e),this.show=!1))},onClickingMask:function(){this.$emit("on-click-mask"),this.closeOnClickingMask&&(this.show=!1)},emitEvent:function(e,t,i){if("on-click-menu"===e&&!/.noop/.test(t)){var n=i;"object"===(void 0===n?"undefined":je()(n))&&(n=JSON.parse(se()(n))),this.$emit(e,t,n),this.$emit(e+"-"+t),this.closeOnClickingMenu&&(this.show=!1)}},fixIos:function(e){this.$el.parentNode&&-1!==this.$el.parentNode.className.indexOf("v-transfer-dom")||this.$tabbar&&/iphone/i.test(navigator.userAgent)&&(this.$tabbar.style.zIndex=e)}},watch:{show:function(e){var t=this;this.$emit("input",e),e?this.fixIos(-1):setTimeout(function(){t.fixIos(100)},200)},value:{handler:function(e){this.show=e},immediate:!0}},beforeDestroy:function(){this.fixIos(100),this.$refs.iOSMenu&&this.$refs.iOSMenu.removeEventListener("transitionend",this.onTransitionEnd)}}),Jt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-actionsheet"},[i("transition",{attrs:{name:"vux-actionsheet-mask"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask weui-mask_transparent",on:{click:e.onClickingMask}})]),e._v(" "),"android"===e.theme?i("div",{staticClass:"weui-skin_android"},[i("transition",{attrs:{name:"vux-android-actionsheet"},on:{"after-enter":function(t){e.$emit("on-after-show")},"after-leave":function(t){e.$emit("on-after-hide")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-actionsheet"},[i("div",{staticClass:"weui-actionsheet__menu"},e._l(e.menus,function(t,n){return i("div",{staticClass:"weui-actionsheet__cell",domProps:{innerHTML:e._s(t.label||t)},on:{click:function(i){e.onMenuClick(t,n)}}})}))])])],1):i("div",{ref:"iOSMenu",staticClass:"weui-actionsheet",class:{"weui-actionsheet_toggle":e.show}},[i("div",{staticClass:"weui-actionsheet__menu"},[e.hasHeaderSlot?i("div",{staticClass:"weui-actionsheet__cell"},[e._t("header")],2):e._e(),e._v(" "),e._l(e.menus,function(t,n){return i("div",{staticClass:"weui-actionsheet__cell",class:"vux-actionsheet-menu-"+(t.type||"default"),domProps:{innerHTML:e._s(t.label||t)},on:{click:function(i){e.onMenuClick(t,n)}}})})],2),e._v(" "),e.showCancel?i("div",{staticClass:"weui-actionsheet__action",on:{click:function(t){e.emitEvent("on-click-menu","cancel")}}},[i("div",{staticClass:"weui-actionsheet__cell"},[e._v(e._s(e.cancelText||"取消"))])]):e._e()])],1)},staticRenderFns:[]};var Kt=i("C7Lr")(Xt,Jt,!1,function(e){i("N04a")},null,null).exports,Qt=(String,Number,{name:"badge",props:{text:[String,Number]}}),Zt={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{class:["vux-badge",{"vux-badge-dot":void 0===this.text,"vux-badge-single":void 0!==this.text&&1===this.text.toString().length}],domProps:{textContent:this._s(this.text)}})},staticRenderFns:[]};var ei=i("C7Lr")(Qt,Zt,!1,function(e){i("sM0v")},null,null).exports,ti=(String,{name:"box",props:{gap:String}}),ii={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{style:{margin:this.gap}},[this._t("default")],2)},staticRenderFns:[]},ni=i("C7Lr")(ti,ii,!1,null,null,null).exports,ai={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)},staticRenderFns:[]};var ri=i("C7Lr")({name:"inline-desc"},ai,!1,function(e){i("SyvT")},null,null).exports,oi=i("7+S+"),si=i("Dvzy"),li=i("n9nh"),ci=i("x8E4"),di=(Object(si.a)(),{name:"cell",components:{InlineDesc:ri},props:Object(si.a)(),created:function(){0},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(li.a)({width:Object(ci.a)(this,"labelWidth"),textAlign:Object(ci.a)(this,"labelAlign"),marginRight:Object(ci.a)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(oi.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),ui={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[i("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),i("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[i("p",[e.title||e.hasTitleSlot?i("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),i("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),i("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?i("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},staticRenderFns:[]};var hi=i("C7Lr")(di,ui,!1,function(e){i("ihwi")},null,null).exports,pi=i("ZLEe"),fi=i.n(pi),mi=i("qWCq"),gi=(String,{name:"tip",props:{align:{type:String,default:"left"}}}),vi={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-group-tip",style:{"text-align":this.align}},[this._t("default")],2)},staticRenderFns:[]};var bi=i("C7Lr")(gi,vi,!1,function(e){i("SxSo")},null,null).exports,yi=(String,Boolean,{name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}),_i={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{class:[this.className,this.isMsg?"weui-icon_msg":""]})},staticRenderFns:[]};var wi=i("C7Lr")(yi,_i,!1,function(e){i("6KRO")},null,null).exports,xi=i("dl3a"),Ci=i("Cvau"),Si=i.n(Ci);xi.e,xi.b,mi.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,xi.e,xi.b,xi.a;var Ti={name:"checklist",components:{Tip:bi,Icon:wi,InlineDesc:ri},filters:{getValue:xi.e,getKey:xi.b},mixins:[mi.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var e=this.currentValue.length;e>1&&(this.currentValue=[this.currentValue[e-1]]);var t=ki(this.currentValue);this.tempValue=t.length?t[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=Si()(this.options):this.currentOptions=this.options},methods:{getValue:xi.e,getKey:xi.b,getInlineDesc:xi.a,getFullValue:function(){var e=Object(xi.d)(this.options,this.value);return this.currentValue.map(function(t,i){return{value:t,label:e[i]}})},isDisabled:function(e){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(e)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var e=Math.max(1,this.min);return Math.min(this._total,e)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(e){var t=e?[e]:[];this.$emit("input",t),this.$emit("on-change",t,Object(xi.d)(this.options,t))},value:function(e){se()(e)!==se()(this.currentValue)&&(this.currentValue=e)},options:function(e){this.currentOptions=e},currentValue:function(e){var t=ki(e);if(!this.isRadio){this.$emit("input",t),this.$emit("on-change",t,Object(xi.d)(this.options,t));var i={};this._min&&(this.required?this.currentValue.length<this._min&&(i={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(i={min:this._min})),!this.valid&&this.dirty&&fi()(i).length?this.$emit("on-error",i):this.$emit("on-clear-error")}}}};function ki(e){return JSON.parse(se()(e))}var Ai={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.disabled?"vux-checklist-disabled":""},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"weui-cells__title"},[e._v(e._s(e.title))]),e._v(" "),e._t("after-title"),e._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox"},e._l(e.currentOptions,function(t,n){return i("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===e.labelPosition},attrs:{for:"checkbox_"+e.uuid+"_"+n}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+e.uuid,id:e.disabled?"":"checkbox_"+e.uuid+"_"+n,disabled:e.isDisabled(e.getKey(t))},domProps:{value:e.getKey(t),checked:Array.isArray(e.currentValue)?e._i(e.currentValue,e.getKey(t))>-1:e.currentValue},on:{change:function(i){var n=e.currentValue,a=i.target,r=!!a.checked;if(Array.isArray(n)){var o=e.getKey(t),s=e._i(n,o);a.checked?s<0&&(e.currentValue=n.concat([o])):s>-1&&(e.currentValue=n.slice(0,s).concat(n.slice(s+1)))}else e.currentValue=r}}}),e._v(" "),i("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("p",{domProps:{innerHTML:e._s(e.getValue(t))}}),e._v(" "),e.getInlineDesc(t)?i("inline-desc",[e._v(e._s(e.getInlineDesc(t)))]):e._e()],1)])})),e._v(" "),e._t("footer")],2)},staticRenderFns:[]};var Ei=i("C7Lr")(Ti,Ai,!1,function(e){i("ddDs")},null,null).exports,Ni=i("JGLT"),Pi=i("5KR3"),Ri=(li.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:li.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),Ii={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.title?i("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2),e._v(" "),e.footerTitle?i("div",{staticClass:"weui-cells__title vux-group-footer-title",style:e.cleanStyle({color:e.footerTitleColor}),domProps:{innerHTML:e._s(e.footerTitle)}}):e._e()],2)},staticRenderFns:[]};var Li=i("C7Lr")(Ri,Ii,!1,function(e){i("q7+4")},null,null).exports,Di=i("fqpJ"),Ui=i("Hpey"),Oi=(Di.a,String,String,String,String,String,Number,Number,String,String,String,String,String,String,String,String,Boolean,Number,Number,String,String,String,Function,Boolean,Array,Array,Boolean,String,Function,Function,Object,{name:"datetime",mixins:[Di.a],components:{Group:Li,InlineDesc:ri,Icon:wi},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,i,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=fi()(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new Pi.a(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=Object(Ui.a)(this.currentValue,e)),this.render()},value:function(e){this.readonly||this.picker&&this.picker.config.renderInline?this.currentValue=e:this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}),Mi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[i("div",[e._t("title",[i("p",{class:e.labelClass,style:e.styles,domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?i("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),i("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?i("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?i("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},staticRenderFns:[]};var Bi=i("C7Lr")(Oi,Mi,!1,function(e){i("FChz")},null,null).exports,Fi=i("5CvF"),ji=i("4rfY"),Hi=(Boolean,String,{name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}),Wi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-loadmore weui-loadmore",class:{"weui-loadmore_line":!e.showLoading,"weui-loadmore_dot":!e.showLoading&&!e.tip}},[e.showLoading?i("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.tip||!e.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips"},[e._v(e._s(e.tip))])])},staticRenderFns:[]};var qi=i("C7Lr")(Hi,Wi,!1,function(e){i("NbeE")},null,null).exports,Vi=i("qu0v"),zi=i("QgQO"),$i=i("B7K5"),Yi=i("CZ5u"),Gi=(i("SNYt"),zi.a,zi.b,Array,Number,Number,Array,String,Array,{name:"picker",components:{Flexbox:zi.a,FlexboxItem:zi.b},created:function(){if(0!==this.columns){var e=this.columns;this.store=new $i.a(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return Object(Yi.a)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var i=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var a=0;a<n;a++)this.$set(i.currentValue,a,e[a][0].value||e[a][0]);for(var r=function(n){if(!document.querySelector(i.getId(n)))return{v:void 0};i.scroller[n]&&i.scroller[n].destroy(),i.scroller[n]=new Vi.a(i.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:i.itemClass,onSelect:function(e){i.$set(i.currentValue,n,e),(!this.columns||this.columns&&i.getValue().length===i.store.count)&&i.$nextTick(function(){i.$emit("on-change",i.getValue())}),0!==i.columns&&i.renderChain(n+1)}}),i.currentValue&&i.scroller[n].select(t[n])},o=0;o<e.length;o++){var s=r(o);if("object"===(void 0===s?"undefined":je()(s)))return s.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,i=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new Vi.a(i,{data:n,itemClass:t.item_class,onSelect:function(i){t.$set(t.currentValue,e,i),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){se()(e)!==se()(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&se()(e)!==se()(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var i=0;i<e.length;i++)this.scroller[i]&&this.scroller[i].value!==e[i]&&this.scroller[i].select(e[i]);else this.render(this.currentData,[])},data:function(e){se()(e)!==se()(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),se()(t.getValue())!==se()(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var i=this.columns;this.store=new $i.a(e,i,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}),Xi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-picker"},[i("flexbox",{attrs:{gutter:0}},e._l(e.currentData,function(t,n){return i("flexbox-item",{key:n,staticStyle:{"margin-left":"0"},attrs:{span:e.columnWidth&&e.columnWidth[n]}},[i("div",{staticClass:"vux-picker-item",attrs:{id:"vux-picker-"+e.uuid+"-"+n}})])}),1)],1)},staticRenderFns:[]};var Ji=i("C7Lr")(Gi,Xi,!1,function(e){i("uxaD")},null,null).exports,Ki=i("5lwt"),Qi=i("NlBL"),Zi=(Boolean,String,String,Boolean,Boolean,Boolean,String,String,Object,Boolean,Boolean,Boolean,{name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new Ki.a({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&fi()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&Qi.a.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&Qi.a.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var i=0;i<t.length;i++)t[i].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}),en={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"vux-popup-animate-"+e.position}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show&&!e.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+e.position,e.show?"vux-popup-show":""],style:e.styles},[e.shouldRenderBody?e._t("default"):e._e()],2)])},staticRenderFns:[]};var tn=i("C7Lr")(Zi,en,!1,function(e){i("deBv")},null,null).exports,nn=(String,String,String,Boolean,{name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}),an={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-popup-header",class:e.showBottomBorder?"vux-1px-b":""},[i("div",{staticClass:"vux-popup-header-left",on:{click:function(t){e.$emit("on-click-left")}}},[e._t("left-text",[e._v(e._s(e.leftText))])],2),e._v(" "),i("div",{staticClass:"vux-popup-header-title"},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),i("div",{staticClass:"vux-popup-header-right",on:{click:function(t){e.$emit("on-click-right")}}},[e._t("right-text",[e._v(e._s(e.rightText))])],2)])},staticRenderFns:[]};var rn=i("C7Lr")(nn,an,!1,function(e){i("iJwO")},null,null).exports,on=i("ytj0"),sn=i("ONqH"),ln=function(e){return JSON.parse(se()(e))},cn=(Gt.a,sn.a,zi.a,zi.b,on.a,Yi.a,String,String,String,String,Array,String,Number,Number,Array,Boolean,String,Number,Array,Object,Boolean,Boolean,Boolean,Function,Boolean,Array,Object,String,Boolean,Yi.a,function(e){return JSON.parse(se()(e))}),dn={name:"popup-picker",directives:{TransferDom:Gt.a},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[sn.a],components:{Picker:Ji,Cell:hi,Popup:tn,PopupHeader:rn,Flexbox:zi.a,FlexboxItem:zi.b,InlineDesc:ri},filters:{array2string:on.a,value2name:Yi.a},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:Yi.a,getNameValues:function(){return Object(Yi.a)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=cn(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=cn(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=cn(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if(se()(this.currentValue)!==se()(e)&&this.value.length){var t=se()(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=cn(e)),this.currentData=t}var i=cn(e);this.$emit("on-shadow-change",i,Object(Yi.a)(i,this.data).split(" "))}},watch:{value:function(e){se()(e)!==se()(this.tempValue)&&(this.tempValue=cn(e),this.currentValue=cn(e))},currentValue:function(e){this.$emit("input",cn(e)),this.$emit("on-change",cn(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:cn(this.value),closeType:!1,currentData:se()(this.data),showValue:!1,currentValue:this.value}}},un={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-cell-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showCell,expression:"showCell"}],staticClass:"weui-cell vux-tap-active",class:{"weui-cell_access":!e.disabled},on:{click:e.onClick}},[i("div",{staticClass:"weui-cell__hd"},[e._t("title",[e.title?i("label",{staticClass:"weui-label",class:e.labelClass,style:e.labelStyles,domProps:{innerHTML:e._s(e.title)}}):e._e()],{labelClass:"weui-label",labelStyle:e.labelStyles,labelTitle:e.title}),e._v(" "),e.inlineDesc?i("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),i("div",{staticClass:"vux-cell-primary vux-popup-picker-select-box"},[i("div",{staticClass:"vux-popup-picker-select",style:{textAlign:e.valueTextAlign}},[e.displayFormat||e.showName||!e.value.length?e._e():i("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("array2string")(e.value)))]),e._v(" "),!e.displayFormat&&e.showName&&e.value.length?i("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("value2name")(e.value,e.data)))]):e._e(),e._v(" "),e.displayFormat&&e.value.length?i("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e.displayFormat(e.value,e.value2name(e.value,e.data))))]):e._e(),e._v(" "),!e.value.length&&e.placeholder?i("span",{staticClass:"vux-popup-picker-placeholder vux-cell-placeholder",domProps:{textContent:e._s(e.placeholder)}}):e._e()])]),e._v(" "),i("div",{staticClass:"weui-cell__ft"})]),e._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom",value:e.isTransferDom,expression:"isTransferDom"}]},[i("popup",{staticClass:"vux-popup-picker",attrs:{id:"vux-popup-picker-"+e.uuid,"popup-style":e.popupStyle},on:{"on-hide":e.onPopupHide,"on-show":e.onPopupShow},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[i("div",{staticClass:"vux-popup-picker-container"},[i("popup-header",{attrs:{"left-text":e.cancelText||"取消","right-text":e.confirmText||"完成",title:e.popupTitle},on:{"on-click-left":function(t){e.onHide(!1)},"on-click-right":function(t){e.onHide(!0)}}}),e._v(" "),i("picker",{attrs:{data:e.data,columns:e.columns,"fixed-columns":e.fixedColumns,container:"#vux-popup-picker-"+e.uuid,"column-width":e.columnWidth},on:{"on-change":e.onPickerChange},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1)])],1)])},staticRenderFns:[]};var hn=i("C7Lr")(dn,un,!1,function(e){i("4Obk")},null,null).exports,pn=i("44WN");mi.a,xi.e,xi.b,Object(pn.a)(),xi.e,xi.b;var fn={name:"radio",mixins:[mi.a],filters:{getValue:xi.e,getKey:xi.b},props:Object(pn.a)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:xi.e,getKey:xi.b,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=function(e,t){var i=e.length;for(;i--;)if(e[i]===t)return!0;return!1}(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,Object(xi.c)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}};var mn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cells_radio",class:e.disabled?"vux-radio-disabled":""},[e._l(e.options,function(t,n){return i("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+e.uuid+"_"+n}},[i("div",{staticClass:"weui-cell__bd"},[e._t("each-item",[i("p",[i("img",{directives:[{name:"show",rawName:"v-show",value:t&&t.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),i("span",{staticClass:"vux-radio-label",style:e.currentValue===e.getKey(t)&&e.selectedLabelStyle||""},[e._v(e._s(e._f("getValue")(t)))])])],{icon:t.icon,label:e.getValue(t),index:n,selected:e.currentValue===e.getKey(t)})],2),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:e.disabled?"":"radio_"+e.uuid+"_"+n},domProps:{value:e.getKey(t),checked:e._q(e.currentValue,e.getKey(t))},on:{change:function(i){e.currentValue=e.getKey(t)}}}),e._v(" "),i("span",{staticClass:"weui-icon-checked"})])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label",attrs:{for:""}},[e._v(e._s(e.fillLabel))])]),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:e.fillPlaceholder},domProps:{value:e.fillValue},on:{blur:function(t){e.isFocus=!1},focus:function(t){e.onFocus()},input:function(t){t.target.composing||(e.fillValue=t.target.value)}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})])])],2)},staticRenderFns:[]};var gn=i("C7Lr")(fn,mn,!1,function(e){i("QSn9")},null,null).exports,vn=i("qZvt"),bn=i.n(vn),yn=Object(si.a)();delete yn.value;Gt.a,Ot()({placeholder:String,readonly:Boolean},yn,Object(pn.a)());var _n=Object(si.a)();delete _n.value;var wn={name:"popup-radio",components:{Popup:tn,Radio:gn,Cell:hi},directives:{TransferDom:Gt.a},props:Ot()({placeholder:String,readonly:Boolean},_n,Object(pn.a)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===je()(this.options[0])){var t=bn()(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}},xn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cell",{attrs:{title:e.title,value:e.currentValue,"is-link":!e.readonly,"value-align":e.valueAlign,"border-intent":e.borderIntent},nativeOn:{click:function(t){return e.show(t)}}},[!e.displayValue&&e.placeholder?i("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.displayValue?i("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayValue))]):e._e(),e._v(" "),i("span",{attrs:{slot:"icon"},slot:"icon"},[e._t("icon")],2),e._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("popup",{staticStyle:{"background-color":"#fff"},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[e._t("popup-header",null,{options:e.options,value:e.currentValue}),e._v(" "),i("radio",{attrs:{options:e.options,"fill-mode":!1},on:{"on-change":e.onValueChange},scopedSlots:e._u([{key:"each-item",fn:function(t){return[e._t("each-item",[i("p",[i("img",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),i("span",{staticClass:"vux-radio-label"},[e._v(e._s(t.label))])])],{icon:t.icon,label:t.label,index:t.index})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],2)],1)])},staticRenderFns:[]};var Cn=i("C7Lr")(wn,xn,!1,function(e){i("383Q")},null,null).exports,Sn=i("bYuJ"),Tn=i.n(Sn),kn=i("bQ3Q"),An=i.n(kn),En=i("+Up5"),Nn=i.n(En),Pn=(Array,Number,Object,{name:"previewer",computed:{imgs:function(){return this.list.map(function(e){return e.msrc||(e.msrc=e.src),void 0===e.w&&(e.w=0,e.h=0),e})}},watch:{imgs:function(e,t){if(this.photoswipe)if(e.length&&e.length-t.length==-1){var i=this.photoswipe.getCurrentIndex();this.photoswipe.invalidateCurrItems(),this.photoswipe.items.splice(i,1);var n=i;n>this.photoswipe.items.length-1&&(n=0),this.photoswipe.goTo(n),this.photoswipe.updateSize(!0),this.photoswipe.ui.update()}else e.length||this.close()}},methods:{init:function(e){var t=this,i=this.imgs[e];if(!i.w||!i.h||i.w<5||i.h<5){var n=new Image;n.onload=function(){i.w=this.width,i.h=this.height,t.doInit(e)},n.src=i.src}else this.doInit(e)},doInit:function(e){var t=this,i=this,n=Nn()({history:!1,shareEl:!1,tapToClose:!0,index:e},this.options);this.photoswipe=new Tn.a(this.$el,An.a,this.imgs,n),this.photoswipe.listen("gettingData",function(e,t){if(!t.w||!t.h||t.w<1||t.h<1){var n=new Image;n.onload=function(){t.w=this.width,t.h=this.height,i.photoswipe.updateSize(!0)},n.src=t.src}}),this.photoswipe.init(),this.photoswipe.listen("close",function(){t.$emit("on-close")}),this.photoswipe.listen("afterChange",function(e,i){t.$emit("on-index-change",{currentIndex:t.photoswipe.getCurrentIndex()})})},show:function(e){this.init(e)},getCurrentIndex:function(){return this.photoswipe.getCurrentIndex()},close:function(){this.photoswipe.close()},goTo:function(e){this.photoswipe.goTo(e)},prev:function(){this.photoswipe.prev()},next:function(){this.photoswipe.next()}},props:{list:{type:Array,required:!0},index:{type:Number,default:0},options:{type:Object,default:function(){return{}}}}}),Rn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pswp vux-previewer",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[i("div",{staticClass:"pswp__bg"}),e._v(" "),i("div",{staticClass:"pswp__scroll-wrap"},[e._m(0),e._v(" "),i("div",{staticClass:"pswp__ui pswp__ui--hidden"},[i("div",{staticClass:"pswp__top-bar"},[i("div",{staticClass:"pswp__counter"}),e._v(" "),e._t("button-after"),e._v(" "),i("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"Close (Esc)"}}),e._v(" "),i("button",{staticClass:"pswp__button pswp__button--share",attrs:{title:"Share"}}),e._v(" "),i("button",{staticClass:"pswp__button pswp__button--fs",attrs:{title:"Toggle fullscreen"}}),e._v(" "),i("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"Zoom in/out"}}),e._v(" "),e._t("button-before"),e._v(" "),e._m(1)],2),e._v(" "),e._m(2),e._v(" "),i("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"Previous (arrow left)"}}),e._v(" "),i("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"Next (arrow right)"}}),e._v(" "),e._m(3)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pswp__container"},[t("div",{staticClass:"pswp__item"}),this._v(" "),t("div",{staticClass:"pswp__item"}),this._v(" "),t("div",{staticClass:"pswp__item"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pswp__preloader"},[t("div",{staticClass:"pswp__preloader__icn"},[t("div",{staticClass:"pswp__preloader__cut"},[t("div",{staticClass:"pswp__preloader__donut"})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[t("div",{staticClass:"pswp__share-tooltip"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pswp__caption"},[t("div",{staticClass:"pswp__caption__center"})])}]};var In=i("C7Lr")(Pn,Rn,!1,function(e){i("ZQGw"),i("faOy")},null,null).exports,Ln=(Number,Number,Number,String,Boolean,String,String,Number,Number,{name:"rater",created:function(){this.currentValue=parseInt(this.value)},mounted:function(){this.updateStyle()},props:{min:{type:Number,default:0},max:{type:Number,default:5},value:{type:[Number,String],default:0},disabled:Boolean,star:{type:String,default:"★"},activeColor:{type:String,default:"#fc6"},margin:{type:Number,default:2},fontSize:{type:Number,default:25}},computed:{sliceValue:function(){var e=this.currentValue.toFixed(2).split(".");return 1===e.length?[e[0],0]:e},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 1*this.sliceValue[1]}},methods:{handleClick:function(e,t){this.disabled&&!t||(this.currentValue===e+1?(this.currentValue=e<this.min?this.min:e,this.updateStyle()):this.currentValue=e+1<this.min?this.min:e+1)},updateStyle:function(){for(var e=0;e<this.max;e++)e<=this.currentValue-1?this.$set(this.colors,e,this.activeColor):this.$set(this.colors,e,"#ccc")}},data:function(){return{colors:[],currentValue:0}},watch:{currentValue:function(e){this.updateStyle(),this.$emit("input",e)},value:function(e){this.currentValue=e}}}),Dn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-rater"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticStyle:{display:"none"},domProps:{value:e.currentValue},on:{input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),e._l(e.max,function(t){return i("a",{staticClass:"vux-rater-box",class:{"is-active":e.currentValue>t-1},style:{color:e.colors&&e.colors[t-1]?e.colors[t-1]:"#ccc",marginRight:e.margin+"px",fontSize:e.fontSize+"px",width:e.fontSize+"px",height:e.fontSize+"px",lineHeight:e.fontSize+"px"},on:{click:function(i){e.handleClick(t-1)}}},[i("span",{staticClass:"vux-rater-inner"},[i("span",{domProps:{innerHTML:e._s(e.star)}}),e.cutPercent>0&&e.cutIndex===t-1?i("span",{staticClass:"vux-rater-outer",style:{color:e.activeColor,width:e.cutPercent+"%"},domProps:{innerHTML:e._s(e.star)}}):e._e()])])})],2)},staticRenderFns:[]};var Un=i("C7Lr")(Ln,Dn,!1,function(e){i("FqMD")},null,null).exports,On=(Di.a,Boolean,String,String,String,Array,Boolean,String,String,Boolean,{name:"search",mixins:[Di.a],props:{required:{type:Boolean,default:!1},placeholder:String,cancelText:String,value:{type:String,default:""},results:{type:Array,default:function(){return[]}},autoFixed:{type:Boolean,default:!0},top:{type:String,default:"0px"},position:{type:String,default:"fixed"},autoScrollToTop:Boolean},created:function(){this.value&&(this.currentValue=this.value)},computed:{fixPosition:function(){return this.isFixed?"absolute"===this.position?"absolute":"fixed":"static"}},methods:{emitEvent:function(){var e=this;this.$nextTick(function(){e.$emit("input",e.currentValue),e.$emit("on-change",e.currentValue)})},onComposition:function(e,t){"start"===t&&(this.onInput=!0),"end"===t&&(this.onInput=!1,this.emitEvent()),"input"===t&&(this.onInput||this.emitEvent())},clear:function(){this.currentValue="",this.emitEvent(),this.isFocus=!0,this.setFocus(),this.autoFixed&&!this.isFixed&&(this.isFixed=!0),this.$emit("on-clear")},cancel:function(){this.isCancel=!0,this.currentValue="",this.emitEvent(),this.isFixed=!1,this.$emit("on-cancel")},handleResultClick:function(e){this.$emit("result-click",e),this.$emit("on-result-click",e),this.isCancel=!0,this.isFixed=!1},touch:function(){this.isCancel=!1,this.autoFixed&&(this.isFixed=!0),this.$emit("on-touch")},setFocus:function(){this.$refs.input.focus()},setBlur:function(){this.$refs.input.blur()},onFocus:function(){this.isFocus=!0,this.$emit("on-focus"),this.touch()},onBlur:function(){this.isFocus=!1,this.$emit("on-blur")}},data:function(){return{onInput:!1,currentValue:"",isCancel:!0,isFocus:!1,isFixed:!1}},watch:{isFixed:function(e){!0===e&&(this.setFocus(),this.isFocus=!0,this.autoScrollToTop&&setTimeout(function(){window.scrollTo(0,0)},150))},value:function(e){this.currentValue=e}}}),Mn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-search-box",class:{"vux-search-fixed":e.isFixed},style:{top:e.isFixed?e.top:"",position:e.fixPosition}},[i("div",{staticClass:"weui-search-bar",class:{"weui-search-bar_focusing":!e.isCancel||e.currentValue}},[e._t("left"),e._v(" "),i("form",{staticClass:"weui-search-bar__form",attrs:{action:"."},on:{submit:function(t){t.preventDefault(),e.$emit("on-submit",e.value)}}},[i("label",{directives:[{name:"show",rawName:"v-show",value:!e.isFixed&&e.autoFixed,expression:"!isFixed && autoFixed"}],staticClass:"vux-search-mask",attrs:{for:"search_input_"+e.uuid},on:{click:e.touch}}),e._v(" "),i("div",{staticClass:"weui-search-bar__box"},[i("i",{staticClass:"weui-icon-search"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-search-bar__input",attrs:{type:"search",autocomplete:"off",id:"search_input_"+e.uuid,placeholder:e.placeholder,required:e.required},domProps:{value:e.currentValue},on:{focus:e.onFocus,blur:e.onBlur,compositionstart:function(t){e.onComposition(t,"start")},compositionend:function(t){e.onComposition(t,"end")},input:[function(t){t.target.composing||(e.currentValue=t.target.value)},function(t){e.onComposition(t,"input")}]}}),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-icon-clear",attrs:{href:"javascript:"},on:{click:e.clear}})]),e._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!e.isFocus&&!e.value,expression:"!isFocus && !value"}],staticClass:"weui-search-bar__label",attrs:{for:"search_input_"+e.uuid}},[i("i",{staticClass:"weui-icon-search"}),e._v(" "),i("span",[e._v(e._s(e.placeholder||"搜索"))])])]),e._v(" "),i("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:"},on:{click:e.cancel}},[e._v(e._s(e.cancelText||"取消")+"\n    ")]),e._v(" "),e._t("right")],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isFixed,expression:"isFixed"}],staticClass:"weui-cells vux-search_show"},[e._t("default"),e._v(" "),e._l(e.results,function(t){return i("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(i){e.handleResultClick(t)}}},[i("div",{staticClass:"weui-cell__bd weui-cell_primary"},[i("p",[e._v(e._s(t.title))])])])})],2)])},staticRenderFns:[]};var Bn=i("C7Lr")(On,Mn,!1,function(e){i("z92W")},null,null).exports,Fn=i("gGtE"),jn=(Array,String,Boolean,Boolean,String,String,Boolean,Boolean,Number,Number,Number,String,Number,Number,Number,{name:"swiper",created:function(){this.index=this.value||0,this.index&&(this.current=this.index)},mounted:function(){var e=this;this.hasTwoLoopItem(),this.$nextTick(function(){e.list&&0===e.list.length||e.render(e.index),e.xheight=e.getHeight(),e.$emit("on-get-height",e.xheight)})},methods:{hasTwoLoopItem:function(){2===this.list.length&&this.loop?this.listTwoLoopItem=this.list:this.listTwoLoopItem=[]},clickListItem:function(e){Object(oi.a)(e.url,this.$router),this.$emit("on-click-list-item",JSON.parse(se()(e)))},buildBackgroundUrl:function(e){return e.fallbackImg?"url("+e.img+"), url("+e.fallbackImg+")":"url("+e.img+")"},render:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.swiper&&this.swiper.destroy(),this.swiper=new Fn.a({container:this.$el,direction:this.direction,auto:this.auto,loop:this.loop,interval:this.interval,threshold:this.threshold,duration:this.duration,height:this.height||this._height,minMovingDistance:this.minMovingDistance,imgList:this.imgList}).on("swiped",function(t,i){e.current=i%e.length,e.index=i%e.length}),t>0&&this.swiper.go(t)},rerender:function(){var e=this;this.$el&&!this.hasRender&&(this.hasRender=!0,this.hasTwoLoopItem(),this.$nextTick(function(){e.index=e.value||0,e.current=e.value||0,e.length=e.list.length||e.$children.length,e.destroy(),e.render(e.value)}))},destroy:function(){this.hasRender=!1,this.swiper&&this.swiper.destroy()},getHeight:function(){var e=parseInt(this.height,10);return e?this.height:e?void 0:this.aspectRatio?this.$el.offsetWidth*this.aspectRatio+"px":"180px"}},props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"horizontal"},showDots:{type:Boolean,default:!0},showDescMask:{type:Boolean,default:!0},dotsPosition:{type:String,default:"right"},dotsClass:String,auto:Boolean,loop:Boolean,interval:{type:Number,default:3e3},threshold:{type:Number,default:50},duration:{type:Number,default:300},height:{type:String,default:"auto"},aspectRatio:Number,minMovingDistance:{type:Number,default:0},value:{type:Number,default:0}},data:function(){return{hasRender:!1,current:this.index||0,xheight:"auto",length:this.list.length,index:0,listTwoLoopItem:[]}},watch:{auto:function(e){e?this.swiper&&this.swiper._auto():this.swiper&&this.swiper.stop()},list:function(e,t){se()(e)!==se()(t)&&this.rerender()},current:function(e){this.index=e,this.$emit("on-index-change",e)},index:function(e){var t=this;e!==this.current&&this.$nextTick(function(){t.swiper&&t.swiper.go(e)}),this.$emit("input",e)},value:function(e){this.index=e}},beforeDestroy:function(){this.destroy()}}),Hn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-slider"},[i("div",{staticClass:"vux-swiper",style:{height:e.xheight}},[e._t("default"),e._v(" "),e._l(e.list,function(t,n){return i("div",{staticClass:"vux-swiper-item",attrs:{"data-index":n},on:{click:function(i){e.clickListItem(t)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:e.buildBackgroundUrl(t)}}),e._v(" "),e.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[e._v(e._s(t.title))]):e._e()])])}),e._v(" "),e._l(e.listTwoLoopItem,function(t,n){return e.listTwoLoopItem.length>0?i("div",{staticClass:"vux-swiper-item vux-swiper-item-clone",attrs:{"data-index":n},on:{click:function(i){e.clickListItem(t)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:e.buildBackgroundUrl(t)}}),e._v(" "),e.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[e._v(e._s(t.title))]):e._e()])]):e._e()})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDots,expression:"showDots"}],class:[e.dotsClass,"vux-indicator","vux-indicator-"+e.dotsPosition]},e._l(e.length,function(t){return i("a",{attrs:{href:"javascript:"}},[i("i",{staticClass:"vux-icon-dot",class:{active:t-1===e.current}})])}))])},staticRenderFns:[]};var Wn=i("C7Lr")(jn,Hn,!1,function(e){i("Sksk")},null,null).exports,qn={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"vux-swiper-item"},[this._t("default")],2)},staticRenderFns:[]},Vn=i("C7Lr")({name:"swiper-item",mounted:function(){var e=this;this.$nextTick(function(){e.$parent.rerender()})},beforeDestroy:function(){var e=this.$parent;this.$nextTick(function(){e.rerender()})}},qn,!1,null,null,null).exports,zn=i("DV+v"),$n=(zn.b,String,{mounted:function(){},name:"tabbar",mixins:[zn.b],props:{iconClass:String}}),Yn={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"weui-tabbar"},[this._t("default")],2)},staticRenderFns:[]};var Gn=i("C7Lr")($n,Yn,!1,function(e){i("irIk")},null,null).exports,Xn=(zn.a,Boolean,String,String,Object,String,{name:"tabbar-item",components:{Badge:ei},mounted:function(){this.$slots.icon||(this.simple=!0),this.$slots["icon-active"]&&(this.hasActiveIcon=!0)},mixins:[zn.a],props:{showDot:{type:Boolean,default:!1},badge:String,link:[String,Object],iconClass:String},computed:{isActive:function(){return this.$parent.index===this.currentIndex}},data:function(){return{simple:!1,hasActiveIcon:!1}}}),Jn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"weui-tabbar__item",class:{"weui-bar__item_on":e.isActive,"vux-tabbar-simple":e.simple},attrs:{href:"javascript:;"},on:{click:function(t){e.onItemClick(!0)}}},[e.simple?e._e():i("div",{staticClass:"weui-tabbar__icon",class:[e.iconClass||e.$parent.iconClass,{"vux-reddot":e.showDot}]},[e.simple||e.hasActiveIcon&&e.isActive?e._e():e._t("icon"),e._v(" "),!e.simple&&e.hasActiveIcon&&e.isActive?e._t("icon-active"):e._e(),e._v(" "),e.badge?i("sup",[i("badge",{attrs:{text:e.badge}})],1):e._e()],2),e._v(" "),i("p",{staticClass:"weui-tabbar__label"},[e._t("label")],2)])},staticRenderFns:[]},Kn=i("C7Lr")(Xn,Jn,!1,null,null,null).exports,Qn=(zn.b,Number,String,String,String,String,Boolean,Function,String,Boolean,Number,String,{name:"tab",mixins:[zn.b],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,i=0;window.requestAnimationFrame(function n(){var a=e.$refs.nav;a.scrollLeft+=(t.offsetLeft-(a.offsetWidth-t.offsetWidth)/2-a.scrollLeft)/15,++i<15&&window.requestAnimationFrame(n)})}}}}),Zn={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-tab-wrap",class:"top"===e.barPosition?"vux-tab-bar-top":""},[i("div",{staticClass:"vux-tab-container"},[i("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!e.animate},{scrollable:e.scrollable}]},[e._t("default"),e._v(" "),e.animate?i("div",{staticClass:"vux-tab-ink-bar",class:e.barClass,style:e.barStyle},[e.customBarWidth?i("span",{staticClass:"vux-tab-bar-inner",style:e.innerBarStyle}):e._e()]):e._e()],2)])])},staticRenderFns:[]};var ea=i("C7Lr")(Qn,Zn,!1,function(e){i("9FCh")},null,null).exports,ta=(zn.a,String,Boolean,String,String,String,{name:"tab-item",mixins:[zn.a],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}),ia={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-tab-item",class:[e.currentSelected?e.activeClass:"",{"vux-tab-selected":e.currentSelected,"vux-tab-disabled":e.disabled}],style:e.style,on:{click:e.onItemClick}},[e._t("default"),e._v(" "),void 0!==e.badgeLabel&&""!==e.badgeLabel?i("span",{staticClass:"vux-tab-item-badge",style:{background:e.badgeBackground,color:e.badgeColor}},[e._v("\n  "+e._s(e.badgeLabel))]):e._e()],2)},staticRenderFns:[]},na=i("C7Lr")(ta,ia,!1,null,null,null).exports,aa=(Boolean,Boolean,Boolean,String,String,Boolean,String,Object,Array,{name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&Object(oi.a)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}),ra={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"weui-btn",class:e.classes,style:e.buttonStyle,attrs:{disabled:e.disabled,type:e.actionType},on:{click:e.onClick}},[e.showLoading?i("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),e._t("default",[e._v(e._s(e.text))])],2)},staticRenderFns:[]};var oa=i("C7Lr")(aa,ra,!1,function(e){i("I5ad")},null,null).exports,sa=(Object,String,String,Object,{name:"x-header",props:{leftOptions:Object,title:String,transition:String,rightOptions:{type:Object,default:function(){return{showMore:!1}}}},beforeMount:function(){this.$slots["overwrite-title"]&&(this.shouldOverWriteTitle=!0)},computed:{_leftOptions:function(){return Nn()({showBack:!0,preventGoBack:!1},this.leftOptions||{})}},methods:{onClickBack:function(){this._leftOptions.preventGoBack?this.$emit("on-click-back"):this.$router?this.$router.back():window.history.back()}},data:function(){return{shouldOverWriteTitle:!1}}}),la={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-header"},[i("div",{staticClass:"vux-header-left"},[e._t("overwrite-left",[i("transition",{attrs:{name:e.transition}},[i("a",{directives:[{name:"show",rawName:"v-show",value:e._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"vux-header-back",on:{click:[function(t){if(!("button"in t)&&e._k(t.keyCode,"preventDefault",void 0,t.key,void 0))return null},e.onClickBack]}},[e._v(e._s(void 0===e._leftOptions.backText?"返回":e._leftOptions.backText))])]),e._v(" "),i("transition",{attrs:{name:e.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"left-arrow",on:{click:e.onClickBack}})])]),e._v(" "),e._t("left")],2),e._v(" "),e.shouldOverWriteTitle?e._e():i("h1",{staticClass:"vux-header-title",on:{click:function(t){e.$emit("on-click-title")}}},[e._t("default",[i("transition",{attrs:{name:e.transition}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title))])])])],2),e._v(" "),e.shouldOverWriteTitle?i("div",{staticClass:"vux-header-title-area"},[e._t("overwrite-title")],2):e._e(),e._v(" "),i("div",{staticClass:"vux-header-right"},[e.rightOptions.showMore?i("a",{staticClass:"vux-header-more",on:{click:[function(t){if(!("button"in t)&&e._k(t.keyCode,"preventDefault",void 0,t.key,void 0))return null},function(t){e.$emit("on-click-more")}]}}):e._e(),e._v(" "),e._t("right")],2)])},staticRenderFns:[]};var ca=i("C7Lr")(sa,la,!1,function(e){i("/7gP")},null,null).exports,da=(i("JCi3"),Number,Number,Boolean,Number,String,String,Boolean,String,String,String,i("JCi3")),ua={name:"x-number",props:{min:Number,max:Number,readonly:Boolean,step:{type:Number,default:1},value:{validator:function(e){return"number"==typeof e||"string"==typeof e&&""===e},default:0},name:String,title:String,fillable:{type:Boolean,default:!1},width:{type:String,default:"50px"},buttonStyle:{type:String,default:"square"},align:{type:String,default:"right"}},created:function(){this.currentValue=this.value},data:function(){return{currentValue:0}},computed:{disabledMin:function(){return void 0!==this.min&&(""===this.currentValue||this.currentValue<=this.min)},disabledMax:function(){return void 0!==this.max&&(""===this.currentValue||this.currentValue>=this.max)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e,t){""!==e&&(void 0!==this.min&&this.currentValue<this.min&&(this.currentValue=this.min),this.max&&this.currentValue>this.max&&(this.currentValue=this.max)),this.$emit("input",this.currentValue)},value:function(e){this.currentValue=e,this.$emit("on-change",e)}},methods:{add:function(){if(!this.disabledMax){var e=new da(this.currentValue);this.currentValue=1*e.plus(this.step)}},sub:function(){if(!this.disabledMin){var e=new da(this.currentValue);this.currentValue=1*e.minus(this.step)}},blur:function(){""===this.currentValue&&(this.currentValue=0)}}},ha={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell"},[i("div",[i("p",{class:e.labelClass,style:{width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}],staticClass:"weui-cell__ft vux-cell-primary",class:{"vux-number-round":"round"===e.buttonStyle},staticStyle:{"font-size":"0"}},[i("div",{style:{float:e.align}},[i("a",{staticClass:"vux-number-selector vux-number-selector-sub",class:{"vux-number-disabled":e.disabledMin},on:{click:e.sub}},[i("svg",{attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"18",height:"18"}},[i("defs"),i("path",{attrs:{d:"M863.74455 544.00086 163.424056 544.00086c-17.664722 0-32.00086-14.336138-32.00086-32.00086s14.336138-32.00086 32.00086-32.00086l700.320495 0c17.695686 0 31.99914 14.336138 31.99914 32.00086S881.440237 544.00086 863.74455 544.00086z"}})])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentValue,expression:"currentValue",modifiers:{number:!0}}],staticClass:"vux-number-input",style:{width:e.width},attrs:{name:e.name,readonly:!e.fillable,pattern:"[0-9]*",type:"number"},domProps:{value:e.currentValue},on:{blur:[e.blur,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.currentValue=e._n(t.target.value))}}}),e._v(" "),i("a",{staticClass:"vux-number-selector vux-number-selector-plus",class:{"vux-number-disabled":e.disabledMax},on:{click:e.add}},[i("svg",{attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"20"}},[i("defs"),i("path",{attrs:{d:"M863.328262 481.340895l-317.344013 0.099772L545.984249 162.816826c0-17.664722-14.336138-32.00086-32.00086-32.00086s-31.99914 14.336138-31.99914 32.00086l0 318.400215-322.368714-0.17718c-0.032684 0-0.063647 0-0.096331 0-17.632039 0-31.935493 14.239806-32.00086 31.904529-0.096331 17.664722 14.208843 32.031824 31.871845 32.095471l322.59234 0.17718 0 319.167424c0 17.695686 14.336138 32.00086 31.99914 32.00086s32.00086-14.303454 32.00086-32.00086L545.982529 545.440667l317.087703-0.099772c0.063647 0 0.096331 0 0.127295 0 17.632039 0 31.935493-14.239806 32.00086-31.904529S880.960301 481.404542 863.328262 481.340895z"}})])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"weui-cell__ft vux-cell-primary"},[e._v("\n    "+e._s(e.value)+"\n  ")])])},staticRenderFns:[]};var pa=i("C7Lr")(ua,ha,!1,function(e){i("ra1U")},null,null).exports,fa=i("1KUA"),ma=i.n(fa),ga=i("rLbt"),va=(sn.a,String,String,String,String,String,Number,Object,String,Number,String,{name:"x-img",mixins:[sn.a],created:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$on("vux:after-view-enter",this.init)},methods:{init:function(){var e=this;this.blazy&&this.blazy.destroy(),this.$el.src=this.defaultSrc,this.$el.className=this.$el.className.replace("b-loaded",""),this.blazy=new ma.a({scroller:this.scroller,container:this.container,selector:"#vux-ximg-"+this.uuid,offset:e.offset,errorClass:e.errorClass,successClass:e.successClass,separator:e.separator,success:function(t){e.$emit("on-success",e.src,t)},error:function(t,i){e.$emit("on-error",e.src,t,i)}})}},mounted:function(){var e=this;this.$el.setAttribute("id","vux-ximg-"+this.uuid),this.$nextTick(function(){setTimeout(function(){e.init()},e.delay)}),Object(ga.a)()},computed:{currentSrc:function(){return Object(ga.b)()&&this.webpSrc?this.webpSrc:this.src}},props:{src:String,webpSrc:String,defaultSrc:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,default:100},scroller:Object,container:String,delay:{type:Number,default:0},separator:String},watch:{src:function(e){this.init()}},beforeDestroy:function(){this.blazy&&this.blazy.destroy(),this.blazy=null,this.$vux&&this.$vux.bus&&this.$vux.bus.$off("vux:after-view-enter",this.init)}}),ba={render:function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"vux-x-img",attrs:{src:this.defaultSrc,"data-src":this.currentSrc}})},staticRenderFns:[]};var ya=i("C7Lr")(va,ba,!1,function(e){i("Aw0T")},null,null).exports,_a=i("f4gh"),wa=i("Bv05"),xa=i.n(wa),Ca=i("BzUK"),Sa=i.n(Ca),Ta=i("1m2e"),ka=i("IFIB"),Aa=i.n(ka),Ea=(xa.a,mi.a,_a.a,String,String,String,String,Number,String,Boolean,Boolean,String,String,String,Function,Number,Number,Boolean,String,String,String,String,String,String,Boolean,String,Number,String,String,String,Boolean,{email:{fn:xa.a,msg:"邮箱格式"},"china-mobile":{fn:function(e){return Sa()(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}}),Na={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=Object(Ta.a)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[mi.a],components:{Icon:wi,InlineDesc:ri,Toast:_a.a},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return fi()(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;/iphone/i.test(navigator.userAgent),"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){e.$refs.input.scrollIntoViewIfNeeded(!0)},t)},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?Aa.a.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){var t=this;this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,setTimeout(function(){t.$refs.input.scrollIntoViewIfNeeded(!1)},1e3)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=fi()(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0===this.equalWith)if(this.errors={},this.currentValue||this.required){if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=Ea[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var i=this.isType(this.currentValue);if(this.valid=i.valid,!this.valid)return this.errors.format=i.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0}else this.valid=!0;else this.validateEqual()},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))},_getInputMaskSelection:function(e,t,i,n){if(!this.mask||n&&0===t)return e;if((0===t&&(t=this.lastDirection),t>0)&&!this.mask.substr(e-t,1).match(/[9SA]/))return this._getInputMaskSelection(e+1,t,i,!0);return e}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e,t){var i=this;!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate();var n=this.$refs.input.selectionStart,a=e.length-t.length;n=this._getInputMaskSelection(n,a,this.maskValue(e)),this.lastDirection=a,this.$emit("input",this.maskValue(e)),this.$nextTick(function(){i.$refs.input.selectionStart!==n&&(i.$refs.input.selectionStart=n,i.$refs.input.selectionEnd=n),i.currentValue!==i.maskValue(e)&&(i.currentValue=i.maskValue(e))}),this._debounce?this._debounce():this.$emit("on-change",e)}}},Pa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":e.showWarn,disabled:e.disabled,"vux-x-input-has-right-full":e.hasRightFullHeightSlot}},[i("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?i("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?i("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.labelWidth||e.$parent.labelWidth||e.labelWidthComputed,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+e.uuid},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?i("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),i("div",{staticClass:"weui-cell__bd weui-cell__primary",class:e.placeholderAlign?"vux-x-input-placeholder-"+e.placeholderAlign:""},[e.type&&"text"!==e.type?e._e():i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"text",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),"number"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"number",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"email"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"email",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"password"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"password",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"tel"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"tel",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("icon",{directives:[{name:"show",rawName:"v-show",value:!e.hasRightFullHeightSlot&&!e.equalWith&&e.showClear&&""!==e.currentValue&&!e.readonly&&!e.disabled&&e.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:e.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.valid?"":e.firstError},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}),e._v(" "),!e.novalidate&&e.hasLengthEqual&&e.dirty&&e.equalWith&&!e.valid?i("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}):e._e(),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!e.novalidate&&e.equalWith&&e.equalWith===e.currentValue&&e.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"success"===e.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"error"===e.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),e._v(" "),e._t("right"),e._v(" "),e.hasRightFullHeightSlot?i("div",{staticClass:"vux-x-input-right-full"},[e._t("right-full-height")],2):e._e()],2),e._v(" "),i("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:e.showErrorToast,callback:function(t){e.showErrorToast=t},expression:"showErrorToast"}},[e._v(e._s(e.firstError))])],1)},staticRenderFns:[]};var Ra=i("C7Lr")(Na,Pa,!1,function(e){i("g/9p")},null,null).exports,Ia=i("K2BN"),La=i.n(Ia),Da=(mi.a,String,String,Boolean,Number,String,String,String,Boolean,Boolean,Number,Number,Number,String,String,String,String,Boolean,{name:"x-textarea",minxins:[mi.a],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:ri},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){La.a.update(this.$refs.textarea)},bindAutosize:function(){La()(this.$refs.textarea)},unbindAutosize:function(){La.a.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}),Ua={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell vux-x-textarea"},[i("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?i("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?i("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.$parent.labelWidth||e.labelWidth+"em",textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?i("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:e.textareaStyle,attrs:{autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,name:e.name,rows:e.rows,cols:e.cols,maxlength:e.max},domProps:{value:e.currentValue},on:{focus:function(t){e.$emit("on-focus")},blur:function(t){e.$emit("on-blur")},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showCounter&&e.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:e.focus}},[i("span",[e._v(e._s(e.count))]),e._v("/"+e._s(e.max)+"\n    ")])])])},staticRenderFns:[]};var Oa=i("C7Lr")(Da,Ua,!1,function(e){i("HvDO")},null,null).exports,Ma={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-tab"},[this._t("header"),this._v(" "),t("div",{ref:"viewBoxBody",staticClass:"weui-tab__panel vux-fix-safari-overflow-scrolling",style:{paddingTop:this.bodyPaddingTop,paddingBottom:this.bodyPaddingBottom},attrs:{id:"vux_view_box_body"}},[this._t("default")],2),this._v(" "),this._t("bottom")],2)},staticRenderFns:[]};var Ba=i("C7Lr")({name:"view-box",props:["bodyPaddingTop","bodyPaddingBottom"],methods:{scrollTo:function(e){this.$refs.viewBoxBody.scrollTop=e},getScrollTop:function(){return this.$refs.viewBoxBody.scrollTop},getScrollBody:function(){return this.$refs.viewBoxBody}}},Ma,!1,function(e){i("uYhI")},null,null).exports,Fa=i("HsLO"),ja=i.n(Fa);n.a.use(Vt.a),n.a.use(zt.a),n.a.use(ja.a),n.a.use($t.a),n.a.use(Yt.a),n.a.use(W),n.a.use(G),n.a.use(ee),n.a.use(re),n.a.use(pe),n.a.use(be),n.a.use(Se),n.a.use(Re),L(),n.a.use(r.a),n.a.use(Be),n.a.component("v-table",qe),n.a.component("v-textarea",$e),n.a.component("v-tree",Qe),n.a.component("v-combobox",tt),n.a.component("v-select",tt),n.a.component("v-map",ot),n.a.component("v-modal",ut),n.a.component("v-datepicker",Et),n.a.component("v-datepicker-area",Rt),n.a.component("u-editor",Dt),n.a.component("time-set",yt),n.a.component("v-import",mt),n.a.component("preview",Tt),n.a.component("GeminiScrollbar",jt),n.a.component("detect",qt),n.a.component("actionsheet",Kt),n.a.component("badge",ei),n.a.component("box",ni),n.a.component("cell",hi),n.a.component("checklist",Ei),n.a.component("confirm",Ni.a),n.a.component("datetime",Bi),n.a.component("flexbox",Fi.a),n.a.component("flexbox-item",ji.a),n.a.component("group",Li),n.a.component("load-more",qi),n.a.component("picker",Ji),n.a.component("popup",tn),n.a.component("popup-header",rn),n.a.component("popup-radio",Cn),n.a.component("popup-picker",hn),n.a.component("previewer",In),n.a.component("radio",gn),n.a.component("rater",Un),n.a.component("search",Bn),n.a.component("swiper",Wn),n.a.component("swiper-item",Vn),n.a.component("tab",ea),n.a.component("tab-item",na),n.a.component("tabbar",Gn),n.a.component("tabbar-item",Kn),n.a.component("x-button",oa),n.a.component("x-header",ca),n.a.component("x-number",pa),n.a.component("x-img",ya),n.a.component("x-input",Ra),n.a.component("x-textarea",Oa),n.a.component("view-box",Ba),n.a.directive("transfer-dom",Gt.a),n.a.config.devtools=!1,n.a.config.productionTip=!0,n.a.prototype.icons=R.a,n.a.prototype.attachemntPreview=Le,n.a.prototype.imageUrlPrefix="/downloads/storage/images/",n.a.prototype.fileUrlPrefix="/downloads/storage/files/",n.a.prototype.uploadImage="/upload/storage/images",n.a.prototype.uploadFile="/upload/storage/files",n.a.prototype.uploadBase64="/api/storage/base64Images",n.a.prototype.deleteFile="/api/storage/files",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n.a.prototype.$isPhone=!0:n.a.prototype.$isPhone=!1,n.a.prototype.provinceList=[{name:"北京市",cityList:[{name:"市辖区",areaList:["东城区","西城区","朝阳区","丰台区","石景山区","海淀区","门头沟区","房山区","通州区","顺义区","昌平区","大兴区","怀柔区","平谷区","密云区","延庆区"]}]},{name:"天津市",cityList:[{name:"市辖区",areaList:["和平区","河东区","河西区","南开区","河北区","红桥区","东丽区","西青区","津南区","北辰区","武清区","宝坻区","滨海新区","宁河区","静海区","蓟州区"]}]},{name:"河北省",cityList:[{name:"石家庄市",areaList:["长安区","桥西区","新华区","井陉矿区","裕华区","藁城区","鹿泉区","栾城区","井陉县","正定县","行唐县","灵寿县","高邑县","深泽县","赞皇县","无极县","平山县","元氏县","赵县","辛集市","晋州市","新乐市"]},{name:"唐山市",areaList:["路南区","路北区","古冶区","开平区","丰南区","丰润区","曹妃甸区","滦县","滦南县","乐亭县","迁西县","玉田县","遵化市","迁安市"]},{name:"秦皇岛市",areaList:["海港区","山海关区","北戴河区","抚宁区","青龙满族自治县","昌黎县","卢龙县"]},{name:"邯郸市",areaList:["邯山区","丛台区","复兴区","峰峰矿区","肥乡区","永年区","临漳县","成安县","大名县","涉县","磁县","邱县","鸡泽县","广平县","馆陶县","魏县","曲周县","武安市"]},{name:"邢台市",areaList:["桥东区","桥西区","邢台县","临城县","内丘县","柏乡县","隆尧县","任县","南和县","宁晋县","巨鹿县","新河县","广宗县","平乡县","威县","清河县","临西县","南宫市","沙河市"]},{name:"保定市",areaList:["竞秀区","莲池区","满城区","清苑区","徐水区","涞水县","阜平县","定兴县","唐县","高阳县","容城县","涞源县","望都县","安新县","易县","曲阳县","蠡县","顺平县","博野县","雄县","涿州市","定州市","安国市","高碑店市"]},{name:"张家口市",areaList:["桥东区","桥西区","宣化区","下花园区","万全区","崇礼区","张北县","康保县","沽源县","尚义县","蔚县","阳原县","怀安县","怀来县","涿鹿县","赤城县"]},{name:"承德市",areaList:["双桥区","双滦区","鹰手营子矿区","承德县","兴隆县","滦平县","隆化县","丰宁满族自治县","宽城满族自治县","围场满族蒙古族自治县","平泉市"]},{name:"沧州市",areaList:["新华区","运河区","沧县","青县","东光县","海兴县","盐山县","肃宁县","南皮县","吴桥县","献县","孟村回族自治县","泊头市","任丘市","黄骅市","河间市"]},{name:"廊坊市",areaList:["安次区","广阳区","固安县","永清县","香河县","大城县","文安县","大厂回族自治县","霸州市","三河市"]},{name:"衡水市",areaList:["桃城区","冀州区","枣强县","武邑县","武强县","饶阳县","安平县","故城县","景县","阜城县","深州市"]}]},{name:"山西省",cityList:[{name:"太原市",areaList:["小店区","迎泽区","杏花岭区","尖草坪区","万柏林区","晋源区","清徐县","阳曲县","娄烦县","古交市"]},{name:"大同市",areaList:["新荣区","平城区","云冈区","云州区","阳高县","天镇县","广灵县","灵丘县","浑源县","左云县"]},{name:"阳泉市",areaList:["城区","矿区","郊区","平定县","盂县"]},{name:"长治市",areaList:["城区","郊区","长治县","襄垣县","屯留县","平顺县","黎城县","壶关县","长子县","武乡县","沁县","沁源县","潞城市"]},{name:"晋城市",areaList:["城区","沁水县","阳城县","陵川县","泽州县","高平市"]},{name:"朔州市",areaList:["朔城区","平鲁区","山阴县","应县","右玉县","怀仁县"]},{name:"晋中市",areaList:["榆次区","榆社县","左权县","和顺县","昔阳县","寿阳县","太谷县","祁县","平遥县","灵石县","介休市"]},{name:"运城市",areaList:["盐湖区","临猗县","万荣县","闻喜县","稷山县","新绛县","绛县","垣曲县","夏县","平陆县","芮城县","永济市","河津市"]},{name:"忻州市",areaList:["忻府区","定襄县","五台县","代县","繁峙县","宁武县","静乐县","神池县","五寨县","岢岚县","河曲县","保德县","偏关县","原平市"]},{name:"临汾市",areaList:["尧都区","曲沃县","翼城县","襄汾县","洪洞县","古县","安泽县","浮山县","吉县","乡宁县","大宁县","隰县","永和县","蒲县","汾西县","侯马市","霍州市"]},{name:"吕梁市",areaList:["离石区","文水县","交城县","兴县","临县","柳林县","石楼县","岚县","方山县","中阳县","交口县","孝义市","汾阳市"]}]},{name:"内蒙古自治区",cityList:[{name:"呼和浩特市",areaList:["新城区","回民区","玉泉区","赛罕区","土默特左旗","托克托县","和林格尔县","清水河县","武川县"]},{name:"包头市",areaList:["东河区","昆都仑区","青山区","石拐区","白云鄂博矿区","九原区","土默特右旗","固阳县","达尔罕茂明安联合旗"]},{name:"乌海市",areaList:["海勃湾区","海南区","乌达区"]},{name:"赤峰市",areaList:["红山区","元宝山区","松山区","阿鲁科尔沁旗","巴林左旗","巴林右旗","林西县","克什克腾旗","翁牛特旗","喀喇沁旗","宁城县","敖汉旗"]},{name:"通辽市",areaList:["科尔沁区","科尔沁左翼中旗","科尔沁左翼后旗","开鲁县","库伦旗","奈曼旗","扎鲁特旗","霍林郭勒市"]},{name:"鄂尔多斯市",areaList:["东胜区","康巴什区","达拉特旗","准格尔旗","鄂托克前旗","鄂托克旗","杭锦旗","乌审旗","伊金霍洛旗"]},{name:"呼伦贝尔市",areaList:["海拉尔区","扎赉诺尔区","阿荣旗","莫力达瓦达斡尔族自治旗","鄂伦春自治旗","鄂温克族自治旗","陈巴尔虎旗","新巴尔虎左旗","新巴尔虎右旗","满洲里市","牙克石市","扎兰屯市","额尔古纳市","根河市"]},{name:"巴彦淖尔市",areaList:["临河区","五原县","磴口县","乌拉特前旗","乌拉特中旗","乌拉特后旗","杭锦后旗"]},{name:"乌兰察布市",areaList:["集宁区","卓资县","化德县","商都县","兴和县","凉城县","察哈尔右翼前旗","察哈尔右翼中旗","察哈尔右翼后旗","四子王旗","丰镇市"]},{name:"兴安盟",areaList:["乌兰浩特市","阿尔山市","科尔沁右翼前旗","科尔沁右翼中旗","扎赉特旗","突泉县"]},{name:"锡林郭勒盟",areaList:["二连浩特市","锡林浩特市","阿巴嘎旗","苏尼特左旗","苏尼特右旗","东乌珠穆沁旗","西乌珠穆沁旗","太仆寺旗","镶黄旗","正镶白旗","正蓝旗","多伦县"]},{name:"阿拉善盟",areaList:["阿拉善左旗","阿拉善右旗","额济纳旗"]}]},{name:"辽宁省",cityList:[{name:"沈阳市",areaList:["和平区","沈河区","大东区","皇姑区","铁西区","苏家屯区","浑南区","沈北新区","于洪区","辽中区","康平县","法库县","新民市"]},{name:"大连市",areaList:["中山区","西岗区","沙河口区","甘井子区","旅顺口区","金州区","普兰店区","长海县","瓦房店市","庄河市"]},{name:"鞍山市",areaList:["铁东区","铁西区","立山区","千山区","台安县","岫岩满族自治县","海城市"]},{name:"抚顺市",areaList:["新抚区","东洲区","望花区","顺城区","抚顺县","新宾满族自治县","清原满族自治县"]},{name:"本溪市",areaList:["平山区","溪湖区","明山区","南芬区","本溪满族自治县","桓仁满族自治县"]},{name:"丹东市",areaList:["元宝区","振兴区","振安区","宽甸满族自治县","东港市","凤城市"]},{name:"锦州市",areaList:["古塔区","凌河区","太和区","黑山县","义县","凌海市","北镇市"]},{name:"营口市",areaList:["站前区","西市区","鲅鱼圈区","老边区","盖州市","大石桥市"]},{name:"阜新市",areaList:["海州区","新邱区","太平区","清河门区","细河区","阜新蒙古族自治县","彰武县"]},{name:"辽阳市",areaList:["白塔区","文圣区","宏伟区","弓长岭区","太子河区","辽阳县","灯塔市"]},{name:"盘锦市",areaList:["双台子区","兴隆台区","大洼区","盘山县"]},{name:"铁岭市",areaList:["银州区","清河区","铁岭县","西丰县","昌图县","调兵山市","开原市"]},{name:"朝阳市",areaList:["双塔区","龙城区","朝阳县","建平县","喀喇沁左翼蒙古族自治县","北票市","凌源市"]},{name:"葫芦岛市",areaList:["连山区","龙港区","南票区","绥中县","建昌县","兴城市"]}]},{name:"吉林省",cityList:[{name:"长春市",areaList:["南关区","宽城区","朝阳区","二道区","绿园区","双阳区","九台区","农安县","榆树市","德惠市"]},{name:"吉林市",areaList:["昌邑区","龙潭区","船营区","丰满区","永吉县","蛟河市","桦甸市","舒兰市","磐石市"]},{name:"四平市",areaList:["铁西区","铁东区","梨树县","伊通满族自治县","公主岭市","双辽市"]},{name:"辽源市",areaList:["龙山区","西安区","东丰县","东辽县"]},{name:"通化市",areaList:["东昌区","二道江区","通化县","辉南县","柳河县","梅河口市","集安市"]},{name:"白山市",areaList:["浑江区","江源区","抚松县","靖宇县","长白朝鲜族自治县","临江市"]},{name:"松原市",areaList:["宁江区","前郭尔罗斯蒙古族自治县","长岭县","乾安县","扶余市"]},{name:"白城市",areaList:["洮北区","镇赉县","通榆县","洮南市","大安市"]},{name:"延边朝鲜族自治州",areaList:["延吉市","图们市","敦化市","珲春市","龙井市","和龙市","汪清县","安图县"]}]},{name:"黑龙江省",cityList:[{name:"哈尔滨市",areaList:["道里区","南岗区","道外区","平房区","松北区","香坊区","呼兰区","阿城区","双城区","依兰县","方正县","宾县","巴彦县","木兰县","通河县","延寿县","尚志市","五常市"]},{name:"齐齐哈尔市",areaList:["龙沙区","建华区","铁锋区","昂昂溪区","富拉尔基区","碾子山区","梅里斯达斡尔族区","龙江县","依安县","泰来县","甘南县","富裕县","克山县","克东县","拜泉县","讷河市"]},{name:"鸡西市",areaList:["鸡冠区","恒山区","滴道区","梨树区","城子河区","麻山区","鸡东县","虎林市","密山市"]},{name:"鹤岗市",areaList:["向阳区","工农区","南山区","兴安区","东山区","兴山区","萝北县","绥滨县"]},{name:"双鸭山市",areaList:["尖山区","岭东区","四方台区","宝山区","集贤县","友谊县","宝清县","饶河县"]},{name:"大庆市",areaList:["萨尔图区","龙凤区","让胡路区","红岗区","大同区","肇州县","肇源县","林甸县","杜尔伯特蒙古族自治县"]},{name:"伊春市",areaList:["伊春区","南岔区","友好区","西林区","翠峦区","新青区","美溪区","金山屯区","五营区","乌马河区","汤旺河区","带岭区","乌伊岭区","红星区","上甘岭区","嘉荫县","铁力市"]},{name:"佳木斯市",areaList:["向阳区","前进区","东风区","郊区","桦南县","桦川县","汤原县","同江市","富锦市","抚远市"]},{name:"七台河市",areaList:["新兴区","桃山区","茄子河区","勃利县"]},{name:"牡丹江市",areaList:["东安区","阳明区","爱民区","西安区","林口县","绥芬河市","海林市","宁安市","穆棱市","东宁市"]},{name:"黑河市",areaList:["爱辉区","嫩江县","逊克县","孙吴县","北安市","五大连池市"]},{name:"绥化市",areaList:["北林区","望奎县","兰西县","青冈县","庆安县","明水县","绥棱县","安达市","肇东市","海伦市"]},{name:"大兴安岭地区",areaList:["呼玛县","塔河县","漠河县"]}]},{name:"上海市",cityList:[{name:"市辖区",areaList:["黄浦区","徐汇区","长宁区","静安区","普陀区","虹口区","杨浦区","闵行区","宝山区","嘉定区","浦东新区","金山区","松江区","青浦区","奉贤区","崇明区"]}]},{name:"江苏省",cityList:[{name:"南京市",areaList:["玄武区","秦淮区","建邺区","鼓楼区","浦口区","栖霞区","雨花台区","江宁区","六合区","溧水区","高淳区"]},{name:"无锡市",areaList:["锡山区","惠山区","滨湖区","梁溪区","新吴区","江阴市","宜兴市"]},{name:"徐州市",areaList:["鼓楼区","云龙区","贾汪区","泉山区","铜山区","丰县","沛县","睢宁县","新沂市","邳州市"]},{name:"常州市",areaList:["天宁区","钟楼区","新北区","武进区","金坛区","溧阳市"]},{name:"苏州市",areaList:["虎丘区","吴中区","相城区","姑苏区","吴江区","常熟市","张家港市","昆山市","太仓市"]},{name:"南通市",areaList:["崇川区","港闸区","通州区","如东县","启东市","如皋市","海门市","海安市"]},{name:"连云港市",areaList:["连云区","海州区","赣榆区","东海县","灌云县","灌南县"]},{name:"淮安市",areaList:["淮安区","淮阴区","清江浦区","洪泽区","涟水县","盱眙县","金湖县"]},{name:"盐城市",areaList:["亭湖区","盐都区","大丰区","响水县","滨海县","阜宁县","射阳县","建湖县","东台市"]},{name:"扬州市",areaList:["广陵区","邗江区","江都区","宝应县","仪征市","高邮市"]},{name:"镇江市",areaList:["京口区","润州区","丹徒区","丹阳市","扬中市","句容市"]},{name:"泰州市",areaList:["海陵区","高港区","姜堰区","兴化市","靖江市","泰兴市"]},{name:"宿迁市",areaList:["宿城区","宿豫区","沭阳县","泗阳县","泗洪县"]}]},{name:"浙江省",cityList:[{name:"杭州市",areaList:["上城区","下城区","江干区","拱墅区","西湖区","滨江区","萧山区","余杭区","富阳区","临安区","桐庐县","淳安县","建德市"]},{name:"宁波市",areaList:["海曙区","江北区","北仑区","镇海区","鄞州区","奉化区","象山县","宁海县","余姚市","慈溪市"]},{name:"温州市",areaList:["鹿城区","龙湾区","瓯海区","洞头区","永嘉县","平阳县","苍南县","文成县","泰顺县","瑞安市","乐清市"]},{name:"嘉兴市",areaList:["南湖区","秀洲区","嘉善县","海盐县","海宁市","平湖市","桐乡市"]},{name:"湖州市",areaList:["吴兴区","南浔区","德清县","长兴县","安吉县"]},{name:"绍兴市",areaList:["越城区","柯桥区","上虞区","新昌县","诸暨市","嵊州市"]},{name:"金华市",areaList:["婺城区","金东区","武义县","浦江县","磐安县","兰溪市","义乌市","东阳市","永康市"]},{name:"衢州市",areaList:["柯城区","衢江区","常山县","开化县","龙游县","江山市"]},{name:"舟山市",areaList:["定海区","普陀区","岱山县","嵊泗县"]},{name:"台州市",areaList:["椒江区","黄岩区","路桥区","三门县","天台县","仙居县","温岭市","临海市","玉环市"]},{name:"丽水市",areaList:["莲都区","青田县","缙云县","遂昌县","松阳县","云和县","庆元县","景宁畲族自治县","龙泉市"]}]},{name:"安徽省",cityList:[{name:"合肥市",areaList:["瑶海区","庐阳区","蜀山区","包河区","长丰县","肥东县","肥西县","庐江县","巢湖市"]},{name:"芜湖市",areaList:["镜湖区","弋江区","鸠江区","三山区","芜湖县","繁昌县","南陵县","无为县"]},{name:"蚌埠市",areaList:["龙子湖区","蚌山区","禹会区","淮上区","怀远县","五河县","固镇县"]},{name:"淮南市",areaList:["大通区","田家庵区","谢家集区","八公山区","潘集区","凤台县","寿县"]},{name:"马鞍山市",areaList:["花山区","雨山区","博望区","当涂县","含山县","和县"]},{name:"淮北市",areaList:["杜集区","相山区","烈山区","濉溪县"]},{name:"铜陵市",areaList:["铜官区","义安区","郊区","枞阳县"]},{name:"安庆市",areaList:["迎江区","大观区","宜秀区","怀宁县","潜山县","太湖县","宿松县","望江县","岳西县","桐城市"]},{name:"黄山市",areaList:["屯溪区","黄山区","徽州区","歙县","休宁县","黟县","祁门县"]},{name:"滁州市",areaList:["琅琊区","南谯区","来安县","全椒县","定远县","凤阳县","天长市","明光市"]},{name:"阜阳市",areaList:["颍州区","颍东区","颍泉区","临泉县","太和县","阜南县","颍上县","界首市"]},{name:"宿州市",areaList:["埇桥区","砀山县","萧县","灵璧县","泗县"]},{name:"六安市",areaList:["金安区","裕安区","叶集区","霍邱县","舒城县","金寨县","霍山县"]},{name:"亳州市",areaList:["谯城区","涡阳县","蒙城县","利辛县"]},{name:"池州市",areaList:["贵池区","东至县","石台县","青阳县"]},{name:"宣城市",areaList:["宣州区","郎溪县","广德县","泾县","绩溪县","旌德县","宁国市"]}]},{name:"福建省",cityList:[{name:"福州市",areaList:["鼓楼区","台江区","仓山区","马尾区","晋安区","长乐区","闽侯县","连江县","罗源县","闽清县","永泰县","平潭县","福清市"]},{name:"厦门市",areaList:["思明区","海沧区","湖里区","集美区","同安区","翔安区"]},{name:"莆田市",areaList:["城厢区","涵江区","荔城区","秀屿区","仙游县"]},{name:"三明市",areaList:["梅列区","三元区","明溪县","清流县","宁化县","大田县","尤溪县","沙县","将乐县","泰宁县","建宁县","永安市"]},{name:"泉州市",areaList:["鲤城区","丰泽区","洛江区","泉港区","惠安县","安溪县","永春县","德化县","金门县","石狮市","晋江市","南安市"]},{name:"漳州市",areaList:["芗城区","龙文区","云霄县","漳浦县","诏安县","长泰县","东山县","南靖县","平和县","华安县","龙海市"]},{name:"南平市",areaList:["延平区","建阳区","顺昌县","浦城县","光泽县","松溪县","政和县","邵武市","武夷山市","建瓯市"]},{name:"龙岩市",areaList:["新罗区","永定区","长汀县","上杭县","武平县","连城县","漳平市"]},{name:"宁德市",areaList:["蕉城区","霞浦县","古田县","屏南县","寿宁县","周宁县","柘荣县","福安市","福鼎市"]}]},{name:"江西省",cityList:[{name:"南昌市",areaList:["东湖区","西湖区","青云谱区","湾里区","青山湖区","新建区","南昌县","安义县","进贤县"]},{name:"景德镇市",areaList:["昌江区","珠山区","浮梁县","乐平市"]},{name:"萍乡市",areaList:["安源区","湘东区","莲花县","上栗县","芦溪县"]},{name:"九江市",areaList:["濂溪区","浔阳区","柴桑区","武宁县","修水县","永修县","德安县","都昌县","湖口县","彭泽县","瑞昌市","共青城市","庐山市"]},{name:"新余市",areaList:["渝水区","分宜县"]},{name:"鹰潭市",areaList:["月湖区","余江县","贵溪市"]},{name:"赣州市",areaList:["章贡区","南康区","赣县区","信丰县","大余县","上犹县","崇义县","安远县","龙南县","定南县","全南县","宁都县","于都县","兴国县","会昌县","寻乌县","石城县","瑞金市"]},{name:"吉安市",areaList:["吉州区","青原区","吉安县","吉水县","峡江县","新干县","永丰县","泰和县","遂川县","万安县","安福县","永新县","井冈山市"]},{name:"宜春市",areaList:["袁州区","奉新县","万载县","上高县","宜丰县","靖安县","铜鼓县","丰城市","樟树市","高安市"]},{name:"抚州市",areaList:["临川区","东乡区","南城县","黎川县","南丰县","崇仁县","乐安县","宜黄县","金溪县","资溪县","广昌县"]},{name:"上饶市",areaList:["信州区","广丰区","上饶县","玉山县","铅山县","横峰县","弋阳县","余干县","鄱阳县","万年县","婺源县","德兴市"]}]},{name:"山东省",cityList:[{name:"济南市",areaList:["历下区","市中区","槐荫区","天桥区","历城区","长清区","章丘区","平阴县","济阳县","商河县"]},{name:"青岛市",areaList:["市南区","市北区","黄岛区","崂山区","李沧区","城阳区","即墨区","胶州市","平度市","莱西市"]},{name:"淄博市",areaList:["淄川区","张店区","博山区","临淄区","周村区","桓台县","高青县","沂源县"]},{name:"枣庄市",areaList:["市中区","薛城区","峄城区","台儿庄区","山亭区","滕州市"]},{name:"东营市",areaList:["东营区","河口区","垦利区","利津县","广饶县"]},{name:"烟台市",areaList:["芝罘区","福山区","牟平区","莱山区","长岛县","龙口市","莱阳市","莱州市","蓬莱市","招远市","栖霞市","海阳市"]},{name:"潍坊市",areaList:["潍城区","寒亭区","坊子区","奎文区","临朐县","昌乐县","青州市","诸城市","寿光市","安丘市","高密市","昌邑市"]},{name:"济宁市",areaList:["任城区","兖州区","微山县","鱼台县","金乡县","嘉祥县","汶上县","泗水县","梁山县","曲阜市","邹城市"]},{name:"泰安市",areaList:["泰山区","岱岳区","宁阳县","东平县","新泰市","肥城市"]},{name:"威海市",areaList:["环翠区","文登区","荣成市","乳山市"]},{name:"日照市",areaList:["东港区","岚山区","五莲县","莒县"]},{name:"莱芜市",areaList:["莱城区","钢城区"]},{name:"临沂市",areaList:["兰山区","罗庄区","河东区","沂南县","郯城县","沂水县","兰陵县","费县","平邑县","莒南县","蒙阴县","临沭县"]},{name:"德州市",areaList:["德城区","陵城区","宁津县","庆云县","临邑县","齐河县","平原县","夏津县","武城县","乐陵市","禹城市"]},{name:"聊城市",areaList:["东昌府区","阳谷县","莘县","茌平县","东阿县","冠县","高唐县","临清市"]},{name:"滨州市",areaList:["滨城区","沾化区","惠民县","阳信县","无棣县","博兴县","邹平县"]},{name:"菏泽市",areaList:["牡丹区","定陶区","曹县","单县","成武县","巨野县","郓城县","鄄城县","东明县"]}]},{name:"河南省",cityList:[{name:"郑州市",areaList:["中原区","二七区","管城回族区","金水区","上街区","惠济区","中牟县","巩义市","荥阳市","新密市","新郑市","登封市"]},{name:"开封市",areaList:["龙亭区","顺河回族区","鼓楼区","禹王台区","祥符区","杞县","通许县","尉氏县","兰考县"]},{name:"洛阳市",areaList:["老城区","西工区","瀍河回族区","涧西区","吉利区","洛龙区","孟津县","新安县","栾川县","嵩县","汝阳县","宜阳县","洛宁县","伊川县","偃师市"]},{name:"平顶山市",areaList:["新华区","卫东区","石龙区","湛河区","宝丰县","叶县","鲁山县","郏县","舞钢市","汝州市"]},{name:"安阳市",areaList:["文峰区","北关区","殷都区","龙安区","安阳县","汤阴县","滑县","内黄县","林州市"]},{name:"鹤壁市",areaList:["鹤山区","山城区","淇滨区","浚县","淇县"]},{name:"新乡市",areaList:["红旗区","卫滨区","凤泉区","牧野区","新乡县","获嘉县","原阳县","延津县","封丘县","长垣县","卫辉市","辉县市"]},{name:"焦作市",areaList:["解放区","中站区","马村区","山阳区","修武县","博爱县","武陟县","温县","沁阳市","孟州市"]},{name:"濮阳市",areaList:["华龙区","清丰县","南乐县","范县","台前县","濮阳县"]},{name:"许昌市",areaList:["魏都区","建安区","鄢陵县","襄城县","禹州市","长葛市"]},{name:"漯河市",areaList:["源汇区","郾城区","召陵区","舞阳县","临颍县"]},{name:"三门峡市",areaList:["湖滨区","陕州区","渑池县","卢氏县","义马市","灵宝市"]},{name:"南阳市",areaList:["宛城区","卧龙区","南召县","方城县","西峡县","镇平县","内乡县","淅川县","社旗县","唐河县","新野县","桐柏县","邓州市"]},{name:"商丘市",areaList:["梁园区","睢阳区","民权县","睢县","宁陵县","柘城县","虞城县","夏邑县","永城市"]},{name:"信阳市",areaList:["浉河区","平桥区","罗山县","光山县","新县","商城县","固始县","潢川县","淮滨县","息县"]},{name:"周口市",areaList:["川汇区","扶沟县","西华县","商水县","沈丘县","郸城县","淮阳县","太康县","鹿邑县","项城市"]},{name:"驻马店市",areaList:["驿城区","西平县","上蔡县","平舆县","正阳县","确山县","泌阳县","汝南县","遂平县","新蔡县"]},{name:"省直辖行政单位",areaList:["济源市"]}]},{name:"湖北省",cityList:[{name:"武汉市",areaList:["江岸区","江汉区","硚口区","汉阳区","武昌区","青山区","洪山区","东西湖区","汉南区","蔡甸区","江夏区","黄陂区","新洲区"]},{name:"黄石市",areaList:["黄石港区","西塞山区","下陆区","铁山区","阳新县","大冶市"]},{name:"十堰市",areaList:["茅箭区","张湾区","郧阳区","郧西县","竹山县","竹溪县","房县","丹江口市"]},{name:"宜昌市",areaList:["西陵区","伍家岗区","点军区","猇亭区","夷陵区","远安县","兴山县","秭归县","长阳土家族自治县","五峰土家族自治县","宜都市","当阳市","枝江市"]},{name:"襄阳市",areaList:["襄城区","樊城区","襄州区","南漳县","谷城县","保康县","老河口市","枣阳市","宜城市"]},{name:"鄂州市",areaList:["梁子湖区","华容区","鄂城区"]},{name:"荆门市",areaList:["东宝区","掇刀区","京山县","沙洋县","钟祥市"]},{name:"孝感市",areaList:["孝南区","孝昌县","大悟县","云梦县","应城市","安陆市","汉川市"]},{name:"荆州市",areaList:["沙市区","荆州区","公安县","监利县","江陵县","石首市","洪湖市","松滋市"]},{name:"黄冈市",areaList:["黄州区","团风县","红安县","罗田县","英山县","浠水县","蕲春县","黄梅县","麻城市","武穴市"]},{name:"咸宁市",areaList:["咸安区","嘉鱼县","通城县","崇阳县","通山县","赤壁市"]},{name:"随州市",areaList:["曾都区","随县","广水市"]},{name:"恩施土家族苗族自治州",areaList:["恩施市","利川市","建始县","巴东县","宣恩县","咸丰县","来凤县","鹤峰县"]},{name:"省直辖行政单位",areaList:["仙桃市","潜江市","天门市","神农架林区"]}]},{name:"湖南省",cityList:[{name:"长沙市",areaList:["芙蓉区","天心区","岳麓区","开福区","雨花区","望城区","长沙县","浏阳市","宁乡市"]},{name:"株洲市",areaList:["荷塘区","芦淞区","石峰区","天元区","株洲县","攸县","茶陵县","炎陵县","醴陵市"]},{name:"湘潭市",areaList:["雨湖区","岳塘区","湘潭县","湘乡市","韶山市"]},{name:"衡阳市",areaList:["珠晖区","雁峰区","石鼓区","蒸湘区","南岳区","衡阳县","衡南县","衡山县","衡东县","祁东县","耒阳市","常宁市"]},{name:"邵阳市",areaList:["双清区","大祥区","北塔区","邵东县","新邵县","邵阳县","隆回县","洞口县","绥宁县","新宁县","城步苗族自治县","武冈市"]},{name:"岳阳市",areaList:["岳阳楼区","云溪区","君山区","岳阳县","华容县","湘阴县","平江县","汨罗市","临湘市"]},{name:"常德市",areaList:["武陵区","鼎城区","安乡县","汉寿县","澧县","临澧县","桃源县","石门县","津市市"]},{name:"张家界市",areaList:["永定区","武陵源区","慈利县","桑植县"]},{name:"益阳市",areaList:["资阳区","赫山区","南县","桃江县","安化县","沅江市"]},{name:"郴州市",areaList:["北湖区","苏仙区","桂阳县","宜章县","永兴县","嘉禾县","临武县","汝城县","桂东县","安仁县","资兴市"]},{name:"永州市",areaList:["零陵区","冷水滩区","祁阳县","东安县","双牌县","道县","江永县","宁远县","蓝山县","新田县","江华瑶族自治县"]},{name:"怀化市",areaList:["鹤城区","中方县","沅陵县","辰溪县","溆浦县","会同县","麻阳苗族自治县","新晃侗族自治县","芷江侗族自治县","靖州苗族侗族自治县","通道侗族自治县","洪江市"]},{name:"娄底市",areaList:["娄星区","双峰县","新化县","冷水江市","涟源市"]},{name:"湘西土家族苗族自治州",areaList:["吉首市","泸溪县","凤凰县","花垣县","保靖县","古丈县","永顺县","龙山县"]}]},{name:"广东省",cityList:[{name:"广州市",areaList:["荔湾区","越秀区","海珠区","天河区","白云区","黄埔区","番禺区","花都区","南沙区","从化区","增城区"]},{name:"韶关市",areaList:["武江区","浈江区","曲江区","始兴县","仁化县","翁源县","乳源瑶族自治县","新丰县","乐昌市","南雄市"]},{name:"深圳市",areaList:["罗湖区","福田区","南山区","宝安区","龙岗区","盐田区","龙华区","坪山区"]},{name:"珠海市",areaList:["香洲区","斗门区","金湾区"]},{name:"汕头市",areaList:["龙湖区","金平区","濠江区","潮阳区","潮南区","澄海区","南澳县"]},{name:"佛山市",areaList:["禅城区","南海区","顺德区","三水区","高明区"]},{name:"江门市",areaList:["蓬江区","江海区","新会区","台山市","开平市","鹤山市","恩平市"]},{name:"湛江市",areaList:["赤坎区","霞山区","坡头区","麻章区","遂溪县","徐闻县","廉江市","雷州市","吴川市"]},{name:"茂名市",areaList:["茂南区","电白区","高州市","化州市","信宜市"]},{name:"肇庆市",areaList:["端州区","鼎湖区","高要区","广宁县","怀集县","封开县","德庆县","四会市"]},{name:"惠州市",areaList:["惠城区","惠阳区","博罗县","惠东县","龙门县"]},{name:"梅州市",areaList:["梅江区","梅县区","大埔县","丰顺县","五华县","平远县","蕉岭县","兴宁市"]},{name:"汕尾市",areaList:["城区","海丰县","陆河县","陆丰市"]},{name:"河源市",areaList:["源城区","紫金县","龙川县","连平县","和平县","东源县"]},{name:"阳江市",areaList:["江城区","阳东区","阳西县","阳春市"]},{name:"清远市",areaList:["清城区","清新区","佛冈县","阳山县","连山壮族瑶族自治县","连南瑶族自治县","英德市","连州市"]},{name:"东莞市",areaList:[]},{name:"中山市",areaList:[]},{name:"潮州市",areaList:["湘桥区","潮安区","饶平县"]},{name:"揭阳市",areaList:["榕城区","揭东区","揭西县","惠来县","普宁市"]},{name:"云浮市",areaList:["云城区","云安区","新兴县","郁南县","罗定市"]}]},{name:"广西壮族自治区",cityList:[{name:"南宁市",areaList:["兴宁区","青秀区","江南区","西乡塘区","良庆区","邕宁区","武鸣区","隆安县","马山县","上林县","宾阳县","横县"]},{name:"柳州市",areaList:["城中区","鱼峰区","柳南区","柳北区","柳江区","柳城县","鹿寨县","融安县","融水苗族自治县","三江侗族自治县"]},{name:"桂林市",areaList:["秀峰区","叠彩区","象山区","七星区","雁山区","临桂区","阳朔县","灵川县","全州县","兴安县","永福县","灌阳县","龙胜各族自治县","资源县","平乐县","荔浦县","恭城瑶族自治县"]},{name:"梧州市",areaList:["万秀区","长洲区","龙圩区","苍梧县","藤县","蒙山县","岑溪市"]},{name:"北海市",areaList:["海城区","银海区","铁山港区","合浦县"]},{name:"防城港市",areaList:["港口区","防城区","上思县","东兴市"]},{name:"钦州市",areaList:["钦南区","钦北区","灵山县","浦北县"]},{name:"贵港市",areaList:["港北区","港南区","覃塘区","平南县","桂平市"]},{name:"玉林市",areaList:["玉州区","福绵区","容县","陆川县","博白县","兴业县","北流市"]},{name:"百色市",areaList:["右江区","田阳县","田东县","平果县","德保县","那坡县","凌云县","乐业县","田林县","西林县","隆林各族自治县","靖西市"]},{name:"贺州市",areaList:["八步区","平桂区","昭平县","钟山县","富川瑶族自治县"]},{name:"河池市",areaList:["金城江区","宜州区","南丹县","天峨县","凤山县","东兰县","罗城仫佬族自治县","环江毛南族自治县","巴马瑶族自治县","都安瑶族自治县","大化瑶族自治县"]},{name:"来宾市",areaList:["兴宾区","忻城县","象州县","武宣县","金秀瑶族自治县","合山市"]},{name:"崇左市",areaList:["江州区","扶绥县","宁明县","龙州县","大新县","天等县","凭祥市"]}]},{name:"海南省",cityList:[{name:"海口市",areaList:["秀英区","龙华区","琼山区","美兰区"]},{name:"三亚市",areaList:["海棠区","吉阳区","天涯区","崖州区"]},{name:"三沙市",areaList:[]},{name:"儋州市",areaList:[]},{name:"省直辖行政单位",areaList:["五指山市","琼海市","文昌市","万宁市","东方市","定安县","屯昌县","澄迈县","临高县","白沙黎族自治县","昌江黎族自治县","乐东黎族自治县","陵水黎族自治县","保亭黎族苗族自治县","琼中黎族苗族自治县"]}]},{name:"重庆市",cityList:[{name:"市辖区",areaList:["万州区","涪陵区","渝中区","大渡口区","江北区","沙坪坝区","九龙坡区","南岸区","北碚区","綦江区","大足区","渝北区","巴南区","黔江区","长寿区","江津区","合川区","永川区","南川区","璧山区","铜梁区","潼南区","荣昌区","开州区","梁平区","武隆区"]},{name:"县",areaList:["城口县","丰都县","垫江县","忠县","云阳县","奉节县","巫山县","巫溪县","石柱土家族自治县","秀山土家族苗族自治县","酉阳土家族苗族自治县","彭水苗族土家族自治县"]}]},{name:"四川省",cityList:[{name:"成都市",areaList:["锦江区","青羊区","金牛区","武侯区","成华区","龙泉驿区","青白江区","新都区","温江区","双流区","郫都区","金堂县","大邑县","蒲江县","新津县","都江堰市","彭州市","邛崃市","崇州市","简阳市"]},{name:"自贡市",areaList:["自流井区","贡井区","大安区","沿滩区","荣县","富顺县"]},{name:"攀枝花市",areaList:["东区","西区","仁和区","米易县","盐边县"]},{name:"泸州市",areaList:["江阳区","纳溪区","龙马潭区","泸县","合江县","叙永县","古蔺县"]},{name:"德阳市",areaList:["旌阳区","罗江区","中江县","广汉市","什邡市","绵竹市"]},{name:"绵阳市",areaList:["涪城区","游仙区","安州区","三台县","盐亭县","梓潼县","北川羌族自治县","平武县","江油市"]},{name:"广元市",areaList:["利州区","昭化区","朝天区","旺苍县","青川县","剑阁县","苍溪县"]},{name:"遂宁市",areaList:["船山区","安居区","蓬溪县","射洪县","大英县"]},{name:"内江市",areaList:["市中区","东兴区","威远县","资中县","隆昌市"]},{name:"乐山市",areaList:["市中区","沙湾区","五通桥区","金口河区","犍为县","井研县","夹江县","沐川县","峨边彝族自治县","马边彝族自治县","峨眉山市"]},{name:"南充市",areaList:["顺庆区","高坪区","嘉陵区","南部县","营山县","蓬安县","仪陇县","西充县","阆中市"]},{name:"眉山市",areaList:["东坡区","彭山区","仁寿县","洪雅县","丹棱县","青神县"]},{name:"宜宾市",areaList:["翠屏区","南溪区","宜宾县","江安县","长宁县","高县","珙县","筠连县","兴文县","屏山县"]},{name:"广安市",areaList:["广安区","前锋区","岳池县","武胜县","邻水县","华蓥市"]},{name:"达州市",areaList:["通川区","达川区","宣汉县","开江县","大竹县","渠县","万源市"]},{name:"雅安市",areaList:["雨城区","名山区","荥经县","汉源县","石棉县","天全县","芦山县","宝兴县"]},{name:"巴中市",areaList:["巴州区","恩阳区","通江县","南江县","平昌县"]},{name:"资阳市",areaList:["雁江区","安岳县","乐至县"]},{name:"阿坝藏族羌族自治州",areaList:["马尔康市","汶川县","理县","茂县","松潘县","九寨沟县","金川县","小金县","黑水县","壤塘县","阿坝县","若尔盖县","红原县"]},{name:"甘孜藏族自治州",areaList:["康定市","泸定县","丹巴县","九龙县","雅江县","道孚县","炉霍县","甘孜县","新龙县","德格县","白玉县","石渠县","色达县","理塘县","巴塘县","乡城县","稻城县","得荣县"]},{name:"凉山彝族自治州",areaList:["西昌市","木里藏族自治县","盐源县","德昌县","会理县","会东县","宁南县","普格县","布拖县","金阳县","昭觉县","喜德县","冕宁县","越西县","甘洛县","美姑县","雷波县"]}]},{name:"贵州省",cityList:[{name:"贵阳市",areaList:["南明区","云岩区","花溪区","乌当区","白云区","观山湖区","开阳县","息烽县","修文县","清镇市"]},{name:"六盘水市",areaList:["钟山区","六枝特区","水城县","盘州市"]},{name:"遵义市",areaList:["红花岗区","汇川区","播州区","桐梓县","绥阳县","正安县","道真仡佬族苗族自治县","务川仡佬族苗族自治县","凤冈县","湄潭县","余庆县","习水县","赤水市","仁怀市"]},{name:"安顺市",areaList:["西秀区","平坝区","普定县","镇宁布依族苗族自治县","关岭布依族苗族自治县","紫云苗族布依族自治县"]},{name:"毕节市",areaList:["七星关区","大方县","黔西县","金沙县","织金县","纳雍县","威宁彝族回族苗族自治县","赫章县"]},{name:"铜仁市",areaList:["碧江区","万山区","江口县","玉屏侗族自治县","石阡县","思南县","印江土家族苗族自治县","德江县","沿河土家族自治县","松桃苗族自治县"]},{name:"黔西南布依族苗族自治州",areaList:["兴义市","兴仁县","普安县","晴隆县","贞丰县","望谟县","册亨县","安龙县"]},{name:"黔东南苗族侗族自治州",areaList:["凯里市","黄平县","施秉县","三穗县","镇远县","岑巩县","天柱县","锦屏县","剑河县","台江县","黎平县","榕江县","从江县","雷山县","麻江县","丹寨县"]},{name:"黔南布依族苗族自治州",areaList:["都匀市","福泉市","荔波县","贵定县","瓮安县","独山县","平塘县","罗甸县","长顺县","龙里县","惠水县","三都水族自治县"]}]},{name:"云南省",cityList:[{name:"昆明市",areaList:["五华区","盘龙区","官渡区","西山区","东川区","呈贡区","晋宁区","富民县","宜良县","石林彝族自治县","嵩明县","禄劝彝族苗族自治县","寻甸回族彝族自治县","安宁市"]},{name:"曲靖市",areaList:["麒麟区","沾益区","马龙区","陆良县","师宗县","罗平县","富源县","会泽县","宣威市"]},{name:"玉溪市",areaList:["红塔区","江川区","澄江县","通海县","华宁县","易门县","峨山彝族自治县","新平彝族傣族自治县","元江哈尼族彝族傣族自治县"]},{name:"保山市",areaList:["隆阳区","施甸县","龙陵县","昌宁县","腾冲市"]},{name:"昭通市",areaList:["昭阳区","鲁甸县","巧家县","盐津县","大关县","永善县","绥江县","镇雄县","彝良县","威信县","水富县"]},{name:"丽江市",areaList:["古城区","玉龙纳西族自治县","永胜县","华坪县","宁蒗彝族自治县"]},{name:"普洱市",areaList:["思茅区","宁洱哈尼族彝族自治县","墨江哈尼族自治县","景东彝族自治县","景谷傣族彝族自治县","镇沅彝族哈尼族拉祜族自治县","江城哈尼族彝族自治县","孟连傣族拉祜族佤族自治县","澜沧拉祜族自治县","西盟佤族自治县"]},{name:"临沧市",areaList:["临翔区","凤庆县","云县","永德县","镇康县","双江拉祜族佤族布朗族傣族自治县","耿马傣族佤族自治县","沧源佤族自治县"]},{name:"楚雄彝族自治州",areaList:["楚雄市","双柏县","牟定县","南华县","姚安县","大姚县","永仁县","元谋县","武定县","禄丰县"]},{name:"红河哈尼族彝族自治州",areaList:["个旧市","开远市","蒙自市","弥勒市","屏边苗族自治县","建水县","石屏县","泸西县","元阳县","红河县","金平苗族瑶族傣族自治县","绿春县","河口瑶族自治县"]},{name:"文山壮族苗族自治州",areaList:["文山市","砚山县","西畴县","麻栗坡县","马关县","丘北县","广南县","富宁县"]},{name:"西双版纳傣族自治州",areaList:["景洪市","勐海县","勐腊县"]},{name:"大理白族自治州",areaList:["大理市","漾濞彝族自治县","祥云县","宾川县","弥渡县","南涧彝族自治县","巍山彝族回族自治县","永平县","云龙县","洱源县","剑川县","鹤庆县"]},{name:"德宏傣族景颇族自治州",areaList:["瑞丽市","芒市","梁河县","盈江县","陇川县"]},{name:"怒江傈僳族自治州",areaList:["泸水市","福贡县","贡山独龙族怒族自治县","兰坪白族普米族自治县"]},{name:"迪庆藏族自治州",areaList:["香格里拉市","德钦县","维西傈僳族自治县"]}]},{name:"西藏自治区",cityList:[{name:"拉萨市",areaList:["城关区","堆龙德庆区","达孜区","林周县","当雄县","尼木县","曲水县","墨竹工卡县"]},{name:"日喀则市",areaList:["桑珠孜区","南木林县","江孜县","定日县","萨迦县","拉孜县","昂仁县","谢通门县","白朗县","仁布县","康马县","定结县","仲巴县","亚东县","吉隆县","聂拉木县","萨嘎县","岗巴县"]},{name:"昌都市",areaList:["卡若区","江达县","贡觉县","类乌齐县","丁青县","察雅县","八宿县","左贡县","芒康县","洛隆县","边坝县"]},{name:"林芝市",areaList:["巴宜区","工布江达县","米林县","墨脱县","波密县","察隅县","朗县"]},{name:"山南市",areaList:["乃东区","扎囊县","贡嘎县","桑日县","琼结县","曲松县","措美县","洛扎县","加查县","隆子县","错那县","浪卡子县"]},{name:"那曲市",areaList:["色尼区","嘉黎县","比如县","聂荣县","安多县","申扎县","索县","班戈县","巴青县","尼玛县","双湖县"]},{name:"阿里地区",areaList:["普兰县","札达县","噶尔县","日土县","革吉县","改则县","措勤县"]}]},{name:"陕西省",cityList:[{name:"西安市",areaList:["新城区","碑林区","莲湖区","灞桥区","未央区","雁塔区","阎良区","临潼区","长安区","高陵区","鄠邑区","蓝田县","周至县"]},{name:"铜川市",areaList:["王益区","印台区","耀州区","宜君县"]},{name:"宝鸡市",areaList:["渭滨区","金台区","陈仓区","凤翔县","岐山县","扶风县","眉县","陇县","千阳县","麟游县","凤县","太白县"]},{name:"咸阳市",areaList:["秦都区","杨陵区","渭城区","三原县","泾阳县","乾县","礼泉县","永寿县","长武县","旬邑县","淳化县","武功县","兴平市","彬州市"]},{name:"渭南市",areaList:["临渭区","华州区","潼关县","大荔县","合阳县","澄城县","蒲城县","白水县","富平县","韩城市","华阴市"]},{name:"延安市",areaList:["宝塔区","安塞区","延长县","延川县","子长县","志丹县","吴起县","甘泉县","富县","洛川县","宜川县","黄龙县","黄陵县"]},{name:"汉中市",areaList:["汉台区","南郑区","城固县","洋县","西乡县","勉县","宁强县","略阳县","镇巴县","留坝县","佛坪县"]},{name:"榆林市",areaList:["榆阳区","横山区","府谷县","靖边县","定边县","绥德县","米脂县","佳县","吴堡县","清涧县","子洲县","神木市"]},{name:"安康市",areaList:["汉滨区","汉阴县","石泉县","宁陕县","紫阳县","岚皋县","平利县","镇坪县","旬阳县","白河县"]},{name:"商洛市",areaList:["商州区","洛南县","丹凤县","商南县","山阳县","镇安县","柞水县"]}]},{name:"甘肃省",cityList:[{name:"兰州市",areaList:["城关区","七里河区","西固区","安宁区","红古区","永登县","皋兰县","榆中县"]},{name:"嘉峪关市",areaList:[]},{name:"金昌市",areaList:["金川区","永昌县"]},{name:"白银市",areaList:["白银区","平川区","靖远县","会宁县","景泰县"]},{name:"天水市",areaList:["秦州区","麦积区","清水县","秦安县","甘谷县","武山县","张家川回族自治县"]},{name:"武威市",areaList:["凉州区","民勤县","古浪县","天祝藏族自治县"]},{name:"张掖市",areaList:["甘州区","肃南裕固族自治县","民乐县","临泽县","高台县","山丹县"]},{name:"平凉市",areaList:["崆峒区","泾川县","灵台县","崇信县","华亭县","庄浪县","静宁县"]},{name:"酒泉市",areaList:["肃州区","金塔县","瓜州县","肃北蒙古族自治县","阿克塞哈萨克族自治县","玉门市","敦煌市"]},{name:"庆阳市",areaList:["西峰区","庆城县","环县","华池县","合水县","正宁县","宁县","镇原县"]},{name:"定西市",areaList:["安定区","通渭县","陇西县","渭源县","临洮县","漳县","岷县"]},{name:"陇南市",areaList:["武都区","成县","文县","宕昌县","康县","西和县","礼县","徽县","两当县"]},{name:"临夏回族自治州",areaList:["临夏市","临夏县","康乐县","永靖县","广河县","和政县","东乡族自治县","积石山保安族东乡族撒拉族自治县"]},{name:"甘南藏族自治州",areaList:["合作市","临潭县","卓尼县","舟曲县","迭部县","玛曲县","碌曲县","夏河县"]}]},{name:"青海省",cityList:[{name:"西宁市",areaList:["城东区","城中区","城西区","城北区","大通回族土族自治县","湟中县","湟源县"]},{name:"海东市",areaList:["乐都区","平安区","民和回族土族自治县","互助土族自治县","化隆回族自治县","循化撒拉族自治县"]},{name:"海北藏族自治州",areaList:["门源回族自治县","祁连县","海晏县","刚察县"]},{name:"黄南藏族自治州",areaList:["同仁县","尖扎县","泽库县","河南蒙古族自治县"]},{name:"海南藏族自治州",areaList:["共和县","同德县","贵德县","兴海县","贵南县"]},{name:"果洛藏族自治州",areaList:["玛沁县","班玛县","甘德县","达日县","久治县","玛多县"]},{name:"玉树藏族自治州",areaList:["玉树市","杂多县","称多县","治多县","囊谦县","曲麻莱县"]},{name:"海西蒙古族藏族自治州",areaList:["格尔木市","德令哈市","乌兰县","都兰县","天峻县"]}]},{name:"宁夏回族自治区",cityList:[{name:"银川市",areaList:["兴庆区","西夏区","金凤区","永宁县","贺兰县","灵武市"]},{name:"石嘴山市",areaList:["大武口区","惠农区","平罗县"]},{name:"吴忠市",areaList:["利通区","红寺堡区","盐池县","同心县","青铜峡市"]},{name:"固原市",areaList:["原州区","西吉县","隆德县","泾源县","彭阳县"]},{name:"中卫市",areaList:["沙坡头区","中宁县","海原县"]}]},{name:"新疆维吾尔自治区",cityList:[{name:"乌鲁木齐市",areaList:["天山区","沙依巴克区","新市区","水磨沟区","头屯河区","达坂城区","米东区","乌鲁木齐县"]},{name:"克拉玛依市",areaList:["独山子区","克拉玛依区","白碱滩区","乌尔禾区"]},{name:"吐鲁番市",areaList:["高昌区","鄯善县","托克逊县"]},{name:"哈密市",areaList:["伊州区","巴里坤哈萨克自治县","伊吾县"]},{name:"昌吉回族自治州",areaList:["昌吉市","阜康市","呼图壁县","玛纳斯县","奇台县","吉木萨尔县","木垒哈萨克自治县"]},{name:"博尔塔拉蒙古自治州",areaList:["博乐市","阿拉山口市","精河县","温泉县"]},{name:"巴音郭楞蒙古自治州",areaList:["库尔勒市","轮台县","尉犁县","若羌县","且末县","焉耆回族自治县","和静县","和硕县","博湖县"]},{name:"阿克苏地区",areaList:["阿克苏市","温宿县","库车县","沙雅县","新和县","拜城县","乌什县","阿瓦提县","柯坪县"]},{name:"克孜勒苏柯尔克孜自治州",areaList:["阿图什市","阿克陶县","阿合奇县","乌恰县"]},{name:"喀什地区",areaList:["喀什市","疏附县","疏勒县","英吉沙县","泽普县","莎车县","叶城县","麦盖提县","岳普湖县","伽师县","巴楚县","塔什库尔干塔吉克自治县"]},{name:"和田地区",areaList:["和田市","和田县","墨玉县","皮山县","洛浦县","策勒县","于田县","民丰县"]},{name:"伊犁哈萨克自治州",areaList:["伊宁市","奎屯市","霍尔果斯市","伊宁县","察布查尔锡伯自治县","霍城县","巩留县","新源县","昭苏县","特克斯县","尼勒克县"]},{name:"塔城地区",areaList:["塔城市","乌苏市","额敏县","沙湾县","托里县","裕民县","和布克赛尔蒙古自治县"]},{name:"阿勒泰地区",areaList:["阿勒泰市","布尔津县","富蕴县","福海县","哈巴河县","青河县","吉木乃县"]},{name:"省直辖行政单位",areaList:["石河子市","阿拉尔市","图木舒克市","五家渠市","北屯市","铁门关市","双河市","可克达拉市","昆玉市"]}]},{name:"台湾省",cityList:[]},{name:"香港特别行政区",cityList:[]},{name:"澳门特别行政区",cityList:[]}],n.a.prototype._getCityList=function(e){var t=[];return e?(this.provinceList.forEach(function(i){i.name===e&&(t=i.cityList)}),t):t},n.a.prototype._getAreaList=function(e,t){var i=[];if(!e||!t)return i;this.provinceList.forEach(function(n){n.name===t&&n.cityList.forEach(function(t){t.name===e&&(i=t.areaList)})});var n=[];return i.forEach(function(e){n.push({name:e})}),n},n.a.directive("focus",{inserted:function(e){e.focus()}}),P.beforeEach(function(e,t,i){e.matched.length>0?i():i("/index")}),P.afterEach(function(e,t){}),new n.a({el:"#app",template:"<App/>",components:{App:U},router:P})},NbeE:function(e,t){},Npw1:function(e,t){},NtEc:function(e,t){},NuOq:function(e,t,i){"use strict";t.a=function(e){return{"3d_rotation":"&#xe84d;",ac_unit:"&#xeb3b;",access_alarm:"&#xe190;",access_alarms:"&#xe191;",access_time:"&#xe192;",accessibility:"&#xe84e;",accessible:"&#xe914;",account_balance:"&#xe84f;",account_balance_wallet:"&#xe850;",account_box:"&#xe851;",account_circle:"&#xe853;",adb:"&#xe60e;",add:"&#xe145;",add_a_photo:"&#xe439;",add_alarm:"&#xe193;",add_alert:"&#xe003;",add_box:"&#xe146;",add_circle:"&#xe147;",add_circle_outline:"&#xe148;",add_location:"&#xe567;",add_shopping_cart:"&#xe854;",add_to_photos:"&#xe39d;",add_to_queue:"&#xe05c;",adjust:"&#xe39e;",airline_seat_flat:"&#xe630;",airline_seat_flat_angled:"&#xe631;",airline_seat_individual_suite:"&#xe632;",airline_seat_legroom_extra:"&#xe633;",airline_seat_legroom_normal:"&#xe634;",airline_seat_legroom_reduced:"&#xe635;",airline_seat_recline_extra:"&#xe636;",airline_seat_recline_normal:"&#xe637;",airplanemode_active:"&#xe195;",airplanemode_inactive:"&#xe194;",airplay:"&#xe055;",airport_shuttle:"&#xeb3c;",alarm:"&#xe855;",alarm_add:"&#xe856;",alarm_off:"&#xe857;",alarm_on:"&#xe858;",album:"&#xe019;",all_inclusive:"&#xeb3d;",all_out:"&#xe90b;",android:"&#xe859;",announcement:"&#xe85a;",apps:"&#xe5c3;",archive:"&#xe149;",arrow_back:"&#xe5c4;",arrow_downward:"&#xe5db;",arrow_drop_down:"&#xe5c5;",arrow_drop_down_circle:"&#xe5c6;",arrow_drop_up:"&#xe5c7;",arrow_forward:"&#xe5c8;",arrow_upward:"&#xe5d8;",art_track:"&#xe060;",aspect_ratio:"&#xe85b;",assessment:"&#xe85c;",assignment:"&#xe85d;",assignment_ind:"&#xe85e;",assignment_late:"&#xe85f;",assignment_return:"&#xe860;",assignment_returned:"&#xe861;",assignment_turned_in:"&#xe862;",assistant:"&#xe39f;",assistant_photo:"&#xe3a0;",attach_file:"&#xe226;",attach_money:"&#xe227;",attachment:"&#xe2bc;",audiotrack:"&#xe3a1;",autorenew:"&#xe863;",av_timer:"&#xe01b;",backspace:"&#xe14a;",backup:"&#xe864;",battery_alert:"&#xe19c;",battery_charging_full:"&#xe1a3;",battery_full:"&#xe1a4;",battery_std:"&#xe1a5;",battery_unknown:"&#xe1a6;",beach_access:"&#xeb3e;",beenhere:"&#xe52d;",block:"&#xe14b;",bluetooth:"&#xe1a7;",bluetooth_audio:"&#xe60f;",bluetooth_connected:"&#xe1a8;",bluetooth_disabled:"&#xe1a9;",bluetooth_searching:"&#xe1aa;",blur_circular:"&#xe3a2;",blur_linear:"&#xe3a3;",blur_off:"&#xe3a4;",blur_on:"&#xe3a5;",book:"&#xe865;",bookmark:"&#xe866;",bookmark_border:"&#xe867;",border_all:"&#xe228;",border_bottom:"&#xe229;",border_clear:"&#xe22a;",border_color:"&#xe22b;",border_horizontal:"&#xe22c;",border_inner:"&#xe22d;",border_left:"&#xe22e;",border_outer:"&#xe22f;",border_right:"&#xe230;",border_style:"&#xe231;",border_top:"&#xe232;",border_vertical:"&#xe233;",branding_watermark:"&#xe06b;",brightness_1:"&#xe3a6;",brightness_2:"&#xe3a7;",brightness_3:"&#xe3a8;",brightness_4:"&#xe3a9;",brightness_5:"&#xe3aa;",brightness_6:"&#xe3ab;",brightness_7:"&#xe3ac;",brightness_auto:"&#xe1ab;",brightness_high:"&#xe1ac;",brightness_low:"&#xe1ad;",brightness_medium:"&#xe1ae;",broken_image:"&#xe3ad;",brush:"&#xe3ae;",bubble_chart:"&#xe6dd;",bug_report:"&#xe868;",build:"&#xe869;",burst_mode:"&#xe43c;",business:"&#xe0af;",business_center:"&#xeb3f;",cached:"&#xe86a;",cake:"&#xe7e9;",call:"&#xe0b0;",call_end:"&#xe0b1;",call_made:"&#xe0b2;",call_merge:"&#xe0b3;",call_missed:"&#xe0b4;",call_missed_outgoing:"&#xe0e4;",call_received:"&#xe0b5;",call_split:"&#xe0b6;",call_to_action:"&#xe06c;",camera:"&#xe3af;",camera_alt:"&#xe3b0;",camera_enhance:"&#xe8fc;",camera_front:"&#xe3b1;",camera_rear:"&#xe3b2;",camera_roll:"&#xe3b3;",cancel:"&#xe5c9;",card_giftcard:"&#xe8f6;",card_membership:"&#xe8f7;",card_travel:"&#xe8f8;",casino:"&#xeb40;",cast:"&#xe307;",cast_connected:"&#xe308;",center_focus_strong:"&#xe3b4;",center_focus_weak:"&#xe3b5;",change_history:"&#xe86b;",chat:"&#xe0b7;",chat_bubble:"&#xe0ca;",chat_bubble_outline:"&#xe0cb;",check:"&#xe5ca;",check_box:"&#xe834;",check_box_outline_blank:"&#xe835;",check_circle:"&#xe86c;",chevron_left:"&#xe5cb;",chevron_right:"&#xe5cc;",child_care:"&#xeb41;",child_friendly:"&#xeb42;",chrome_reader_mode:"&#xe86d;",class:"&#xe86e;",clear:"&#xe14c;",clear_all:"&#xe0b8;",close:"&#xe5cd;",closed_caption:"&#xe01c;",cloud:"&#xe2bd;",cloud_circle:"&#xe2be;",cloud_done:"&#xe2bf;",cloud_download:"&#xe2c0;",cloud_off:"&#xe2c1;",cloud_queue:"&#xe2c2;",cloud_upload:"&#xe2c3;",code:"&#xe86f;",collections:"&#xe3b6;",collections_bookmark:"&#xe431;",color_lens:"&#xe3b7;",colorize:"&#xe3b8;",comment:"&#xe0b9;",compare:"&#xe3b9;",compare_arrows:"&#xe915;",computer:"&#xe30a;",confirmation_number:"&#xe638;",contact_mail:"&#xe0d0;",contact_phone:"&#xe0cf;",contacts:"&#xe0ba;",content_copy:"&#xe14d;",content_cut:"&#xe14e;",content_paste:"&#xe14f;",control_point:"&#xe3ba;",control_point_duplicate:"&#xe3bb;",copyright:"&#xe90c;",create:"&#xe150;",create_new_folder:"&#xe2cc;",credit_card:"&#xe870;",crop:"&#xe3be;",crop_16_9:"&#xe3bc;",crop_3_2:"&#xe3bd;",crop_5_4:"&#xe3bf;",crop_7_5:"&#xe3c0;",crop_din:"&#xe3c1;",crop_free:"&#xe3c2;",crop_landscape:"&#xe3c3;",crop_original:"&#xe3c4;",crop_portrait:"&#xe3c5;",crop_rotate:"&#xe437;",crop_square:"&#xe3c6;",dashboard:"&#xe871;",data_usage:"&#xe1af;",date_range:"&#xe916;",dehaze:"&#xe3c7;",delete:"&#xe872;",delete_forever:"&#xe92b;",delete_sweep:"&#xe16c;",description:"&#xe873;",desktop_mac:"&#xe30b;",desktop_windows:"&#xe30c;",details:"&#xe3c8;",developer_board:"&#xe30d;",developer_mode:"&#xe1b0;",device_hub:"&#xe335;",devices:"&#xe1b1;",devices_other:"&#xe337;",dialer_sip:"&#xe0bb;",dialpad:"&#xe0bc;",directions:"&#xe52e;",directions_bike:"&#xe52f;",directions_boat:"&#xe532;",directions_bus:"&#xe530;",directions_car:"&#xe531;",directions_railway:"&#xe534;",directions_run:"&#xe566;",directions_subway:"&#xe533;",directions_transit:"&#xe535;",directions_walk:"&#xe536;",disc_full:"&#xe610;",dns:"&#xe875;",do_not_disturb:"&#xe612;",do_not_disturb_alt:"&#xe611;",do_not_disturb_off:"&#xe643;",do_not_disturb_on:"&#xe644;",dock:"&#xe30e;",domain:"&#xe7ee;",done:"&#xe876;",done_all:"&#xe877;",donut_large:"&#xe917;",donut_small:"&#xe918;",drafts:"&#xe151;",drag_handle:"&#xe25d;",drive_eta:"&#xe613;",dvr:"&#xe1b2;",edit:"&#xe3c9;",edit_location:"&#xe568;",eject:"&#xe8fb;",email:"&#xe0be;",enhanced_encryption:"&#xe63f;",equalizer:"&#xe01d;",error:"&#xe000;",error_outline:"&#xe001;",euro_symbol:"&#xe926;",ev_station:"&#xe56d;",event:"&#xe878;",event_available:"&#xe614;",event_busy:"&#xe615;",event_note:"&#xe616;",event_seat:"&#xe903;",exit_to_app:"&#xe879;",expand_less:"&#xe5ce;",expand_more:"&#xe5cf;",explicit:"&#xe01e;",explore:"&#xe87a;",exposure:"&#xe3ca;",exposure_neg_1:"&#xe3cb;",exposure_neg_2:"&#xe3cc;",exposure_plus_1:"&#xe3cd;",exposure_plus_2:"&#xe3ce;",exposure_zero:"&#xe3cf;",extension:"&#xe87b;",face:"&#xe87c;",fast_forward:"&#xe01f;",fast_rewind:"&#xe020;",favorite:"&#xe87d;",favorite_border:"&#xe87e;",featured_play_list:"&#xe06d;",featured_video:"&#xe06e;",feedback:"&#xe87f;",fiber_dvr:"&#xe05d;",fiber_manual_record:"&#xe061;",fiber_new:"&#xe05e;",fiber_pin:"&#xe06a;",fiber_smart_record:"&#xe062;",file_download:"&#xe2c4;",file_upload:"&#xe2c6;",filter:"&#xe3d3;",filter_1:"&#xe3d0;",filter_2:"&#xe3d1;",filter_3:"&#xe3d2;",filter_4:"&#xe3d4;",filter_5:"&#xe3d5;",filter_6:"&#xe3d6;",filter_7:"&#xe3d7;",filter_8:"&#xe3d8;",filter_9:"&#xe3d9;",filter_9_plus:"&#xe3da;",filter_b_and_w:"&#xe3db;",filter_center_focus:"&#xe3dc;",filter_drama:"&#xe3dd;",filter_frames:"&#xe3de;",filter_hdr:"&#xe3df;",filter_list:"&#xe152;",filter_none:"&#xe3e0;",filter_tilt_shift:"&#xe3e2;",filter_vintage:"&#xe3e3;",find_in_page:"&#xe880;",find_replace:"&#xe881;",fingerprint:"&#xe90d;",first_page:"&#xe5dc;",fitness_center:"&#xeb43;",flag:"&#xe153;",flare:"&#xe3e4;",flash_auto:"&#xe3e5;",flash_off:"&#xe3e6;",flash_on:"&#xe3e7;",flight:"&#xe539;",flight_land:"&#xe904;",flight_takeoff:"&#xe905;",flip:"&#xe3e8;",flip_to_back:"&#xe882;",flip_to_front:"&#xe883;",folder:"&#xe2c7;",folder_open:"&#xe2c8;",folder_shared:"&#xe2c9;",folder_special:"&#xe617;",font_download:"&#xe167;",format_align_center:"&#xe234;",format_align_justify:"&#xe235;",format_align_left:"&#xe236;",format_align_right:"&#xe237;",format_bold:"&#xe238;",format_clear:"&#xe239;",format_color_fill:"&#xe23a;",format_color_reset:"&#xe23b;",format_color_text:"&#xe23c;",format_indent_decrease:"&#xe23d;",format_indent_increase:"&#xe23e;",format_italic:"&#xe23f;",format_line_spacing:"&#xe240;",format_list_bulleted:"&#xe241;",format_list_numbered:"&#xe242;",format_paint:"&#xe243;",format_quote:"&#xe244;",format_shapes:"&#xe25e;",format_size:"&#xe245;",format_strikethrough:"&#xe246;",format_textdirection_l_to_r:"&#xe247;",format_textdirection_r_to_l:"&#xe248;",format_underlined:"&#xe249;",forum:"&#xe0bf;",forward:"&#xe154;",forward_10:"&#xe056;",forward_30:"&#xe057;",forward_5:"&#xe058;",free_breakfast:"&#xeb44;",fullscreen:"&#xe5d0;",fullscreen_exit:"&#xe5d1;",functions:"&#xe24a;",g_translate:"&#xe927;",gamepad:"&#xe30f;",games:"&#xe021;",gavel:"&#xe90e;",gesture:"&#xe155;",get_app:"&#xe884;",gif:"&#xe908;",golf_course:"&#xeb45;",gps_fixed:"&#xe1b3;",gps_not_fixed:"&#xe1b4;",gps_off:"&#xe1b5;",grade:"&#xe885;",gradient:"&#xe3e9;",grain:"&#xe3ea;",graphic_eq:"&#xe1b8;",grid_off:"&#xe3eb;",grid_on:"&#xe3ec;",group:"&#xe7ef;",group_add:"&#xe7f0;",group_work:"&#xe886;",hd:"&#xe052;",hdr_off:"&#xe3ed;",hdr_on:"&#xe3ee;",hdr_strong:"&#xe3f1;",hdr_weak:"&#xe3f2;",headset:"&#xe310;",headset_mic:"&#xe311;",healing:"&#xe3f3;",hearing:"&#xe023;",help:"&#xe887;",help_outline:"&#xe8fd;",high_quality:"&#xe024;",highlight:"&#xe25f;",highlight_off:"&#xe888;",history:"&#xe889;",home:"&#xe88a;",hot_tub:"&#xeb46;",hotel:"&#xe53a;",hourglass_empty:"&#xe88b;",hourglass_full:"&#xe88c;",http:"&#xe902;",https:"&#xe88d;",image:"&#xe3f4;",image_aspect_ratio:"&#xe3f5;",import_contacts:"&#xe0e0;",import_export:"&#xe0c3;",important_devices:"&#xe912;",inbox:"&#xe156;",indeterminate_check_box:"&#xe909;",info:"&#xe88e;",info_outline:"&#xe88f;",input:"&#xe890;",insert_chart:"&#xe24b;",insert_comment:"&#xe24c;",insert_drive_file:"&#xe24d;",insert_emoticon:"&#xe24e;",insert_invitation:"&#xe24f;",insert_link:"&#xe250;",insert_photo:"&#xe251;",invert_colors:"&#xe891;",invert_colors_off:"&#xe0c4;",iso:"&#xe3f6;",keyboard:"&#xe312;",keyboard_arrow_down:"&#xe313;",keyboard_arrow_left:"&#xe314;",keyboard_arrow_right:"&#xe315;",keyboard_arrow_up:"&#xe316;",keyboard_backspace:"&#xe317;",keyboard_capslock:"&#xe318;",keyboard_hide:"&#xe31a;",keyboard_return:"&#xe31b;",keyboard_tab:"&#xe31c;",keyboard_voice:"&#xe31d;",kitchen:"&#xeb47;",label:"&#xe892;",label_outline:"&#xe893;",landscape:"&#xe3f7;",language:"&#xe894;",laptop:"&#xe31e;",laptop_chromebook:"&#xe31f;",laptop_mac:"&#xe320;",laptop_windows:"&#xe321;",last_page:"&#xe5dd;",launch:"&#xe895;",layers:"&#xe53b;",layers_clear:"&#xe53c;",leak_add:"&#xe3f8;",leak_remove:"&#xe3f9;",lens:"&#xe3fa;",library_add:"&#xe02e;",library_books:"&#xe02f;",library_music:"&#xe030;",lightbulb_outline:"&#xe90f;",line_style:"&#xe919;",line_weight:"&#xe91a;",linear_scale:"&#xe260;",link:"&#xe157;",linked_camera:"&#xe438;",list:"&#xe896;",live_help:"&#xe0c6;",live_tv:"&#xe639;",local_activity:"&#xe53f;",local_airport:"&#xe53d;",local_atm:"&#xe53e;",local_bar:"&#xe540;",local_cafe:"&#xe541;",local_car_wash:"&#xe542;",local_convenience_store:"&#xe543;",local_dining:"&#xe556;",local_drink:"&#xe544;",local_florist:"&#xe545;",local_gas_station:"&#xe546;",local_grocery_store:"&#xe547;",local_hospital:"&#xe548;",local_hotel:"&#xe549;",local_laundry_service:"&#xe54a;",local_library:"&#xe54b;",local_mall:"&#xe54c;",local_movies:"&#xe54d;",local_offer:"&#xe54e;",local_parking:"&#xe54f;",local_pharmacy:"&#xe550;",local_phone:"&#xe551;",local_pizza:"&#xe552;",local_play:"&#xe553;",local_post_office:"&#xe554;",local_printshop:"&#xe555;",local_see:"&#xe557;",local_shipping:"&#xe558;",local_taxi:"&#xe559;",location_city:"&#xe7f1;",location_disabled:"&#xe1b6;",location_off:"&#xe0c7;",location_on:"&#xe0c8;",location_searching:"&#xe1b7;",lock:"&#xe897;",lock_open:"&#xe898;",lock_outline:"&#xe899;",looks:"&#xe3fc;",looks_3:"&#xe3fb;",looks_4:"&#xe3fd;",looks_5:"&#xe3fe;",looks_6:"&#xe3ff;",looks_one:"&#xe400;",looks_two:"&#xe401;",loop:"&#xe028;",loupe:"&#xe402;",low_priority:"&#xe16d;",loyalty:"&#xe89a;",mail:"&#xe158;",mail_outline:"&#xe0e1;",map:"&#xe55b;",markunread:"&#xe159;",markunread_mailbox:"&#xe89b;",memory:"&#xe322;",menu:"&#xe5d2;",merge_type:"&#xe252;",message:"&#xe0c9;",mic:"&#xe029;",mic_none:"&#xe02a;",mic_off:"&#xe02b;",mms:"&#xe618;",mode_comment:"&#xe253;",mode_edit:"&#xe254;",monetization_on:"&#xe263;",money_off:"&#xe25c;",monochrome_photos:"&#xe403;",mood:"&#xe7f2;",mood_bad:"&#xe7f3;",more:"&#xe619;",more_horiz:"&#xe5d3;",more_vert:"&#xe5d4;",motorcycle:"&#xe91b;",mouse:"&#xe323;",move_to_inbox:"&#xe168;",movie:"&#xe02c;",movie_creation:"&#xe404;",movie_filter:"&#xe43a;",multiline_chart:"&#xe6df;",music_note:"&#xe405;",music_video:"&#xe063;",my_location:"&#xe55c;",nature:"&#xe406;",nature_people:"&#xe407;",navigate_before:"&#xe408;",navigate_next:"&#xe409;",navigation:"&#xe55d;",near_me:"&#xe569;",network_cell:"&#xe1b9;",network_check:"&#xe640;",network_locked:"&#xe61a;",network_wifi:"&#xe1ba;",new_releases:"&#xe031;",next_week:"&#xe16a;",nfc:"&#xe1bb;",no_encryption:"&#xe641;",no_sim:"&#xe0cc;",not_interested:"&#xe033;",note:"&#xe06f;",note_add:"&#xe89c;",notifications:"&#xe7f4;",notifications_active:"&#xe7f7;",notifications_none:"&#xe7f5;",notifications_off:"&#xe7f6;",notifications_paused:"&#xe7f8;",offline_pin:"&#xe90a;",ondemand_video:"&#xe63a;",opacity:"&#xe91c;",open_in_browser:"&#xe89d;",open_in_new:"&#xe89e;",open_with:"&#xe89f;",pages:"&#xe7f9;",pageview:"&#xe8a0;",palette:"&#xe40a;",pan_tool:"&#xe925;",panorama:"&#xe40b;",panorama_fish_eye:"&#xe40c;",panorama_horizontal:"&#xe40d;",panorama_vertical:"&#xe40e;",panorama_wide_angle:"&#xe40f;",party_mode:"&#xe7fa;",pause:"&#xe034;",pause_circle_filled:"&#xe035;",pause_circle_outline:"&#xe036;",payment:"&#xe8a1;",people:"&#xe7fb;",people_outline:"&#xe7fc;",perm_camera_mic:"&#xe8a2;",perm_contact_calendar:"&#xe8a3;",perm_data_setting:"&#xe8a4;",perm_device_information:"&#xe8a5;",perm_identity:"&#xe8a6;",perm_media:"&#xe8a7;",perm_phone_msg:"&#xe8a8;",perm_scan_wifi:"&#xe8a9;",person:"&#xe7fd;",person_add:"&#xe7fe;",person_outline:"&#xe7ff;",person_pin:"&#xe55a;",person_pin_circle:"&#xe56a;",personal_video:"&#xe63b;",pets:"&#xe91d;",phone:"&#xe0cd;",phone_android:"&#xe324;",phone_bluetooth_speaker:"&#xe61b;",phone_forwarded:"&#xe61c;",phone_in_talk:"&#xe61d;",phone_iphone:"&#xe325;",phone_locked:"&#xe61e;",phone_missed:"&#xe61f;",phone_paused:"&#xe620;",phonelink:"&#xe326;",phonelink_erase:"&#xe0db;",phonelink_lock:"&#xe0dc;",phonelink_off:"&#xe327;",phonelink_ring:"&#xe0dd;",phonelink_setup:"&#xe0de;",photo:"&#xe410;",photo_album:"&#xe411;",photo_camera:"&#xe412;",photo_filter:"&#xe43b;",photo_library:"&#xe413;",photo_size_select_actual:"&#xe432;",photo_size_select_large:"&#xe433;",photo_size_select_small:"&#xe434;",picture_as_pdf:"&#xe415;",picture_in_picture:"&#xe8aa;",picture_in_picture_alt:"&#xe911;",pie_chart:"&#xe6c4;",pie_chart_outlined:"&#xe6c5;",pin_drop:"&#xe55e;",place:"&#xe55f;",play_arrow:"&#xe037;",play_circle_filled:"&#xe038;",play_circle_outline:"&#xe039;",play_for_work:"&#xe906;",playlist_add:"&#xe03b;",playlist_add_check:"&#xe065;",playlist_play:"&#xe05f;",plus_one:"&#xe800;",poll:"&#xe801;",polymer:"&#xe8ab;",pool:"&#xeb48;",portable_wifi_off:"&#xe0ce;",portrait:"&#xe416;",power:"&#xe63c;",power_input:"&#xe336;",power_settings_new:"&#xe8ac;",pregnant_woman:"&#xe91e;",present_to_all:"&#xe0df;",print:"&#xe8ad;",priority_high:"&#xe645;",public:"&#xe80b;",publish:"&#xe255;",query_builder:"&#xe8ae;",question_answer:"&#xe8af;",queue:"&#xe03c;",queue_music:"&#xe03d;",queue_play_next:"&#xe066;",radio:"&#xe03e;",radio_button_checked:"&#xe837;",radio_button_unchecked:"&#xe836;",rate_review:"&#xe560;",receipt:"&#xe8b0;",recent_actors:"&#xe03f;",record_voice_over:"&#xe91f;",redeem:"&#xe8b1;",redo:"&#xe15a;",refresh:"&#xe5d5;",remove:"&#xe15b;",remove_circle:"&#xe15c;",remove_circle_outline:"&#xe15d;",remove_from_queue:"&#xe067;",remove_red_eye:"&#xe417;",remove_shopping_cart:"&#xe928;",reorder:"&#xe8fe;",repeat:"&#xe040;",repeat_one:"&#xe041;",replay:"&#xe042;",replay_10:"&#xe059;",replay_30:"&#xe05a;",replay_5:"&#xe05b;",reply:"&#xe15e;",reply_all:"&#xe15f;",report:"&#xe160;",report_problem:"&#xe8b2;",restaurant:"&#xe56c;",restaurant_menu:"&#xe561;",restore:"&#xe8b3;",restore_page:"&#xe929;",ring_volume:"&#xe0d1;",room:"&#xe8b4;",room_service:"&#xeb49;",rotate_90_degrees_ccw:"&#xe418;",rotate_left:"&#xe419;",rotate_right:"&#xe41a;",rounded_corner:"&#xe920;",router:"&#xe328;",rowing:"&#xe921;",rss_feed:"&#xe0e5;",rv_hookup:"&#xe642;",satellite:"&#xe562;",save:"&#xe161;",scanner:"&#xe329;",schedule:"&#xe8b5;",school:"&#xe80c;",screen_lock_landscape:"&#xe1be;",screen_lock_portrait:"&#xe1bf;",screen_lock_rotation:"&#xe1c0;",screen_rotation:"&#xe1c1;",screen_share:"&#xe0e2;",sd_card:"&#xe623;",sd_storage:"&#xe1c2;",search:"&#xe8b6;",security:"&#xe32a;",select_all:"&#xe162;",send:"&#xe163;",sentiment_dissatisfied:"&#xe811;",sentiment_neutral:"&#xe812;",sentiment_satisfied:"&#xe813;",sentiment_very_dissatisfied:"&#xe814;",sentiment_very_satisfied:"&#xe815;",settings:"&#xe8b8;",settings_applications:"&#xe8b9;",settings_backup_restore:"&#xe8ba;",settings_bluetooth:"&#xe8bb;",settings_brightness:"&#xe8bd;",settings_cell:"&#xe8bc;",settings_ethernet:"&#xe8be;",settings_input_antenna:"&#xe8bf;",settings_input_component:"&#xe8c0;",settings_input_composite:"&#xe8c1;",settings_input_hdmi:"&#xe8c2;",settings_input_svideo:"&#xe8c3;",settings_overscan:"&#xe8c4;",settings_phone:"&#xe8c5;",settings_power:"&#xe8c6;",settings_remote:"&#xe8c7;",settings_system_daydream:"&#xe1c3;",settings_voice:"&#xe8c8;",share:"&#xe80d;",shop:"&#xe8c9;",shop_two:"&#xe8ca;",shopping_basket:"&#xe8cb;",shopping_cart:"&#xe8cc;",short_text:"&#xe261;",show_chart:"&#xe6e1;",shuffle:"&#xe043;",signal_cellular_4_bar:"&#xe1c8;",signal_cellular_connected_no_internet_4_bar:"&#xe1cd;",signal_cellular_no_sim:"&#xe1ce;",signal_cellular_null:"&#xe1cf;",signal_cellular_off:"&#xe1d0;",signal_wifi_4_bar:"&#xe1d8;",signal_wifi_4_bar_lock:"&#xe1d9;",signal_wifi_off:"&#xe1da;",sim_card:"&#xe32b;",sim_card_alert:"&#xe624;",skip_next:"&#xe044;",skip_previous:"&#xe045;",slideshow:"&#xe41b;",slow_motion_video:"&#xe068;",smartphone:"&#xe32c;",smoke_free:"&#xeb4a;",smoking_rooms:"&#xeb4b;",sms:"&#xe625;",sms_failed:"&#xe626;",snooze:"&#xe046;",sort:"&#xe164;",sort_by_alpha:"&#xe053;",spa:"&#xeb4c;",space_bar:"&#xe256;",speaker:"&#xe32d;",speaker_group:"&#xe32e;",speaker_notes:"&#xe8cd;",speaker_notes_off:"&#xe92a;",speaker_phone:"&#xe0d2;",spellcheck:"&#xe8ce;",star:"&#xe838;",star_border:"&#xe83a;",star_half:"&#xe839;",stars:"&#xe8d0;",stay_current_landscape:"&#xe0d3;",stay_current_portrait:"&#xe0d4;",stay_primary_landscape:"&#xe0d5;",stay_primary_portrait:"&#xe0d6;",stop:"&#xe047;",stop_screen_share:"&#xe0e3;",storage:"&#xe1db;",store:"&#xe8d1;",store_mall_directory:"&#xe563;",straighten:"&#xe41c;",streetview:"&#xe56e;",strikethrough_s:"&#xe257;",style:"&#xe41d;",subdirectory_arrow_left:"&#xe5d9;",subdirectory_arrow_right:"&#xe5da;",subject:"&#xe8d2;",subscriptions:"&#xe064;",subtitles:"&#xe048;",subway:"&#xe56f;",supervisor_account:"&#xe8d3;",surround_sound:"&#xe049;",swap_calls:"&#xe0d7;",swap_horiz:"&#xe8d4;",swap_vert:"&#xe8d5;",swap_vertical_circle:"&#xe8d6;",switch_camera:"&#xe41e;",switch_video:"&#xe41f;",sync:"&#xe627;",sync_disabled:"&#xe628;",sync_problem:"&#xe629;",system_update:"&#xe62a;",system_update_alt:"&#xe8d7;",tab:"&#xe8d8;",tab_unselected:"&#xe8d9;",tablet:"&#xe32f;",tablet_android:"&#xe330;",tablet_mac:"&#xe331;",tag_faces:"&#xe420;",tap_and_play:"&#xe62b;",terrain:"&#xe564;",text_fields:"&#xe262;",text_format:"&#xe165;",textsms:"&#xe0d8;",texture:"&#xe421;",theaters:"&#xe8da;",thumb_down:"&#xe8db;",thumb_up:"&#xe8dc;",thumbs_up_down:"&#xe8dd;",time_to_leave:"&#xe62c;",timelapse:"&#xe422;",timeline:"&#xe922;",timer:"&#xe425;",timer_10:"&#xe423;",timer_3:"&#xe424;",timer_off:"&#xe426;",title:"&#xe264;",toc:"&#xe8de;",today:"&#xe8df;",toll:"&#xe8e0;",tonality:"&#xe427;",touch_app:"&#xe913;",toys:"&#xe332;",track_changes:"&#xe8e1;",traffic:"&#xe565;",train:"&#xe570;",tram:"&#xe571;",transfer_within_a_station:"&#xe572;",transform:"&#xe428;",translate:"&#xe8e2;",trending_down:"&#xe8e3;",trending_flat:"&#xe8e4;",trending_up:"&#xe8e5;",tune:"&#xe429;",turned_in:"&#xe8e6;",turned_in_not:"&#xe8e7;",tv:"&#xe333;",unarchive:"&#xe169;",undo:"&#xe166;",unfold_less:"&#xe5d6;",unfold_more:"&#xe5d7;",update:"&#xe923;",usb:"&#xe1e0;",verified_user:"&#xe8e8;",vertical_align_bottom:"&#xe258;",vertical_align_center:"&#xe259;",vertical_align_top:"&#xe25a;",vibration:"&#xe62d;",video_call:"&#xe070;",video_label:"&#xe071;",video_library:"&#xe04a;",videocam:"&#xe04b;",videocam_off:"&#xe04c;",videogame_asset:"&#xe338;",view_agenda:"&#xe8e9;",view_array:"&#xe8ea;",view_carousel:"&#xe8eb;",view_column:"&#xe8ec;",view_comfy:"&#xe42a;",view_compact:"&#xe42b;",view_day:"&#xe8ed;",view_headline:"&#xe8ee;",view_list:"&#xe8ef;",view_module:"&#xe8f0;",view_quilt:"&#xe8f1;",view_stream:"&#xe8f2;",view_week:"&#xe8f3;",vignette:"&#xe435;",visibility:"&#xe8f4;",visibility_off:"&#xe8f5;",voice_chat:"&#xe62e;",voicemail:"&#xe0d9;",volume_down:"&#xe04d;",volume_mute:"&#xe04e;",volume_off:"&#xe04f;",volume_up:"&#xe050;",vpn_key:"&#xe0da;",vpn_lock:"&#xe62f;",wallpaper:"&#xe1bc;",warning:"&#xe002;",watch:"&#xe334;",watch_later:"&#xe924;",wb_auto:"&#xe42c;",wb_cloudy:"&#xe42d;",wb_incandescent:"&#xe42e;",wb_iridescent:"&#xe436;",wb_sunny:"&#xe430;",wc:"&#xe63d;",web:"&#xe051;",web_asset:"&#xe069;",weekend:"&#xe16b;",whatshot:"&#xe80e;",widgets:"&#xe1bd;",wifi:"&#xe63e;",wifi_lock:"&#xe1e1;",wifi_tethering:"&#xe1e2;",work:"&#xe8f9;",wrap_text:"&#xe25b;",youtube_searched_for:"&#xe8fa;",zoom_in:"&#xe8ff;",zoom_out:"&#xe900;",zoom_out_map:"&#xe56b;"}[e]}},OKwA:function(e,t){},OPoD:function(e,t){},PQiD:function(e,t){},QSn9:function(e,t){},QbUS:function(e,t){},Qs1v:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y"),a=i("L7Pj"),r=i.n(a),o=i("ZpE2"),s=i.n(o),l=i("C331"),c={props:{number:""},data:function(){return{resetPassword:{},validData:{number:!1,idNo:!1,password:!1,surepw:!1,numberTip:"",idNoTip:"",passwordTip:"",surepwTip:""}}},methods:{_resetPassword:function(){this.resetPassword.show=!0,this.resetPassword.number=this.number,this.number&&(this.validData.number=!0)},_check:function(e){if("number"===e)this.resetPassword.number?(this.validData.number=!0,this.validData.numberTip=""):(this.validData.number=!1,this.validData.numberTip="账号不能为空");else if("idNo"===e){var t=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;this.resetPassword.idNo?t.test(this.resetPassword.idNo)?(this.validData.idNo=!0,this.validData.idNoTip=""):(this.validData.idNo=!1,this.validData.idNoTip="身份证号格式不正确"):(this.validData.idNo=!1,this.validData.idNoTip="身份证号不能为空")}else if("password"===e){t=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,25}$/;this.resetPassword.password?t.test(this.resetPassword.password)?(this.validData.password=!0,this.validData.passwordTip=""):(this.validData.password=!1,this.validData.passwordTip="密码格式不正确，必须包含数字和字母的6-25位字符串"):(this.validData.password=!1,this.validData.passwordTip="密码不能为空")}else"surepw"===e&&(this.resetPassword.password!==this.resetPassword.surepw?(this.validData.surepw=!1,this.validData.surepwTip="确认密码有误"):(this.validData.surepw=!0,this.validData.surepwTip=""))},_closeReset:function(){this.$emit("close")},_reqToReset:function(){var e=this;Object(l.c)({url:"/api/users/certifications",type:"put",data:{userNo:this.resetPassword.number,password:this.resetPassword.password,idCardNo:this.resetPassword.idNo},success:function(t){t.state?(e.resetPassword.show=!1,e.toast("重置成功！")):e.toast(t.message)}})}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reset-cover",on:{click:e._closeReset}},[i("div",{staticClass:"logincontent",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"container-fluid"},[i("h4",[e._v("找回密码")]),e._v(" "),i("hr"),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:""}},[e._v("账号")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPassword.number,expression:"resetPassword.number"}],staticClass:"login-input form-control",class:e.validData.numberTip?"error":"",attrs:{type:"text",autocomplete:"off",placeholder:"请输入学号"},domProps:{value:e.resetPassword.number},on:{change:function(t){e._check("number")},input:function(t){t.target.composing||e.$set(e.resetPassword,"number",t.target.value)}}}),e._v(" "),e.validData.number?e._e():i("p",[e._v(e._s(e.validData.numberTip))])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:""}},[e._v("身份证号")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPassword.idNo,expression:"resetPassword.idNo"}],staticClass:"login-input form-control",class:e.validData.idNoTip?"error":"",attrs:{type:"text",autocomplete:"off",placeholder:"请输入身份证号"},domProps:{value:e.resetPassword.idNo},on:{change:function(t){e._check("idNo")},input:function(t){t.target.composing||e.$set(e.resetPassword,"idNo",t.target.value)}}}),e._v(" "),e.validData.idNo?e._e():i("p",[e._v(e._s(e.validData.idNoTip))])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:""}},[e._v("新的密码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPassword.password,expression:"resetPassword.password"}],staticClass:"login-input form-control",class:e.validData.passwordTip?"error":"",attrs:{type:"password",autocomplete:"off",placeholder:"6-25位，必须包含数字和字母"},domProps:{value:e.resetPassword.password},on:{change:function(t){e._check("password")},input:function(t){t.target.composing||e.$set(e.resetPassword,"password",t.target.value)}}}),e._v(" "),e.validData.password?e._e():i("p",[e._v(e._s(e.validData.passwordTip))])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:""}},[e._v("确认密码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.resetPassword.surepw,expression:"resetPassword.surepw"}],staticClass:"login-input form-control",class:e.validData.surepwTip?"error":"",attrs:{type:"password",autocomplete:"off",placeholder:"再次填写新密码"},domProps:{value:e.resetPassword.surepw},on:{change:function(t){e._check("surepw")},input:function(t){t.target.composing||e.$set(e.resetPassword,"surepw",t.target.value)}}}),e._v(" "),e.validData.surepw?e._e():i("p",[e._v(e._s(e.validData.surepwTip))])]),e._v(" "),i("button",{staticClass:"btn login-btn",on:{click:e._closeReset}},[e._v("取消重置")]),e._v(" "),e.validData.number&&e.validData.idNo&&e.validData.password&&e.validData.surepw?i("button",{staticClass:"btn login-btn",on:{click:e._reqToReset}},[e._v("重置密码")]):i("button",{staticClass:"btn login-btn",attrs:{disabled:""}},[e._v("重置密码")])])])])},staticRenderFns:[]};var u=i("C7Lr")(c,d,!1,function(e){i("qHcJ")},null,null).exports;n.a.component("reset-password",u);n.a.component("reset-password",u);var h={inject:{windowObj:{default:null}},props:{},created:function(){var e=this;this.schoolId=this.$route.params.schoolId,this.forIdentification=!!this.$route.query.identification,Object(l.c)({url:"/system/config",success:function(t){t.state?(e.websiteName=t.data&&t.data.websiteName||"i校园学工平台",e.websiteNameEn=t.data&&t.data.websiteNameEn||"iSchool Education Platform",e.cas=t.data&&t.data.cas,e.yiban=t.data&&t.data.yiban,e.ixyLogin=t.data&&t.data.ixyLogin,e.freshmenLogin=t.data&&t.data.freshmenLogin,document.title=e.websiteName):e.toast(t.message)}}),Object(l.c)({url:"/firstPage/info",type:"get",success:function(t){t.state&&(e.imgUrl=t.data?e.imageUrlPrefix+t.data.background:"",e.content=t.data&&t.data.content||"",e.tips=t.data&&t.data.tips||"")},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Authorization",Authorization:"schoolId="+this.schoolId}})},data:function(){return{schoolId:"",websiteName:"",websiteNameEn:"",cas:!1,yiban:!1,ixyLogin:!1,freshmanLogin:!1,forget:!1,forIdentification:!1,loginWay:"",number:"",password:"",imgUrl:"",content:"",tips:""}},computed:{loginType:function(){return this.forIdentification?"认证":"登录"}},mounted:function(){this._resize()},methods:{_resize:function(){var e=r()(".login").height()-r()(".login-head").height()-64-70;r()(".img-container").height(e),r()(".text-container").height(e)},_judgeImgPos:function(){var e,t,i,n;r()("#previewImg").removeAttr("style"),setTimeout(function(){if(e=r()("#previewImg").width(),t=r()("#previewImg").height(),i=r()(".img-container").width(),n=r()(".img-container").height(),e>t){var a=-(e*n/t-i)/2;a>0?r()("#previewImg").addClass("shadow"):r()(".img-container").addClass("shadow"),r()("#previewImg").css("height","100%"),r()("#previewImg").css("margin-left",a+"px")}else{var o=-(t*i/e-n)/2;o>0?r()("#previewImg").addClass("shadow"):r()(".img-container").addClass("shadow"),r()("#previewImg").css("width","100%"),r()("#previewImg").css("margin-top",o+"px")}},10)},_keyUp:function(e){13===e.keyCode&&this.login()},login:function(e){var t=this;if(this.loginWay){if(this.number&&this.password){this.showWaiting(".login");var i;e="";i=s.a.createHash("md5").update(this.password).digest("hex"),e="freshman"===this.loginWay?"/certification/freshman":"/users/certifications",Object(l.c)({url:e,type:"post",data:{userNo:this.number,password:i},success:function(e){t.closeWaiting(),e.state?location.href=e.data.redirect:t.toast(e.message)},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Authorization",Authorization:"schoolId="+t.schoolId}})}}else location.href=e}},watch:{windowObj:{deep:!0,handler:function(e){this._resize()}}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-fluid login",attrs:{id:"loginLayout"}},[i("div",{staticClass:"login-head"},[e.forIdentification?i("div",{staticClass:"col-md-4 login-name"},[i("p",{staticClass:"text-muted"},[e._v("请选择认证方式")])]):i("div",{staticClass:"col-md-4 login-name"},[i("p",{staticClass:"text-muted"},[e._v(e._s(e.websiteName))]),e._v(" "),i("p",{staticClass:"text-muted-english"},[e._v(e._s(e.websiteNameEn))])]),e._v(" "),i("div",{staticClass:"col-md-8 login-way"},[e.loginWay?e._e():i("div",{staticClass:"login-tab"},[e.freshmenLogin?i("button",{staticClass:"btn freshman-btn",on:{click:function(t){e.loginWay="freshman"}}},[e._v("新生"+e._s(e.loginType))]):e._e(),e._v(" "),e.cas?i("button",{staticClass:"btn primary-btn",on:{click:function(t){e.login(e.cas)}}},[e._v("统一身份认证")]):e._e(),e._v(" "),e.yiban?i("button",{staticClass:"btn primary-btn",on:{click:function(t){e.login(e.yiban)}}},[e._v("易班授权"+e._s(e.loginType))]):e._e(),e._v(" "),e.ixyLogin?i("button",{staticClass:"btn primary-btn",on:{click:function(t){e.loginWay="normal"}}},[e._v("学生工作平台"+e._s(e.loginType))]):e._e()]),e._v(" "),e.loginWay?i("div",{staticClass:"freshman-login"},[i("i",{staticClass:"maticon back-icon",domProps:{innerHTML:e._s(e.icons("arrow_back"))},on:{click:function(t){e.loginWay=""}}},[e._v("arrow_back")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"}],staticClass:"login-input",attrs:{type:"text",autocomplete:"off",placeholder:"账号"},domProps:{value:e.number},on:{keyup:e._keyUp,input:function(t){t.target.composing||(e.number=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"login-input",attrs:{type:"password",autocomplete:"off",placeholder:"密码"},domProps:{value:e.password},on:{keyup:e._keyUp,input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),i("button",{staticClass:"btn login-btn",on:{click:e.login}},[e._v(e._s(e.loginType))]),e._v(" "),"normal"===e.loginWay?i("a",{staticClass:"password-forget",on:{click:function(t){e.forget=!0}}},[e._v("找回密码")]):e._e()]):e._e()])]),e._v(" "),e.loginWay?i("div",{staticClass:"row tips",attrs:{id:"loginTips"}},[i("pre",{staticClass:"col-md-offset-8 col-md-4",domProps:{innerHTML:e._s(e.tips)}})]):e._e(),e._v(" "),i("div",{staticClass:"content",class:e.loginWay?"marginTop0":"marginTop82px"},[i("div",{staticClass:"col-md-8 img-container",style:"background-image:url("+e.imgUrl+")"}),e._v(" "),i("div",{staticClass:"col-md-4 text-container"},[i("pre",{domProps:{innerHTML:e._s(e.content)}}),e._v(" "),e._m(0)])]),e._v(" "),e.forget?i("reset-password",{attrs:{number:e.number},on:{close:function(t){e.forget=!1}}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"text-right"},[this._v("COPYRIGHT © 2018-2021\n        "),t("br"),this._v("\n        ALL RIGHTS RESERVED\n      ")])}]};var f=i("C7Lr")(h,p,!1,function(e){i("wV9A")},null,null);t.default=f.exports},Qy8z:function(e,t){},RCzJ:function(e,t){},RR1J:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y"),a=i("L7Pj"),r=i.n(a),o=i("ZpE2"),s=i.n(o),l=i("C331"),c=(i("NuOq"),{props:{account:{default:null}},created:function(){var e=localStorage.getItem("lang");Object(l.e)(e)&&(this.lang=e)},data:function(){return{lang:"zh-cn"}},computed:{translate:function(){return Object(l.e)(this.lang).account},userNameStr:function(){return this.account.userName||Object(l.e)(this.lang).account.visitor}},methods:{logout:function(){this.$emit("logout")}}}),d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"v-nav-list"},[i("li",[e._v("\n    "+e._s(e.userNameStr)+"\n  ")]),e._v(" "),i("li",[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("notifications"))}},[e._v("notifications")])]),e._v(" "),i("li",{staticClass:"dropdown"},[i("i",{staticClass:"dropdown-toggle maticon",attrs:{"data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},domProps:{innerHTML:e._s(e.icons("more_vert"))}},[e._v("more_vert")]),e._v(" "),i("ul",{staticClass:"dropdown-menu"},[e._l(e.account.options,function(t,n){return i("li",{key:n,on:{click:function(e){t.callback(t)}}},[t.route?i("a",{attrs:{href:t.route,target:"_blank"}},[e._v(e._s(t.title))]):i("a",[e._v(e._s(t.title))])])}),e._v(" "),e.account.userId||"ADMIN"==e.account.type?i("li",{on:{click:e.logout}},[i("a",[e._v(e._s(e.translate.logout))])]):i("li",[i("a",[e._v(e._s(e.translate.login))])])],2)])])},staticRenderFns:[]};var u=i("C7Lr")(c,d,!1,function(e){i("CthU")},null,null).exports;n.a.component("v-account",u);Array;n.a.component("v-account",u);var h={props:{search:{default:!1},sysTitle:{default:"i校园学生工作平台"},logo:{},account:{default:null},defaultLang:{default:"zh-cn"},items:{type:Array,default:function(){return[{title:"目录",children:[{title:"子目录",route:"https:\\www.baidu.com"},{title:"子目录"},{title:"子目录"}]},{title:"目录"},{title:"目录"},{title:"目录"}]}}},created:function(){var e=localStorage.getItem("lang");Object(l.e)(e)&&(this.lang=e)},data:function(){return{msg:"",lang:this.defaultLang}},computed:{total:function(){return this.items.length},translate:function(){return Object(l.e)(this.lang).nav}},methods:{hasChild:function(e){return!!(e.children&&e.children.length>0)},_change:function(){this._search()},_keyup:function(e){13===e.keyCode&&this._search()},_search:function(){this.$emit("search",this.msg)},logout:function(){this.$emit("logout")}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar nav-container"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"navbar-header pull-left"},[e._m(0),e._v(" "),e._t("menu-toggle"),e._v(" "),i("h3",{staticClass:"navbar-brand",attrs:{href:"/"}},[e._v("\n        "+e._s(e.sysTitle)+"\n          ")])],2),e._v(" "),e._t("bread"),e._v(" "),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navToggle"}},[i("ul",{staticClass:"nav navbar-nav"},e._l(e.items,function(t,n){return i("li",{key:n,staticClass:"dropdown"},[e.hasChild(t)?i("a",{staticClass:"dropdown-toggle",attrs:{href:t.route||"javascript:void","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n              "+e._s(t.title)+" "),i("span",{staticClass:"caret"})]):i("a",{staticClass:"dropdown-toggle",attrs:{href:t.route||"javascript:void","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n              "+e._s(t.title)+"\n            ")]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.hasChild(t),expression:"hasChild(item)"}],staticClass:"dropdown-menu"},e._l(t.children,function(t,n){return i("li",{key:n},[i("a",{attrs:{href:t.route||"javascript:void"}},[e._v(e._s(t.title))])])}))])})),e._v(" "),e.account?i("v-account",{staticClass:"nav navbar-nav navbar-right",attrs:{account:e.account},on:{logout:e.logout}}):e._e(),e._v(" "),e.search?i("div",{staticClass:"nav-search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.translate.searchPlaceholder},domProps:{value:e.msg},on:{change:e._change,keyup:e._keyup,input:function(t){t.target.composing||(e.msg=t.target.value)}}}),e._v(" "),i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("search"))}},[e._v("search")])]):e._e(),e._v(" "),i("div",{staticClass:"nav-bottom"},[e._t("clear-toggle")],2)],1)],2),e._v(" "),e._t("toggle")],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navToggle","aria-expanded":"false"}},[t("span",{staticClass:"sr-only"},[this._v("导航")]),this._v(" "),t("span",{staticClass:"icon-bar"}),this._v(" "),t("span",{staticClass:"icon-bar"}),this._v(" "),t("span",{staticClass:"icon-bar"})])}]};var f=i("C7Lr")(h,p,!1,function(e){i("RCzJ")},null,null).exports,m=i("3cXf"),g=i.n(m),v={props:{items:{default:function(){return[]}},iconView:{default:!1}},created:function(){var e=this;!function t(i){i.forEach(function(i){i.open||e.$set(i,"open",!1),i.children&&i.children.length>0&&t(i.children)})}(this.listItem)},data:function(){return{listItem:JSON.parse(g()(this.items)),activeItemId:""}},watch:{items:{deep:!0,handler:function(){this.listItem=JSON.parse(g()(this.items))}}},methods:{open:function(e){e.open=!e.open,e.route&&this.$emit("addBread",e),e.children&&e.children.length>0||(this.activeItemId=e.id)}}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.iconView?i("div",{staticClass:"v-list",class:{"icon-list":e.iconView}},[i("ul",{staticClass:"list-group",staticStyle:{"padding-bottom":"80px"}},e._l(e.listItem,function(t,n){return i("li",{key:n,staticClass:"list-group-item",class:{"parent-item":!0}},[i("a",{attrs:{href:"javascript:;"},on:{click:function(i){e.open(t)}}},[i("i",{staticClass:"maticon pull-left list-icon",attrs:{title:t.title},domProps:{innerHTML:e._s(e.icons("settings"))}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.iconView,expression:"!iconView"}]},[e._v(e._s(t.title))]),e._v(" "),t.children&&t.children.length>0?i("span",{directives:[{name:"show",rawName:"v-show",value:!e.iconView,expression:"!iconView"}],staticClass:"menus-toggle pull-right"},[i("i",{staticClass:"glyphicon glyphicon-menu-left",class:{active:t.open}})]):e._e()]),e._v(" "),i("transition",{attrs:{name:"slide-fade"}},[i("ul",{staticClass:"list-group child-group"},e._l(t.children,function(t,n){return i("li",{key:n,staticClass:"list-group-item",class:{active:t.id==e.activeItemId}},[i("a",{attrs:{href:"javascript:;"},on:{click:function(i){e.open(t)}}},[i("span",[e._v(e._s(t.title))])])])}))])],1)}))]):i("div",{staticClass:"v-list"},[i("ul",{staticClass:"list-group",staticStyle:{"padding-bottom":"80px"}},e._l(e.listItem,function(t,n){return i("li",{key:n,staticClass:"list-group-item",class:{"parent-item":!0}},[i("a",{attrs:{href:"javascript:;"},on:{click:function(i){e.open(t)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.iconView,expression:"!iconView"}]},[e._v(e._s(t.title))]),e._v(" "),t.children&&t.children.length>0?i("span",{directives:[{name:"show",rawName:"v-show",value:!e.iconView,expression:"!iconView"}],staticClass:"menus-toggle pull-right"},[i("i",{staticClass:"glyphicon glyphicon-menu-right",class:{active:t.open}})]):e._e()]),e._v(" "),i("transition",{attrs:{name:"slide-fade"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.open&&t.children&&t.children.length>0,expression:"item.open&&item.children&&item.children.length>0"}],staticClass:"list-group child-group"},e._l(t.children,function(t,n){return i("li",{key:n,staticClass:"list-group-item",class:{active:t.id==e.activeItemId}},[i("a",{attrs:{href:"javascript:;"},on:{click:function(i){e.open(t)}}},[i("span",[e._v(e._s(t.title))])])])}))])],1)}))])},staticRenderFns:[]};var y=i("C7Lr")(v,b,!1,function(e){i("d5U6")},null,null).exports,_={inject:{windowObj:{default:null}},props:{items:{default:function(){return[]}},curRoute:{default:"/"},maxTab:{default:999}},created:function(){},data:function(){return{activeRoute:this.curRoute,index:0,bLength:0,maxBites:50,biteWidth:6}},computed:{activeIndex:function(){var e=this,t=0;return this.items.forEach(function(i,n){e.curRoute===i.route&&(t=n)}),t},min:function(){var e=this.activeIndex-this.maxTab<0?0:this.activeIndex-this.maxTab+this.maxTab/2;return this.items.length-this.maxTab>=e?e:this.items.length-this.maxTab},pages:function(){var e=this,t={},i=0,a=0;return this.items.forEach(function(r){(i+=e.getLength(r.title)>e.maxBites?e.maxBites+10:e.getLength(r.title)+10)+50>e.bLength&&t[a]&&t[a].length>1&&(i=0,a++),t[a]||n.a.set(t,a,[]),t[a].push(r),e.curRoute===r.route&&(e.index=a)}),t}},mounted:function(){this.bLength=r()(".tabs-container").width()/this.biteWidth},methods:{tabClick:function(e,t){"refresh"===t?this.$emit("refreshRoute"):(this.activeRoute=e.route,this.$emit("changeRoute",e))},remove:function(e){this.$emit("removeBread",e)},getLength:function(e){for(var t=0,i=e.length,n=-1,a=0;a<i;a++)t+=(n=e.charCodeAt(a))>=0&&n<=128?1:2;return t}},watch:{windowObj:{deep:!0,handler:function(e){this.bLength=r()(".tabs-container").width()/this.biteWidth}},curRoute:function(){this.activeRoute=this.curRoute}}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-bread"},[i("div",{staticClass:"bread-container tabs-container",attrs:{role:"group"}},[e.index>0?i("i",{staticClass:"maticon pull-left page-tab",domProps:{innerHTML:e._s(e.icons("chevron_left"))},on:{click:function(t){e.index--}}},[e._v("chevron_left")]):e._e(),e._v(" "),e._l(e.pages[e.index],function(t,n){return n>=e.min&&n<e.maxTab+e.min?i("a",{key:n,staticClass:"btn btn-default bread-tab bread-show pull-left",class:e.activeRoute===t.route?"active":"",attrs:{href:"javascript:;",title:t.title},on:{click:function(i){e.tabClick(t)}}},[e.activeRoute===t.route?i("div",{staticClass:"bread-tab-refresh",on:{click:function(i){e.tabClick(t,"refresh")}}},[e._v("点击刷新")]):e._e(),e._v(" "),i("span",{staticClass:"bread-tab-title",class:!1!==t.closeable?"closeable":""},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"remove-div pull-right"},[!1!==t.closeable?i("i",{staticClass:"maticon pull-right remove",domProps:{innerHTML:e._s(e.icons("cancel"))},on:{click:function(i){i.stopPropagation(),e.remove(t)}}},[e._v("cancel")]):e._e()])]):e._e()}),e._v(" "),e.pages[e.index+1]?i("i",{staticClass:"maticon pull-left page-tab",domProps:{innerHTML:e._s(e.icons("chevron_right"))},on:{click:function(t){e.index++}}},[e._v("chevron_right")]):e._e(),e._v(" "),e.pages[e.index].length>e.maxTab?i("div",{staticClass:"btn-group"},[e._m(0),e._v(" "),i("ul",{staticClass:"dropdown-menu"},e._l(e.pages[e.index],function(t,n){return n<e.min||n>=e.maxTab+e.min?i("li",{key:n,on:{click:function(i){e.tabClick(t)}}},[i("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t.title))])]):e._e()}))]):e._e()],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"glyphicon glyphicon-option-vertical"})])}]};var x=i("C7Lr")(_,w,!1,function(e){i("3Nue")},null,null).exports;n.a.component("v-nav",f),n.a.component("v-list",y),n.a.component("v-bread",x);n.a.component("v-nav",f),n.a.component("v-list",y),n.a.component("v-bread",x);var C={props:{navToggle:{default:!0},sidebarShow:{default:!0},breadShow:{default:!0},layoutType:{default:"right"},defaultLang:{default:"zh-cn"},navList:{default:function(){return[]}},headItems:{default:function(){return[]}},account:{default:function(){return null}},asyncLogin:{default:!1}},created:function(){var e=localStorage.getItem("lang");Object(l.e)(e)&&(this.lang=e),/^\/school\/(\w+)/.test(this.$route.path)?(this.testEnvId=this.$route.params.id,this.toTestEnv=!0):this._checkAccount(),this._getSystemName(),this.isAsyncLoginWindow="async_login_window"===window.name,this.show=!!(this.navList&&this.navList.length>0);var t=this;n.a.prototype.$addBread=function(e){t.addBread(e)},n.a.prototype.$removeBread=function(e){t.removeBread(e)},n.a.prototype.$refreshBread=function(e){t._refresh(e)}},data:function(){return{show:this.sidebarShow,headerShow:!0,bread:[{title:"首页",route:"",closeable:!1,lang:this.defaultLang,data:null}],username:"测试",schoolId:"",userid:"",password:"",schools:[],curRoute:"/",update:!1,toTestEnv:!1,testEnvId:"",testEnvName:"",logining:!1,isAsyncLoginWindow:!1,accountOptions:[],theme:"",sysTitle:"",forget:!1,checkCountInterval:null,layoutManageJson:{infoTypes:[],layoutsJson:{},logsJson:{},instanceJson:{},preview:!1,curInfoId:"",distributary:"owner",infomationType:"",userId:""},optionLabelJson:{student:"学生信息查看",instructor:"辅导员信息查看",teacher:"教工信息查看"}}},computed:{translate:function(){return Object(l.e)(this.lang).manageTypeLayout},historyBread:function(){var e=this,t=[];return this.bread.forEach(function(i,n){i.route!==e.curRoute&&t.splice(0,0,i.route)}),t.splice(0,0,this.curRoute),t}},watch:{navList:{deep:!0,handler:function(){this.show=!!(this.navList&&this.navList.length>0)}}},mounted:function(){var e=this;window.onbeforeunload=function(e){e.preventDefault()},this.isAsyncLoginWindow&&setTimeout(function(){e.closeAsyncLogin()},3e3),e._forbidBack()},methods:{_forbidBack:function(){window.history&&window.history.pushState&&r()(window).on("popstate",function(){window.history.pushState("forward",null,"#"),window.history.forward(1)}),window.history.pushState("forward",null,"#"),window.history.forward(1)},_refresh:function(e){var t=this;this.update=e?e.route:this.curRoute,setTimeout(function(){t.update=""},300)},_setFullScreen:function(e){this.headerShow=!e,this.show=this.headerShow},toggle:function(e){e?(this.headerShow=!this.headerShow,this.show=this.headerShow):this.show=!this.show,r()(window).resize()},addBread:function(e){var t=!1;this.bread.forEach(function(i,n){i.route===e.route&&(t=!0)}),t||(e.data||n.a.set(e,"data",this._getParams(e.route)),this.bread.push(e)),this.curRoute=e.route},removeBread:function(e){var t=this;t.bread.forEach(function(i,n){i.route===e.route&&t.bread.splice(n,1)}),t.curRoute===e.route&&(t.curRoute=t.historyBread[1])},_getParams:function(e){var t={};if(-1!==e.indexOf("?"))for(var i=e.substr(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return t},changeRoute:function(e){this.curRoute=e.route},clearAllBreads:function(){this.curRoute=this.bread[0].route,this.bread.splice(1)},changeLan:function(){this.lang="zh-cn"===this.lang?"en":"zh-cn",localStorage.setItem("lang",this.lang),window.location.reload()},_keypressToLogin:function(e){13===e.keyCode&&this.loginToTestEnv()},_checkAccount:function(){var e=this;this.showWaiting(),Object(l.c)({url:"/login/check",type:"get",success:function(t){if(e.closeWaiting(),!t.state)return e.$emit("initAccount",null);"ixy"===t.data.loginType&&(e.accountOptions=[{title:"找回密码",callback:function(){e.forget=!0}}]),Object(l.c)({url:"/api/relationship/instructor/check",type:"get",success:function(i){i.state&&i.data&&i.data.length>0&&(i.data.forEach(function(i){var n={};i&&(n.title=e.optionLabelJson[i],n.callback=function(){e._resetLayoutManageJson(),e.layoutManageJson.infomationType=i.toUpperCase(),e.layoutManageJson.userId=t.data.id,e.$waiting.show(),e._getInfoTypes(function(){e.$waiting.close(),e._initInfoType(e.layoutManageJson.infoTypes[0])})},e.accountOptions.push(n))}),i.data.indexOf("student")>=0&&e.accountOptions.push({title:"第二课堂成绩单",callback:function(){window.open("/sc/report?userId="+t.data.id)}}))}}).always(function(){e.$emit("initAccount",{userId:t.data.id,userName:t.data.name,type:t.data.type,loginType:t.data.loginType,options:e.accountOptions}),e.schoolId=t.data.schoolId,n.a.prototype.$account=t.data,"FRESHMAN"===t.data.type?(e.$set(e.bread[0],"route","/freshman/freshmanMainPage"),e.curRoute="/freshman/freshmanMainPage"):(e.$set(e.bread[0],"route","/"),e.curRoute="/")})}})},_startCheckAccount:function(){var e=this;setTimeout(function(){e.checkCountInterval=setInterval(function(){e._checkAccount()},9e5)},9e5)},_getTestEnvName:function(){var e=this;Object(l.c)({url:"/school/"+this.testEnvId+"/name",type:"get",success:function(t){t.state?(e.testEnvName=t.data||"i校园学工平台",document.title=e.testEnvName):e.toast(t.message)}})},_getSystemName:function(){var e=this;Object(l.c)({url:"/system/name",type:"get",success:function(t){t.state?(e.sysTitle=t.data||"i校园学工平台",document.title=e.sysTitle):t.unauthorized||e.toast(t.message)}})},loginToTestEnv:function(){var e=this,t=s.a.createHash("md5").update(this.password).digest("hex"),i={state:!1,message:"连接超时"};Object(l.c)({url:"/school/"+this.testEnvId+"/login",type:"post",data:{userNo:this.userid,password:t},success:function(t){if((i=t).state){if(i.data.redirect)return void(window.location.href=i.data.redirect);e.$emit("initAccount",{userId:i.data.id,userName:i.data.name,type:i.data.type})}else e.toast(i.message)}})},toAsyncLogin:function(){window.localStorage.setItem("ASYNC_LOGIN_CACHE_FLAG",!0),window.open(window.location.origin+"/"+this.schoolId+"/login","async_login_window","menubar=0,titlebar=0,toolbar=0,width=600,height=600,left=300,top=100")},closeAsyncLogin:function(){window.localStorage.removeItem("ASYNC_LOGIN_CACHE_FLAG"),window.close()},logout:function(){var e=this;return Object(l.c)({url:"/logout",type:"get",success:function(t){t.state?(e.$emit("initAccount",null),e.clearAllBreads(),t.testEnvId?window.location.href="/school/"+t.testEnvId:t.redirect?window.location.href=t.redirect:window.location.href="/"+e.schoolId+"/login"):e.toast(t.message)}}),!1},_initInfoType:function(e){var t=this;e&&(this.layoutManageJson.layoutsJson[e.id]&&this.layoutManageJson.logsJson[e.id]?(this.layoutManageJson.curInfoId=e.id,this.$nextTick(function(){t.layoutManageJson.preview=!0})):(this.$waiting.show({container:".preview-container"}),Object(l.c)({url:"/api/information/infoSetting/"+this.layoutManageJson.infomationType+"/"+e.id,type:"get",data:{userId:this.layoutManageJson.userId,distributary:this.layoutManageJson.distributary},success:function(i){i.state?(i.data||(i.data=[]),i.data.components.forEach(function(e){n.a.set(e,"x",e.location.left),n.a.set(e,"y",e.location.top),n.a.set(e,"w",e.size.width),n.a.set(e,"h",e.size.height)}),t.$set(t.layoutManageJson.layoutsJson,e.id,i.data),t.layoutManageJson.curInfoId=e.id,Object(l.c)({url:"/api/information/infoInstance/changeLogs/"+t.layoutManageJson.infomationType+"/"+e.id,type:"get",data:{userId:t.layoutManageJson.userId},success:function(i){i.state?(t.$set(t.layoutManageJson.logsJson,e.id,i.data||[]),t.layoutManageJson.preview=!0):t.$toast(i.message)}})):t.$toast(i.message)}}).always(function(){t.$waiting.close()})))},_getInfoValue:function(e){this.$set(this.layoutManageJson.instanceJson,this.layoutManageJson.curInfoId,e)},_submitAll:function(){var e=this,t=[];for(var i in this.layoutManageJson.instanceJson)t.push({infoId:i,formData:this.layoutManageJson.instanceJson[i].formData});0!==t.length?(this.$waiting.show(),Object(l.c)({url:"/api/information/infoInstance/"+this.layoutManageJson.infomationType+"/"+this.layoutManageJson.distributary+"/"+this.layoutManageJson.userId,type:"put",data:{typesValue:t},success:function(t){t.state?(e.$toast("保存成功"),e.layoutManageJson.instanceJson={}):e.$toast(t.message)}}).always(function(){e.$waiting.close()})):this.$toast("暂无需保存记录")},_getInfoTypes:function(e,t){var i=this;Object(l.c)({url:"/api/information/columnTypes/"+this.layoutManageJson.infomationType,type:"get",data:{searchContent:t},success:function(t){t.state?t.data&&t.data.length>0?(i.layoutManageJson.infoTypes=t.data||[],i.layoutManageJson.infoTypes.forEach(function(e){i.$set(e,"title",e.text)}),e&&e()):i.$toast("信息类型为空，不可查看"):i.$toast(t.message)}})},_resetLayoutManageJson:function(){this.layoutManageJson.layoutsJson={},this.layoutManageJson.logsJson={},this.layoutManageJson.instanceJson={},this.layoutManageJson.curInfoId=""}},destroyed:function(){this.checkCountInterval&&clearInterval(this.checkCountInterval)}},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.toTestEnv?i("div",{staticClass:"login"},[i("div",{staticClass:"logincontent"},[i("div",{staticClass:"container-fluid"},[i("h2",[e._v("登录")]),e._v(" "),i("p",{staticClass:"text-muted"},[e._v(e._s(e.testEnvName))]),e._v(" "),i("hr"),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("学工号")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.userid},on:{keyup:e._keypressToLogin,input:function(t){t.target.composing||(e.userid=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("密码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{keyup:e._keypressToLogin,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("input",{staticClass:"btn btn-primary btn-lg",class:e.logining?"disabled":"",attrs:{id:"login-to-test",type:"button",value:e.logining?"登录中":"登录"},on:{click:e.loginToTestEnv}})])])])]):e.isAsyncLoginWindow?i("div",{attrs:{id:"async-login-tip"}},[e._v("\n  登录成功，将在3s后 "),i("a",{attrs:{href:"javascript:void(0)"},on:{click:e.closeAsyncLogin}},[e._v("关闭本窗口")])]):i("div",{staticClass:"page-header-fixed",class:[e.account&&"FRESHMAN"===e.account.type?"green-style":"blue-style",e.theme,e.show?"reset-container":""],attrs:{id:"main"}},[e.asyncLogin?i("div",{attrs:{id:"async-login"},on:{click:e.toAsyncLogin}},[i("i",{staticClass:"maticon"},[e._v("open_in_new")]),e._v(" "),i("br"),e._v("\n    弹出登录窗口\n  ")]):e._e(),e._v(" "),e._e(),e._v(" "),e.forget?i("reset-password",{attrs:{number:e.account.userNo},on:{close:function(t){e.forget=!1}}}):e._e(),e._v(" "),i("v-nav",{class:[e.headerShow?"":"hide-nav"],staticStyle:{"margin-bottom":"0"},attrs:{items:e.headItems,account:e.account,sysTitle:e.sysTitle,search:!1},on:{logout:e.logout}},[e.navList&&e.navList.length>0?i("div",{staticClass:"menu-toggle pull-left",attrs:{slot:"menu-toggle"},on:{click:function(t){e.toggle(0)}},slot:"menu-toggle"},[i("i",{staticClass:"maticon",attrs:{title:"隐藏/显示菜单"},domProps:{innerHTML:e._s(e.icons("menu"))}})]):e._e(),e._v(" "),e.breadShow?i("div",{staticClass:"bread-container",attrs:{slot:"bread"},slot:"bread"},[i("v-bread",{staticClass:"bread",attrs:{items:e.bread,curRoute:e.curRoute},on:{changeRoute:e.changeRoute,refreshRoute:e._refresh,removeBread:e.removeBread}},[e._v("\n        "+e._s(e.historyBread)+"\n        ")])],1):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.headerShow,expression:"!headerShow"}],staticClass:"container-fluid text-center slide-toggle",attrs:{slot:"toggle"},on:{click:function(t){e.toggle(1)}},slot:"toggle"},[i("i",{staticClass:"glyphicon glyphicon-menu-down",class:{"rotate-180":e.headerShow}})])]),e._v(" "),i("div",{staticClass:"page-container container-fluid",class:{"full-screen":!e.headerShow}},[i("div",{staticClass:"page-content row"},["left"===e.layoutType||"left-absolute"===e.layoutType?i("div",{staticClass:"v-nav-toggle",class:[e.layoutType+"-toggle",{"left-transform":!e.show}]},[i("v-list",{ref:"tree",staticClass:"nav-tree",attrs:{id:"nav-tree",iconView:!1,items:e.navList},on:{addBread:e.addBread}})],1):e._e(),e._v(" "),i("div",{staticClass:"col-sm-12 page",class:{"left-show":"left"===e.layoutType&&e.show,"right-show":"right"===e.layoutType&&e.show},style:{"margin-left":(e.show,0)}},e._l(e.bread,function(t,n){return i("transition",{key:n},[e.curRoute!==t.route||e.curRoute!==e.update?i("router-view",{directives:[{name:"show",rawName:"v-show",value:e.curRoute===t.route,expression:"curRoute === item.route"}],attrs:{name:t.route.split("?")[0],role:t.data&&t.data.id,data:t,account:e.account},on:{fullScreen:e._setFullScreen,addBread:e.addBread}}):e._e()],1)}),1),e._v(" "),"right"===e.layoutType||"right-absolute"===e.layoutType?i("div",{staticClass:"v-nav-toggle",class:e.layoutType+"-toggle "+(e.show?"":"right-transform")},[i("v-list",{ref:"tree",staticClass:"nav-tree",attrs:{id:"nav-tree",iconView:!e.show,items:e.navList},on:{addBread:e.addBread}})],1):e._e()]),e._v(" "),e.layoutManageJson.preview?i("div",{staticClass:"preview-container"},[i("preview",{attrs:{data:e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId]&&e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId].components,defaultData:e.layoutManageJson.instanceJson[e.layoutManageJson.curInfoId],log:e.layoutManageJson.logsJson[e.layoutManageJson.curInfoId],script:e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId]&&e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId].property&&e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId].property.script,previewType:"form",infoSetting:{tabs:e.layoutManageJson.infoTypes,curInfoId:e.layoutManageJson.curInfoId}},on:{tabExchange:e._initInfoType,submit:e._getInfoValue,submitAll:e._submitAll,search:function(t){e._getInfoTypes(null,t)},back:function(t){e.layoutManageJson.preview=!1}}})],1):e._e()])],1)},staticRenderFns:[]};var T=i("C7Lr")(C,S,!1,function(e){i("4U4y")},null,null);t.default=T.exports},Rk8k:function(e,t){},Sksk:function(e,t){},SxSo:function(e,t){},SyvT:function(e,t){},UgYt:function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},WXJV:function(e,t){},WvlI:function(e,t){},X6pT:function(e,t,i){(function(e){
/*!
 * UEditor
 * version: ueditor
 * build: Wed Aug 10 2016 11:06:19 GMT+0800 (CST)
 */
(function(){UE=window.UE||{};var e=!!window.ActiveXObject,t={removeLastbs:function(e){return e.replace(/\/$/,"")},extend:function(e,t){for(var i=arguments,n=!!this.isBoolean(i[i.length-1])&&i[i.length-1],a=this.isBoolean(i[i.length-1])?i.length-1:i.length,r=1;r<a;r++){var o=i[r];for(var s in o)n&&e.hasOwnProperty(s)||(e[s]=o[s])}return e},isIE:e,cssRule:e?function(e,t,i){var n,a,r;if((n=(i=i||document).indexList?i.indexList:i.indexList={})[e])r=i.styleSheets[n[e]];else{if(void 0===t)return"";r=i.createStyleSheet("",a=i.styleSheets.length),n[e]=a}return void 0===t?r.cssText:void(r.cssText=r.cssText+"\n"+(t||""))}:function(e,t,i){var n,a=(i=i||document).getElementsByTagName("head")[0];if(!(n=i.getElementById(e))){if(void 0===t)return"";(n=i.createElement("style")).id=e,a.appendChild(n)}return void 0===t?n.innerHTML:void(""!==t?n.innerHTML=n.innerHTML+"\n"+t:a.removeChild(n))},domReady:function(t){var i=window.document;"complete"===i.readyState?t():e?(function(){if(!i.isReady){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t()}}(),window.attachEvent("onload",function(){t()})):(i.addEventListener("DOMContentLoaded",function(){i.removeEventListener("DOMContentLoaded",arguments.callee,!1),t()},!1),window.addEventListener("load",function(){t()},!1))},each:function(e,t,i){if(null!=e)if(e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(!1===t.call(i,e[n],n,e))return!1}else for(var r in e)if(e.hasOwnProperty(r)&&!1===t.call(i,e[r],r,e))return!1},inArray:function(e,t){var i=-1;return this.each(e,function(e,n){if(e===t)return i=n,!1}),i},pushItem:function(e,t){-1==this.inArray(e,t)&&e.push(t)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},indexOf:function(e,t,i){var n=-1;return i=this.isNumber(i)?i:0,this.each(e,function(e,a){if(a>=i&&e===t)return n=a,!1}),n},hasClass:function(e,t){t=t.replace(/(^[ ]+)|([ ]+$)/g,"").replace(/[ ]{2,}/g," ").split(" ");for(var i,n=0,a=e.className;i=t[n++];)if(!new RegExp("\\b"+i+"\\b","i").test(a))return!1;return n-1==t.length},addClass:function(e,i){if(e){i=this.trim(i).replace(/[ ]{2,}/g," ").split(" ");for(var n,a=0,r=e.className;n=i[a++];)new RegExp("\\b"+n+"\\b").test(r)||(r+=" "+n);e.className=t.trim(r)}},removeClass:function(e,t){t=this.isArray(t)?t:this.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var i,n=0,a=e.className;i=t[n++];)a=a.replace(new RegExp("\\b"+i+"\\b"),"");a=this.trim(a).replace(/[ ]{2,}/g," "),e.className=a,!a&&e.removeAttribute("className")},on:function(e,i,n){var a=this.isArray(i)?i:i.split(/\s+/),r=a.length;if(r)for(;r--;)if(i=a[r],e.addEventListener)e.addEventListener(i,n,!1);else{n._d||(n._d={els:[]});var o=i+n.toString(),s=t.indexOf(n._d.els,e);n._d[o]&&-1!=s||(-1==s&&n._d.els.push(e),n._d[o]||(n._d[o]=function(e){return n.call(e.srcElement,e||window.event)}),e.attachEvent("on"+i,n._d[o]))}e=null},off:function(e,i,n){var a=this.isArray(i)?i:i.split(/\s+/),r=a.length;if(r)for(;r--;)if(i=a[r],e.removeEventListener)e.removeEventListener(i,n,!1);else{var o=i+n.toString();try{e.detachEvent("on"+i,n._d?n._d[o]:n)}catch(e){}if(n._d&&n._d[o]){var s=t.indexOf(n._d.els,e);-1!=s&&n._d.els.splice(s,1),0==n._d.els.length&&delete n._d[o]}}},loadFile:function(){function e(e,i){try{for(var n,a=0;n=t[a++];)if(n.doc===e&&n.url==(i.src||i.href))return n}catch(e){return null}}var t=[];return function(i,n,a){var r=e(i,n);if(r)r.ready?a&&a():r.funs.push(a);else if(t.push({doc:i,url:n.src||n.href,funs:[a]}),i.body){if(!n.id||!i.getElementById(n.id)){var o=i.createElement(n.tag);for(var s in delete n.tag,n)o.setAttribute(s,n[s]);o.onload=o.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if((r=e(i,n)).funs.length>0){r.ready=1;for(var t;t=r.funs.pop();)t()}o.onload=o.onreadystatechange=null}},o.onerror=function(){throw Error("The load "+(n.href||n.src)+" fails,check the url")},i.getElementsByTagName("head")[0].appendChild(o)}}else{var l=[];for(var s in n)"tag"!=s&&l.push(s+'="'+n[s]+'"');i.write("<"+n.tag+" "+l.join(" ")+" ></"+n.tag+">")}}}()};t.each(["String","Function","Array","Number","RegExp","Object","Boolean"],function(e){t["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});var i={};UE.parse={register:function(e,t){i[e]=t},load:function(e){t.each(i,function(i){i.call(e,t)})}},uParse=function(e,i){t.domReady(function(){if(document.querySelectorAll)n=document.querySelectorAll(e);else if(/^#/.test(e))n=[document.getElementById(e.replace(/^#/,""))];else if(/^\./.test(e)){var n=[];t.each(document.getElementsByTagName("*"),function(t){t.className&&new RegExp("\\b"+e.replace(/^\./,"")+"\\b","i").test(t.className)&&n.push(t)})}else n=document.getElementsByTagName(e);t.each(n,function(n){UE.parse.load(t.extend({root:n,selector:e},i))})})}})(),UE.parse.register("insertcode",function(e){var t=this.root.getElementsByTagName("pre");if(t.length)if("undefined"==typeof XRegExp){var i,n;void 0!==this.rootPath?(i=e.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCore.js",n=e.removeLastbs(this.rootPath)+"/third-party/SyntaxHighlighter/shCoreDefault.css"):(i=this.highlightJsUrl,n=this.highlightCssUrl),e.loadFile(document,{id:"syntaxhighlighter_css",tag:"link",rel:"stylesheet",type:"text/css",href:n}),e.loadFile(document,{id:"syntaxhighlighter_js",src:i,tag:"script",type:"text/javascript",defer:"defer"},function(){e.each(t,function(e){e&&/brush/i.test(e.className)&&SyntaxHighlighter.highlight(e)})})}else e.each(t,function(e){e&&/brush/i.test(e.className)&&SyntaxHighlighter.highlight(e)})}),UE.parse.register("table",function(e){function t(t,i){var n,a=t;for(i=e.isArray(i)?i:[i];a;){for(n=0;n<i.length;n++)if(a.tagName==i[n].toUpperCase())return a;a=a.parentNode}return null}var i=this,n=this.root;if((r=n.getElementsByTagName("table")).length){var a=this.selector;e.cssRule("table",a+" table.noBorderTable td,"+a+" table.noBorderTable th,"+a+" table.noBorderTable caption{border:1px dashed #ddd !important}"+a+" table.sortEnabled tr.firstRow th,"+a+" table.sortEnabled tr.firstRow td{padding-right:20px; background-repeat: no-repeat;background-position: center right; background-image:url("+this.rootPath+"themes/default/images/sortable.png);}"+a+" table.sortEnabled tr.firstRow th:hover,"+a+" table.sortEnabled tr.firstRow td:hover{background-color: #EEE;}"+a+" table{margin-bottom:10px;border-collapse:collapse;display:table;}"+a+" td,"+a+" th{ background:white; padding: 5px 10px;border: 1px solid #DDD;}"+a+" caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}"+a+" th{border-top:1px solid #BBB;background:#F7F7F7;}"+a+" table tr.firstRow th{border-top:2px solid #BBB;background:#F7F7F7;}"+a+" tr.ue-table-interlace-color-single td{ background: #fcfcfc; }"+a+" tr.ue-table-interlace-color-double td{ background: #f7faff; }"+a+" td p{margin:0;padding:0;}",document),e.each("td th caption".split(" "),function(t){var i=n.getElementsByTagName(t);i.length&&e.each(i,function(e){e.firstChild||(e.innerHTML="&nbsp;")})});var r=n.getElementsByTagName("table");e.each(r,function(n){/\bsortEnabled\b/.test(n.className)&&e.on(n,"click",function(n){var a=n.target||n.srcElement,r=t(a,["td","th"]),o=t(a,"table"),s=e.indexOf(o.rows[0].cells,r),l=o.getAttribute("data-sort-type");-1!=s&&(function(t,i,n){for(var a=t.rows,r=[],o="TH"===a[0].cells[0].tagName,s=0,l=a.length;s<l;s++)r[s]=a[s];var c={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){var i=e.innerText||e.textContent,n=t.innerText||t.textContent;return i.localeCompare(n)},reversebyasc:function(e,t){var i=e.innerHTML;return t.innerHTML.localeCompare(i)},orderbynum:function(t,i){var n=t[e.isIE?"innerText":"textContent"].match(/\d+/),a=i[e.isIE?"innerText":"textContent"].match(/\d+/);return n&&(n=+n[0]),a&&(a=+a[0]),(n||0)-(a||0)},reversebynum:function(t,i){var n=t[e.isIE?"innerText":"textContent"].match(/\d+/),a=i[e.isIE?"innerText":"textContent"].match(/\d+/);return n&&(n=+n[0]),a&&(a=+a[0]),(a||0)-(n||0)}};t.setAttribute("data-sort-type",n&&"string"==typeof n&&c[n]?n:""),o&&r.splice(0,1),r=function(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var i=0,n=e.length;i<n;i++)for(var a=i,r=e.length;a<r;a++)if(t(e[i],e[a])>0){var o=e[i];e[i]=e[a],e[a]=o}return e}(r,function(e,t){return n&&"function"==typeof n?n.call(this,e.cells[i],t.cells[i]):n&&"number"==typeof n?1:n&&"string"==typeof n&&c[n]?c[n].call(this,e.cells[i],t.cells[i]):c.orderbyasc.call(this,e.cells[i],t.cells[i])});var d=t.ownerDocument.createDocumentFragment(),u=0;for(l=r.length;u<l;u++)d.appendChild(r[u]);var h=t.getElementsByTagName("tbody")[0];h.appendChild(d)}(o,s,i.tableSortCompareFn||l),function(t){if(!e.hasClass(t.rows[0],"firstRow")){for(var i=1;i<t.rows.length;i++)e.removeClass(t.rows[i],"firstRow");e.addClass(t.rows[0],"firstRow")}}(o))})})}}),UE.parse.register("charts",function(t){function i(e){for(var t,i=e.getAttribute("data-chart"),n={},a=[],r=0;t=e.rows[r];r++){for(var o,s=[],l=0;o=t.cells[l];l++){var c=o.innerText||o.textContent||"";s.push("TH"==o.tagName?c:0|c)}a.push(s)}var d;for(i=i.split(";"),r=0;d=i[r];r++)n[(d=d.split(":"))[0]]=d[1];return{table:e,meta:n,data:a}}function n(){window.Highcharts?a():t.loadFile(document,{src:l+"/third-party/highcharts/highcharts.js",tag:"script",type:"text/javascript",defer:"defer"},function(){a()})}function a(){t.loadFile(document,{src:l+"/dialogs/charts/chart.config.js",tag:"script",type:"text/javascript",defer:"defer"},function(){!function(){for(var e=null,t=null,i=0,n=d.length;i<n;i++)e=d[i],t=s(e),r(o(e.table),typeConfig[e.meta.chartType],t)}()})}function r(t,i,n){e(t).highcharts(e.extend({},i,{credits:{enabled:!1},exporting:{enabled:!1},title:{text:n.title,x:-20},subtitle:{text:n.subTitle,x:-20},xAxis:{title:{text:n.xTitle},categories:n.categories},yAxis:{title:{text:n.yTitle},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{enabled:!0,valueSuffix:n.suffix},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:1},series:n.series}))}function o(e){var t=document.createElement("div");return t.className="edui-chart-container",e.parentNode.replaceChild(t,e),t}function s(e){var t=[],i=[],n=[],a=e.data,r=e.meta;if("1"!=r.dataFormat){for(var o=0,s=a.length;o<s;o++)for(var l=0,c=a[o].length;l<c;l++)n[l]||(n[l]=[]),n[l][o]=a[o][l];a=n}if(n={},r.chartType!=typeConfig.length-1){for(i=a[0].slice(1),o=1;d=a[o];o++)t.push({name:d[0],data:d.slice(1)});n.series=t,n.categories=i,n.title=r.title,n.subTitle=r.subTitle,n.xTitle=r.xTitle,n.yTitle=r.yTitle,n.suffix=r.suffix}else{var d=[];for(o=1,s=a[0].length;o<s;o++)d.push([a[0][o],0|a[1][o]]);t[0]={type:"pie",name:r.tip,data:d},n.series=t,n.title=r.title,n.suffix=r.suffix}return n}t.cssRule("chartsContainerHeight",".edui-chart-container { height:"+(this.chartContainerHeight||300)+"px}");var l=this.rootPath,c=this.root,d=null;l&&(d=c?function(e){for(var t,n=[],a=e.getElementsByTagName("table"),r=0;t=a[r];r++)null!==t.getAttribute("data-chart")&&n.push(i(t));return n.length?n:null}(c):null)&&(window.jQuery?n():t.loadFile(document,{src:l+"/third-party/jquery-1.10.2.min.js",tag:"script",type:"text/javascript",defer:"defer"},function(){n()}))}),UE.parse.register("background",function(e){for(var t,i,n=this.root.getElementsByTagName("p"),a=0;i=n[a++];)(t=i.getAttribute("data-background"))&&i.parentNode.removeChild(i);t&&e.cssRule("ueditor_background",this.selector+"{"+t+"}",document)}),UE.parse.register("list",function(e){function t(t){var a=this;e.each(t,function(t){if(t.className&&/custom_/i.test(t.className)){var r=t.className.match(/custom_(\w+)/)[1];if("dash"==r||"dot"==r)e.pushItem(i,s+" li.list-"+n[r]+"{background-image:url("+a.liiconpath+n[r]+".gif)}"),e.pushItem(i,s+" ul.custom_"+r+"{list-style:none;} "+s+" ul.custom_"+r+" li{background-position:0 3px;background-repeat:no-repeat}");else{var o=1;e.each(t.childNodes,function(t){"LI"==t.tagName&&(e.pushItem(i,s+" li.list-"+n[r]+o+"{background-image:url("+a.liiconpath+"list-"+n[r]+o+".gif)}"),o++)}),e.pushItem(i,s+" ol.custom_"+r+"{list-style:none;}"+s+" ol.custom_"+r+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(r){case"cn":e.pushItem(i,s+" li.list-"+r+"-paddingleft-1{padding-left:25px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-2{padding-left:40px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-3{padding-left:55px}");break;case"cn1":e.pushItem(i,s+" li.list-"+r+"-paddingleft-1{padding-left:30px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-2{padding-left:40px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-3{padding-left:55px}");break;case"cn2":e.pushItem(i,s+" li.list-"+r+"-paddingleft-1{padding-left:40px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-2{padding-left:55px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":e.pushItem(i,s+" li.list-"+r+"-paddingleft-1{padding-left:25px}");break;case"num2":e.pushItem(i,s+" li.list-"+r+"-paddingleft-1{padding-left:35px}"),e.pushItem(i,s+" li.list-"+r+"-paddingleft-2{padding-left:40px}");break;case"dash":e.pushItem(i,s+" li.list-"+r+"-paddingleft{padding-left:35px}");break;case"dot":e.pushItem(i,s+" li.list-"+r+"-paddingleft{padding-left:20px}")}}})}var i=[],n={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};e.extend(this,{liiconpath:"http://bs.baidu.com/listicon/",listDefaultPaddingLeft:"20"});var a=this.root,r=a.getElementsByTagName("ol"),o=a.getElementsByTagName("ul"),s=this.selector;r.length&&t.call(this,r),o.length&&t.call(this,o),(r.length||o.length)&&(i.push(s+" .list-paddingleft-1{padding-left:0}"),i.push(s+" .list-paddingleft-2{padding-left:"+this.listDefaultPaddingLeft+"px}"),i.push(s+" .list-paddingleft-3{padding-left:"+2*this.listDefaultPaddingLeft+"px}"),e.cssRule("list",s+" ol,"+s+" ul{margin:0;padding:0;}li{clear:both;}"+i.join("\n"),document))}),UE.parse.register("vedio",function(e){var t=this.root.getElementsByTagName("video"),i=this.root.getElementsByTagName("audio");if(document.createElement("video"),document.createElement("audio"),t.length||i.length){var n=e.removeLastbs(this.rootPath),a=n+"/third-party/video-js/video.js",r=n+"/third-party/video-js/video-js.min.css",o=n+"/third-party/video-js/video-js.swf";window.videojs?videojs.autoSetup():(e.loadFile(document,{id:"video_css",tag:"link",rel:"stylesheet",type:"text/css",href:r}),e.loadFile(document,{id:"video_js",src:a,tag:"script",type:"text/javascript"},function(){videojs.options.flash.swf=o,videojs.autoSetup()}))}})}).call(t,i("L7Pj"))},XRfD:function(e,t){},Xan1:function(e,t){},Y7ba:function(e,t){},Yrfm:function(e,t){},"Z/HC":function(e,t){},ZQGw:function(e,t){},"ZWY/":function(e,t){},Zmyt:function(e,t){e.exports={name:"elliptic",version:"6.4.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},_from:"elliptic@6.4.1",_resolved:"http://registry.npm.taobao.org/elliptic/download/elliptic-6.4.1.tgz"}},Zuxa:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y"),a=i("L7Pj"),r=i.n(a),o=i("C331"),s={props:{appId:{default:null},routeInfo:{default:""},infoSetting:{default:null}},created:function(){var e=this,t=this;this.routeInfo&&this.routeInfo.type&&this.routeInfo.type.typeTitle.indexOf("在线缴费")>=0&&(this.isDemoData=!0),this.infoSetting||(this.routeInfo?(this.appId=this.routeInfo.data.appId,this.instanceId=this.routeInfo.data.instanceId,this.nodeId=this.routeInfo.data.nodeId,this.isOldMobileFlog=!1):(this.appId=this.GetQueryString("appId"),this.instanceId=this.GetQueryString("instanceId")||"",this.nodeId=this.GetQueryString("nodeId"),this.isOldMobileFlog=!0)),this.infoSetting?(this._resetLayoutManageJson(),this.layoutManageJson.userId=this.infoSetting.userId,this.layoutManageJson.infomationType=this.infoSetting.type,this.layoutManageJson.infoTypes.length>0?this._initInfoType(this.layoutManageJson.infoTypes[0]):this._getInfoTypes(function(){e._initInfoType(e.layoutManageJson.infoTypes[0])})):Object(o.c)({url:"/api/app/"+this.appId+"/business/now",type:"get",success:function(e){e.state?(t.appSettingType=e.data[0].appSettingType,t.canApplyOnAuthority=e.data[0].canApplyOnAuthority,t.businessId=t.GetQueryString("businessId")||e.data[0].business.id,t.multiForm=e.data[0].multiForm,t.tabs=[{id:"guide",name:"指南"},{id:"myForm",name:"我的表单"}],t.instanceId&&"undefined"!==t.instanceId?(t._getLog(t.instanceId,function(e){t.previewObj.log=e||null}),t._getAuthorityData(t.instanceId,function(e){t.previewObj.authorities=e||[]}),t._getFormLayout(t.businessId,t.nodeId,function(e){t.previewObj.formData=e,t.previewObj.formData.components.forEach(function(e){n.a.set(e,"x",e.location.left),n.a.set(e,"y",e.location.top),n.a.set(e,"w",e.size.width),n.a.set(e,"h",e.size.height)}),t._getInitData(t.instanceId,function(e){t.previewObj.recordData=e,t.previewShow=!0})})):(t.guideConent=e.data[0].business.guide,t._apply())):t.$toast(e.message)}})},data:function(){return{previewShow:!1,searchFieldShow:!1,searchFields:[],searchContent:"",instanceId:"",businessId:"",nodeId:"",businessName:"",doNotClosePreview:["countermand","carbonCopy"],needAdviceAuthority:["reject","agree","disagree","carbonCopy","transfer"],previewObj:{formData:null,authorities:null,recordData:[],log:null},relationShip:{input:"stringValue",image:"stringValue",signature:"stringValue",select:"stringValue",radio:"stringValue",checkbox:"listValue",number:"floatValue",address:"addressValue",datetime:"dateValue",attachment:"attachmentValue",table:"tableValue"},appSettingType:"",saveBtnControl:!0,playerId:"",canApplyOnAuthority:!1,tabs:[],isSelect:"guide",guideConent:"",businessTime:[],isOldMobileFlog:!1,layoutManageJson:{infoTypes:[],layoutsJson:{},logsJson:{},instanceJson:{},preview:!1,curInfoId:"",distributary:"owner",infomationType:"",userId:""},isDemoData:null,paymentData:[{title:"学费缴交",code:11001},{title:"住宿费缴交",code:11002},{title:"团费缴交",code:11003},{title:"党费缴交",code:11004},{title:"Student Payment",code:11005},{title:"四级报名费缴交",code:11006},{title:"六级报名费缴交",code:11006},{title:"重修考试费缴交",code:11007},{title:"考试费用缴交",code:11008},{title:"电费缴交",code:11009}],multiForm:!1,showPlayerForm:!1,myFormsData:[],checkFormType:"check"}},computed:{getTitleWidth:function(){return r()(document).width()-70}},methods:{_addForm:function(){var e=this;this.checkFormType="add";this.instanceId="",this._getFormLayout(this.businessId,"owner",function(t){e.previewObj.formData=t,e.previewObj.formData.components.forEach(function(e){n.a.set(e,"x",e.location.left),n.a.set(e,"y",e.location.top),n.a.set(e,"w",e.size.width),n.a.set(e,"h",e.size.height)}),e.showPlayerForm=!0,e.previewObj.recordData=null})},checkMyForm:function(e){var t=this;this.checkFormType="check";this.instanceId=e.id,this._getFormLayout(this.businessId,"owner",function(i){t.previewObj.formData=i,t.previewObj.formData.components.forEach(function(e){n.a.set(e,"x",e.location.left),n.a.set(e,"y",e.location.top),n.a.set(e,"w",e.size.width),n.a.set(e,"h",e.size.height)}),t._getInitDataCheck(e.id,function(i){t.previewObj.recordData=i,t.showPlayerForm=!0,t.previewObj.recordData&&t._getMyFormLog(e.id,"owner",t.businessId,function(e){t.previewObj.log=e||null})})})},_getInitDataCheck:function(e,t){var i=this;Object(o.c)({url:"/api/formEngine/formInstance/"+e,type:"get",data:{playerId:"owner"},success:function(e){e.state?t(e.data):i.$toast(e.message)}})},_goToPayment:function(){var e=this;this.paymentData.forEach(function(t,i){e.routeInfo.type.childName.indexOf(t.title)>=0&&(window.location.href="/aggregation/payment/ccb/check?code="+t.code)})},GetQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},_getLog:function(e,t){var i=this;Object(o.c)({url:"/api/processEngine/processInstances/"+e+"/handleLogs",type:"get",success:function(e){e.state?t(e.data):i.$toast(e.message)}})},_getInitData:function(e,t){Object(o.c)({url:"/api/processEngine/processInstances/"+e,type:"get",success:function(e){e.state?t(e.data):that.$toast(e.message)}})},_getInitCache:function(e,t){var i=this;Object(o.c)({url:"/api/processEngine/business/"+e+"/formData/caches",type:"get",success:function(e){e.state?t(e.data):i.$toast(e.message)}})},_getInitMyFormData:function(e,t){var i=this;Object(o.c)({url:"/api/formEngine/business/"+e+"/myFormInstance",type:"get",success:function(e){e.state?(e.data&&e.data.editable||(i.saveBtnControl=!1),t(e.data)):i.$toast(e.message)}})},_getMyFormLog:function(e,t,i,n){var a=this;Object(o.c)({url:"/api/formEngine/formInstances/"+e+"/changeLogs?playerId="+t+"&businessId="+i,type:"get",success:function(e){e.state?n(e.data):a.$toast(e.message)}})},_getMyFormsData:function(){var e=this;Object(o.c)({url:"/api/formEngine/business/"+this.businessId+"/multi/myFormInstances",type:"get",success:function(t){t.state?e.myFormsData=t.data.content:e.$toast(t.message)}})},_apply:function(){var e=this,t="";if("WORKFLOW"===this.appSettingType)this.previewObj.authorities=null;else if("FORM"===this.appSettingType){if(this.playerId="owner",t="owner",this._getBusinessTime(),!this.canApplyOnAuthority)return this.saveBtnControl=!1,this.$toast("您无权申请此表单"),void this._getFormLayout(this.businessId,t,function(t){e.previewObj.formData=t});this.multiForm&&this._getMyFormsData()}this._getFormLayout(this.businessId,t,function(t){if(e.previewObj.formData=t,e.previewObj.formData.components.forEach(function(e){n.a.set(e,"x",e.location.left),n.a.set(e,"y",e.location.top),n.a.set(e,"w",e.size.width),n.a.set(e,"h",e.size.height)}),"WORKFLOW"===e.appSettingType)e._getInitCache(e.businessId,function(t){e.previewObj.recordData=t,e.previewObj.recordData&&(e.previewObj.recordData.id=""),e.previewShow=!0});else if("FORM"===e.appSettingType&&e.canApplyOnAuthority){if(e.multiForm)return;e._getInitMyFormData(e.businessId,function(t){e.previewObj.recordData=t,e.previewShow=!0,e.previewObj.recordData&&e._getMyFormLog(e.previewObj.recordData.id,e.playerId,e.businessId,function(t){e.previewObj.log=t||null})})}})},_getBusinessTime:function(){var e=this;Object(o.c)({url:"/api/app/business/"+this.businessId+"/players/time",type:"get",success:function(t){t.state?e.businessTime=t.data:e.$toast(t.message)}})},_getAuthorityData:function(e,t){var i=this;Object(o.c)({url:"/api/processEngine/processInstances/"+e+"/operations",type:"get",success:function(e){e.state?t(e.data):i.$toast(e.message)}})},_getFormLayout:function(e,t,i){var n=this,a="";"WORKFLOW"===this.appSettingType?a+="/api/processEngine/business/"+e+"/formRenderData?nodeId="+t:"FORM"===this.appSettingType&&(this.multiForm?a+="/api/formEngine/business/"+e+"/formRenderData?playerId=owner":a+="/api/formEngine/business/"+e+"/formRenderData?playerId="+t),Object(o.c)({url:a,type:"get",success:function(e){e.state?i(e.data):n.$toast(e.message)}}),Object(o.c)({url:"/api/app/"+this.appId+"/business/"+this.businessId,type:"get",success:function(e){e.state?n.businessName=e.data.business.name:n.$toast(e.message)}})},_submit:function(e){var t=this;this.needAdviceAuthority.indexOf(e.type)>=0?this.$prompt({tip:"确认"+e.title+"?",placeholder:"请输入批复意见",callback:function(i){"ok"===i.type&&t._submitAction(e,i.text)}}):"cancel"===e.type?confirm("确认要放弃本申请吗？放弃后申请作废")&&this._submitAction(e):confirm("确认"+e.title+"?")&&this._submitAction(e)},_submitAction:function(e,t){var i=this,n="post",a="";"submit"===e.type?a="/api/processEngine/processInstances":"transfer"===e.type||"carbonCopy"===e.type?(n="put",a="/api/processEngine/processInstances?action="+e.type+"&userId="+e.userId):"save"===e.type?(n="post",a="/api/processEngine/business/"+this.businessId+"/formData/caches"):(n="put",a="/api/processEngine/processInstances?action="+e.type+(t?"&message="+t:"")),Object(o.c)({url:a,type:n,data:{id:this.previewObj.recordData?this.previewObj.recordData.id:"",formData:e.formData,variable:{appId:this.appId,businessId:this.businessId}},success:function(t){t.state?"submit"===e.type?(i.$toast("提交申请成功"),i.isOldMobileFlog?window.location.href="/mobile/affairList":i.$emit("jumpAffariList")):i.doNotClosePreview.indexOf(e.type)>=0?(i.$toast("申请已"+e.title),i._getAuthorityData(i.instanceId,function(e){i.authorities=e||[]})):(i.$toast("申请已"+e.title),i.isOldMobileFlog?window.history.go(-1):i.$emit("jumpAffariList")):i.$toast(t.message)}})},_save:function(e){if(this.saveBtnControl&&confirm("确认保存?")){var t=void 0,i={},n="";"submit"===e.type&&("add"===this.checkFormType?(t="/api/formEngine/formInstances",i={id:this.instanceId,formData:e.formData,variable:{appId:this.appId,businessId:this.businessId}},n="post"):(t="/api/formEngine/formInstance/"+this.previewObj.recordData.id,i={formData:e.formData,playerId:this.playerId},n="put"));var a=this;Object(o.c)({url:t,type:n,data:i,success:function(t){t.state?(a.preview=!1,"submit"===e.type&&(a.multiForm&&(a._getMyFormsData(),a.showPlayerForm=!1),a.$toast("保存成功"))):a.$toast(t.message)}})}},_back:function(){this.isOldMobileFlog?window.history.go(-1):this.$emit("back")},changeTab:function(e){this.isSelect=e,"myForm"===e?this._apply():this.previewShow=!1},_resetLayoutManageJson:function(){this.layoutManageJson.layoutsJson={},this.layoutManageJson.logsJson={},this.layoutManageJson.instanceJson={},this.layoutManageJson.curInfoId=""},_getInfoTypes:function(e){var t=this;Object(o.c)({url:"/api/information/columnTypes/"+this.layoutManageJson.infomationType,type:"get",success:function(i){i.state?i.data&&i.data.length>0?(t.layoutManageJson.infoTypes=i.data||[],t.layoutManageJson.infoTypes.forEach(function(e){t.$set(e,"title",e.text)}),e&&e()):t.$toast("信息类型为空，不可查看"):t.$toast(i.message)}})},_initInfoType:function(e){var t=this;e&&(this.layoutManageJson.layoutsJson[e.id]&&this.layoutManageJson.logsJson[e.id]?(this.layoutManageJson.curInfoId=e.id,this.$nextTick(function(){t.layoutManageJson.preview=!0})):(this.$waiting.show({container:".preview-container"}),Object(o.c)({url:"/api/information/infoSetting/"+this.layoutManageJson.infomationType+"/"+e.id,type:"get",data:{userId:this.layoutManageJson.userId,distributary:this.layoutManageJson.distributary},success:function(i){i.state?(i.data||(i.data=[]),i.data.components.forEach(function(e){n.a.set(e,"x",e.location.left),n.a.set(e,"y",e.location.top),n.a.set(e,"w",e.size.width),n.a.set(e,"h",e.size.height)}),t.$set(t.layoutManageJson.layoutsJson,e.id,i.data),t.layoutManageJson.curInfoId=e.id,Object(o.c)({url:"/api/information/infoInstance/changeLogs/"+t.layoutManageJson.infomationType+"/"+e.id,type:"get",data:{userId:t.layoutManageJson.userId},success:function(i){i.state?(t.$set(t.layoutManageJson.logsJson,e.id,i.data||[]),t.layoutManageJson.preview=!0):t.$toast(i.message)}})):t.$toast(i.message)}}).always(function(){t.$waiting.close()})))},_getInfoValue:function(e){this.$set(this.layoutManageJson.instanceJson,this.layoutManageJson.curInfoId,e)},_submitAll:function(){var e=this,t=[];for(var i in this.layoutManageJson.instanceJson)t.push({infoId:i,formData:this.layoutManageJson.instanceJson[i].formData});0!==t.length?(this.$waiting.show(),Object(o.c)({url:"/api/information/infoInstance/"+this.layoutManageJson.infomationType+"/"+this.layoutManageJson.distributary+"/"+this.layoutManageJson.userId,type:"put",data:{typesValue:t},success:function(t){t.state?(e.$toast("保存成功"),e.layoutManageJson.instanceJson={}):e.$toast(t.message)}}).always(function(){e.$waiting.close()})):this.$toast("暂无需保存记录")},_afterSelectTab:function(e){var t=null;this.layoutManageJson.infoTypes.forEach(function(i){e.value===i.id&&(t=i)}),t&&this._initInfoType(t)},_searchField:function(){var e=this;Object(o.c)({url:"/api/information/fields/"+this.layoutManageJson.infomationType,type:"get",data:{userId:this.layoutManageJson.userId,keyword:this.searchContent,distributary:"owner"},success:function(t){e.searchFields=[],t.state&&t.data.length>0&&t.data.forEach(function(t){t.fields&&t.fields.forEach(function(i){var n={};n.typeId=t.typeId,n.typeTitle=t.name,n.id=i.tableName||i.name,n.title=i.title,e.searchFields.push(n)})})}})},_closeSearch:function(){this.searchFieldShow=!1},_clearSearch:function(){this.searchContent="",this.$refs.infoForm.searchContent="",this.$refs.infoForm.highLightWigt=""},_showField:function(e){this.layoutManageJson.curInfoId=e.typeId,this._initInfoType({id:e.typeId}),this.$refs.infoForm.highLightWigt=e.id,this.searchFieldShow=!1}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-fluid form-preview-container"},[i("div",{staticClass:"header",class:"WORKFLOW"===e.appSettingType?"setBoxShadow":""},[i("i",{staticClass:"pull-left maticon back",domProps:{innerHTML:e._s(e.icons("arrow_back"))},on:{click:e._back}},[e._v("arrow_back")]),e._v(" "),(e.appSettingType,i("div",{staticClass:"pull-left"},[i("h4",{staticClass:"title",style:"width:"+e.getTitleWidth+"px;"},[e._v(e._s(e.previewObj.formData?e.previewObj.formData.name:""))]),e._v(" "),i("p",{staticClass:"desc",style:"width:"+e.getTitleWidth+"px;"},[e._v(e._s(e.businessName))])]))]),e._v(" "),e.infoSetting?i("div",{staticClass:"mobile-form-search"},[i("v-select",{staticClass:"types-select",attrs:{options:e.layoutManageJson.infoTypes,"dropdown-class":"types-dropdown","options-value":"id","options-label":"title","min-search":999,"close-on-select":""},on:{afterSelected:e._afterSelectTab},model:{value:e.layoutManageJson.curInfoId,callback:function(t){e.$set(e.layoutManageJson,"curInfoId",t)},expression:"layoutManageJson.curInfoId"}}),e._v(" "),i("div",{staticClass:"pull-right search-area text-center",on:{click:function(t){e.searchFieldShow=!0}}},[i("div",{staticStyle:{display:"inline-block"}},[i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:e._s(e.icons("search"))}}),e._v(" "),i("span",{staticStyle:{"margin-left":"4px"}},[e._v(e._s(e.searchContent||"输入关键词"))])]),e._v(" "),e.searchContent?i("i",{staticClass:"maticon pull-right cancel",domProps:{innerHTML:e._s(e.icons("cancel"))},on:{click:function(t){return t.stopPropagation(),e._clearSearch(t)}}}):e._e()]),e._v(" "),e._m(0)],1):e._e(),e._v(" "),"WORKFLOW"===e.appSettingType?i("div",{staticClass:"workflowPreview-content"},[e.previewShow?i("preview",{attrs:{data:e.previewObj.formData.components,title:e.previewObj.formData.name,script:e.previewObj.formData.property.script,authorities:e.previewObj.authorities,defaultData:e.previewObj.recordData,fileServer:e.uploadFile,log:e.previewObj.log},on:{submit:e._submit}}):e._e()],1):e.infoSetting?i("div",{staticClass:"personal-info-preview"},[e.layoutManageJson.preview?i("preview",{ref:"infoForm",attrs:{data:e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId]&&e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId].components,defaultData:e.layoutManageJson.instanceJson[e.layoutManageJson.curInfoId],log:e.layoutManageJson.logsJson[e.layoutManageJson.curInfoId],script:e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId]&&e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId].property&&e.layoutManageJson.layoutsJson[e.layoutManageJson.curInfoId].property.script,previewType:"form",infoSetting:{tabs:e.layoutManageJson.infoTypes,curInfoId:e.layoutManageJson.curInfoId}},on:{submit:e._getInfoValue,submitAll:e._submitAll,search:function(t){e._getInfoTypes(null,t)}}}):e._e()],1):i("div",[e.canApplyOnAuthority?i("div",{staticClass:"form-nav"},e._l(e.tabs,function(t,n){return i("div",{key:n,staticClass:"form-tab",class:{active:e.isSelect==t.id},on:{click:function(i){e.changeTab(t.id)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})):e._e(),e._v(" "),i("div",["guide"===e.isSelect?i("div",{staticClass:"guide-content",class:e.canApplyOnAuthority?"marginTop-123":"marginTop-67"},[i("div",{staticClass:"guide-info"},[i("div",{staticClass:"guide-title"},[e._v("\n            办理指南\n          ")]),e._v(" "),i("div",{staticClass:"guide-content-detail",domProps:{innerHTML:e._s(e.guideConent)}}),e._v(" "),i("div",{staticClass:"business-time"},e._l(e.businessTime,function(t,n){return i("div",{key:n},[i("p",[e._v(e._s(t.playerName))]),e._v(" "),i("p",[i("span",[e._v("开始时间：")]),e._v(" "),i("span",[e._v(e._s(t.startDate||"未设置"))])]),e._v(" "),i("p",[i("span",[e._v("结束时间：")]),e._v(" "),i("span",[e._v(e._s(t.endDate||"未设置"))])])])}))])]):i("div",{staticClass:"formPreview-content"},[e.multiForm?i("div",[e.showPlayerForm?i("div",[i("preview",{attrs:{data:e.previewObj.formData.components,title:e.previewObj.formData.name,backArrowControl:!1,script:e.previewObj.formData.property.script,defaultData:e.previewObj.recordData,fileServer:e.uploadFile,log:e.previewObj.log,saveBtnControl:e.saveBtnControl,previewType:"form",isDemoData:e.isDemoData},on:{goToPayment:e._goToPayment,submit:e._save,back:function(t){e.showPlayerForm=!1}}})],1):i("div",{staticClass:"my-forms-container"},[i("div",{staticClass:"my-forms-list"},e._l(e.myFormsData,function(t,n){return i("div",{key:n,staticClass:"my-forms-box",on:{click:function(i){e.checkMyForm(t)}}},[i("div",{staticClass:"time"},[e._v("\n                  发起时间\n                  "),i("p",[e._v(e._s(t.createTime))])]),e._v(" "),e._m(1,!0)])})),e._v(" "),i("div",{staticClass:"footer"},[i("button",{staticClass:"add-new",on:{click:e._addForm}},[e._v("新增")])])])]):i("div",[e.previewShow?i("preview",{attrs:{data:e.previewObj.formData.components,title:e.previewObj.formData.name,backArrowControl:!1,script:e.previewObj.formData.property.script,defaultData:e.previewObj.recordData,fileServer:e.uploadFile,log:e.previewObj.log,saveBtnControl:e.saveBtnControl,previewType:"form",isDemoData:e.isDemoData},on:{goToPayment:e._goToPayment,submit:e._save}}):e._e()],1)])])]),e._v(" "),e.searchFieldShow?i("div",{staticClass:"search-field-container"},[i("div",{staticClass:"header"},[i("i",{staticClass:"pull-left maticon back",domProps:{innerHTML:e._s(e.icons("arrow_back"))},on:{click:e._closeSearch}},[e._v("arrow_back")]),e._v(" "),i("span",{staticClass:"pull-right search-btn"},[e._v("搜索")]),e._v(" "),i("div",{staticClass:"pull-left input-group",style:"width:"+(e.getTitleWidth-70)+"px;"},[i("span",{staticClass:"input-group-addon"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("search"))}})]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchContent,expression:"searchContent"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:e.searchContent},on:{change:function(t){e._searchField()},input:function(t){t.target.composing||(e.searchContent=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"search-list"},e._l(e.searchFields,function(t,n){return i("div",{key:n,staticClass:"search-list-item",on:{click:function(i){e._showField(t)}}},[i("div",{staticClass:"item-content pull-left"},[i("label",[e._v(e._s(t.title))]),e._v(" "),i("p",[e._v("来自："+e._s(t.typeTitle))])]),e._v(" "),i("span",{staticClass:"arrow pull-right"},[i("i",{staticClass:"maticon",domProps:{innerHTML:e._s(e.icons("expand_more"))}})])])})),e._v(" "),0===e.searchFields.length?i("div",{staticClass:"text-center",staticStyle:{"line-height":"3",color:"#929292"}},[e._v("\n      无记录\n    ")]):e._e()]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"divide text-center pull-right"},[t("span")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"my-forms-check pull-right"},[t("i",{staticClass:"glyphicon glyphicon-menu-right week-after-icon"})])}]};var c=i("C7Lr")(s,l,!1,function(e){i("ZWY/")},null,null);t.default=c.exports},c4bB:function(e,t){},d5U6:function(e,t){},ddDs:function(e,t){},deBv:function(e,t){},"e/lV":function(e,t,i){"use strict";(function(e){t.a={data:function(){return{croppa:null,show:!0,imageUrl:""}},computed:{},created:function(){},methods:{_remove:function(){this.croppa.remove()},_getImageUrl:function(){if(this.file){this.$waiting.show({text:"图片加载中"});var e=this,t=new FileReader;t.onloadend=function(t){e.imageUrl=t.target.result,e.$waiting.close()},t.readAsDataURL(this.file)}},_endCut:function(){var e=this.croppa.generateDataUrl();this.sure(e),this.show=!1}},mounted:function(){var t=this;if(this.scale)if(isNaN(this.scale)){var i=this.scale.split(":");this.height=this.width*i[1]/i[0]}else this.height=this.width/this.scale;var n=Math.max(this.width,this.height);this.$nextTick(function(){e(".croppa canvas").css({width:300*t.width/n,height:300*t.height/n}),t._getImageUrl()})}}}).call(t,i("L7Pj"))},f4gh:function(e,t,i){"use strict";var n=i("YKQd"),a=(n.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[n.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-toast"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask&&e.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),e._v(" "),i("transition",{attrs:{name:e.currentTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-toast",class:e.toastClass,style:{width:e.width}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==e.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),e.text?i("p",{staticClass:"weui-toast__content",style:e.style,domProps:{innerHTML:e._s(e.text)}}):i("p",{staticClass:"weui-toast__content",style:e.style},[e._t("default")],2)])])],1)},staticRenderFns:[]};var o=i("C7Lr")(a,r,!1,function(e){i("Xan1")},null,null);t.a=o.exports},faOy:function(e,t){},"g/9p":function(e,t){},gCvn:function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},iBnf:function(e,t,i){"use strict";(function(e){var n=i("hRKE"),a=i.n(n),r=i("ZLEe"),o=i.n(r);
/**
 * gemini-scrollbar
 * @version 1.5.3
 * @link http://noeldelgado.github.io/gemini-scrollbar/
 * @license MIT
 */
!function(){var t,i,n;function r(e,t){if(e&&e.classList)return t.forEach(function(t){e.classList.add(t)});e.className+=" "+t.join(" ")}function s(e,t){if(e.classList)return t.forEach(function(t){e.classList.remove(t)});e.className=e.className.replace(new RegExp("(^|\\b)"+t.join("|")+"(\\b|$)","gi")," ")}function l(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}function c(e){var n,a;this.element=null,this.autoshow=!1,this.createElements=!0,this.forceGemini=!1,this.onResize=null,this.minThumbSize=20,this.scrollX=!0,this.scrollY=!0,o()(e||{}).forEach(function(t){this[t]=e[t]},this),(a=document.createElement("div")).style.position="absolute",a.style.top="-9999px",a.style.width="100px",a.style.height="100px",a.style.overflow="scroll",a.style.msOverflowStyle="scrollbar",document.body.appendChild(a),n=a.offsetWidth-a.clientWidth,document.body.removeChild(a),i=0===(t=n)&&!1===this.forceGemini,this._cache={events:{}},this._created=!1,this._cursorDown=!1,this._prevPageX=0,this._prevPageY=0,this._document=null,this._viewElement=this.element,this._scrollbarVerticalElement=null,this._thumbVerticalElement=null,this._scrollbarHorizontalElement=null,this._scrollbarHorizontalElement=null}n={element:"gm-scrollbar-container",verticalScrollbar:"gm-scrollbar -vertical",horizontalScrollbar:"gm-scrollbar -horizontal",thumb:"thumb",view:"gm-scroll-view",autoshow:"gm-autoshow",disable:"gm-scrollbar-disable-selection",prevented:"gm-prevented",resizeTrigger:"gm-resize-trigger"},c.prototype.create=function(){if(i){if(r(this.element,[n.prevented]),this.onResize){if(!0===this.createElements){for(this._viewElement=document.createElement("div");this.element.childNodes.length>0;)this._viewElement.appendChild(this.element.childNodes[0]);this.element.appendChild(this._viewElement)}else this._viewElement=this.element.querySelector("."+n.view);r(this.element,[n.element]),r(this._viewElement,[n.view]),this._createResizeTrigger()}return this}if(!0===this._created)return console.warn("calling on a already-created object"),this;if(this.autoshow&&r(this.element,[n.autoshow]),this._document=document,!0===this.createElements){for(this._viewElement=document.createElement("div"),this._scrollbarVerticalElement=document.createElement("div"),this._thumbVerticalElement=document.createElement("div"),this._scrollbarHorizontalElement=document.createElement("div"),this._thumbHorizontalElement=document.createElement("div");this.element.childNodes.length>0;)this._viewElement.appendChild(this.element.childNodes[0]);this._scrollbarVerticalElement.appendChild(this._thumbVerticalElement),this._scrollbarHorizontalElement.appendChild(this._thumbHorizontalElement),this.element.appendChild(this._scrollbarVerticalElement),this.element.appendChild(this._scrollbarHorizontalElement),this.element.appendChild(this._viewElement)}else this._viewElement=this.element.querySelector("."+n.view),this._scrollbarVerticalElement=this.element.querySelector("."+n.verticalScrollbar.split(" ").join(".")),this._thumbVerticalElement=this._scrollbarVerticalElement.querySelector("."+n.thumb),this._scrollbarHorizontalElement=this.element.querySelector("."+n.horizontalScrollbar.split(" ").join(".")),this._thumbHorizontalElement=this._scrollbarHorizontalElement.querySelector("."+n.thumb);return r(this.element,[n.element]),r(this._viewElement,[n.view]),r(this._scrollbarVerticalElement,n.verticalScrollbar.split(/\s/)),r(this._scrollbarHorizontalElement,n.horizontalScrollbar.split(/\s/)),r(this._thumbVerticalElement,[n.thumb]),r(this._thumbHorizontalElement,[n.thumb]),this._scrollbarVerticalElement.style.display=this.scrollY?"":"none",this._scrollbarHorizontalElement.style.display=this.scrollX?"":"none",this._createResizeTrigger(),this._created=!0,this._bindEvents().update()},c.prototype._createResizeTrigger=function(){var e=document.createElement("object");r(e,[n.resizeTrigger]),e.type="text/html",e.setAttribute("tabindex","-1");var t=this._resizeHandler.bind(this);e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",t)},l()||(e.data="about:blank"),this.element.appendChild(e),l()&&(e.data="about:blank"),this._resizeTriggerElement=e},c.prototype.update=function(){return i?this:!1===this._created?(console.warn("calling on a not-yet-created object"),this):(this._viewElement.style.width=(this.element.offsetWidth+(this.scrollY?t:0)).toString()+"px",this._viewElement.style.height=(this.element.offsetHeight+(this.scrollX?t:0)).toString()+"px",this.scrollX||(this._viewElement.style.overflowX="hidden"),this.scrollY||(this._viewElement.style.overflowY="hidden"),this._naturalThumbSizeX=this._scrollbarHorizontalElement.clientWidth/this._viewElement.scrollWidth*this._scrollbarHorizontalElement.clientWidth,this._naturalThumbSizeY=this._scrollbarVerticalElement.clientHeight/this._viewElement.scrollHeight*this._scrollbarVerticalElement.clientHeight,this._scrollTopMax=this._viewElement.scrollHeight-this._viewElement.clientHeight,this._scrollLeftMax=this._viewElement.scrollWidth-this._viewElement.clientWidth,this._naturalThumbSizeY<this.minThumbSize?this._thumbVerticalElement.style.height=this.minThumbSize+"px":this._scrollTopMax?this._thumbVerticalElement.style.height=this._naturalThumbSizeY+"px":this._thumbVerticalElement.style.height="0px",this._naturalThumbSizeX<this.minThumbSize?this._thumbHorizontalElement.style.width=this.minThumbSize+"px":this._scrollLeftMax?this._thumbHorizontalElement.style.width=this._naturalThumbSizeX+"px":this._thumbHorizontalElement.style.width="0px",this._thumbSizeY=this._thumbVerticalElement.clientHeight,this._thumbSizeX=this._thumbHorizontalElement.clientWidth,this._trackTopMax=this._scrollbarVerticalElement.clientHeight-this._thumbSizeY,this._trackLeftMax=this._scrollbarHorizontalElement.clientWidth-this._thumbSizeX,this._scrollHandler(),this)},c.prototype.destroy=function(){if(this._resizeTriggerElement&&(this.element.removeChild(this._resizeTriggerElement),this._resizeTriggerElement=null),i)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;if(this._unbinEvents(),s(this.element,[n.element,n.autoshow]),!0===this.createElements){for(this.element.removeChild(this._scrollbarVerticalElement),this.element.removeChild(this._scrollbarHorizontalElement);this._viewElement.childNodes.length>0;)this.element.appendChild(this._viewElement.childNodes[0]);this.element.removeChild(this._viewElement)}else this._viewElement.style.width="",this._viewElement.style.height="",this._scrollbarVerticalElement.style.display=this.scrollY?"":"none",this._scrollbarHorizontalElement.style.display=this.scrollX?"":"none";return this._created=!1,this._document=null,null},c.prototype.getViewElement=function(){return this._viewElement},c.prototype._bindEvents=function(){return this._cache.events.scrollHandler=this._scrollHandler.bind(this),this._cache.events.clickVerticalTrackHandler=this._clickVerticalTrackHandler.bind(this),this._cache.events.clickHorizontalTrackHandler=this._clickHorizontalTrackHandler.bind(this),this._cache.events.clickVerticalThumbHandler=this._clickVerticalThumbHandler.bind(this),this._cache.events.clickHorizontalThumbHandler=this._clickHorizontalThumbHandler.bind(this),this._cache.events.mouseUpDocumentHandler=this._mouseUpDocumentHandler.bind(this),this._cache.events.mouseMoveDocumentHandler=this._mouseMoveDocumentHandler.bind(this),this._viewElement.addEventListener("scroll",this._cache.events.scrollHandler),this._scrollbarVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler),this._document.addEventListener("mouseup",this._cache.events.mouseUpDocumentHandler),this},c.prototype._unbinEvents=function(){return this._viewElement.removeEventListener("scroll",this._cache.events.scrollHandler),this._scrollbarVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler),this._document.removeEventListener("mouseup",this._cache.events.mouseUpDocumentHandler),this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this},c.prototype._scrollHandler=function(){var e=this._viewElement.scrollLeft*this._trackLeftMax/this._scrollLeftMax||0,t=this._viewElement.scrollTop*this._trackTopMax/this._scrollTopMax||0;this._thumbHorizontalElement.style.msTransform="translateX("+e+"px)",this._thumbHorizontalElement.style.webkitTransform="translate3d("+e+"px, 0, 0)",this._thumbHorizontalElement.style.transform="translate3d("+e+"px, 0, 0)",this._thumbVerticalElement.style.msTransform="translateY("+t+"px)",this._thumbVerticalElement.style.webkitTransform="translate3d(0, "+t+"px, 0)",this._thumbVerticalElement.style.transform="translate3d(0, "+t+"px, 0)"},c.prototype._resizeHandler=function(){this.update(),this.onResize&&this.onResize()},c.prototype._clickVerticalTrackHandler=function(e){if(e.target===e.currentTarget){var t=100*(e.offsetY-.5*this._naturalThumbSizeY)/this._scrollbarVerticalElement.clientHeight;this._viewElement.scrollTop=t*this._viewElement.scrollHeight/100}},c.prototype._clickHorizontalTrackHandler=function(e){if(e.target===e.currentTarget){var t=100*(e.offsetX-.5*this._naturalThumbSizeX)/this._scrollbarHorizontalElement.clientWidth;this._viewElement.scrollLeft=t*this._viewElement.scrollWidth/100}},c.prototype._clickVerticalThumbHandler=function(e){this._startDrag(e),this._prevPageY=this._thumbSizeY-e.offsetY},c.prototype._clickHorizontalThumbHandler=function(e){this._startDrag(e),this._prevPageX=this._thumbSizeX-e.offsetX},c.prototype._startDrag=function(e){this._cursorDown=!0,r(document.body,[n.disable]),this._document.addEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this._document.onselectstart=function(){return!1}},c.prototype._mouseUpDocumentHandler=function(){this._cursorDown=!1,this._prevPageX=this._prevPageY=0,s(document.body,[n.disable]),this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this._document.onselectstart=null},c.prototype._mouseMoveDocumentHandler=function(e){var t,i;if(!1!==this._cursorDown)return this._prevPageY?(t=e.clientY-this._scrollbarVerticalElement.getBoundingClientRect().top,i=this._thumbSizeY-this._prevPageY,void(this._viewElement.scrollTop=this._scrollTopMax*(t-i)/this._trackTopMax)):void(this._prevPageX&&(t=e.clientX-this._scrollbarHorizontalElement.getBoundingClientRect().left,i=this._thumbSizeX-this._prevPageX,this._viewElement.scrollLeft=this._scrollLeftMax*(t-i)/this._trackLeftMax))},"object"===("undefined"==typeof exports?"undefined":a()(exports))?e.exports=c:window.GeminiScrollbar=c}(),t.a=window.GeminiScrollbar}).call(t,i("VC+f")(e))},iJwO:function(e,t){},ihwi:function(e,t){},irIk:function(e,t){},"j+01":function(e,t){},jHHs:function(e,t,i){"use strict";var n=i("uc2b"),a=(n.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[n.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===e.layout}},[i("transition",{attrs:{name:e.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask",style:e.maskStyle,on:{click:e.hide}})]),e._v(" "),i("transition",{attrs:{name:e.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.dialogClass,style:e.dialogStyle},[e._t("default")],2)])],1)},staticRenderFns:[]};var o=i("C7Lr")(a,r,!1,function(e){i("WvlI")},null,null);t.a=o.exports},jo8M:function(e,t){},kUbc:function(e,t){},m4Hq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y"),a=i("C331"),r={props:{data:{default:""},update:{default:!1}},data:function(){return{businessName:"",initDataOfChart:null,guide:null,businessTimeList:null,tabs:[{id:"guide",name:"指南"},{id:"myApply",name:"我的申请"}],isSelect:"guide",myApplyList:[],resultMessageJson:{overtime:"申请在{{node}}节点超时",rescissory:"申请者取消申请",disable:"业务期停用，表单废弃",success:"申请已通过",fail:"申请在{{node}}节点不通过",end:"已结束",submit:"待{{node}}节点审核",proxySubmit:"待{{node}}节点审核",agree:"待{{node}}节点审核",reject:"申请被驳回至{{node}}节点",countermand:"申请被撤回至{{node}}节点"}}},computed:{applyText:function(){return this.data.curBusiness.canApplyOnTime?this.data.curBusiness.canApplyOnAuthority?"申请":"您无申请权限":"当前时间不可申请"}},watch:{update:function(e){e&&this._getMyApplyData()}},created:function(){var e=this;Object(a.c)({url:"/api/apps/"+this.data.data.appId+"/settings/flows",type:"get",success:function(t){t.state?t.data&&t.data.chart&&t.data.chart.nodes&&t.data.chart.nodes.length>0&&(e.initDataOfChart={},t.data.chart.nodes.forEach(function(t,i){n.a.set(e.initDataOfChart,t.id,t)})):e._toast(t.message)}}),Object(a.c)({url:"/api/app/"+this.data.data.appId+"/business/"+this.data.data.businessId,type:"get",success:function(t){t.state?(e.guide=t.data.business.guide,e.businessName=t.data.business.name,e.businessTimeList=t.data.business.businessTimeList):e._toast(t.message)}})},methods:{_apply:function(){this.data.curBusiness.canApplyOnTime&&this.data.curBusiness.canApplyOnAuthority&&this.$emit("addBread",{route:"/form/MFormLayout?appId="+this.data.data.appId,title:""})},_back:function(){this.$emit("removeBread",this.data)},changeTab:function(e){this.isSelect=e,"myApply"===this.isSelect&&this._getMyApplyData()},_getMyApplyData:function(){var e=this;Object(a.c)({url:"/api/processEngine/myProcessInstances?businessId="+this.data.data.businessId,type:"get",success:function(t){t.state?e.myApplyList=t.data.content:e._toast(t.message)}})},_clickApplyDetail:function(e){this.$emit("addBread",{route:"/form/MFormLayout?appId="+e.appId+"&instanceId="+e.id+"&nodeId="+e.currentNode.id,title:""})},_getFlowStatus:function(e){var t="";return"pending"===e.status.toLowerCase()?t=this.resultMessageJson[e.lastAction]?this.resultMessageJson[e.lastAction].replace("{{node}}",e.currentNode.name):"":"end"===e.status.toLowerCase()&&(t=this.resultMessageJson[e.result.toLowerCase()]?this.resultMessageJson[e.result.toLowerCase()].replace("{{node}}",e.currentNode.name):""),t},_toast:function(e){this.$vux.toast.show({text:e,position:"bottom",type:"text"})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"flowDetail"}},[i("view-box",[i("x-header",{staticClass:"flowDetail-header"},[i("i",{staticClass:"maticon back-icon",attrs:{slot:"overwrite-left"},domProps:{innerHTML:e._s(e.icons("navigate_before"))},on:{click:e._back},slot:"overwrite-left"},[e._v("navigate_before")]),e._v(" "),i("div",{staticClass:"overwrite-title-demo",attrs:{slot:"overwrite-title"},slot:"overwrite-title"},[i("div",{staticClass:"apply-title"},[e._v(e._s(e.data.title))]),e._v(" "),i("div",{staticClass:"business-title"},[e._v(e._s(e.businessName))])])]),e._v(" "),i("div",{staticClass:"form-nav"},e._l(e.tabs,function(t,n){return i("div",{key:n,staticClass:"form-tab",class:{active:e.isSelect==t.id},on:{click:function(i){e.changeTab(t.id)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),e._v(" "),i("div",{staticClass:"flowDetail-content"},["guide"===e.isSelect?i("div",{staticClass:"guide-container"},[i("div",{staticClass:"guide"},[i("div",{staticClass:"guide-title"},[e._v("办理指南")]),e._v(" "),i("div",{staticClass:"guide-content",domProps:{innerHTML:e._s(e.guide)}}),e._v(" "),e.initDataOfChart?i("div",{staticClass:"business-time"},e._l(e.businessTimeList,function(t,n){return i("p",{key:n},[i("strong",{staticClass:"text-left"},[e._v(e._s(e.initDataOfChart[t.nodeId].name))]),e._v("  截止时间: "+e._s(t.endDate)+"\n            ")])})):e._e()]),e._v(" "),i("div",{staticClass:"apply-btn"},[i("x-button",{staticClass:"button",class:{disabled:!(e.data.curBusiness.canApplyOnTime&&e.data.curBusiness.canApplyOnAuthority)},attrs:{text:e.applyText,type:"default"},nativeOn:{click:function(t){return e._apply(t)}}})],1)]):i("div",{staticClass:"apply-list"},[e.myApplyList.length>0?i("group",{staticClass:"apply-list-group"},e._l(e.myApplyList,function(t,n){return i("cell",{key:n,staticClass:"apply-list-cell",attrs:{title:e._getFlowStatus(t),"inline-desc":t.createTime,"is-link":""},nativeOn:{click:function(i){e._clickApplyDetail(t)}}})}),1):i("div",{staticClass:"apply-list-nodata"},[e._v("\n          暂无数据\n        ")])],1)])],1)],1)},staticRenderFns:[]};var s=i("C7Lr")(r,o,!1,function(e){i("JkAA")},null,null);t.default=s.exports},mMnA:function(e,t,i){"use strict";(function(e,t,n,a){var r,o,s=i("4Xi4"),l=i.n(s),c=i("wdUn"),d=i.n(c),u=i("3cXf"),h=i.n(u),p=i("vBS/"),f=i.n(p),m=i("Yarq"),g=i.n(m),v=i("1Mrq"),b=i.n(v),y=i("ZLEe"),_=i.n(y),w=i("rVsN"),x=i.n(w),C=i("IYkF"),S=i.n(C),T=i("2LoE"),k=i.n(T),A=i("Yyxk"),E=i.n(A),N=i("liLe"),P=i.n(N),R=i("hRKE"),I=i.n(R);r=this,o=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||P()(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=15)}([function(i,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.unreachable=n.warn=n.utf8StringToString=n.stringToUTF8String=n.stringToPDFString=n.stringToBytes=n.string32=n.shadow=n.setVerbosityLevel=n.ReadableStream=n.removeNullCharacters=n.readUint32=n.readUint16=n.readInt8=n.log2=n.loadJpegStream=n.isEvalSupported=n.isLittleEndian=n.createValidAbsoluteUrl=n.isSameOrigin=n.isNodeJS=n.isSpace=n.isString=n.isNum=n.isInt=n.isEmptyObj=n.isBool=n.isArrayBuffer=n.isArray=n.info=n.globalScope=n.getVerbosityLevel=n.getLookupTableFactory=n.deprecated=n.createObjectURL=n.createPromiseCapability=n.createBlob=n.bytesToString=n.assert=n.arraysToBytes=n.arrayByteLength=n.FormatError=n.XRefParseException=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.StreamType=n.StatTimer=n.PasswordResponses=n.PasswordException=n.PageViewport=n.NotImplementedException=n.NativeImageDecoding=n.MissingPDFException=n.MissingDataException=n.MessageHandler=n.InvalidPDFException=n.AbortException=n.CMapCompressionType=n.ImageKind=n.FontType=n.AnnotationType=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationBorderStyleType=n.UNSUPPORTED_FEATURES=n.VERBOSITY_LEVELS=n.OPS=n.IDENTITY_MATRIX=n.FONT_IDENTITY_MATRIX=void 0;var r="function"==typeof E.a&&"symbol"===I()(k.a)?function(e){return void 0===e?"undefined":I()(e)}:function(e){return e&&"function"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?"symbol":void 0===e?"undefined":I()(e)};a(16);var o=a(17),s="undefined"!=typeof window&&window.Math===Math?window:void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:void 0,l={errors:0,warnings:1,infos:5},c=l.warnings;function d(e){c>=l.warnings&&console.log("Warning: "+e)}function u(e){throw new Error(e)}function h(e,t){e||u(t)}var p=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}(),f=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}(),m=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),g=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),v=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}(),b=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),y=function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),_=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}(),w=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="FormatError",e.constructor=e,e}(),C=function(){function e(e){this.name="AbortException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),T=/\x00/g;function A(e){h("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,i=new Uint8Array(t),n=0;n<t;++n)i[n]=255&e.charCodeAt(n);return i}function N(e){return void 0!==e.length?e.length:(h(void 0!==e.byteLength),e.byteLength)}var R=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];e.makeCssRgb=function(e,i,n){return t[1]=e,t[3]=i,t[5]=n,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]},e.getAxialAlignedBoundingBox=function(t,i){var n=e.applyTransform(t,i),a=e.applyTransform(t.slice(2,4),i),r=e.applyTransform([t[0],t[3]],i),o=e.applyTransform([t[2],t[1]],i);return[Math.min(n[0],a[0],r[0],o[0]),Math.min(n[1],a[1],r[1],o[1]),Math.max(n[0],a[0],r[0],o[0]),Math.max(n[1],a[1],r[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],o=(i+r)/2,s=Math.sqrt((i+r)*(i+r)-4*(i*r-a*n))/2,l=o+s||1,c=o-s||1;return[Math.sqrt(l),Math.sqrt(c)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function n(e,t){return e-t}var a=[t[0],t[2],i[0],i[2]].sort(n),r=[t[1],t[3],i[1],i[3]].sort(n),o=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),(a[0]===t[0]&&a[1]===i[0]||a[0]===i[0]&&a[1]===t[0])&&(o[0]=a[1],o[2]=a[2],(r[0]===t[1]&&r[1]===i[1]||r[0]===i[1]&&r[1]===t[1])&&(o[1]=r[1],o[3]=r[2],o))},e.sign=function(e){return e<0?-1:1};var i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return e.toRoman=function(e,t){h(U(e)&&e>0,"The number should be a positive integer.");for(var n,a=[];e>=1e3;)e-=1e3,a.push("M");n=e/100|0,e%=100,a.push(i[n]),n=e/10|0,e%=10,a.push(i[10+n]),a.push(i[20+e]);var r=a.join("");return t?r.toLowerCase():r},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t)e[i]=t[i]},e.getInheritableProperty=function(e,t,i){for(;e&&!e.has(t);)e=e.get("Parent");return e?i?e.getArray(t):e.get(t):null},e.inherit=function(e,t,i){for(var n in e.prototype=S()(t.prototype),e.prototype.constructor=e,i)e.prototype[n]=i[n]},e.loadScript=function(e,t){var i=document.createElement("script"),n=!1;i.setAttribute("src",e),t&&(i.onload=function(){n||t(),n=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}(),L=function(){function e(e,t,i,n,a,r){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=n,this.offsetY=a;var o,s,l,c,d,u,h,p,f=(e[2]+e[0])/2,m=(e[3]+e[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:o=-1,s=0,l=0,c=1;break;case 90:o=0,s=1,l=1,c=0;break;case 270:o=0,s=-1,l=-1,c=0;break;default:o=1,s=0,l=0,c=-1}r&&(l=-l,c=-c),0===o?(d=Math.abs(m-e[1])*t+n,u=Math.abs(f-e[0])*t+a,h=Math.abs(e[3]-e[1])*t,p=Math.abs(e[2]-e[0])*t):(d=Math.abs(f-e[0])*t+n,u=Math.abs(m-e[1])*t+a,h=Math.abs(e[2]-e[0])*t,p=Math.abs(e[3]-e[1])*t),this.transform=[o*t,s*t,l*t,c*t,d-o*t*f-l*t*m,u-s*t*f-c*t*m],this.width=h,this.height=p,this.fontScale=t}return e.prototype={clone:function(t){var i="scale"in(t=t||{})?t.scale:this.scale,n="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,n,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return R.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=R.applyTransform([e[0],e[1]],this.transform),i=R.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function(e,t){return R.applyInverseTransform([e,t],this.transform)}},e}(),D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function U(e){return"number"==typeof e&&(0|e)===e}function O(){var e={};return e.promise=new x.a(function(t,i){e.resolve=t,e.reject=i}),e}var M,B=function(){function e(e,t,i){for(;e.length<i;)e+=t;return e}function t(){this.started=S()(null),this.times=[],this.enabled=!0}return t.prototype={time:function(e){this.enabled&&(e in this.started&&d("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||d("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,i,n=this.times,a="",r=0;for(t=0,i=n.length;t<i;++t){var o=n[t].name;o.length>r&&(r=o.length)}for(t=0,i=n.length;t<i;++t){var s=n[t],l=s.end-s.start;a+=e(s.name," ",r)+" "+l+"ms\n"}return a}},t}(),F=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});throw new Error('The "Blob" constructor is not supported.')},j=(M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL){var i=F(e,t);return URL.createObjectURL(i)}for(var n="data:"+t+";base64,",a=0,r=e.length;a<r;a+=3){var o=255&e[a],s=255&e[a+1],l=255&e[a+2];n+=M[o>>2]+M[(3&o)<<4|s>>4]+M[a+1<r?(15&s)<<2|l>>6:64]+M[a+2<r?63&l:64]}return n});function H(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?new x.a(function(n,a){n(e.apply(i,t))}):x.a.resolve(void 0)}function W(e){if("object"!==(void 0===e?"undefined":r(e)))return e;switch(e.name){case"AbortException":return new C(e.message);case"MissingPDFException":return new g(e.message);case"UnexpectedResponseException":return new v(e.message,e.status);default:return new f(e.message,e.details)}}function q(e,t,i){t?e.resolve():e.reject(i)}function V(e,t,i){var n=this;this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=S()(null),this.streamControllers=S()(null);var a=this.callbacksCapabilities=S()(null),r=this.actionHandler=S()(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===n.sourceName)if(t.stream)n._processStreamMessage(t);else if(t.isReply){var o=t.callbackId;if(!(t.callbackId in a))throw new Error("Cannot resolve callback "+o);var s=a[o];delete a[o],"error"in t?s.reject(W(t.error)):s.resolve(t.data)}else{if(!(t.action in r))throw new Error("Unknown action from worker: "+t.action);var l=r[t.action];if(t.callbackId){var c=n.sourceName,d=t.sourceName;x.a.resolve().then(function(){return l[0].call(l[1],t.data)}).then(function(e){i.postMessage({sourceName:c,targetName:d,isReply:!0,callbackId:t.callbackId,data:e})},function(e){e instanceof Error&&(e+=""),i.postMessage({sourceName:c,targetName:d,isReply:!0,callbackId:t.callbackId,error:e})})}else t.streamId?n._createStreamSink(t):l[0].call(l[1],t.data)}},i.addEventListener("message",this._onComObjOnMessage)}V.prototype={on:function(e,t,i){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'+e+'"');n[e]=[t,i]},send:function(e,t,i){var n={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(n,i)},sendWithPromise:function(e,t,i){var n=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:n},r=O();this.callbacksCapabilities[n]=r;try{this.postMessage(a,i)}catch(e){r.reject(e)}return r.promise},sendWithStream:function(e,t,i,n){var a=this,r=this.streamId++,s=this.sourceName,l=this.targetName;return new o.ReadableStream({start:function(i){var n=O();return a.streamControllers[r]={controller:i,startCall:n,isClosed:!1},a.postMessage({sourceName:s,targetName:l,action:e,streamId:r,data:t,desiredSize:i.desiredSize}),n.promise},pull:function(e){var t=O();return a.streamControllers[r].pullCall=t,a.postMessage({sourceName:s,targetName:l,stream:"pull",streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=O();return a.streamControllers[r].cancelCall=t,a.streamControllers[r].isClosed=!0,a.postMessage({sourceName:s,targetName:l,stream:"cancel",reason:e,streamId:r}),t.promise}},i)},_createStreamSink:function(e){var t=this,i=this,n=this.actionHandler[e.action],a=e.streamId,r=e.desiredSize,o=this.sourceName,s=e.sourceName,l=function(e){var i=e.stream,n=e.chunk,r=e.transfers,l=e.success,c=e.reason;t.postMessage({sourceName:o,targetName:s,stream:i,streamId:a,chunk:n,success:l,reason:c},r)},c={enqueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2];if(!this.isCancelled){var n=this.desiredSize;this.desiredSize-=t,n>0&&this.desiredSize<=0&&(this.sinkCapability=O(),this.ready=this.sinkCapability.promise),l({stream:"enqueue",chunk:e,transfers:i})}},close:function(){this.isCancelled||(l({stream:"close"}),delete i.streamSinks[a])},error:function(e){this.isCancelled||(this.isCancelled=!0,l({stream:"error",reason:e}))},sinkCapability:O(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[a]=c,H(n[0],[e.data,c],n[1]).then(function(){l({stream:"start_complete",success:!0})},function(e){l({stream:"start_complete",success:!1,reason:e})})},_processStreamMessage:function(e){var t=this,i=this.sourceName,n=e.sourceName,a=e.streamId,r=function(e){var r=e.stream,o=e.success,s=e.reason;t.comObj.postMessage({sourceName:i,targetName:n,stream:r,success:o,streamId:a,reason:s})},o=function(){x.a.all([t.streamControllers[e.streamId].startCall,t.streamControllers[e.streamId].pullCall,t.streamControllers[e.streamId].cancelCall].map(function(e){return e&&(t=e.promise,x.a.resolve(t).catch(function(){}));var t})).then(function(){delete t.streamControllers[e.streamId]})};switch(e.stream){case"start_complete":q(this.streamControllers[e.streamId].startCall,e.success,W(e.reason));break;case"pull_complete":q(this.streamControllers[e.streamId].pullCall,e.success,W(e.reason));break;case"pull":if(!this.streamSinks[e.streamId]){r({stream:"pull_complete",success:!0});break}this.streamSinks[e.streamId].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,H(this.streamSinks[e.streamId].onPull).then(function(){r({stream:"pull_complete",success:!0})},function(e){r({stream:"pull_complete",success:!1,reason:e})});break;case"enqueue":h(this.streamControllers[e.streamId],"enqueue should have stream controller"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case"close":if(h(this.streamControllers[e.streamId],"close should have stream controller"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),o();break;case"error":h(this.streamControllers[e.streamId],"error should have stream controller"),this.streamControllers[e.streamId].controller.error(W(e.reason)),o();break;case"cancel_complete":q(this.streamControllers[e.streamId].cancelCall,e.success,W(e.reason)),o();break;case"cancel":if(!this.streamSinks[e.streamId])break;H(this.streamSinks[e.streamId].onCancel,[W(e.reason)]).then(function(){r({stream:"cancel_complete",success:!0})},function(e){r({stream:"cancel_complete",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(W(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},n.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],n.IDENTITY_MATRIX=[1,0,0,1,0,0],n.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},n.VERBOSITY_LEVELS=l,n.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},n.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},n.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},n.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},n.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},n.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},n.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},n.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},n.AbortException=C,n.InvalidPDFException=m,n.MessageHandler=V,n.MissingDataException=y,n.MissingPDFException=g,n.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},n.NotImplementedException=b,n.PageViewport=L,n.PasswordException=p,n.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},n.StatTimer=B,n.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},n.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},n.UnexpectedResponseException=v,n.UnknownErrorException=f,n.Util=R,n.XRefParseException=_,n.FormatError=w,n.arrayByteLength=N,n.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t,i,n,a=0,r=e.length;for(t=0;t<r;t++)a+=n=N(i=e[t]);var o=0,s=new Uint8Array(a);for(t=0;t<r;t++)(i=e[t])instanceof Uint8Array||(i="string"==typeof i?A(i):new Uint8Array(i)),n=i.byteLength,s.set(i,o),o+=n;return s},n.assert=h,n.bytesToString=function(e){h(null!==e&&"object"===(void 0===e?"undefined":r(e))&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var i=[],n=0;n<t;n+=8192){var a=Math.min(n+8192,t),o=e.subarray(n,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")},n.createBlob=F,n.createPromiseCapability=O,n.createObjectURL=j,n.deprecated=function(e){console.log("Deprecated API usage: "+e)},n.getLookupTableFactory=function(e){var t;return function(){return e&&(t=S()(null),e(t),e=null),t}},n.getVerbosityLevel=function(){return c},n.globalScope=s,n.info=function(e){c>=l.infos&&console.log("Info: "+e)},n.isArray=function(e){return e instanceof Array},n.isArrayBuffer=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&void 0!==e.byteLength},n.isBool=function(e){return"boolean"==typeof e},n.isEmptyObj=function(e){for(var t in e)return!1;return!0},n.isInt=U,n.isNum=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSpace=function(e){return 32===e||9===e||13===e||10===e},n.isNodeJS=function(){return"object"===(void 0===t?"undefined":r(t))&&t+""=="[object process]"},n.isSameOrigin=function(e,t){try{var i=new URL(e);if(!i.origin||"null"===i.origin)return!1}catch(e){return!1}var n=new URL(t,i);return i.origin===n.origin},n.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(e){}return null},n.isLittleEndian=function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]},n.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},n.loadJpegStream=function(e,t,i){var n=new Image;n.onload=function(){i.resolve(e,n)},n.onerror=function(){i.resolve(e,null),d("Error during JPEG image loading")},n.src=t},n.log2=function(e){for(var t=1,i=0;e>t;)t<<=1,i++;return i},n.readInt8=function(e,t){return e[t]<<24>>24},n.readUint16=function(e,t){return e[t]<<8|e[t+1]},n.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},n.removeNullCharacters=function(e){return"string"!=typeof e?(d("The argument for removeNullCharacters must be a string."),e):e.replace(T,"")},n.ReadableStream=o.ReadableStream,n.setVerbosityLevel=function(e){c=e},n.shadow=function(e,t,i){return P()(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i},n.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},n.stringToBytes=A,n.stringToPDFString=function(e){var t,i=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<i;t+=2)n.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<i;++t){var a=D[e.charCodeAt(t)];n.push(a?String.fromCharCode(a):e.charAt(t))}return n.join("")},n.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},n.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},n.warn=d,n.unreachable=u},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.getDefaultSetting=t.LinkTarget=t.getFilenameFromUrl=t.isValidUrl=t.isExternalLinkTargetSet=t.addLinkAttributes=t.RenderingCancelledException=t.CustomStyle=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),P()(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(0);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="noopener noreferrer nofollow",s=function(){function e(){r(this,e)}return n(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("invalid canvas size");var i=document.createElement("canvas"),n=i.getContext("2d");return i.width=e,i.height=t,{canvas:i,context:n}}},{key:"reset",value:function(e,t,i){if(!e.canvas)throw new Error("canvas is not specified");if(t<=0||i<=0)throw new Error("invalid canvas size");e.canvas.width=t,e.canvas.height=i}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}(),l=function(){function e(t){var i=t.baseUrl,n=void 0===i?null:i,a=t.isCompressed,o=void 0!==a&&a;r(this,e),this.baseUrl=n,this.isCompressed=o}return n(e,[{key:"fetch",value:function(e){var t=this,i=e.name;return i?new x.a(function(e,n){var r=t.baseUrl+i+(t.isCompressed?".bcmap":""),o=new XMLHttpRequest;o.open("GET",r,!0),t.isCompressed&&(o.responseType="arraybuffer"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){var i=void 0;if(t.isCompressed&&o.response?i=new Uint8Array(o.response):!t.isCompressed&&o.responseText&&(i=(0,a.stringToBytes)(o.responseText)),i)return void e({cMapData:i,compressionType:t.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE})}n(new Error("Unable to load "+(t.isCompressed?"binary ":"")+"CMap at: "+r))}},o.send(null)}):x.a.reject(new Error("CMap name must be specified."))}}]),e}(),c=function(){var e=["ms","Moz","Webkit","O"],t=S()(null);function i(){}return i.getProp=function(i,n){if(1===arguments.length&&"string"==typeof t[i])return t[i];var a,r,o=(n=n||document.documentElement).style;if("string"==typeof o[i])return t[i]=i;r=i.charAt(0).toUpperCase()+i.slice(1);for(var s=0,l=e.length;s<l;s++)if("string"==typeof o[a=e[s]+r])return t[i]=a;return t[i]="undefined"},i.setProp=function(e,t,i){var n=this.getProp(e);"undefined"!==n&&(t.style[n]=i)},i}(),d=function(){function e(e,t){this.message=e,this.type=t}return e.prototype=new Error,e.prototype.name="RenderingCancelledException",e.constructor=e,e}(),u={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},h=["","_self","_blank","_parent","_top"];function p(e){var t=a.globalScope.PDFJS;switch(e){case"pdfBug":return!!t&&t.pdfBug;case"disableAutoFetch":return!!t&&t.disableAutoFetch;case"disableStream":return!!t&&t.disableStream;case"disableRange":return!!t&&t.disableRange;case"disableFontFace":return!!t&&t.disableFontFace;case"disableCreateObjectURL":return!!t&&t.disableCreateObjectURL;case"disableWebGL":return!t||t.disableWebGL;case"cMapUrl":return t?t.cMapUrl:null;case"cMapPacked":return!!t&&t.cMapPacked;case"postMessageTransfers":return!t||t.postMessageTransfers;case"workerPort":return t?t.workerPort:null;case"workerSrc":return t?t.workerSrc:null;case"disableWorker":return!!t&&t.disableWorker;case"maxImageSize":return t?t.maxImageSize:-1;case"imageResourcesPath":return t?t.imageResourcesPath:"";case"isEvalSupported":return!t||t.isEvalSupported;case"externalLinkTarget":if(!t)return u.NONE;switch(t.externalLinkTarget){case u.NONE:case u.SELF:case u.BLANK:case u.PARENT:case u.TOP:return t.externalLinkTarget}return(0,a.warn)("PDFJS.externalLinkTarget is invalid: "+t.externalLinkTarget),t.externalLinkTarget=u.NONE,u.NONE;case"externalLinkRel":return t?t.externalLinkRel:o;case"enableStats":return!(!t||!t.enableStats);case"pdfjsNext":return!(!t||!t.pdfjsNext);default:throw new Error("Unknown default setting: "+e)}}t.CustomStyle=c,t.RenderingCancelledException=d,t.addLinkAttributes=function(e,t){var i=t&&t.url;if(e.href=e.title=i?(0,a.removeNullCharacters)(i):"",i){var n=t.target;void 0===n&&(n=p("externalLinkTarget")),e.target=h[n];var r=t.rel;void 0===r&&(r=p("externalLinkRel")),e.rel=r}},t.isExternalLinkTargetSet=function(){switch(p("externalLinkTarget")){case u.NONE:return!1;case u.SELF:case u.BLANK:case u.PARENT:case u.TOP:return!0}},t.isValidUrl=function(e,t){(0,a.deprecated)("isValidUrl(), please use createValidAbsoluteUrl() instead.");var i=t?"http://example.com":null;return null!==(0,a.createValidAbsoluteUrl)(e,i)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),i=e.indexOf("?"),n=Math.min(t>0?t:e.length,i>0?i:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.LinkTarget=u,t.getDefaultSetting=p,t.DEFAULT_LINK_REL=o,t.DOMCanvasFactory=s,t.DOMCMapReaderFactory=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.version=t._UnsupportedManager=t.setPDFNetworkStreamClass=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=t.getDocument=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),P()(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r="function"==typeof E.a&&"symbol"===I()(k.a)?function(e){return void 0===e?"undefined":I()(e)}:function(e){return e&&"function"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?"symbol":void 0===e?"undefined":I()(e)},o=n(0),s=n(1),l=n(12),c=n(11),d=n(6),u=n(14);var h,p=65536,m=!1,v=!1,y="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,w=null,C=!1;"undefined"==typeof window?(m=!0,C=!0):C=!0,"undefined"!=typeof requirejs&&requirejs.toUrl&&(h=requirejs.toUrl("./pdf.worker.js"));var T,A="undefined"!=typeof requirejs&&requirejs.load;w=C?function(e){Promise.all([i.e(0),i.e(27)]).then(function(){var t;t=i("ipQd"),e(t.WorkerMessageHandler)}.bind(null,i)).catch(i.oe)}:A?function(e){requirejs(["./pdf.worker"],function(t){e(t.WorkerMessageHandler)})}:null;var N,R=function(){var e=0;function t(){this._capability=(0,o.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return t.prototype={get promise(){return this._capability.promise},destroy:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():x.a.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},t}(),L=function(){function e(e,t){this.length=e,this.initialData=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,o.createPromiseCapability)()}return e.prototype={addRangeListener:function(e){this._rangeListeners.push(e)},addProgressListener:function(e){this._progressListeners.push(e)},addProgressiveReadListener:function(e){this._progressiveReadListeners.push(e)},onDataRange:function(e,t){for(var i=this._rangeListeners,n=0,a=i.length;n<a;++n)i[n](e,t)},onDataProgress:function(e){var t=this;this._readyCapability.promise.then(function(){for(var i=t._progressListeners,n=0,a=i.length;n<a;++n)i[n](e)})},onDataProgressiveRead:function(e){var t=this;this._readyCapability.promise.then(function(){for(var i=t._progressiveReadListeners,n=0,a=i.length;n<a;++n)i[n](e)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(e,t){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},e}(),D=function(){function e(e,t,i){this.pdfInfo=e,this.transport=t,this.loadingTask=i}return e.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},e}(),U=function(){function e(e,t,i){this.pageIndex=e,this.pageInfo=t,this.transport=i,this.stats=new o.StatTimer,this.stats.enabled=(0,s.getDefaultSetting)("enableStats"),this.commonObjs=i.commonObjs,this.objs=new F,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=S()(null),this.destroyed=!1}return e.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new o.PageViewport(this.view,e,t,0,0)},getAnnotations:function(e){var t=e&&e.intent||null;return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,t),this.annotationsIntent=t),this.annotationsPromise},render:function(e){var t=this,i=this.stats;i.time("Overall"),this.pendingCleanup=!1;var n="print"===e.intent?"print":"display",a=e.canvasFactory||new s.DOMCanvasFactory;this.intentStates[n]||(this.intentStates[n]=S()(null));var r=this.intentStates[n];r.displayReadyCapability||(r.receivingOperatorList=!0,r.displayReadyCapability=(0,o.createPromiseCapability)(),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:n,renderInteractiveForms:!0===e.renderInteractiveForms}));var l=function(e){var n=r.renderTasks.indexOf(c);n>=0&&r.renderTasks.splice(n,1),t.cleanupAfterRender&&(t.pendingCleanup=!0),t._tryCleanup(),e?c.capability.reject(e):c.capability.resolve(),i.timeEnd("Rendering"),i.timeEnd("Overall")},c=new H(l,e,this.objs,this.commonObjs,r.operatorList,this.pageNumber,a);c.useRequestAnimationFrame="print"!==n,r.renderTasks||(r.renderTasks=[]),r.renderTasks.push(c);var d=c.task;return e.continueCallback&&((0,o.deprecated)("render is used with continueCallback parameter"),d.onContinue=e.continueCallback),r.displayReadyCapability.promise.then(function(e){t.pendingCleanup?l():(i.time("Rendering"),c.initializeGraphics(e),c.operatorListChanged())}).catch(l),d},getOperatorList:function(){this.intentStates.oplist||(this.intentStates.oplist=S()(null));var e,t=this.intentStates.oplist;return t.opListReadCapability||((e={}).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var i=t.renderTasks.indexOf(e);i>=0&&t.renderTasks.splice(i,1)}},t.receivingOperatorList=!0,t.opListReadCapability=(0,o.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})),t.opListReadCapability.promise},streamTextContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===e.normalizeWhitespace,combineTextItems:!0!==e.disableCombineTextItems},{highWaterMark:100,size:function(e){return e.items.length}})},getTextContent:function(e){e=e||{};var t=this.streamTextContent(e);return new x.a(function(e,i){var n=t.getReader(),a={items:[],styles:S()(null)};!function t(){n.read().then(function(i){var n=i.value;i.done?e(a):(o.Util.extendObj(a.styles,n.styles),o.Util.appendToArray(a.items,n.items),t())},i)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var e=[];return _()(this.intentStates).forEach(function(t){"oplist"!==t&&this.intentStates[t].renderTasks.forEach(function(t){var i=t.capability.promise.catch(function(){});e.push(i),t.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,x.a.all(e)},destroy:function(){(0,o.deprecated)("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!_()(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)&&(_()(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(e,t){var i=this.intentStates[t];i.displayReadyCapability&&i.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){var i,n,a=this.intentStates[t];for(i=0,n=e.length;i<n;i++)a.operatorList.fnArray.push(e.fnArray[i]),a.operatorList.argsArray.push(e.argsArray[i]);for(a.operatorList.lastChunk=e.lastChunk,i=0;i<a.renderTasks.length;i++)a.renderTasks[i].operatorListChanged();e.lastChunk&&(a.receivingOperatorList=!1,this._tryCleanup())}},e}(),O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners=[],this._defer=t,this._deferred=x.a.resolve(void 0)}return a(e,[{key:"postMessage",value:function(e,t){var i=this;if(this._defer){var n=new f.a,a={data:function e(i){if("object"!==(void 0===i?"undefined":r(i))||null===i)return i;if(n.has(i))return n.get(i);var a,s;if((s=i.buffer)&&(0,o.isArrayBuffer)(s)){var l=t&&t.indexOf(s)>=0;return a=i===s?i:l?new i.constructor(s,i.byteOffset,i.byteLength):new i.constructor(i),n.set(i,a),a}for(var c in a=(0,o.isArray)(i)?[]:{},n.set(i,a),i){for(var d,u=i;!(d=b()(u,c));)u=g()(u);void 0!==d.value&&"function"!=typeof d.value&&(a[c]=e(d.value))}return a}(e)};this._deferred.then(function(){i._listeners.forEach(function(e){e.call(this,a)},i)})}else this._listeners.forEach(function(t){t.call(this,{data:e})},this)}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var i=this._listeners.indexOf(t);this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),e}(),M=function(){var e=0;function t(){if(void 0!==h)return h;if((0,s.getDefaultSetting)("workerSrc"))return(0,s.getDefaultSetting)("workerSrc");if(y)return y.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error("No PDFJS.workerSrc specified")}var i=void 0;var n=new f.a;function a(e,t){if(t&&n.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this._readyCapability=(0,o.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return n.set(t,this),void this._initializeFromPort(t);this._initialize()}return a.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(e){this._port=e,this._messageHandler=new o.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var e,i,n=this;if(!m&&!(0,s.getDefaultSetting)("disableWorker")&&"undefined"!=typeof Worker){var a=t();try{(0,o.isSameOrigin)(window.location.href,a)||(e=new URL(a,window.location).href,i="importScripts('"+e+"');",a=URL.createObjectURL(new Blob([i])));var r=new Worker(a),l=new o.MessageHandler("main","worker",r),c=function(){r.removeEventListener("error",d),l.destroy(),r.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},d=function(){n._webWorker||c()};r.addEventListener("error",d),l.on("test",function(e){(r.removeEventListener("error",d),n.destroyed)?c():e&&e.supportTypedArray?(n._messageHandler=l,n._port=r,n._webWorker=r,e.supportTransfers||(n.postMessageTransfers=!1,v=!0),n._readyCapability.resolve(),l.send("configure",{verbosity:(0,o.getVerbosityLevel)()})):(n._setupFakeWorker(),l.destroy(),r.terminate())}),l.on("console_log",function(e){console.log.apply(console,e)}),l.on("console_error",function(e){console.error.apply(console,e)}),l.on("ready",function(e){if(r.removeEventListener("error",d),n.destroyed)c();else try{u()}catch(e){n._setupFakeWorker()}});var u=function(){var e=(0,s.getDefaultSetting)("postMessageTransfers")&&!v,t=new Uint8Array([e?255:0]);try{l.send("test",t,[t.buffer])}catch(e){(0,o.info)("Cannot use postMessage transfers"),t[0]=0,l.send("test",t)}};return void u()}catch(e){(0,o.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var n=this;m||(0,s.getDefaultSetting)("disableWorker")||((0,o.warn)("Setting up fake worker."),m=!0),(i?i.promise:(i=(0,o.createPromiseCapability)(),(w||function(e){o.Util.loadScript(t(),function(){e(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(i.resolve),i.promise)).then(function(t){if(n.destroyed)n._readyCapability.reject(new Error("Worker was destroyed"));else{var i=Uint8Array!==Float32Array,a=new O(i);n._port=a;var r="fake"+e++,s=new o.MessageHandler(r+"_worker",r,a);t.setup(s,a);var l=new o.MessageHandler(r,r+"_worker",a);n._messageHandler=l,n._readyCapability.resolve()}})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},a.fromPort=function(e){return n.has(e)?n.get(e):new a(null,e)},a}(),B=function(){function e(e,t,i,n){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new F,this.fontLoader=new l.FontLoader(t.docId),this.CMapReaderFactory=new n({baseUrl:(0,s.getDefaultSetting)("cMapUrl"),isCompressed:(0,s.getDefaultSetting)("cMapPacked")}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,o.createPromiseCapability)(),this.setupMessageHandler()}return e.prototype={destroy:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,o.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),x.a.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var e=this.messageHandler,t=this.loadingTask;e.on("GetReader",function(e,t){var i=this;(0,o.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){i._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=function(){i._fullReader.read().then(function(e){var i=e.value;e.done?t.close():((0,o.assert)((0,o.isArrayBuffer)(i)),t.enqueue(new Uint8Array(i),1,[i]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){i._fullReader.cancel(e)}},this),e.on("ReaderHeadersReady",function(e){var t=this,i=(0,o.createPromiseCapability)(),n=this._fullReader;return n.headersReady.then(function(){if(!n.isStreamingSupported||!n.isRangeSupported){if(t._lastProgress){var e=t.loadingTask;e.onProgress&&e.onProgress(t._lastProgress)}n.onProgress=function(e){var i=t.loadingTask;i.onProgress&&i.onProgress({loaded:e.loaded,total:e.total})}}i.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},i.reject),i.promise},this),e.on("GetRangeReader",function(e,t){(0,o.assert)(this._networkStream);var i=this._networkStream.getRangeReader(e.begin,e.end);t.onPull=function(){i.read().then(function(e){var i=e.value;e.done?t.close():((0,o.assert)((0,o.isArrayBuffer)(i)),t.enqueue(new Uint8Array(i),1,[i]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){i.cancel(e)}},this),e.on("GetDoc",function(e){var t=e.pdfInfo;this.numPages=e.pdfInfo.numPages;var i=this.loadingTask,n=new D(t,this,i);this.pdfDocument=n,i._capability.resolve(n)},this),e.on("PasswordRequest",function(e){var i=this;if(this._passwordCapability=(0,o.createPromiseCapability)(),t.onPassword){t.onPassword(function(e){i._passwordCapability.resolve({password:e})},e.code)}else this._passwordCapability.reject(new o.PasswordException(e.message,e.code));return this._passwordCapability.promise},this),e.on("PasswordException",function(e){t._capability.reject(new o.PasswordException(e.message,e.code))},this),e.on("InvalidPDF",function(e){this.loadingTask._capability.reject(new o.InvalidPDFException(e.message))},this),e.on("MissingPDF",function(e){this.loadingTask._capability.reject(new o.MissingPDFException(e.message))},this),e.on("UnexpectedResponse",function(e){this.loadingTask._capability.reject(new o.UnexpectedResponseException(e.message,e.status))},this),e.on("UnknownError",function(e){this.loadingTask._capability.reject(new o.UnknownErrorException(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(e){},this),e.on("StartRenderPage",function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t.stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)}},this),e.on("RenderPageChunk",function(e){this.destroyed||this.pageCache[e.pageIndex]._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var t=this;if(!this.destroyed){var i=e[0],n=e[1];if(!this.commonObjs.hasData(i))switch(n){case"Font":var a=e[2];if("error"in a){var r=a.error;(0,o.warn)("Error during font loading: "+r),this.commonObjs.resolve(i,r);break}var c=null;(0,s.getDefaultSetting)("pdfBug")&&o.globalScope.FontInspector&&o.globalScope.FontInspector.enabled&&(c={registerFont:function(e,t){o.globalScope.FontInspector.fontAdded(e,t)}});var d=new l.FontFaceObject(a,{isEvalSuported:(0,s.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,s.getDefaultSetting)("disableFontFace"),fontRegistry:c});this.fontLoader.bind([d],function(e){t.commonObjs.resolve(i,d)});break;case"FontPath":this.commonObjs.resolve(i,e[2]);break;default:throw new Error("Got unknown common object type "+n)}}},this),e.on("obj",function(e){if(!this.destroyed){var t,i=e[0],n=e[1],a=e[2],r=this.pageCache[n];if(!r.objs.hasData(i))switch(a){case"JpegStream":t=e[3],(0,o.loadJpegStream)(i,t,r.objs);break;case"Image":t=e[3],r.objs.resolve(i,t);t&&"data"in t&&t.data.length>8e6&&(r.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+a)}}},this),e.on("DocProgress",function(e){if(!this.destroyed){var t=this.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}},this),e.on("PageError",function(e){if(!this.destroyed){var t=this.pageCache[e.pageNum-1].intentStates[e.intent];if(!t.displayReadyCapability)throw new Error(e.error);if(t.displayReadyCapability.reject(e.error),t.operatorList){t.operatorList.lastChunk=!0;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged()}}},this),e.on("UnsupportedFeature",function(e){if(!this.destroyed){var t=e.featureId,i=this.loadingTask;i.onUnsupportedFeature&&i.onUnsupportedFeature(t),W.notify(t)}},this),e.on("JpegDecode",function(e){if(this.destroyed)return x.a.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return x.a.reject(new Error('"document" is not defined.'));var t=e[0],i=e[1];return 3!==i&&1!==i?x.a.reject(new Error("Only 3 components or 1 component can be returned")):new x.a(function(e,n){var a=new Image;a.onload=function(){var t=a.width,n=a.height,r=t*n,o=4*r,s=new Uint8Array(r*i),l=document.createElement("canvas");l.width=t,l.height=n;var c=l.getContext("2d");c.drawImage(a,0,0);var d,u,h=c.getImageData(0,0,t,n).data;if(3===i)for(d=0,u=0;d<o;d+=4,u+=3)s[u]=h[d],s[u+1]=h[d+1],s[u+2]=h[d+2];else if(1===i)for(d=0,u=0;d<o;d+=4,u++)s[u]=h[d];e({data:s,width:t,height:n})},a.onerror=function(){n(new Error("JpegDecode failed to load image"))},a.src=t})},this),e.on("FetchBuiltInCMap",function(e){return this.destroyed?x.a.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e,t){var i=this;if(!(0,o.isInt)(e)||e<=0||e>this.numPages)return x.a.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(i.destroyed)throw new Error("Transport destroyed");var t=new U(n,e,i);return i.pageCache[n]=t,t});return this.pagePromises[n]=a,a},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return x.a.reject(new Error(e))})},getAnnotations:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new d.Metadata(e[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var e=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,i=e.pageCache.length;t<i;t++){var n=e.pageCache[t];n&&n.cleanup()}e.commonObjs.clear(),e.fontLoader.clear()})}},e}(),F=function(){function e(){this.objs=S()(null)}return e.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:(0,o.createPromiseCapability)(),data:null,resolved:!1};return this.objs[e]=t,t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;var i=this.objs[e];if(!i||!i.resolved)throw new Error("Requesting object that isn't resolved yet "+e);return i.data},resolve:function(e,t){var i=this.ensureObj(e);i.resolved=!0,i.data=t,i.capability.resolve(t)},isResolved:function(e){var t=this.objs;return!!t[e]&&t[e].resolved},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs=S()(null)}},e}(),j=function(){function e(e){this._internalRenderTask=e,this.onContinue=null}return e.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},e}(),H=function(){var e=new f.a;function t(e,t,i,n,a,r,s){this.callback=e,this.params=t,this.objs=i,this.commonObjs=n,this.operatorListIdx=null,this.operatorList=a,this.pageNumber=r,this.canvasFactory=s,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,o.createPromiseCapability)(),this.task=new j(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}return t.prototype={initializeGraphics:function(t){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.set(this._canvas,this)}if(!this.cancelled){(0,s.getDefaultSetting)("pdfBug")&&o.globalScope.StepperManager&&o.globalScope.StepperManager.enabled&&(this.stepper=o.globalScope.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var i=this.params;this.gfx=new c.CanvasGraphics(i.canvasContext,this.commonObjs,this.objs,this.canvasFactory,i.imageLayer),this.gfx.beginDrawing({transform:i.transform,viewport:i.viewport,transparency:t,background:i.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&e.delete(this._canvas),(0,s.getDefaultSetting)("pdfjsNext")?this.callback(new s.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):x.a.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback())))}},t}(),W=(N=[],{listen:function(e){(0,o.deprecated)("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),N.push(e)},notify:function(e){for(var t=0,i=N.length;t<i;t++)N[t](e)}});t.version="1.9.426",t.build="2558a58d",t.getDocument=function(e,t,i,n){var a,l=new R;if(arguments.length>1&&(0,o.deprecated)("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),t&&(t instanceof L||((t=S()(t)).length=e.length,t.initialData=e.initialData,t.abort||(t.abort=function(){})),(e=S()(e)).range=t),l.onPassword=i||null,l.onProgress=n||null,"string"==typeof e)a={url:e};else if((0,o.isArrayBuffer)(e))a={data:e};else if(e instanceof L)a={range:e};else{if("object"!==(void 0===e?"undefined":r(e)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");a=e}var c={},d=null,h=null,f=s.DOMCMapReaderFactory;for(var m in a)if("url"!==m||"undefined"==typeof window)if("range"!==m)if("worker"!==m)if("data"!==m||a[m]instanceof Uint8Array)"CMapReaderFactory"!==m?c[m]=a[m]:f=a[m];else{var g=a[m];if("string"==typeof g)c[m]=(0,o.stringToBytes)(g);else if("object"!==(void 0===g?"undefined":r(g))||null===g||isNaN(g.length)){if(!(0,o.isArrayBuffer)(g))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");c[m]=new Uint8Array(g)}else c[m]=new Uint8Array(g)}else h=a[m];else d=a[m];else c[m]=new URL(a[m],window.location).href;if(c.rangeChunkSize=c.rangeChunkSize||p,c.ignoreErrors=!0!==c.stopAtErrors,void 0!==c.disableNativeImageDecoder&&(0,o.deprecated)("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead"),c.nativeImageDecoderSupport=c.nativeImageDecoderSupport||(!0===c.disableNativeImageDecoder?o.NativeImageDecoding.NONE:o.NativeImageDecoding.DECODE),c.nativeImageDecoderSupport!==o.NativeImageDecoding.DECODE&&c.nativeImageDecoderSupport!==o.NativeImageDecoding.NONE&&c.nativeImageDecoderSupport!==o.NativeImageDecoding.DISPLAY&&((0,o.warn)("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}"),c.nativeImageDecoderSupport=o.NativeImageDecoding.DECODE),!h){var b=(0,s.getDefaultSetting)("workerPort");h=b?M.fromPort(b):new M,l._worker=h}var y=l.docId;return h.promise.then(function(){if(l.destroyed)throw new Error("Loading aborted");return function(e,t,i,n){return e.destroyed?x.a.reject(new Error("Worker was destroyed")):(t.disableAutoFetch=(0,s.getDefaultSetting)("disableAutoFetch"),t.disableStream=(0,s.getDefaultSetting)("disableStream"),t.chunkedViewerLoading=!!i,i&&(t.length=i.length,t.initialData=i.initialData),e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:(0,s.getDefaultSetting)("maxImageSize"),disableFontFace:(0,s.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,s.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,s.getDefaultSetting)("postMessageTransfers")&&!v,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors}).then(function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t}))}(h,c,d,y).then(function(e){if(l.destroyed)throw new Error("Loading aborted");var t=void 0;d?t=new u.PDFDataTransportStream(c,d):c.data||(t=new T({source:c,disableRange:(0,s.getDefaultSetting)("disableRange")}));var i=new o.MessageHandler(y,e,h.port);i.postMessageTransfers=h.postMessageTransfers;var n=new B(i,l,t,f);l._transport=n,i.send("Ready",null)})}).catch(l._capability.reject),l},t.LoopbackPort=O,t.PDFDataRangeTransport=L,t.PDFWorker=M,t.PDFDocumentProxy=D,t.PDFPageProxy=U,t.setPDFNetworkStreamClass=function(e){T=e},t._UnsupportedManager=W,t.version="1.9.426",t.build="2558a58d"},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=i(1),a=i(0);function r(){}r.prototype={create:function(e){switch(e.data.annotationType){case a.AnnotationType.LINK:return new s(e);case a.AnnotationType.TEXT:return new l(e);case a.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new d(e);case"Btn":if(e.data.radioButton)return new p(e);if(e.data.checkBox)return new u(e);(0,a.warn)("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new f(e)}return new c(e);case a.AnnotationType.POPUP:return new m(e);case a.AnnotationType.LINE:return new v(e);case a.AnnotationType.HIGHLIGHT:return new b(e);case a.AnnotationType.UNDERLINE:return new y(e);case a.AnnotationType.SQUIGGLY:return new _(e);case a.AnnotationType.STRIKEOUT:return new w(e);case a.AnnotationType.FILEATTACHMENT:return new x(e);default:return new o(e)}}};var o=function(){function e(e,t,i){this.isRenderable=t||!1,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,t&&(this.container=this._createContainer(i))}return e.prototype={_createContainer:function(e){var t=this.data,i=this.page,r=this.viewport,o=document.createElement("section"),s=t.rect[2]-t.rect[0],l=t.rect[3]-t.rect[1];o.setAttribute("data-annotation-id",t.id);var c=a.Util.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]);if(n.CustomStyle.setProp("transform",o,"matrix("+r.transform.join(",")+")"),n.CustomStyle.setProp("transformOrigin",o,-c[0]+"px "+-c[1]+"px"),!e&&t.borderStyle.width>0){o.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(s-=2*t.borderStyle.width,l-=2*t.borderStyle.width);var d=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(d>0||u>0){var h=d+"px / "+u+"px";n.CustomStyle.setProp("borderRadius",o,h)}switch(t.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}t.color?o.style.borderColor=a.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):o.style.borderWidth=0}return o.style.left=c[0]+"px",o.style.top=c[1]+"px",o.style.width=s+"px",o.style.height=l+"px",o},_createPopup:function(e,t,i){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var n=new g({container:e,trigger:t,color:i.color,title:i.title,contents:i.contents,hideWrapper:!0}).render();n.style.left=e.style.width,e.appendChild(n)},render:function(){throw new Error("Abstract method AnnotationElement.render called")}},e}(),s=function(){function e(e){o.call(this,e,!0)}return a.Util.inherit(e,o,{render:function(){this.container.className="linkAnnotation";var e=document.createElement("a");return(0,n.addLinkAttributes)(e,{url:this.data.url,target:this.data.newWindow?n.LinkTarget.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(e,this.data.action):this._bindLink(e,this.data.dest)),this.container.appendChild(e),this.container},_bindLink:function(e,t){var i=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&i.linkService.navigateTo(t),!1},t&&(e.className="internalLink")},_bindNamedAction:function(e,t){var i=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return i.linkService.executeNamedAction(t),!1},e.className="internalLink"}}),e}(),l=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t)}return a.Util.inherit(e,o,{render:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=h()({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}),e}(),c=function(){function e(e,t){o.call(this,e,t)}return a.Util.inherit(e,o,{render:function(){return this.container}}),e}(),d=function(){var e=["left","center","right"];function t(e){var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;c.call(this,e,t)}return a.Util.inherit(t,c,{render:function(){this.container.className="textWidgetAnnotation";var t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea")).textContent=this.data.fieldValue:((t=document.createElement("input")).type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){var i=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing="calc("+i+"px - 1ch)"}}else{(t=document.createElement("div")).textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";var n=null;this.data.fontRefName&&(n=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(t,n)}return null!==this.data.textAlignment&&(t.style.textAlign=e[this.data.textAlignment]),this.container.appendChild(t),this.container},_setTextStyle:function(e,t){var i=e.style;if(i.fontSize=this.data.fontSize+"px",i.direction=this.data.fontDirection<0?"rtl":"ltr",t){i.fontWeight=t.black?t.bold?"900":"bold":t.bold?"bold":"normal",i.fontStyle=t.italic?"italic":"normal";var n=t.loadedName?'"'+t.loadedName+'", ':"",a=t.fallbackName||"Helvetica, sans-serif";i.fontFamily=n+a}}}),t}(),u=function(){function e(e){c.call(this,e,e.renderInteractiveForms)}return a.Util.inherit(e,c,{render:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}),e}(),p=function(){function e(e){c.call(this,e,e.renderInteractiveForms)}return a.Util.inherit(e,c,{render:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}),e}(),f=function(){function e(e){c.call(this,e,e.renderInteractiveForms)}return a.Util.inherit(e,c,{render:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(var t=0,i=this.data.options.length;t<i;t++){var n=this.data.options[t],a=document.createElement("option");a.textContent=n.displayValue,a.value=n.exportValue,this.data.fieldValue.indexOf(n.displayValue)>=0&&a.setAttribute("selected",!0),e.appendChild(a)}return this.container.appendChild(e),this.container}}),e}(),m=function(){var e=["Line"];function t(e){var t=!(!e.data.title&&!e.data.contents);o.call(this,e,t)}return a.Util.inherit(t,o,{render:function(){if(this.container.className="popupAnnotation",e.indexOf(this.data.parentType)>=0)return this.container;var t='[data-annotation-id="'+this.data.parentId+'"]',i=this.layer.querySelector(t);if(!i)return this.container;var a=new g({container:this.container,trigger:i,color:this.data.color,title:this.data.title,contents:this.data.contents}),r=parseFloat(i.style.left),o=parseFloat(i.style.width);return n.CustomStyle.setProp("transformOrigin",this.container,-(r+o)+"px -"+i.style.top),this.container.style.left=r+o+"px",this.container.appendChild(a.render()),this.container}}),t}(),g=function(){function e(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return e.prototype={render:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var i=this.color;if(i){var n=.7*(255-i[0])+i[0],r=.7*(255-i[1])+i[1],o=.7*(255-i[2])+i[2];t.style.backgroundColor=a.Util.makeCssRgb(0|n,0|r,0|o)}var s=this._formatContents(this.contents),l=document.createElement("h1");return l.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(l),t.appendChild(s),e.appendChild(t),e},_formatContents:function(e){for(var t=document.createElement("p"),i=e.split(/(?:\r\n?|\n)/),n=0,a=i.length;n<a;++n){var r=i[n];t.appendChild(document.createTextNode(r)),n<a-1&&t.appendChild(document.createElement("br"))}return t},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(e){e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(e){e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}},e}(),v=function(){var e="http://www.w3.org/2000/svg";function t(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(t,o,{render:function(){this.container.className="lineAnnotation";var t=this.data,i=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],a=document.createElementNS(e,"svg:svg");a.setAttributeNS(null,"version","1.1"),a.setAttributeNS(null,"width",i+"px"),a.setAttributeNS(null,"height",n+"px"),a.setAttributeNS(null,"preserveAspectRatio","none"),a.setAttributeNS(null,"viewBox","0 0 "+i+" "+n);var r=document.createElementNS(e,"svg:line");return r.setAttributeNS(null,"x1",t.rect[2]-t.lineCoordinates[0]),r.setAttributeNS(null,"y1",t.rect[3]-t.lineCoordinates[1]),r.setAttributeNS(null,"x2",t.rect[2]-t.lineCoordinates[2]),r.setAttributeNS(null,"y2",t.rect[3]-t.lineCoordinates[3]),r.setAttributeNS(null,"stroke-width",t.borderStyle.width),r.setAttributeNS(null,"stroke","transparent"),a.appendChild(r),this.container.append(a),this._createPopup(this.container,r,this.data),this.container}}),t}(),b=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),y=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),_=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),w=function(){function e(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);o.call(this,e,t,!0)}return a.Util.inherit(e,o,{render:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),e}(),x=function(){function e(e){o.call(this,e,!0);var t=this.data.file;this.filename=(0,n.getFilenameFromUrl)(t.filename),this.content=t.content,this.linkService.onFileAttachmentAnnotation({id:(0,a.stringToPDFString)(t.filename),filename:t.filename,content:t.content})}return a.Util.inherit(e,o,{render:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container},_download:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,a.warn)("Download cannot be started due to unavailable download manager")}}),e}(),C={render:function(e){for(var t=new r,i=0,a=e.annotations.length;i<a;i++){var o=e.annotations[i];if(o){var s=t.create({data:o,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||(0,n.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:e.renderInteractiveForms||!1});s.isRenderable&&e.div.appendChild(s.render())}}},update:function(e){for(var t=0,i=e.annotations.length;t<i;t++){var a=e.annotations[t],r=e.div.querySelector('[data-annotation-id="'+a.id+'"]');r&&n.CustomStyle.setProp("transform",r,"matrix("+e.viewport.transform.join(",")+")")}e.div.removeAttribute("hidden")}};t.AnnotationLayer=C},function(e,a,r){Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var o,s=r(0),l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),a=12,r=new Int32Array(256),o=0;o<256;o++){for(var l=o,c=0;c<8;c++)l=1&l?3988292384^l>>1&2147483647:l>>1&2147483647;r[o]=l}function d(e,t,i,n){var a=n,o=t.length;i[a]=o>>24&255,i[a+1]=o>>16&255,i[a+2]=o>>8&255,i[a+3]=255&o,i[a+=4]=255&e.charCodeAt(0),i[a+1]=255&e.charCodeAt(1),i[a+2]=255&e.charCodeAt(2),i[a+3]=255&e.charCodeAt(3),a+=4,i.set(t,a);var s=function(e,t,i){for(var n=-1,a=t;a<i;a++){var o=255&(n^e[a]);n=n>>>8^r[o]}return-1^n}(i,n+4,a+=t.length);i[a]=s>>24&255,i[a+1]=s>>16&255,i[a+2]=s>>8&255,i[a+3]=255&s}function u(e){var t=e.length,i=Math.ceil(t/65535),n=new Uint8Array(2+t+5*i+4),a=0;n[a++]=120,n[a++]=156;for(var r=0;t>65535;)n[a++]=0,n[a++]=255,n[a++]=255,n[a++]=0,n[a++]=0,n.set(e.subarray(r,r+65535),a),a+=65535,r+=65535,t-=65535;n[a++]=1,n[a++]=255&t,n[a++]=t>>8&255,n[a++]=255&~t,n[a++]=(65535&~t)>>8&255,n.set(e.subarray(r),a),a+=e.length-r;var o=function(e,t,i){for(var n=1,a=0,r=t;r<i;++r)a=(a+(n=(n+(255&e[r]))%65521))%65521;return a<<16|n}(e,0,e.length);return n[a++]=o>>24&255,n[a++]=o>>16&255,n[a++]=o>>8&255,n[a++]=255&o,n}function h(r,o,l){var c,h,p,f=r.width,m=r.height,g=r.data;switch(o){case s.ImageKind.GRAYSCALE_1BPP:h=0,c=1,p=f+7>>3;break;case s.ImageKind.RGB_24BPP:h=2,c=8,p=3*f;break;case s.ImageKind.RGBA_32BPP:h=6,c=8,p=4*f;break;default:throw new Error("invalid format")}var v,b,y=new Uint8Array((1+p)*m),_=0,w=0;for(v=0;v<m;++v)y[_++]=0,y.set(g.subarray(w,w+p),_),w+=p,_+=p;if(o===s.ImageKind.GRAYSCALE_1BPP)for(_=0,v=0;v<m;v++)for(_++,b=0;b<p;b++)y[_++]^=255;var x=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,m>>24&255,m>>16&255,m>>8&255,255&m,c,h,0,0,0]),C=function(e){if(!(0,s.isNodeJS)())return u(e);try{var a;a=parseInt(t.versions.node)>=8?e:new n(e);var r=i("sEZp").deflateSync(a,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return u(e)}(y),S=e.length+3*a+x.length+C.length,T=new Uint8Array(S),k=0;return T.set(e,k),d("IHDR",x,T,k+=e.length),d("IDATA",C,T,k+=a+x.length),k+=a+C.length,d("IEND",new Uint8Array(0),T,k),(0,s.createObjectURL)(T,"image/png",l)}return function(e,t){return h(e,void 0===e.kind?s.ImageKind.GRAYSCALE_1BPP:e.kind,t)}}(),d=function(){function e(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return e.prototype={clone:function(){return S()(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}();a.SVGGraphics=o=function(){function e(e){if(e===(0|e))return e.toString();var t=e.toFixed(10),i=t.length-1;if("0"!==t[i])return t;do{i--}while("0"===t[i]);return t.substr(0,"."===t[i]?i:i+1)}function t(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale("+e(t[0])+" "+e(t[3])+")";if(t[0]===t[3]&&t[1]===-t[2])return"rotate("+e(180*Math.acos(t[0])/Math.PI)+")"}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate("+e(t[4])+" "+e(t[5])+")";return"matrix("+e(t[0])+" "+e(t[1])+" "+e(t[2])+" "+e(t[3])+" "+e(t[4])+" "+e(t[5])+")"}function i(e,t,i){this.current=new d,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=S()(null),this.cssStyle=null,this.forceDataSchema=!!i}var n="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xlink",r=["butt","round","square"],o=["miter","round","bevel"],u=0,h=0;return i.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=this,i=e.fnArray,n=i.length,a=e.argsArray,r=0;r<n;r++)if(s.OPS.dependency===i[r])for(var o=a[r],l=0,c=o.length;l<c;l++){var d,u=o[l];d="g_"===u.substring(0,2)?new x.a(function(e){t.commonObjs.get(u,e)}):new x.a(function(e){t.objs.get(u,e)}),this.current.dependencies.push(d)}return x.a.all(this.current.dependencies)},transform:function(e,t,i,n,a,r){var o=[e,t,i,n,a,r];this.transformMatrix=s.Util.transform(this.transformMatrix,o),this.tgrp=null},getSVG:function(e,t){var i=this;this.viewport=t;var n=this._initialize(t);return this.loadDependencies(e).then(function(){i.transformMatrix=s.IDENTITY_MATRIX;var t=i.convertOpList(e);return i.executeOpTree(t),n})},convertOpList:function(e){var t=e.argsArray,i=e.fnArray,n=i.length,a=[],r=[];for(var o in s.OPS)a[s.OPS[o]]=o;for(var l=0;l<n;l++){var c=i[l];r.push({fnId:c,fn:a[c],args:t[l]})}return function(e){for(var t=[],i=[],n=e.length,a=0;a<n;a++)"save"!==e[a].fn?"restore"===e[a].fn?t=i.pop():t.push(e[a]):(t.push({fnId:92,fn:"group",items:[]}),i.push(t),t=t[t.length-1].items);return t}(r)},executeOpTree:function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i].fn,a=e[i].fnId,r=e[i].args;switch(0|a){case s.OPS.beginText:this.beginText();break;case s.OPS.setLeading:this.setLeading(r);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case s.OPS.setFont:this.setFont(r);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(r[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(r[0],r[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case s.OPS.setHScale:this.setHScale(r[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.setLineWidth:this.setLineWidth(r[0]);break;case s.OPS.setLineJoin:this.setLineJoin(r[0]);break;case s.OPS.setLineCap:this.setLineCap(r[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case s.OPS.setDash:this.setDash(r[0],r[1]);break;case s.OPS.setGState:this.setGState(r[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintJpegXObject:this.paintJpegXObject(r[0],r[1],r[2]);break;case s.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.constructPath:this.constructPath(r[0],r[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(e[i].items);break;default:(0,s.warn)("Unimplemented operator "+n)}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(t,i,a,r,o,s){var l=this.current;this.current.textMatrix=this.current.lineMatrix=[t,i,a,r,o,s],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,l.xcoords=[],l.tspan=document.createElementNS(n,"svg:tspan"),l.tspan.setAttributeNS(null,"font-family",l.fontFamily),l.tspan.setAttributeNS(null,"font-size",e(l.fontSize)+"px"),l.tspan.setAttributeNS(null,"y",e(-l.y)),l.txtElement=document.createElementNS(n,"svg:text"),l.txtElement.appendChild(l.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=s.IDENTITY_MATRIX,this.current.lineMatrix=s.IDENTITY_MATRIX,this.current.tspan=document.createElementNS(n,"svg:tspan"),this.current.txtElement=document.createElementNS(n,"svg:text"),this.current.txtgrp=document.createElementNS(n,"svg:g"),this.current.xcoords=[]},moveText:function(t,i){var a=this.current;this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i,a.xcoords=[],a.tspan=document.createElementNS(n,"svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",e(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",e(-a.y))},showText:function(i){var n=this.current,a=n.font,r=n.fontSize;if(0!==r){var o,c=n.charSpacing,d=n.wordSpacing,u=n.fontDirection,h=n.textHScale*u,p=i.length,f=a.vertical,m=r*n.fontMatrix[0],g=0;for(o=0;o<p;++o){var v=i[o];if(null!==v)if((0,s.isNum)(v))g+=-v*r*.001;else{n.xcoords.push(n.x+g*h);var b=v.width,y=v.fontChar;g+=b*m+((v.isSpace?d:0)+c)*u,n.tspan.textContent+=y}else g+=u*d}f?n.y-=g*h:n.x+=g*h,n.tspan.setAttributeNS(null,"x",n.xcoords.map(e).join(" ")),n.tspan.setAttributeNS(null,"y",e(-n.y)),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",e(n.fontSize)+"px"),n.fontStyle!==l.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==l.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight),n.fillColor!==l.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.txtElement.setAttributeNS(null,"transform",t(n.textMatrix)+" scale(1, -1)"),n.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=document.createElementNS(n,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,s.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'"; src: url('+t+"); }\n"},setFont:function(t){var i=this.current,a=this.commonObjs.get(t[0]),r=t[1];this.current.font=a,this.embedFonts&&a.data&&!this.embeddedFonts[a.loadedName]&&(this.addFontStyle(a),this.embeddedFonts[a.loadedName]=a),i.fontMatrix=a.fontMatrix?a.fontMatrix:s.FONT_IDENTITY_MATRIX;var o=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",l=a.italic?"italic":"normal";r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,i.fontSize=r,i.fontFamily=a.loadedName,i.fontWeight=o,i.fontStyle=l,i.tspan=document.createElementNS(n,"svg:tspan"),i.tspan.setAttributeNS(null,"y",e(-i.y)),i.xcoords=[]},endText:function(){},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=r[e]},setLineJoin:function(e){this.current.lineJoin=o[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeAlpha:function(e){this.current.strokeAlpha=e},setStrokeRGBColor:function(e,t,i){var n=s.Util.makeCssRgb(e,t,i);this.current.strokeColor=n},setFillAlpha:function(e){this.current.fillAlpha=e},setFillRGBColor:function(e,t,i){var a=s.Util.makeCssRgb(e,t,i);this.current.fillColor=a,this.current.tspan=document.createElementNS(n,"svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(t,i){var a=this.current,r=a.x,o=a.y;a.path=document.createElementNS(n,"svg:path");for(var l=[],c=t.length,d=0,u=0;d<c;d++)switch(0|t[d]){case s.OPS.rectangle:r=i[u++],o=i[u++];var h=r+i[u++],p=o+i[u++];l.push("M",e(r),e(o),"L",e(h),e(o),"L",e(h),e(p),"L",e(r),e(p),"Z");break;case s.OPS.moveTo:r=i[u++],o=i[u++],l.push("M",e(r),e(o));break;case s.OPS.lineTo:r=i[u++],o=i[u++],l.push("L",e(r),e(o));break;case s.OPS.curveTo:r=i[u+4],o=i[u+5],l.push("C",e(i[u]),e(i[u+1]),e(i[u+2]),e(i[u+3]),e(r),e(o)),u+=6;break;case s.OPS.curveTo2:r=i[u+2],o=i[u+3],l.push("C",e(r),e(o),e(i[u]),e(i[u+1]),e(i[u+2]),e(i[u+3])),u+=4;break;case s.OPS.curveTo3:r=i[u+2],o=i[u+3],l.push("C",e(i[u]),e(i[u+1]),e(r),e(o),e(r),e(o)),u+=4;break;case s.OPS.closePath:l.push("Z")}a.path.setAttributeNS(null,"d",l.join(" ")),a.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(a.path),a.element=a.path,a.setCurrentPoint(r,o)},endPath:function(){if(this.pendingClip){var e=this.current,i="clippath"+u;u++;var a=document.createElementNS(n,"svg:clipPath");a.setAttributeNS(null,"id",i),a.setAttributeNS(null,"transform",t(this.transformMatrix));var r=e.element.cloneNode();"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,a.appendChild(r),this.defs.appendChild(a),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null})),e.activeClipUrl="url(#"+i+")",this.tgrp=null}},clip:function(e){this.pendingClip=e},closePath:function(){var e=this.current,t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t],a=n[0],r=n[1];switch(a){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"Font":this.setFont(r);break;case"CA":this.setStrokeAlpha(r);break;case"ca":this.setFillAlpha(r);break;default:(0,s.warn)("Unimplemented graphic state "+a)}}},fill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha)},stroke:function(){var t=this.current;t.element.setAttributeNS(null,"stroke",t.strokeColor),t.element.setAttributeNS(null,"stroke-opacity",t.strokeAlpha),t.element.setAttributeNS(null,"stroke-miterlimit",e(t.miterLimit)),t.element.setAttributeNS(null,"stroke-linecap",t.lineCap),t.element.setAttributeNS(null,"stroke-linejoin",t.lineJoin),t.element.setAttributeNS(null,"stroke-width",e(t.lineWidth)+"px"),t.element.setAttributeNS(null,"stroke-dasharray",t.dashArray.map(e).join(" ")),t.element.setAttributeNS(null,"stroke-dashoffset",e(t.dashPhase)+"px"),t.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=document.createElementNS(n,"svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this._ensureTransformGroup().appendChild(t)},paintJpegXObject:function(t,i,r){var o=this.objs.get(t),s=document.createElementNS(n,"svg:image");s.setAttributeNS(a,"xlink:href",o.src),s.setAttributeNS(null,"width",e(i)),s.setAttributeNS(null,"height",e(r)),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",e(-r)),s.setAttributeNS(null,"transform","scale("+e(1/i)+" "+e(-1/r)+")"),this._ensureTransformGroup().appendChild(s)},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(t,i){var r=t.width,o=t.height,s=c(t,this.forceDataSchema),l=document.createElementNS(n,"svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",e(r)),l.setAttributeNS(null,"height",e(o)),this.current.element=l,this.clip("nonzero");var d=document.createElementNS(n,"svg:image");d.setAttributeNS(a,"xlink:href",s),d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y",e(-o)),d.setAttributeNS(null,"width",e(r)+"px"),d.setAttributeNS(null,"height",e(o)+"px"),d.setAttributeNS(null,"transform","scale("+e(1/r)+" "+e(-1/o)+")"),i?i.appendChild(d):this._ensureTransformGroup().appendChild(d)},paintImageMaskXObject:function(t){var i=this.current,a=t.width,r=t.height,o=i.fillColor;i.maskId="mask"+h++;var s=document.createElementNS(n,"svg:mask");s.setAttributeNS(null,"id",i.maskId);var l=document.createElementNS(n,"svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",e(a)),l.setAttributeNS(null,"height",e(r)),l.setAttributeNS(null,"fill",o),l.setAttributeNS(null,"mask","url(#"+i.maskId+")"),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(l),this.paintInlineImageXObject(t,s)},paintFormXObjectBegin:function(t,i){if((0,s.isArray)(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),(0,s.isArray)(i)&&4===i.length){var a=i[2]-i[0],r=i[3]-i[1],o=document.createElementNS(n,"svg:rect");o.setAttributeNS(null,"x",i[0]),o.setAttributeNS(null,"y",i[1]),o.setAttributeNS(null,"width",e(a)),o.setAttributeNS(null,"height",e(r)),this.current.element=o,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(e){var i=document.createElementNS(n,"svg:svg");i.setAttributeNS(null,"version","1.1"),i.setAttributeNS(null,"width",e.width+"px"),i.setAttributeNS(null,"height",e.height+"px"),i.setAttributeNS(null,"preserveAspectRatio","none"),i.setAttributeNS(null,"viewBox","0 0 "+e.width+" "+e.height);var a=document.createElementNS(n,"svg:defs");i.appendChild(a),this.defs=a;var r=document.createElementNS(n,"svg:g");return r.setAttributeNS(null,"transform",t(e.transform)),i.appendChild(r),this.svg=r,i},_ensureClipGroup:function(){if(!this.current.clipGroup){var e=document.createElementNS(n,"svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=document.createElementNS(n,"svg:g"),this.tgrp.setAttributeNS(null,"transform",t(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},i}(),a.SVGGraphics=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var n=i(0),a=i(1),r=function(){var e=1e5,t=/\S/;var i=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function r(e,r,o){var s,l=document.createElement("div"),c={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(l),s=r.str,!t.test(s))return c.isWhitespace=!0,void e._textDivProperties.set(l,c);var d=n.Util.transform(e._viewport.transform,r.transform),u=Math.atan2(d[1],d[0]),h=o[r.fontName];h.vertical&&(u+=Math.PI/2);var p,f,m=Math.sqrt(d[2]*d[2]+d[3]*d[3]),g=m;if(h.ascent?g=h.ascent*g:h.descent&&(g=(1+h.descent)*g),0===u?(p=d[4],f=d[5]-g):(p=d[4]+g*Math.sin(u),f=d[5]-g*Math.cos(u)),i[1]=p,i[3]=f,i[5]=m,i[7]=h.fontFamily,c.style=i.join(""),l.setAttribute("style",c.style),l.textContent=r.str,(0,a.getDefaultSetting)("pdfBug")&&(l.dataset.fontName=r.fontName),0!==u&&(c.angle=u*(180/Math.PI)),r.str.length>1&&(h.vertical?c.canvasWidth=r.height*e._viewport.scale:c.canvasWidth=r.width*e._viewport.scale),e._textDivProperties.set(l,c),e._textContentStream&&e._layoutText(l),e._enhanceTextSelection){var v=1,b=0;0!==u&&(v=Math.cos(u),b=Math.sin(u));var y,_,w=(h.vertical?r.height:r.width)*e._viewport.scale,x=m;0!==u?(y=[v,b,-b,v,p,f],_=n.Util.getAxialAlignedBoundingBox([0,0,w,x],y)):_=[p,f,p+w,f+x],e._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:l,size:[w,x],m:y})}}function o(t){if(!t._canceled){var i=t._textDivs,n=t._capability,a=i.length;if(a>e)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var r=0;r<a;r++)t._layoutText(i[r]);t._renderingDone=!0,n.resolve()}}function s(e){for(var t=e._bounds,i=e._viewport,a=function(e,t,i){var n=i.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});l(e,n);var a=new Array(i.length);return n.forEach(function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),i.map(function(t,i){var r=a[i],o=n[i];o.x1=t.top,o.y1=e-r.right,o.x2=t.bottom,o.y2=e-r.left,o.index=i,o.x1New=void 0,o.x2New=void 0}),l(t,n),n.forEach(function(e){var t=e.index;a[t].top=e.x1New,a[t].bottom=e.x2New}),a}(i.width,i.height,t),r=0;r<a.length;r++){var o=t[r].div,s=e._textDivProperties.get(o);if(0!==s.angle){var c=a[r],d=t[r],u=d.m,h=u[0],p=u[1],f=[[0,0],[0,d.size[1]],[d.size[0],0],d.size],m=new Float64Array(64);f.forEach(function(e,t){var i=n.Util.applyTransform(e,u);m[t+0]=h&&(c.left-i[0])/h,m[t+4]=p&&(c.top-i[1])/p,m[t+8]=h&&(c.right-i[0])/h,m[t+12]=p&&(c.bottom-i[1])/p,m[t+16]=p&&(c.left-i[0])/-p,m[t+20]=h&&(c.top-i[1])/h,m[t+24]=p&&(c.right-i[0])/-p,m[t+28]=h&&(c.bottom-i[1])/h,m[t+32]=h&&(c.left-i[0])/-h,m[t+36]=p&&(c.top-i[1])/-p,m[t+40]=h&&(c.right-i[0])/-h,m[t+44]=p&&(c.bottom-i[1])/-p,m[t+48]=p&&(c.left-i[0])/p,m[t+52]=h&&(c.top-i[1])/-h,m[t+56]=p&&(c.right-i[0])/p,m[t+60]=h&&(c.bottom-i[1])/-h});var g=function(e,t,i){for(var n=0,a=0;a<i;a++){var r=e[t++];r>0&&(n=n?Math.min(r,n):r)}return n},v=1+Math.min(Math.abs(h),Math.abs(p));s.paddingLeft=g(m,32,16)/v,s.paddingTop=g(m,48,16)/v,s.paddingRight=g(m,0,16)/v,s.paddingBottom=g(m,16,16)/v,e._textDivProperties.set(o,s)}else s.paddingLeft=t[r].left-a[r].left,s.paddingTop=t[r].top-a[r].top,s.paddingRight=a[r].right-t[r].right,s.paddingBottom=a[r].bottom-t[r].bottom,e._textDivProperties.set(o,s)}}function l(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach(function(e){for(var t=0;t<i.length&&i[t].end<=e.y1;)t++;for(var n,a,r=i.length-1;r>=0&&i[r].start>=e.y2;)r--;var o,s,l=-1/0;for(o=t;o<=r;o++){var c;(c=(a=(n=i[o]).boundary).x2>e.x1?a.index>e.index?a.x1New:e.x1:void 0===a.x2New?(a.x2+e.x1)/2:a.x2New)>l&&(l=c)}for(e.x1New=l,o=t;o<=r;o++)void 0===(a=(n=i[o]).boundary).x2New?a.x2>e.x1?a.index>e.index&&(a.x2New=a.x2):a.x2New=l:a.x2New>l&&(a.x2New=Math.max(l,a.x2));var d=[],u=null;for(o=t;o<=r;o++){var h=(a=(n=i[o]).boundary).x2>e.x2?a:e;u===h?d[d.length-1].end=n.end:(d.push({start:n.start,end:n.end,boundary:h}),u=h)}for(i[t].start<e.y1&&(d[0].start=e.y1,d.unshift({start:i[t].start,end:e.y1,boundary:i[t].boundary})),e.y2<i[r].end&&(d[d.length-1].end=e.y2,d.push({start:e.y2,end:i[r].end,boundary:i[r].boundary})),o=t;o<=r;o++)if(void 0===(a=(n=i[o]).boundary).x2New){var p=!1;for(s=t-1;!p&&s>=0&&i[s].start>=a.y1;s--)p=i[s].boundary===a;for(s=r+1;!p&&s<i.length&&i[s].end<=a.y2;s++)p=i[s].boundary===a;for(s=0;!p&&s<d.length;s++)p=d[s].boundary===a;p||(a.x2New=l)}Array.prototype.splice.apply(i,[t,r-t+1].concat(d))}),i.forEach(function(t){var i=t.boundary;void 0===i.x2New&&(i.x2New=Math.max(e,i.x2))})}function c(e){var t=e.textContent,i=e.textContentStream,a=e.container,r=e.viewport,o=e.textDivs,s=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=t,this._textContentStream=i,this._container=a,this._viewport=r,this._textDivs=o||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!l,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new f.a,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}return c.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new n.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(e,t){for(var i=0,n=e.length;i<n;i++)this._textContentItemsStr.push(e[i].str),r(this,e[i],t)},_layoutText:function(e){var t=this._container,i=this._textDivProperties.get(e);if(!i.isWhitespace){var n=e.style.fontSize,r=e.style.fontFamily;n===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=n+" "+r,this._lastFontSize=n,this._lastFontFamily=r);var o=this._layoutTextCtx.measureText(e.textContent).width,s="";0!==i.canvasWidth&&o>0&&(i.scale=i.canvasWidth/o,s="scaleX("+i.scale+")"),0!==i.angle&&(s="rotate("+i.angle+"deg) "+s),""!==s&&(i.originalTransform=s,a.CustomStyle.setProp("transform",e,s)),this._textDivProperties.set(e,i),t.appendChild(e)}},_render:function(e){var t=this,i=(0,n.createPromiseCapability)(),a=S()(null),r=document.createElement("canvas");if(r.mozOpaque=!0,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then(function(r){var o=r.value;r.done?i.resolve():(n.Util.extendObj(a,o.styles),t._processItems(o.items,a),e())},i.reject)}()}i.promise.then(function(){a=null,e?t._renderTimer=setTimeout(function(){o(t),t._renderTimer=null},e):o(t)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(s(this),this._bounds=null);for(var t=0,i=this._textDivs.length;t<i;t++){var n=this._textDivs[t],r=this._textDivProperties.get(n);if(!r.isWhitespace)if(e){var o="",l="";1!==r.scale&&(o="scaleX("+r.scale+")"),0!==r.angle&&(o="rotate("+r.angle+"deg) "+o),0!==r.paddingLeft&&(l+=" padding-left: "+r.paddingLeft/r.scale+"px;",o+=" translateX("+-r.paddingLeft/r.scale+"px)"),0!==r.paddingTop&&(l+=" padding-top: "+r.paddingTop+"px;",o+=" translateY("+-r.paddingTop+"px)"),0!==r.paddingRight&&(l+=" padding-right: "+r.paddingRight/r.scale+"px;"),0!==r.paddingBottom&&(l+=" padding-bottom: "+r.paddingBottom+"px;"),""!==l&&n.setAttribute("style",r.style+l),""!==o&&a.CustomStyle.setProp("transform",n,o)}else n.style.padding=0,a.CustomStyle.setProp("transform",n,r.originalTransform||"")}}}},function(e){var t=new c({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=r},function(e,t,i){function n(e){if("string"==typeof e)e=function(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var i=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,i,n){return String.fromCharCode(64*t+8*i+1*n)}),n="",a=0;a<i.length;a+=2){var r=256*i.charCodeAt(a)+i.charCodeAt(a+1);n+=r>=32&&r<127&&60!==r&&62!==r&&38!==r?String.fromCharCode(r):"&#x"+(65536+r).toString(16).substring(1)+";"}return">"+n})}(e),e=(new DOMParser).parseFromString(e,"application/xml");else if(!(e instanceof Document))throw new Error("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata=S()(null),this.parse()}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype={parse:function(){var e=this.metaDocument.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var t=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===t&&e.hasChildNodes()){var i,n,a,r,o,s,l,c=e.childNodes;for(r=0,s=c.length;r<s;r++)if("rdf:description"===(i=c[r]).nodeName.toLowerCase())for(o=0,l=i.childNodes.length;o<l;o++)"#text"!==i.childNodes[o].nodeName.toLowerCase()&&(a=(n=i.childNodes[o]).nodeName.toLowerCase(),this.metadata[a]=n.textContent.trim())}},get:function(e){return this.metadata[e]||null},has:function(e){return void 0!==this.metadata[e]}},t.Metadata=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUtils=void 0;var n=i(1),a=i(0),r=function(){function e(e,t,i){var n=e.createShader(i);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+a)}return n}function t(t,i){return e(t,i,t.VERTEX_SHADER)}function i(t,i){return e(t,i,t.FRAGMENT_SHADER)}function r(e,t){for(var i=e.createProgram(),n=0,a=t.length;n<a;++n)e.attachShader(i,t[n]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var r=e.getProgramInfoLog(i);throw new Error("Error during program linking: "+r)}return i}function o(e,t,i){e.activeTexture(i);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var s,l;function c(){s||(l=document.createElement("canvas"),s=l.getContext("webgl",{premultipliedalpha:!1}))}var d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",u="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",h=null;var p="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",f="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m=null;return{get isEnabled(){if((0,n.getDefaultSetting)("disableWebGL"))return!1;var e=!1;try{c(),e=!!s}catch(e){}return(0,a.shadow)(this,"isEnabled",e)},composeSMask:function(e,n,a){var p=e.width,f=e.height;h||function(){var e,n;c(),e=l,l=null,n=s,s=null;var a=r(n,[t(n,d),i(n,u)]);n.useProgram(a);var o={};o.gl=n,o.canvas=e,o.resolutionLocation=n.getUniformLocation(a,"u_resolution"),o.positionLocation=n.getAttribLocation(a,"a_position"),o.backdropLocation=n.getUniformLocation(a,"u_backdrop"),o.subtypeLocation=n.getUniformLocation(a,"u_subtype");var p=n.getAttribLocation(a,"a_texCoord"),f=n.getUniformLocation(a,"u_image"),m=n.getUniformLocation(a,"u_mask"),g=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,g),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),n.enableVertexAttribArray(p),n.vertexAttribPointer(p,2,n.FLOAT,!1,0,0),n.uniform1i(f,0),n.uniform1i(m,1),h=o}();var m=h,g=m.canvas,v=m.gl;g.width=p,g.height=f,v.viewport(0,0,v.drawingBufferWidth,v.drawingBufferHeight),v.uniform2f(m.resolutionLocation,p,f),a.backdrop?v.uniform4f(m.resolutionLocation,a.backdrop[0],a.backdrop[1],a.backdrop[2],1):v.uniform4f(m.resolutionLocation,0,0,0,0),v.uniform1i(m.subtypeLocation,"Luminosity"===a.subtype?1:0);var b=o(v,e,v.TEXTURE0),y=o(v,n,v.TEXTURE1),_=v.createBuffer();return v.bindBuffer(v.ARRAY_BUFFER,_),v.bufferData(v.ARRAY_BUFFER,new Float32Array([0,0,p,0,0,f,0,f,p,0,p,f]),v.STATIC_DRAW),v.enableVertexAttribArray(m.positionLocation),v.vertexAttribPointer(m.positionLocation,2,v.FLOAT,!1,0,0),v.clearColor(0,0,0,0),v.enable(v.BLEND),v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA),v.clear(v.COLOR_BUFFER_BIT),v.drawArrays(v.TRIANGLES,0,6),v.flush(),v.deleteTexture(b),v.deleteTexture(y),v.deleteBuffer(_),g},drawFigures:function(e,n,a,o,d){m||function(){var e,n;c(),e=l,l=null,n=s,s=null;var a=r(n,[t(n,p),i(n,f)]);n.useProgram(a);var o={};o.gl=n,o.canvas=e,o.resolutionLocation=n.getUniformLocation(a,"u_resolution"),o.scaleLocation=n.getUniformLocation(a,"u_scale"),o.offsetLocation=n.getUniformLocation(a,"u_offset"),o.positionLocation=n.getAttribLocation(a,"a_position"),o.colorLocation=n.getAttribLocation(a,"a_color"),m=o}();var u=m,h=u.canvas,g=u.gl;h.width=e,h.height=n,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(u.resolutionLocation,e,n);var v,b,y,_=0;for(v=0,b=o.length;v<b;v++)switch(o[v].type){case"lattice":_+=((y=o[v].coords.length/o[v].verticesPerRow|0)-1)*(o[v].verticesPerRow-1)*6;break;case"triangles":_+=o[v].coords.length}var w=new Float32Array(2*_),x=new Uint8Array(3*_),C=d.coords,S=d.colors,T=0,k=0;for(v=0,b=o.length;v<b;v++){var A=o[v],E=A.coords,N=A.colors;switch(A.type){case"lattice":var P=A.verticesPerRow;y=E.length/P|0;for(var R=1;R<y;R++)for(var I=R*P+1,L=1;L<P;L++,I++)w[T]=C[E[I-P-1]],w[T+1]=C[E[I-P-1]+1],w[T+2]=C[E[I-P]],w[T+3]=C[E[I-P]+1],w[T+4]=C[E[I-1]],w[T+5]=C[E[I-1]+1],x[k]=S[N[I-P-1]],x[k+1]=S[N[I-P-1]+1],x[k+2]=S[N[I-P-1]+2],x[k+3]=S[N[I-P]],x[k+4]=S[N[I-P]+1],x[k+5]=S[N[I-P]+2],x[k+6]=S[N[I-1]],x[k+7]=S[N[I-1]+1],x[k+8]=S[N[I-1]+2],w[T+6]=w[T+2],w[T+7]=w[T+3],w[T+8]=w[T+4],w[T+9]=w[T+5],w[T+10]=C[E[I]],w[T+11]=C[E[I]+1],x[k+9]=x[k+3],x[k+10]=x[k+4],x[k+11]=x[k+5],x[k+12]=x[k+6],x[k+13]=x[k+7],x[k+14]=x[k+8],x[k+15]=S[N[I]],x[k+16]=S[N[I]+1],x[k+17]=S[N[I]+2],T+=12,k+=18;break;case"triangles":for(var D=0,U=E.length;D<U;D++)w[T]=C[E[D]],w[T+1]=C[E[D]+1],x[k]=S[N[D]],x[k+1]=S[N[D]+1],x[k+2]=S[N[D]+2],T+=2,k+=3}}a?g.clearColor(a[0]/255,a[1]/255,a[2]/255,1):g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT);var O=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,O),g.bufferData(g.ARRAY_BUFFER,w,g.STATIC_DRAW),g.enableVertexAttribArray(u.positionLocation),g.vertexAttribPointer(u.positionLocation,2,g.FLOAT,!1,0,0);var M=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,M),g.bufferData(g.ARRAY_BUFFER,x,g.STATIC_DRAW),g.enableVertexAttribArray(u.colorLocation),g.vertexAttribPointer(u.colorLocation,3,g.UNSIGNED_BYTE,!1,0,0),g.uniform2f(u.scaleLocation,d.scaleX,d.scaleY),g.uniform2f(u.offsetLocation,d.offsetX,d.offsetY),g.drawArrays(g.TRIANGLES,0,_),g.flush(),g.deleteBuffer(O),g.deleteBuffer(M),h},clear:function(){h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0),m&&m.canvas&&(m.canvas.width=0,m.canvas.height=0),h=null,m=null}}}();t.WebGLUtils=r},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFJS=t.isWorker=t.globalScope=void 0;var n=i(2),a=i(1),r=i(0),o=i(3),s=i(6),l=i(5),c=i(4),d="undefined"==typeof window;r.globalScope.PDFJS||(r.globalScope.PDFJS={});var u=r.globalScope.PDFJS;u.version="1.9.426",u.build="2558a58d",u.pdfBug=!1,void 0!==u.verbosity&&(0,r.setVerbosityLevel)(u.verbosity),delete u.verbosity,Object.defineProperty(u,"verbosity",{get:function(){return(0,r.getVerbosityLevel)()},set:function(e){(0,r.setVerbosityLevel)(e)},enumerable:!0,configurable:!0}),u.VERBOSITY_LEVELS=r.VERBOSITY_LEVELS,u.OPS=r.OPS,u.UNSUPPORTED_FEATURES=r.UNSUPPORTED_FEATURES,u.isValidUrl=a.isValidUrl,u.shadow=r.shadow,u.createBlob=r.createBlob,u.createObjectURL=function(e,t){return(0,r.createObjectURL)(e,t,u.disableCreateObjectURL)},Object.defineProperty(u,"isLittleEndian",{configurable:!0,get:function(){return(0,r.shadow)(u,"isLittleEndian",(0,r.isLittleEndian)())}}),u.removeNullCharacters=r.removeNullCharacters,u.PasswordResponses=r.PasswordResponses,u.PasswordException=r.PasswordException,u.UnknownErrorException=r.UnknownErrorException,u.InvalidPDFException=r.InvalidPDFException,u.MissingPDFException=r.MissingPDFException,u.UnexpectedResponseException=r.UnexpectedResponseException,u.Util=r.Util,u.PageViewport=r.PageViewport,u.createPromiseCapability=r.createPromiseCapability,u.maxImageSize=void 0===u.maxImageSize?-1:u.maxImageSize,u.cMapUrl=void 0===u.cMapUrl?null:u.cMapUrl,u.cMapPacked=void 0!==u.cMapPacked&&u.cMapPacked,u.disableFontFace=void 0!==u.disableFontFace&&u.disableFontFace,u.imageResourcesPath=void 0===u.imageResourcesPath?"":u.imageResourcesPath,u.disableWorker=void 0!==u.disableWorker&&u.disableWorker,u.workerSrc=void 0===u.workerSrc?null:u.workerSrc,u.workerPort=void 0===u.workerPort?null:u.workerPort,u.disableRange=void 0!==u.disableRange&&u.disableRange,u.disableStream=void 0!==u.disableStream&&u.disableStream,u.disableAutoFetch=void 0!==u.disableAutoFetch&&u.disableAutoFetch,u.pdfBug=void 0!==u.pdfBug&&u.pdfBug,u.postMessageTransfers=void 0===u.postMessageTransfers||u.postMessageTransfers,u.disableCreateObjectURL=void 0!==u.disableCreateObjectURL&&u.disableCreateObjectURL,u.disableWebGL=void 0===u.disableWebGL||u.disableWebGL,u.externalLinkTarget=void 0===u.externalLinkTarget?a.LinkTarget.NONE:u.externalLinkTarget,u.externalLinkRel=void 0===u.externalLinkRel?a.DEFAULT_LINK_REL:u.externalLinkRel,u.isEvalSupported=void 0===u.isEvalSupported||u.isEvalSupported,u.pdfjsNext=void 0!==u.pdfjsNext&&u.pdfjsNext;var h=u.openExternalLinksInNewWindow;delete u.openExternalLinksInNewWindow,Object.defineProperty(u,"openExternalLinksInNewWindow",{get:function(){return u.externalLinkTarget===a.LinkTarget.BLANK},set:function(e){e&&(0,r.deprecated)('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),u.externalLinkTarget===a.LinkTarget.NONE?u.externalLinkTarget=e?a.LinkTarget.BLANK:a.LinkTarget.NONE:(0,r.warn)("PDFJS.externalLinkTarget is already initialized")},enumerable:!0,configurable:!0}),h&&(u.openExternalLinksInNewWindow=h),u.getDocument=n.getDocument,u.LoopbackPort=n.LoopbackPort,u.PDFDataRangeTransport=n.PDFDataRangeTransport,u.PDFWorker=n.PDFWorker,u.hasCanvasTypedArrays=!0,u.CustomStyle=a.CustomStyle,u.LinkTarget=a.LinkTarget,u.addLinkAttributes=a.addLinkAttributes,u.getFilenameFromUrl=a.getFilenameFromUrl,u.isExternalLinkTargetSet=a.isExternalLinkTargetSet,u.AnnotationLayer=o.AnnotationLayer,u.renderTextLayer=l.renderTextLayer,u.Metadata=s.Metadata,u.SVGGraphics=c.SVGGraphics,u.UnsupportedManager=n._UnsupportedManager,t.globalScope=r.globalScope,t.isWorker=d,t.PDFJS=u},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.PDFNetworkStream=void 0;var n=i(0),a=i(2);function r(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=S()(null),this.loadedRequests=S()(null)}function o(e){var t=e.response;if("string"!=typeof t)return t;for(var i=t.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=255&t.charCodeAt(a);return n.buffer}var s=function(){try{var e=new XMLHttpRequest;return e.open("GET",n.globalScope.location.href),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return!1}}();function l(e){this._options=e;var t=e.source;this._manager=new r(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function c(e,t){this._manager=e;var i=t.source,a={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:i.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(a),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this.onProgress=null}function d(e,t,i){this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,i,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}r.prototype={requestRange:function(e,t,i){var n={begin:e,end:t};for(var a in i)n[a]=i[a];return this.request(n)},requestFull:function(e){return this.request(e)},request:function(e){var t=this.getXhr(),i=this.currXhrId++,n=this.pendingRequests[i]={xhr:t};for(var a in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var r=this.httpHeaders[a];void 0!==r&&t.setRequestHeader(a,r)}if(this.isHttp&&"begin"in e&&"end"in e){var o=e.begin+"-"+(e.end-1);t.setRequestHeader("Range","bytes="+o),n.expectedStatus=206}else n.expectedStatus=200;return s&&!!e.onProgressiveData?(t.responseType="moz-chunked-arraybuffer",n.onProgressiveData=e.onProgressiveData,n.mozChunked=!0):t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),i},onProgress:function(e,t){var i=this.pendingRequests[e];if(i){if(i.mozChunked){var n=o(i.xhr);i.onProgressiveData(n)}var a=i.onProgress;a&&a(t)}},onStateChange:function(e,t){var i=this.pendingRequests[e];if(i){var n=i.xhr;if(n.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===n.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===n.status&&this.isHttp)i.onError&&i.onError(n.status);else{var a=n.status||200;if(200===a&&206===i.expectedStatus||a===i.expectedStatus){this.loadedRequests[e]=!0;var r=o(n);if(206===a){var s=n.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(s),c=parseInt(l[1],10);i.onDone({begin:c,chunk:r})}else i.onProgressiveData?i.onDone(null):r?i.onDone({begin:0,chunk:r}):i.onError&&i.onError(n.status)}else i.onError&&i.onError(n.status)}}},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},l.prototype={_onRangeRequestReaderClosed:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)},getFullReader:function(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new c(this._manager,this._options),this._fullRequestReader},getRangeReader:function(e,t){var i=new d(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}},c.prototype={_validateRangeRequestCapabilities:function(){if(this._disableRange)return!1;var e=this._manager;if(!e.isHttp)return!1;var t=this._fullRequestId,i=e.getRequestXhr(t);if("bytes"!==i.getResponseHeader("Accept-Ranges"))return!1;if("identity"!==(i.getResponseHeader("Content-Encoding")||"identity"))return!1;var a=i.getResponseHeader("Content-Length");return a=parseInt(a,10),!!(0,n.isInt)(a)&&(this._contentLength=a,!(a<=2*this._rangeChunkSize))},_onHeadersReceived:function(){this._validateRangeRequestCapabilities()&&(this._isRangeSupported=!0);var e=this._manager,t=this._fullRequestId;e.isStreamingRequest(t)?this._isStreamingSupported=!0:this._isRangeSupported&&e.abortRequest(t),this._headersReceivedCapability.resolve()},_onProgressiveData:function(e){this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e)},_onDone:function(e){e&&this._onProgressiveData(e.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(e){var t,i=this._url;t=404===e||0===e&&/^file:/.test(i)?new n.MissingPDFException('Missing PDF "'+i+'".'):new n.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+i+'".',e),this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach(function(e){e.reject(t)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return x.a.reject(this._storedError);if(this._cachedChunks.length>0){var e=this._cachedChunks.shift();return x.a.resolve({value:e,done:!1})}if(this._done)return x.a.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},d.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,x.a.resolve({value:e,done:!1})}if(this._done)return x.a.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},(0,a.setPDFNetworkStreamClass)(l),t.PDFNetworkStream=l,t.NetworkManager=r},function(e,t,i){var n="function"==typeof E.a&&"symbol"===I()(k.a)?function(e){return void 0===e?"undefined":I()(e)}:function(e){return e&&"function"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?"symbol":void 0===e?"undefined":I()(e)};!function(e,t){for(var i in t)e[i]=t[i]}(t,function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||P()(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e,t,i){var a="function"==typeof E.a&&"symbol"===n(k.a)?function(e){return void 0===e?"undefined":n(e)}:function(e){return e&&"function"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?"symbol":void 0===e?"undefined":n(e)},r=i(1).assert;function o(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":a(e))}function s(e,t,i){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}t.typeIsObject=function(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e||"function"==typeof e},t.createDataProperty=function(e,i,n){r(t.typeIsObject(e)),P()(e,i,{value:n,writable:!0,enumerable:!0,configurable:!0})},t.createArrayFromList=function(e){return e.slice()},t.ArrayBufferCopy=function(e,t,i,n,a){new Uint8Array(e).set(new Uint8Array(i,n,a),t)},t.CreateIterResultObject=function(e,t){r("boolean"==typeof t);var i={};return Object.defineProperty(i,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(i,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),i},t.IsFiniteNonNegativeNumber=function(e){return!d()(e)&&(e!==1/0&&!(e<0))},t.InvokeOrNoop=function(e,t,i){r(void 0!==e),r(o(t)),r(Array.isArray(i));var n=e[t];if(void 0!==n)return s(n,e,i)},t.PromiseInvokeOrNoop=function(e,i,n){r(void 0!==e),r(o(i)),r(Array.isArray(n));try{return x.a.resolve(t.InvokeOrNoop(e,i,n))}catch(e){return x.a.reject(e)}},t.PromiseInvokeOrPerformFallback=function(e,t,i,n,a){r(void 0!==e),r(o(t)),r(Array.isArray(i)),r(Array.isArray(a));var l=void 0;try{l=e[t]}catch(e){return x.a.reject(e)}if(void 0===l)return n.apply(null,a);try{return x.a.resolve(s(l,e,i))}catch(e){return x.a.reject(e)}},t.TransferArrayBuffer=function(e){return e.slice()},t.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),d()(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},t.ValidateAndNormalizeQueuingStrategy=function(e,i){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return{size:e,highWaterMark:i=t.ValidateAndNormalizeHighWaterMark(i)}}},function(e,t,i){function n(e){this.name="AssertionError",this.message=e||"",this.stack=(new Error).stack}n.prototype=S()(Error.prototype),n.prototype.constructor=n,e.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===n&&setTimeout(function(){throw e},0)},AssertionError:n,assert:function(e,t){if(!e)throw new n(t)}}},function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),P()(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),o=r.InvokeOrNoop,s=r.PromiseInvokeOrNoop,l=r.ValidateAndNormalizeQueuingStrategy,c=r.typeIsObject,d=i(1),u=d.assert,h=d.rethrowAssertionErrorRejection,p=i(3),f=p.DequeueValue,m=p.EnqueueValueWithSize,g=p.PeekQueueValue,v=p.ResetQueue,b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.size,r=i.highWaterMark,o=void 0===r?1:r;if(a(this,e),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==t.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new j(this,t,n,o),this._writableStreamController.__startSteps()}return n(e,[{key:"abort",value:function(e){return!1===_(this)?x.a.reject($("abort")):!0===w(this)?x.a.reject(new TypeError("Cannot abort a stream that already has a writer")):C(this,e)}},{key:"getWriter",value:function(){if(!1===_(this))throw $("getWriter");return y(this)}},{key:"locked",get:function(){if(!1===_(this))throw $("locked");return w(this)}}]),e}();function y(e){return new L(e)}function _(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function w(e){return u(!0===_(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function C(e,t){var i=e._state;if("closed"===i)return x.a.resolve(void 0);if("errored"===i)return x.a.reject(e._storedError);var n=new TypeError("Requested to abort");if(void 0!==e._pendingAbortRequest)return x.a.reject(n);u("writable"===i||"erroring"===i,"state must be writable or erroring");var a=!1;"erroring"===i&&(a=!0,t=void 0);var r=new x.a(function(i,n){e._pendingAbortRequest={_resolve:i,_reject:n,_reason:t,_wasAlreadyErroring:a}});return!1===a&&T(e,n),r}function S(e,t){var i=e._state;"writable"!==i?(u("erroring"===i),k(e)):T(e,t)}function T(e,t){u(void 0===e._storedError,"stream._storedError === undefined"),u("writable"===e._state,"state must be writable");var i=e._writableStreamController;u(void 0!==i,"controller must not be undefined"),e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&M(n,t),!1===N(e)&&!0===i._started&&k(e)}function k(e){u("erroring"===e._state,"stream._state === erroring"),u(!1===N(e),"WritableStreamHasOperationMarkedInFlight(stream) === false"),e._state="errored",e._writableStreamController.__errorSteps();for(var t=e._storedError,i=0;i<e._writeRequests.length;i++){e._writeRequests[i]._reject(t)}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void R(e);e._writableStreamController.__abortSteps(n._reason).then(function(){n._resolve(),R(e)},function(t){n._reject(t),R(e)})}else R(e)}function A(e){u(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;u("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var i=e._writer;void 0!==i&&function(e){u(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),u(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),u("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(i),u(void 0===e._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),u(void 0===e._storedError,"stream._storedError === undefined")}function E(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function N(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function R(e){u("errored"===e._state,'_stream_.[[state]] is `"errored"`'),void 0!==e._closeRequest&&(u(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(J(t,e._storedError),t._closedPromise.catch(function(){}))}function I(e,t){u("writable"===e._state),u(!1===E(e));var i=e._writer;void 0!==i&&t!==e._backpressure&&(!0===t?function(e){u(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),u(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=new x.a(function(t,i){e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}(i):(u(!1===t),Z(i))),e._backpressure=t}e.exports={AcquireWritableStreamDefaultWriter:y,IsWritableStream:_,IsWritableStreamLocked:w,WritableStream:b,WritableStreamAbort:C,WritableStreamDefaultControllerError:z,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream;u(void 0!==t);var i=t._state;if(!0===E(t)||"closed"===i)return x.a.resolve();if("errored"===i)return x.a.reject(t._storedError);return u("writable"===i||"erroring"===i),U(e)},WritableStreamDefaultWriterRelease:B,WritableStreamDefaultWriterWrite:F,WritableStreamCloseQueuedOrInFlight:E};var L=function(){function e(t){if(a(this,e),!1===_(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===w(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var i,n=t._state;if("writable"===n)!1===E(t)&&!0===t._backpressure?((i=this)._readyPromise=new x.a(function(e,t){i._readyPromise_resolve=e,i._readyPromise_reject=t}),i._readyPromiseState="pending"):Q(this),X(this);else if("erroring"===n)K(this,t._storedError),this._readyPromise.catch(function(){}),X(this);else if("closed"===n)Q(this),function(e){e._closedPromise=x.a.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}(this);else{u("errored"===n,"state must be errored");var r=t._storedError;K(this,r),this._readyPromise.catch(function(){}),function(e,t){e._closedPromise=x.a.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}(this,r),this._closedPromise.catch(function(){})}}return n(e,[{key:"abort",value:function(e){return!1===D(this)?x.a.reject(Y("abort")):void 0===this._ownerWritableStream?x.a.reject(G("abort")):function(e,t){var i=e._ownerWritableStream;return u(void 0!==i),C(i,t)}(this,e)}},{key:"close",value:function(){if(!1===D(this))return x.a.reject(Y("close"));var e=this._ownerWritableStream;return void 0===e?x.a.reject(G("close")):!0===E(e)?x.a.reject(new TypeError("cannot close an already-closing stream")):U(this)}},{key:"releaseLock",value:function(){if(!1===D(this))throw Y("releaseLock");var e=this._ownerWritableStream;void 0!==e&&(u(void 0!==e._writer),B(this))}},{key:"write",value:function(e){return!1===D(this)?x.a.reject(Y("write")):void 0===this._ownerWritableStream?x.a.reject(G("write to")):F(this,e)}},{key:"closed",get:function(){return!1===D(this)?x.a.reject(Y("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===D(this))throw Y("desiredSize");if(void 0===this._ownerWritableStream)throw G("desiredSize");return function(e){var t=e._ownerWritableStream,i=t._state;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return H(t._writableStreamController)}(this)}},{key:"ready",get:function(){return!1===D(this)?x.a.reject(Y("ready")):this._readyPromise}}]),e}();function D(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function U(e){var t=e._ownerWritableStream;u(void 0!==t);var i=t._state;if("closed"===i||"errored"===i)return x.a.reject(new TypeError("The stream (in "+i+" state) is not in the writable state and cannot be closed"));u("writable"===i||"erroring"===i),u(!1===E(t));var n,a=new x.a(function(e,i){var n={_resolve:e,_reject:i};t._closeRequest=n});return!0===t._backpressure&&"writable"===i&&Z(e),n=t._writableStreamController,m(n,"close",0),W(n),a}function O(e,t){"pending"===e._closedPromiseState?J(e,t):function(e,t){u(void 0===e._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),u(void 0===e._closedPromise_reject,"writer._closedPromise_reject === undefined"),u("pending"!==e._closedPromiseState,"writer._closedPromiseState is not pending"),e._closedPromise=x.a.reject(t),e._closedPromiseState="rejected"}(e,t),e._closedPromise.catch(function(){})}function M(e,t){"pending"===e._readyPromiseState?function(e,t){u(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),u(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}(e,t):function(e,t){u(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),u(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=x.a.reject(t),e._readyPromiseState="rejected"}(e,t),e._readyPromise.catch(function(){})}function B(e){var t=e._ownerWritableStream;u(void 0!==t),u(t._writer===e);var i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");M(e,i),O(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function F(e,t){var i=e._ownerWritableStream;u(void 0!==i);var n=i._writableStreamController,a=function(e,t){var i=e._strategySize;if(void 0===i)return 1;try{return i(t)}catch(t){return q(e,t),1}}(n,t);if(i!==e._ownerWritableStream)return x.a.reject(G("write to"));var r=i._state;if("errored"===r)return x.a.reject(i._storedError);if(!0===E(i)||"closed"===r)return x.a.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===r)return x.a.reject(i._storedError);u("writable"===r);var o=function(e){return u(!0===w(e)),u("writable"===e._state),new x.a(function(t,i){var n={_resolve:t,_reject:i};e._writeRequests.push(n)})}(i);return function(e,t,i){var n={chunk:t};try{m(e,n,i)}catch(t){return void q(e,t)}var a=e._controlledWritableStream;if(!1===E(a)&&"writable"===a._state){var r=V(e);I(a,r)}W(e)}(n,t,a),o}var j=function(){function e(t,i,n,r){if(a(this,e),!1===_(t))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==t._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=t,this._underlyingSink=i,this._queue=void 0,this._queueTotalSize=void 0,v(this),this._started=!1;var o=l(n,r);this._strategySize=o.size,this._strategyHWM=o.highWaterMark,I(t,V(this))}return n(e,[{key:"error",value:function(e){if(!1===function(e){if(!c(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_underlyingSink"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&z(this,e)}},{key:"__abortSteps",value:function(e){return s(this._underlyingSink,"abort",[e])}},{key:"__errorSteps",value:function(){v(this)}},{key:"__startSteps",value:function(){var e=this,t=o(this._underlyingSink,"start",[this]),i=this._controlledWritableStream;x.a.resolve(t).then(function(){u("writable"===i._state||"erroring"===i._state),e._started=!0,W(e)},function(t){u("writable"===i._state||"erroring"===i._state),e._started=!0,S(i,t)}).catch(h)}}]),e}();function H(e){return e._strategyHWM-e._queueTotalSize}function W(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var i=t._state;if("closed"!==i&&"errored"!==i)if("erroring"!==i){if(0!==e._queue.length){var n=g(e);"close"===n?function(e){var t=e._controlledWritableStream;(function(e){u(void 0===e._inFlightCloseRequest),u(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),f(e),u(0===e._queue.length,"queue must be empty once the final write record is dequeued"),s(e._underlyingSink,"close",[]).then(function(){A(t)},function(e){!function(e,t){u(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,u("writable"===e._state||"erroring"===e._state),void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),S(e,t)}(t,e)}).catch(h)}(e):function(e,t){var i=e._controlledWritableStream;(function(e){u(void 0===e._inFlightWriteRequest,"there must be no pending write request"),u(0!==e._writeRequests.length,"writeRequests must not be empty"),e._inFlightWriteRequest=e._writeRequests.shift()})(i),s(e._underlyingSink,"write",[t,e]).then(function(){!function(e){u(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(i);var t=i._state;if(u("writable"===t||"erroring"===t),f(e),!1===E(i)&&"writable"===t){var n=V(e);I(i,n)}W(e)},function(e){!function(e,t){u(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,u("writable"===e._state||"erroring"===e._state),S(e,t)}(i,e)}).catch(h)}(e,n.chunk)}}else k(t)}}function q(e,t){"writable"===e._controlledWritableStream._state&&z(e,t)}function V(e){return H(e)<=0}function z(e,t){var i=e._controlledWritableStream;u("writable"===i._state),T(i,t)}function $(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Y(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function G(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function X(e){e._closedPromise=new x.a(function(t,i){e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function J(e,t){u(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),u(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),u("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function K(e,t){e._readyPromise=x.a.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function Q(e){e._readyPromise=x.a.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function Z(e){u(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),u(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}},function(e,t,i){var n=i(0).IsFiniteNonNegativeNumber,a=i(1).assert;t.DequeueValue=function(e){a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a(e._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,i){if(a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),i=Number(i),!n(i))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i},t.PeekQueueValue=function(e){return a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a(e._queue.length>0,"Spec-level failure: should never peek at an empty queue."),e._queue[0].value},t.ResetQueue=function(e){a("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),P()(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),o=r.ArrayBufferCopy,s=r.CreateIterResultObject,c=r.IsFiniteNonNegativeNumber,d=r.InvokeOrNoop,u=r.PromiseInvokeOrNoop,h=r.TransferArrayBuffer,p=r.ValidateAndNormalizeQueuingStrategy,f=r.ValidateAndNormalizeHighWaterMark,m=i(0),g=m.createArrayFromList,v=m.createDataProperty,b=m.typeIsObject,y=i(1),_=y.assert,w=y.rethrowAssertionErrorRejection,C=i(3),T=C.DequeueValue,k=C.EnqueueValueWithSize,A=C.ResetQueue,E=i(2),N=E.AcquireWritableStreamDefaultWriter,R=E.IsWritableStream,I=E.IsWritableStreamLocked,L=E.WritableStreamAbort,D=E.WritableStreamDefaultWriterCloseWithErrorPropagation,U=E.WritableStreamDefaultWriterRelease,O=E.WritableStreamDefaultWriterWrite,M=E.WritableStreamCloseQueuedOrInFlight,B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.size,r=i.highWaterMark;a(this,e),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var o=t.type;if("bytes"===String(o))void 0===r&&(r=0),this._readableStreamController=new ge(this,t,r);else{if(void 0!==o)throw new RangeError("Invalid type is specified");void 0===r&&(r=1),this._readableStreamController=new se(this,t,n,r)}}return n(e,[{key:"cancel",value:function(e){return!1===j(this)?x.a.reject(Le("cancel")):!0===H(this)?x.a.reject(new TypeError("Cannot cancel a stream that already has a reader")):z(this,e)}},{key:"getReader",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===j(this))throw Le("getReader");if(void 0===e)return F(this);if("byob"===(e=String(e)))return new ee(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var i=e.writable,n=e.readable;return function(e){try{x.a.prototype.then.call(e,void 0,function(){})}catch(e){}}(this.pipeTo(i,t)),n}},{key:"pipeTo",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.preventClose,a=i.preventAbort,r=i.preventCancel;if(!1===j(this))return x.a.reject(Le("pipeTo"));if(!1===R(e))return x.a.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(n=Boolean(n),a=Boolean(a),r=Boolean(r),!0===H(this))return x.a.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===I(e))return x.a.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var o=F(this),s=N(e),l=!1,c=x.a.resolve();return new x.a(function(i,d){var u,h,p;if(g(t,o._closedPromise,function(t){!1===a?v(function(){return L(e,t)},!0,t):b(!0,t)}),g(e,s._closedPromise,function(e){!1===r?v(function(){return z(t,e)},!0,e):b(!0,e)}),u=t,h=o._closedPromise,p=function(){!1===n?v(function(){return D(s)}):b()},"closed"===u._state?p():h.then(p).catch(w),!0===M(e)||"closed"===e._state){var f=new TypeError("the destination writable stream closed before all data could be piped to it");!1===r?v(function(){return z(t,f)},!0,f):b(!0,f)}function m(){var e=c;return c.then(function(){return e!==c?m():void 0})}function g(e,t,i){"errored"===e._state?i(e._storedError):t.catch(i).catch(w)}function v(t,i,n){function a(){t().then(function(){return y(i,n)},function(e){return y(!0,e)}).catch(w)}!0!==l&&(l=!0,"writable"===e._state&&!1===M(e)?m().then(a):a())}function b(t,i){!0!==l&&(l=!0,"writable"===e._state&&!1===M(e)?m().then(function(){return y(t,i)}).catch(w):y(t,i))}function y(e,t){U(s),re(o),e?d(t):i(void 0)}(function e(){return c=x.a.resolve(),!0===l?x.a.resolve():s._readyPromise.then(function(){return oe(o).then(function(e){var t=e.value;!0!==e.done&&(c=O(s,t).catch(function(){}))})}).then(e)})().catch(function(e){c=x.a.resolve(),w(e)})})}},{key:"tee",value:function(){if(!1===j(this))throw Le("tee");var e=W(this,!1);return g(e)}},{key:"locked",get:function(){if(!1===j(this))throw Le("locked");return H(this)}}]),e}();function F(e){return new Z(e)}function j(e){return!!b(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function H(e){return _(!0===j(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function W(e,t){_(!0===j(e)),_("boolean"==typeof t);var i=F(e),n={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};n.promise=new x.a(function(e){n._resolve=e});var a=function(){return function e(){var t=e._reader,i=e._branch1,n=e._branch2,a=e._teeState;return oe(t).then(function(e){_(b(e));var t=e.value,r=e.done;if(_("boolean"==typeof r),!0===r&&!1===a.closedOrErrored&&(!1===a.canceled1&&de(i),!1===a.canceled2&&de(n),a.closedOrErrored=!0),!0!==a.closedOrErrored){var o=t,s=t;!1===a.canceled1&&ue(i,o),!1===a.canceled2&&ue(n,s)}})}}();a._reader=i,a._teeState=n,a._cloneForBranch2=t;var r=function(){return function e(t){var i=e._stream,n=e._teeState;n.canceled1=!0;n.reason1=t;if(!0===n.canceled2){var a=g([n.reason1,n.reason2]),r=z(i,a);n._resolve(r)}return n.promise}}();r._stream=e,r._teeState=n;var o=function(){return function e(t){var i=e._stream,n=e._teeState;n.canceled2=!0;n.reason2=t;if(!0===n.canceled1){var a=g([n.reason1,n.reason2]),r=z(i,a);n._resolve(r)}return n.promise}}();o._stream=e,o._teeState=n;var s=S()(Object.prototype);v(s,"pull",a),v(s,"cancel",r);var l=new B(s),c=S()(Object.prototype);v(c,"pull",a),v(c,"cancel",o);var d=new B(c);return a._branch1=l._readableStreamController,a._branch2=d._readableStreamController,i._closedPromise.catch(function(e){!0!==n.closedOrErrored&&(he(a._branch1,e),he(a._branch2,e),n.closedOrErrored=!0)}),[l,d]}function q(e){return _(!0===te(e._reader)),_("readable"===e._state||"closed"===e._state),new x.a(function(t,i){var n={_resolve:t,_reject:i};e._reader._readIntoRequests.push(n)})}function V(e){return _(!0===ie(e._reader)),_("readable"===e._state),new x.a(function(t,i){var n={_resolve:t,_reject:i};e._reader._readRequests.push(n)})}function z(e,t){return e._disturbed=!0,"closed"===e._state?x.a.resolve(void 0):"errored"===e._state?x.a.reject(e._storedError):($(e),e._readableStreamController.__cancelSteps(t).then(function(){}))}function $(e){_("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===ie(t)){for(var i=0;i<t._readRequests.length;i++){(0,t._readRequests[i]._resolve)(s(void 0,!0))}t._readRequests=[]}!function(e){_(void 0!==e._closedPromise_resolve),_(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(t)}}function Y(e,t){_(!0===j(e),"stream must be ReadableStream"),_("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var i=e._reader;if(void 0!==i){if(!0===ie(i)){for(var n=0;n<i._readRequests.length;n++){i._readRequests[n]._reject(t)}i._readRequests=[]}else{_(te(i),"reader must be ReadableStreamBYOBReader");for(var a=0;a<i._readIntoRequests.length;a++){i._readIntoRequests[a]._reject(t)}i._readIntoRequests=[]}Oe(i,t),i._closedPromise.catch(function(){})}}function G(e,t,i){var n=e._reader;_(n._readRequests.length>0),n._readRequests.shift()._resolve(s(t,i))}function X(e){return e._reader._readIntoRequests.length}function J(e){return e._reader._readRequests.length}function K(e){var t=e._reader;return void 0!==t&&!1!==te(t)}function Q(e){var t=e._reader;return void 0!==t&&!1!==ie(t)}e.exports={ReadableStream:B,IsReadableStreamDisturbed:function(e){return _(!0===j(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed},ReadableStreamDefaultControllerClose:de,ReadableStreamDefaultControllerEnqueue:ue,ReadableStreamDefaultControllerError:he,ReadableStreamDefaultControllerGetDesiredSize:fe};var Z=function(){function e(t){if(a(this,e),!1===j(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===H(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ne(this,t),this._readRequests=[]}return n(e,[{key:"cancel",value:function(e){return!1===ie(this)?x.a.reject(Ue("cancel")):void 0===this._ownerReadableStream?x.a.reject(De("cancel")):ae(this,e)}},{key:"read",value:function(){return!1===ie(this)?x.a.reject(Ue("read")):void 0===this._ownerReadableStream?x.a.reject(De("read from")):oe(this)}},{key:"releaseLock",value:function(){if(!1===ie(this))throw Ue("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");re(this)}}},{key:"closed",get:function(){return!1===ie(this)?x.a.reject(Ue("closed")):this._closedPromise}}]),e}(),ee=function(){function e(t){if(a(this,e),!j(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ve(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(H(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ne(this,t),this._readIntoRequests=[]}return n(e,[{key:"cancel",value:function(e){return te(this)?void 0===this._ownerReadableStream?x.a.reject(De("cancel")):ae(this,e):x.a.reject(Me("cancel"))}},{key:"read",value:function(e){return te(this)?void 0===this._ownerReadableStream?x.a.reject(De("read from")):ArrayBuffer.isView(e)?0===e.byteLength?x.a.reject(new TypeError("view must have non-zero byteLength")):function(e,t){var i=e._ownerReadableStream;if(_(void 0!==i),i._disturbed=!0,"errored"===i._state)return x.a.reject(i._storedError);return function(e,t){var i=e._controlledReadableStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);var a=t.constructor,r={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return r.buffer=h(r.buffer),e._pendingPullIntos.push(r),q(i);if("closed"===i._state){var o=new t.constructor(r.buffer,r.byteOffset,0);return x.a.resolve(s(o,!0))}if(e._queueTotalSize>0){if(!0===Se(e,r)){var l=xe(r);return ke(e),x.a.resolve(s(l,!1))}if(!0===e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Re(e,c),x.a.reject(c)}}r.buffer=h(r.buffer),e._pendingPullIntos.push(r);var d=q(i);return ye(e),d}(i._readableStreamController,t)}(this,e):x.a.reject(new TypeError("view must be an array buffer view")):x.a.reject(Me("read"))}},{key:"releaseLock",value:function(){if(!te(this))throw Me("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");re(this)}}},{key:"closed",get:function(){return te(this)?this._closedPromise:x.a.reject(Me("closed"))}}]),e}();function te(e){return!!b(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function ie(e){return!!b(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function ne(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?function(e){e._closedPromise=new x.a(function(t,i){e._closedPromise_resolve=t,e._closedPromise_reject=i})}(e):"closed"===t._state?function(e){e._closedPromise=x.a.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e):(_("errored"===t._state,"state must be errored"),function(e,t){e._closedPromise=x.a.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}(e,t._storedError),e._closedPromise.catch(function(){}))}function ae(e,t){var i=e._ownerReadableStream;return _(void 0!==i),z(i,t)}function re(e){_(void 0!==e._ownerReadableStream),_(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Oe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){_(void 0===e._closedPromise_resolve),_(void 0===e._closedPromise_reject),e._closedPromise=x.a.reject(t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function oe(e){var t=e._ownerReadableStream;return _(void 0!==t),t._disturbed=!0,"closed"===t._state?x.a.resolve(s(void 0,!0)):"errored"===t._state?x.a.reject(t._storedError):(_("readable"===t._state),t._readableStreamController.__pullSteps())}var se=function(){function e(t,i,n,r){if(a(this,e),!1===j(t))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==t._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=t,this._underlyingSource=i,this._queue=void 0,this._queueTotalSize=void 0,A(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var o=p(n,r);this._strategySize=o.size,this._strategyHWM=o.highWaterMark;var s=this,l=d(i,"start",[this]);x.a.resolve(l).then(function(){s._started=!0,_(!1===s._pulling),_(!1===s._pullAgain),ce(s)},function(e){pe(s,e)}).catch(w)}return n(e,[{key:"close",value:function(){if(!1===le(this))throw Be("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");de(this)}},{key:"enqueue",value:function(e){if(!1===le(this))throw Be("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return ue(this,e)}},{key:"error",value:function(e){if(!1===le(this))throw Be("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");he(this,e)}},{key:"__cancelSteps",value:function(e){return A(this),u(this._underlyingSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=T(this);return!0===this._closeRequested&&0===this._queue.length?$(e):ce(this),x.a.resolve(s(t,!1))}var i=V(e);return ce(this),i}},{key:"desiredSize",get:function(){if(!1===le(this))throw Be("desiredSize");return fe(this)}}]),e}();function le(e){return!!b(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function ce(e){!1!==function(e){var t=e._controlledReadableStream;if("closed"===t._state||"errored"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===H(t)&&J(t)>0)return!0;if(fe(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(_(!1===e._pullAgain),e._pulling=!0,u(e._underlyingSource,"pull",[e]).then(function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,ce(e)},function(t){pe(e,t)}).catch(w)):e._pullAgain=!0)}function de(e){var t=e._controlledReadableStream;_(!1===e._closeRequested),_("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&$(t)}function ue(e,t){var i=e._controlledReadableStream;if(_(!1===e._closeRequested),_("readable"===i._state),!0===H(i)&&J(i)>0)G(i,t,!1);else{var n=1;if(void 0!==e._strategySize){var a=e._strategySize;try{n=a(t)}catch(t){throw pe(e,t),t}}try{k(e,t,n)}catch(t){throw pe(e,t),t}}ce(e)}function he(e,t){var i=e._controlledReadableStream;_("readable"===i._state),A(e),Y(i,t)}function pe(e,t){"readable"===e._controlledReadableStream._state&&he(e,t)}function fe(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}var me=function(){function e(t,i){a(this,e),this._associatedReadableByteStreamController=t,this._view=i}return n(e,[{key:"respond",value:function(e){if(!1===be(this))throw Fe("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(t=Number(t),!1===c(t))throw new RangeError("bytesWritten must be a finite");_(e._pendingPullIntos.length>0),Ne(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===be(this))throw Fe("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){_(e._pendingPullIntos.length>0);var i=e._pendingPullIntos[0];if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=t.buffer,Ne(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){return this._view}}]),e}(),ge=function(){function e(t,i,n){if(a(this,e),!1===j(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=i,this._pullAgain=!1,this._pulling=!1,_e(this),this._queue=this._queueTotalSize=void 0,A(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=f(n);var r=i.autoAllocateChunkSize;if(void 0!==r&&(!1===l()(r)||r<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=r,this._pendingPullIntos=[];var o=this,s=d(i,"start",[this]);x.a.resolve(s).then(function(){o._started=!0,_(!1===o._pulling),_(!1===o._pullAgain),ye(o)},function(e){"readable"===t._state&&Re(o,e)}).catch(w)}return n(e,[{key:"close",value:function(){if(!1===ve(this))throw je("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableStream;if(_(!1===e._closeRequested),_("readable"===t._state),e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){var i=e._pendingPullIntos[0];if(i.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Re(e,n),n}}$(t)}(this)}},{key:"enqueue",value:function(e){if(!1===ve(this))throw je("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var i=e._controlledReadableStream;_(!1===e._closeRequested),_("readable"===i._state);var n=t.buffer,a=t.byteOffset,r=t.byteLength,o=h(n);if(!0===Q(i))if(0===J(i))Ce(e,o,a,r);else{_(0===e._queue.length);var s=new Uint8Array(o,a,r);G(i,s,!1)}else!0===K(i)?(Ce(e,o,a,r),Ee(e)):(_(!1===H(i),"stream must not be locked"),Ce(e,o,a,r))}(this,e)}},{key:"error",value:function(e){if(!1===ve(this))throw je("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");Re(this,e)}},{key:"__cancelSteps",value:function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0);return A(this),u(this._underlyingByteSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(_(!0===Q(e)),this._queueTotalSize>0){_(0===J(e));var t=this._queue.shift();this._queueTotalSize-=t.byteLength,ke(this);var i=void 0;try{i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return x.a.reject(e)}return x.a.resolve(s(i,!1))}var n=this._autoAllocateChunkSize;if(void 0!==n){var a=void 0;try{a=new ArrayBuffer(n)}catch(e){return x.a.reject(e)}var r={buffer:a,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}var o=V(e);return ye(this),o}},{key:"byobRequest",get:function(){if(!1===ve(this))throw je("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new me(this,t)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===ve(this))throw je("desiredSize");return Ie(this)}}]),e}();function ve(e){return!!b(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function be(e){return!!b(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function ye(e){!1!==function(e){var t=e._controlledReadableStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===Q(t)&&J(t)>0)return!0;if(!0===K(t)&&X(t)>0)return!0;if(Ie(e)>0)return!0;return!1}(e)&&(!0!==e._pulling?(_(!1===e._pullAgain),e._pulling=!0,u(e._underlyingByteSource,"pull",[e]).then(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,ye(e))},function(t){"readable"===e._controlledReadableStream._state&&Re(e,t)}).catch(w)):e._pullAgain=!0)}function _e(e){Ae(e),e._pendingPullIntos=[]}function we(e,t){_("errored"!==e._state,"state must not be errored");var i=!1;"closed"===e._state&&(_(0===t.bytesFilled),i=!0);var n=xe(t);"default"===t.readerType?G(e,n,i):(_("byob"===t.readerType),function(e,t,i){var n=e._reader;_(n._readIntoRequests.length>0),n._readIntoRequests.shift()._resolve(s(t,i))}(e,n,i))}function xe(e){var t=e.bytesFilled,i=e.elementSize;return _(t<=e.byteLength),_(t%i==0),new e.ctor(e.buffer,e.byteOffset,t/i)}function Ce(e,t,i,n){e._queue.push({buffer:t,byteOffset:i,byteLength:n}),e._queueTotalSize+=n}function Se(e,t){var i=t.elementSize,n=t.bytesFilled-t.bytesFilled%i,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+a,s=r-r%i,l=a,c=!1;s>n&&(l=s-t.bytesFilled,c=!0);for(var d=e._queue;l>0;){var u=d[0],h=Math.min(l,u.byteLength),p=t.byteOffset+t.bytesFilled;o(t.buffer,p,u.buffer,u.byteOffset,h),u.byteLength===h?d.shift():(u.byteOffset+=h,u.byteLength-=h),e._queueTotalSize-=h,Te(e,h,t),l-=h}return!1===c&&(_(0===e._queueTotalSize,"queue must be empty"),_(t.bytesFilled>0),_(t.bytesFilled<t.elementSize)),c}function Te(e,t,i){_(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===i),Ae(e),i.bytesFilled+=t}function ke(e){_("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?$(e._controlledReadableStream):ye(e)}function Ae(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Ee(e){for(_(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===Se(e,t)&&(Pe(e),we(e._controlledReadableStream,t))}}function Ne(e,t){var i=e._pendingPullIntos[0],n=e._controlledReadableStream;if("closed"===n._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=h(t.buffer),_(0===t.bytesFilled,"bytesFilled must be 0");var i=e._controlledReadableStream;if(!0===K(i))for(;X(i)>0;)we(i,Pe(e))}(e,i)}else _("readable"===n._state),function(e,t,i){if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range");if(Te(e,t,i),!(i.bytesFilled<i.elementSize)){Pe(e);var n=i.bytesFilled%i.elementSize;if(n>0){var a=i.byteOffset+i.bytesFilled,r=i.buffer.slice(a-n,a);Ce(e,r,0,r.byteLength)}i.buffer=h(i.buffer),i.bytesFilled-=n,we(e._controlledReadableStream,i),Ee(e)}}(e,t,i)}function Pe(e){var t=e._pendingPullIntos.shift();return Ae(e),t}function Re(e,t){var i=e._controlledReadableStream;_("readable"===i._state),_e(e),A(e),Y(i,t)}function Ie(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Le(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function De(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ue(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Oe(e,t){_(void 0!==e._closedPromise_resolve),_(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Me(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function Be(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Fe(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function je(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}},function(e,t,i){var n=i(6),a=i(4),r=i(2);t.TransformStream=n.TransformStream,t.ReadableStream=a.ReadableStream,t.IsReadableStreamDisturbed=a.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=a.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=a.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=a.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=a.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=r.AcquireWritableStreamDefaultWriter,t.IsWritableStream=r.IsWritableStream,t.IsWritableStreamLocked=r.IsWritableStreamLocked,t.WritableStream=r.WritableStream,t.WritableStreamAbort=r.WritableStreamAbort,t.WritableStreamDefaultControllerError=r.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=r.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=r.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=r.WritableStreamDefaultWriterWrite},function(e,t,i){var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),P()(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(1).assert,o=i(0),s=o.InvokeOrNoop,l=o.PromiseInvokeOrPerformFallback,c=o.PromiseInvokeOrNoop,d=o.typeIsObject,u=i(4),h=u.ReadableStream,p=u.ReadableStreamDefaultControllerClose,f=u.ReadableStreamDefaultControllerEnqueue,m=u.ReadableStreamDefaultControllerError,g=u.ReadableStreamDefaultControllerGetDesiredSize,v=i(2),b=v.WritableStream,y=v.WritableStreamDefaultControllerError;function _(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");var i=e._readableController;try{f(i,t)}catch(t){throw e._readableClosed=!0,C(e,t),e._storedError}!0===g(i)<=0&&!1===e._backpressure&&k(e,!0)}function w(e){r(!1===e._errored),r(!1===e._readableClosed);try{p(e._readableController)}catch(e){r(!1)}e._readableClosed=!0}function C(e,t){!1===e._errored&&S(e,t)}function S(e,t){r(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&y(e._writableController,t),!1===e._readableClosed&&m(e._readableController,t)}function T(e){return r(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure?x.a.resolve():(r(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function k(e,t){r(e._backpressure!==t,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(t),e._backpressureChangePromise=new x.a(function(t){e._backpressureChangePromise_resolve=t}),e._backpressureChangePromise.then(function(e){r(e!==t,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),e._backpressure=t}function A(e,t){return _(t._controlledTransformStream,e),x.a.resolve()}function E(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function N(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}var R=function(){function e(t,i){a(this,e),this._transformStream=t,this._startPromise=i}return n(e,[{key:"start",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return T(t)})}},{key:"write",value:function(e){return function(e,t){r(!1===e._errored),r(!1===e._transforming),r(!1===e._backpressure),e._transforming=!0;var i=e._transformer,n=e._transformStreamController;return l(i,"transform",[t,n],A,[t,n]).then(function(){return e._transforming=!1,T(e)},function(t){return C(e,t),x.a.reject(t)})}(this._transformStream,e)}},{key:"abort",value:function(){var e=this._transformStream;e._writableDone=!0,S(e,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var e=this._transformStream;return r(!1===e._transforming),e._writableDone=!0,c(e._transformer,"flush",[e._transformStreamController]).then(function(){return!0===e._errored?x.a.reject(e._storedError):(!1===e._readableClosed&&w(e),x.a.resolve())}).catch(function(t){return C(e,t),x.a.reject(e._storedError)})}}]),e}(),I=function(){function e(t,i){a(this,e),this._transformStream=t,this._startPromise=i}return n(e,[{key:"start",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return r(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===t._backpressure?x.a.resolve():(r(!1===t._backpressure,"_backpressure should have been initialized"),t._backpressureChangePromise)})}},{key:"pull",value:function(){var e=this._transformStream;return r(!0===e._backpressure,"pull() should be never called while _backpressure is false"),r(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),k(e,!1),e._backpressureChangePromise}},{key:"cancel",value:function(){var e=this._transformStream;e._readableClosed=!0,S(e,new TypeError("Readable side canceled"))}}]),e}(),L=function(){function e(t){if(a(this,e),!1===N(t))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==t._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=t}return n(e,[{key:"enqueue",value:function(e){if(!1===E(this))throw U("enqueue");_(this._controlledTransformStream,e)}},{key:"close",value:function(){if(!1===E(this))throw U("close");!function(e){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");w(e)}(this._controlledTransformStream)}},{key:"error",value:function(e){if(!1===E(this))throw U("error");!function(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");S(e,t)}(this._controlledTransformStream,e)}},{key:"desiredSize",get:function(){if(!1===E(this))throw U("desiredSize");var e=this._controlledTransformStream._readableController;return g(e)}}]),e}(),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this._transformer=t;var i=t.readableStrategy,n=t.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new L(this);var o=void 0,l=new x.a(function(e){o=e}),c=new I(this,l);this._readable=new h(c,i);var d=new R(this,l);this._writable=new b(d,n),r(void 0!==this._writableController),r(void 0!==this._readableController),k(this,g(this._readableController)<=0);var u=this,p=s(t,"start",[u._transformStreamController]);o(p),l.catch(function(e){!1===u._errored&&(u._errored=!0,u._storedError=e)})}return n(e,[{key:"readable",get:function(){if(!1===N(this))throw O("readable");return this._readable}},{key:"writable",get:function(){if(!1===N(this))throw O("writable");return this._writable}}]),e}();function U(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function O(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.exports={TransformStream:D}},function(e,t,i){e.exports=i(5)}]))},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=i(0),a=i(13),r=i(7),o=16,s={get value(){return(0,n.shadow)(s,"value",(0,n.isLittleEndian)())}};function l(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],i=e[1],n=e[2],a=e[3],r=e[4],o=e[5],s=t*a-i*n,l=i*n-t*a;return[a/s,i/l,n/l,t/s,(a*r-n*o)/l,(i*r-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var i=this._transformMatrix;i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this._originalTranslate(e,t)},e.scale=function(e,t){var i=this._transformMatrix;i[0]=i[0]*e,i[1]=i[1]*e,i[2]=i[2]*t,i[3]=i[3]*t,this._originalScale(e,t)},e.transform=function(t,i,n,a,r,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*i,s[1]*t+s[3]*i,s[0]*n+s[2]*a,s[1]*n+s[3]*a,s[0]*r+s[2]*o+s[4],s[1]*r+s[3]*o+s[5]],e._originalTransform(t,i,n,a,r,o)},e.setTransform=function(t,i,n,a,r,o){this._transformMatrix=[t,i,n,a,r,o],e._originalSetTransform(t,i,n,a,r,o)},e.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*i,n[1]*t+n[3]*i,n[0]*-i+n[2]*t,n[1]*-i+n[3]*t,n[4],n[5]],this._originalRotate(e)})}var c=function(){function e(e){this.canvasFactory=e,this.cache=S()(null)}return e.prototype={getCanvas:function(e,t,i,n){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,i),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,i),this.cache[e]=a),n&&l(a.context),a},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var d=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return S()(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),u=function(){function e(e,t,i,n,a){this.ctx=e,this.current=new d,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=n,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new c(this.canvasFactory),e&&l(e),this.cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var i,a,r,l,c,d=t.height,u=t.width,h=d%o,p=(d-h)/o,f=0===h?p:p+1,m=e.createImageData(u,o),g=0,v=t.data,b=m.data;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var y=v.byteLength,_=new Uint32Array(b.buffer,0,b.byteLength>>2),w=_.length,x=u+7>>3,C=4294967295,S=s.value?4278190080:255;for(a=0;a<f;a++){for(l=a<p?o:h,i=0,r=0;r<l;r++){for(var T=y-g,k=0,A=T>x?u:8*T-7,E=-8&A,N=0,P=0;k<E;k+=8)P=v[g++],_[i++]=128&P?C:S,_[i++]=64&P?C:S,_[i++]=32&P?C:S,_[i++]=16&P?C:S,_[i++]=8&P?C:S,_[i++]=4&P?C:S,_[i++]=2&P?C:S,_[i++]=1&P?C:S;for(;k<A;k++)0===N&&(P=v[g++],N=128),_[i++]=P&N?C:S,N>>=1}for(;i<w;)_[i++]=0;e.putImageData(m,0,a*o)}}else if(t.kind===n.ImageKind.RGBA_32BPP){for(r=0,c=u*o*4,a=0;a<p;a++)b.set(v.subarray(g,g+c)),g+=c,e.putImageData(m,0,r),r+=o;a<f&&(c=u*h*4,b.set(v.subarray(g,g+c)),e.putImageData(m,0,r))}else{if(t.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+t.kind);for(c=u*(l=o),a=0;a<f;a++){for(a>=p&&(c=u*(l=h)),i=0,r=c;r--;)b[i++]=v[g++],b[i++]=v[g++],b[i++]=v[g++],b[i++]=255;e.putImageData(m,0,a*o)}}}}function i(e,t){for(var i=t.height,n=t.width,a=i%o,r=(i-a)/o,s=0===a?r:r+1,l=e.createImageData(n,o),c=0,d=t.data,u=l.data,h=0;h<s;h++){for(var p=h<r?o:a,f=3,m=0;m<p;m++)for(var g=0,v=0;v<n;v++){if(!g){var b=d[c++];g=128}u[f]=b&g?0:255,f+=4,g>>=1}e.putImageData(l,0,h*o)}}function u(e,t){for(var i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,a=i.length;n<a;n++){var r=i[n];void 0!==e[r]&&(t[r]=e[r])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function h(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function p(e,t,i,n){for(var a=e.length,r=3;r<a;r+=4){var o=e[r];if(0===o)e[r-3]=t,e[r-2]=i,e[r-1]=n;else if(o<255){var s=255-o;e[r-3]=e[r-3]*o+t*s>>8,e[r-2]=e[r-2]*o+i*s>>8,e[r-1]=e[r-1]*o+n*s>>8}}}function f(e,t,i){for(var n=e.length,a=3;a<n;a+=4){var r=i?i[e[a]]:e[a];t[a]=t[a]*r*(1/255)|0}}function m(e,t,i){for(var n=e.length,a=3;a<n;a+=4){var r=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=i?t[a]*i[r>>8]>>8:t[a]*r>>16}}function g(e,t,i){var n=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&r.WebGLUtils.isEnabled){var s=r.WebGLUtils.composeSMask(i.canvas,n,{subtype:t.subtype,backdrop:o});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,i,n,a,r,o){var s,l=!!r,c=l?r[0]:0,d=l?r[1]:0,u=l?r[2]:0;s="Luminosity"===a?m:f;for(var h=Math.min(n,Math.ceil(1048576/i)),g=0;g<n;g+=h){var v=Math.min(h,n-g),b=e.getImageData(0,g,i,v),y=t.getImageData(0,g,i,v);l&&p(b.data,c,d,u),s(b.data,y.data,o),e.putImageData(y,0,g)}}(a,i,n.width,n.height,t.subtype,o,t.transferMap),e.drawImage(n,0,0)}var v=["butt","round","square"],b=["miter","round","bevel"],y={},_={};for(var w in e.prototype={beginDrawing:function(e){var t=e.transform,i=e.viewport,n=e.transparency,a=e.background,r=void 0===a?null:a,o=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=r||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,o,s),this.ctx.restore(),n){var l=this.cachedCanvases.getCanvas("transparent",o,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),h(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,i.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,i,a){var r=e.argsArray,o=e.fnArray,s=t||0,l=r.length;if(l===s)return s;for(var c,d=l-s>10&&"function"==typeof i,u=d?Date.now()+15:0,h=0,p=this.commonObjs,f=this.objs;;){if(void 0!==a&&s===a.nextBreakPoint)return a.breakIt(s,i),s;if((c=o[s])!==n.OPS.dependency)this[c].apply(this,r[s]);else for(var m=r[s],g=0,v=m.length;g<v;g++){var b=m[g],y="g"===b[0]&&"_"===b[1]?p:f;if(!y.isResolved(b))return y.get(b,i),s}if(++s===l)return s;if(d&&++h>10){if(Date.now()>u)return i(),s;h=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),r.WebGLUtils.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=v[e]},setLineJoin:function(e){this.ctx.lineJoin=b[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t],a=n[0],r=n[1];switch(a){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=r?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,i=e.canvas.height,n="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(n,t,i,!0),r=this.ctx,o=r.mozCurrentTransform;this.ctx.save();var s=a.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,o),e.startTransformInverse=s.mozCurrentTransformInverse,u(r,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,e),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e;var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,e),this.ctx.restore(),u(e,this.ctx);var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(e,t,i,n,a,r){this.ctx.transform(e,t,i,n,a,r),this.cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var i=this.ctx,a=this.current,r=a.x,o=a.y,s=0,l=0,c=e.length;s<c;s++)switch(0|e[s]){case n.OPS.rectangle:r=t[l++],o=t[l++];var d=t[l++],u=t[l++];0===d&&(d=this.getSinglePixelWidth()),0===u&&(u=this.getSinglePixelWidth());var h=r+d,p=o+u;this.ctx.moveTo(r,o),this.ctx.lineTo(h,o),this.ctx.lineTo(h,p),this.ctx.lineTo(r,p),this.ctx.lineTo(r,o),this.ctx.closePath();break;case n.OPS.moveTo:r=t[l++],o=t[l++],i.moveTo(r,o);break;case n.OPS.lineTo:r=t[l++],o=t[l++],i.lineTo(r,o);break;case n.OPS.curveTo:r=t[l+4],o=t[l+5],i.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],r,o),l+=6;break;case n.OPS.curveTo2:i.bezierCurveTo(r,o,t[l],t[l+1],t[l+2],t[l+3]),r=t[l+2],o=t[l+3],l+=4;break;case n.OPS.curveTo3:r=t[l+2],o=t[l+3],i.bezierCurveTo(t[l],t[l+1],r,o,r,o),l+=4;break;case n.OPS.closePath:i.closePath()}a.setCurrentPoint(r,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,i=this.current.strokeColor;t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,i&&i.hasOwnProperty("type")&&"Pattern"===i.type?(t.save(),t.strokeStyle=i.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,i=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=i.getPattern(t,this),n=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=y},eoClip:function(){this.pendingClip=_},beginText:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var i=0;i<e.length;i++){var n=e[i];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var i=this.commonObjs.get(e),a=this.current;if(!i)throw new Error("Can't find font for "+e);if(a.fontMatrix=i.fontMatrix?i.fontMatrix:n.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=t,!i.isType3Font){var r=i.loadedName||"sans-serif",o=i.black?"900":i.bold?"bold":"normal",s=i.italic?"italic":"normal",l='"'+r+'", '+i.fallbackName,c=t<16?16:t>100?100:t;this.current.fontSizeScale=t/c;var d=s+" "+o+" "+c+"px "+l;this.ctx.font=d}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,i,n,a,r){this.current.textMatrix=[e,t,i,n,a,r],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,i){var a,r=this.ctx,o=this.current,s=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,d=l&n.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG);((s.disableFontFace||u)&&(a=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace?(r.save(),r.translate(t,i),r.beginPath(),a(r,c),d!==n.TextRenderingMode.FILL&&d!==n.TextRenderingMode.FILL_STROKE||r.fill(),d!==n.TextRenderingMode.STROKE&&d!==n.TextRenderingMode.FILL_STROKE||r.stroke(),r.restore()):(d!==n.TextRenderingMode.FILL&&d!==n.TextRenderingMode.FILL_STROKE||r.fillText(e,t,i),d!==n.TextRenderingMode.STROKE&&d!==n.TextRenderingMode.FILL_STROKE||r.strokeText(e,t,i)),u)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:r.mozCurrentTransform,x:t,y:i,fontSize:c,addToPath:a})},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,i=!1,a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){i=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",i)},showText:function(e){var t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);var a=t.fontSize;if(0!==a){var r=this.ctx,o=t.fontSizeScale,s=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,u=e.length,h=i.vertical,p=h?1:-1,f=i.defaultVMetrics,m=a*t.fontMatrix[0],g=t.textRenderingMode===n.TextRenderingMode.FILL&&!i.disableFontFace;r.save(),r.transform.apply(r,t.textMatrix),r.translate(t.x,t.y+t.textRise),t.patternFill&&(r.fillStyle=t.fillColor.getPattern(r,this)),c>0?r.scale(d,-1):r.scale(d,1);var v=t.lineWidth,b=t.textMatrixScale;if(0===b||0===v){var y=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;y!==n.TextRenderingMode.STROKE&&y!==n.TextRenderingMode.FILL_STROKE||(this.cachedGetSinglePixelWidth=null,v=.65*this.getSinglePixelWidth())}else v/=b;1!==o&&(r.scale(o,o),v/=o),r.lineWidth=v;var _,w=0;for(_=0;_<u;++_){var x=e[_];if((0,n.isNum)(x))w+=p*x*a/1e3;else{var C,S,T,k,A,E,N,P=!1,R=(x.isSpace?l:0)+s,I=x.fontChar,L=x.accent,D=x.width;if(h)A=x.vmetric||f,E=-(E=x.vmetric?A[1]:.5*D)*m,N=A[2]*m,D=A?-A[0]:D,C=E/o,S=(w+N)/o;else C=w/o,S=0;if(i.remeasure&&D>0){var U=1e3*r.measureText(I).width/a*o;if(D<U&&this.isFontSubpixelAAEnabled){var O=D/U;P=!0,r.save(),r.scale(O,1),C/=O}else D!==U&&(C+=(D-U)/2e3*a/o)}(x.isInFont||i.missingFile)&&(g&&!L?r.fillText(I,C,S):(this.paintChar(I,C,S),L&&(T=C+L.offset.x/o,k=S-L.offset.y/o,this.paintChar(L.fontChar,T,k)))),w+=D*m+R*c,P&&r.restore()}}h?t.y-=w*d:t.x+=w*d,r.restore()}},showType3Text:function(e){var t,i,a,r,o=this.ctx,s=this.current,l=s.font,c=s.fontSize,d=s.fontDirection,u=l.vertical?1:-1,h=s.charSpacing,p=s.wordSpacing,f=s.textHScale*d,m=s.fontMatrix||n.FONT_IDENTITY_MATRIX,g=e.length;if(!(s.textRenderingMode===n.TextRenderingMode.INVISIBLE)&&0!==c){for(this.cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(f,d),t=0;t<g;++t)if(i=e[t],(0,n.isNum)(i))r=u*i*c/1e3,this.ctx.translate(r,0),s.x+=r*f;else{var v=(i.isSpace?p:0)+h,b=l.charProcOperatorList[i.operatorListId];if(b)this.processingType3=i,this.save(),o.scale(c,c),o.transform.apply(o,m),this.executeOperatorList(b),this.restore(),a=n.Util.applyTransform([i.width,0],m)[0]*c+v,o.translate(a,0),s.x+=a*f;else(0,n.warn)('Type3 character "'+i.operatorListId+'" is not available.')}o.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,i,n,a,r){this.ctx.rect(i,n,a-i,r-n),this.clip(),this.endPath()},getColorN_Pattern:function(t){var i,n=this;if("TilingPattern"===t[0]){var r=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(t){return new e(t,n.commonObjs,n.objs,n.canvasFactory)}};i=new a.TilingPattern(t,r,this.ctx,s,o)}else i=(0,a.getShadingPatternFromIR)(t);return i},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,i){var a=n.Util.makeCssRgb(e,t,i);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(e,t,i){var a=n.Util.makeCssRgb(e,t,i);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var i=(0,a.getShadingPatternFromIR)(e);t.fillStyle=i.getPattern(t,this,!0);var r=t.mozCurrentTransformInverse;if(r){var o=t.canvas,s=o.width,l=o.height,c=n.Util.applyTransform([0,0],r),d=n.Util.applyTransform([0,l],r),u=n.Util.applyTransform([s,0],r),h=n.Util.applyTransform([s,l],r),p=Math.min(c[0],d[0],u[0],h[0]),f=Math.min(c[1],d[1],u[1],h[1]),m=Math.max(c[0],d[0],u[0],h[0]),g=Math.max(c[1],d[1],u[1],h[1]);this.ctx.fillRect(p,f,m-p,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){throw new Error("Should not call beginInlineImage")},beginImageData:function(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),(0,n.isArray)(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,(0,n.isArray)(t)&&4===t.length){var i=t[2]-t[0],a=t[3]-t[1];this.ctx.rect(t[0],t[1],i,a),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,n.info)("TODO: Support non-isolated groups."),e.knockout&&(0,n.warn)("Knockout groups not supported.");var i=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var a=n.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),r=[0,0,t.canvas.width,t.canvas.height];a=n.Util.intersect(a,r)||[0,0,0,0];var o=Math.floor(a[0]),s=Math.floor(a[1]),l=Math.max(Math.ceil(a[2])-o,1),c=Math.max(Math.ceil(a[3])-s,1),d=1,h=1;l>4096&&(d=l/4096,l=4096),c>4096&&(h=c/4096,c=4096);var p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(p,l,c,!0),m=f.context;m.scale(1/d,1/h),m.translate(-o,-s),m.transform.apply(m,i),e.smask?this.smaskStack.push({canvas:f.canvas,context:m,offsetX:o,offsetY:s,scaleX:d,scaleY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,s),t.scale(d,h)),u(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,i){if(this.save(),h(this.ctx),this.current=new d,(0,n.isArray)(e)&&4===e.length){var a=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],a,r),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,i)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,i){var a=this.objs.get(e);if(a){this.save();var r=this.ctx;if(r.scale(1/t,-1/i),r.drawImage(a,0,0,a.width,a.height,0,-i,t,i),this.imageLayer){var o=r.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:s[0],top:s[1],width:t/o[0],height:i/o[3]})}this.restore()}else(0,n.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,a=e.height,r=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=n<=1e3&&a<=1e3?function(e){var t,i,n,a,r=e.width,o=e.height,s=r+1,l=new Uint8Array(s*(o+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=r+7&-8,u=e.data,h=new Uint8Array(d*o),p=0;for(t=0,a=u.length;t<a;t++)for(var f=128,m=u[t];f>0;)h[p++]=m&f?0:255,f>>=1;var g=0;for(0!==h[p=0]&&(l[0]=1,++g),i=1;i<r;i++)h[p]!==h[p+1]&&(l[i]=h[p]?2:1,++g),p++;for(0!==h[p]&&(l[i]=2,++g),t=1;t<o;t++){n=t*s,h[(p=t*d)-d]!==h[p]&&(l[n]=h[p]?1:8,++g);var v=(h[p]?4:0)+(h[p-d]?8:0);for(i=1;i<r;i++)c[v=(v>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0)]&&(l[n+i]=c[v],++g),p++;if(h[p-d]!==h[p]&&(l[n+i]=h[p]?2:4,++g),g>1e3)return null}for(n=t*s,0!==h[p=d*(o-1)]&&(l[n]=8,++g),i=1;i<r;i++)h[p]!==h[p+1]&&(l[n+i]=h[p]?4:8,++g),p++;if(0!==h[p]&&(l[n+i]=4,++g),g>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=[];for(t=0;g&&t<=o;t++){for(var _=t*s,w=_+r;_<w&&!l[_];)_++;if(_!==w){var x,C=[_%s,t],S=l[_],T=_;do{var k=b[S];do{_+=k}while(!l[_]);5!==(x=l[_])&&10!==x?(S=x,l[_]=0):(S=x&51*S>>4,l[_]&=S>>2|S<<2),C.push(_%s),C.push(_/s|0),--g}while(T!==_);y.push(C),--t}}return function(e){e.save(),e.scale(1/r,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,i=y.length;t<i;t++){var n=y[t];e.moveTo(n[0],n[1]);for(var a=2,s=n.length;a<s;a+=2)e.lineTo(n[a],n[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:n,height:a}):null),s&&s.compiled)s.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",n,a),c=l.context;c.save(),i(c,e),c.globalCompositeOperation="source-in",c.fillStyle=o?r.getPattern(c,this):r,c.fillRect(0,0,n,a),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,n,a){var r=e.width,o=e.height,s=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",r,o),d=c.context;d.save(),i(d,e),d.globalCompositeOperation="source-in",d.fillStyle=l?s.getPattern(d,this):s,d.fillRect(0,0,r,o),d.restore();for(var u=this.ctx,h=0,p=a.length;h<p;h+=2)u.save(),u.transform(t,0,0,n,a[h],a[h+1]),u.scale(1,-1),u.drawImage(c.canvas,0,0,r,o,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=this.current.fillColor,a=this.current.patternFill,r=0,o=e.length;r<o;r++){var s=e[r],l=s.width,c=s.height,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),u=d.context;u.save(),i(u,s),u.globalCompositeOperation="source-in",u.fillStyle=a?n.getPattern(u,this):n,u.fillRect(0,0,l,c),u.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(d.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,i,a){var r=this.objs.get(e);if(r){for(var o=r.width,s=r.height,l=[],c=0,d=a.length;c<d;c+=2)l.push({transform:[t,0,0,i,a[c],a[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(r,l)}else(0,n.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var i=e.width,n=e.height,a=this.ctx;this.save(),a.scale(1/i,-1/n);var r,o,s=a.mozCurrentTransformInverse,l=s[0],c=s[1],d=Math.max(Math.sqrt(l*l+c*c),1),u=s[2],h=s[3],p=Math.max(Math.sqrt(u*u+h*h),1);if(e instanceof HTMLElement||!e.data)r=e;else{var f=(o=this.cachedCanvases.getCanvas("inlineImage",i,n)).context;t(f,e),r=o.canvas}for(var m=i,g=n,v="prescale1";d>2&&m>1||p>2&&g>1;){var b=m,y=g;d>2&&m>1&&(d/=m/(b=Math.ceil(m/2))),p>2&&g>1&&(p/=g/(y=Math.ceil(g/2))),(f=(o=this.cachedCanvases.getCanvas(v,b,y)).context).clearRect(0,0,b,y),f.drawImage(r,0,0,m,g,0,0,b,y),r=o.canvas,m=b,g=y,v="prescale1"===v?"prescale2":"prescale1"}if(a.drawImage(r,0,0,m,g,0,-n,i,n),this.imageLayer){var _=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:i/s[0],height:n/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,i){var n=this.ctx,a=e.width,r=e.height,o=this.cachedCanvases.getCanvas("inlineImage",a,r);t(o.context,e);for(var s=0,l=i.length;s<l;s++){var c=i[s];if(n.save(),n.transform.apply(n,c.transform),n.scale(1,-1),n.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var d=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:d[0],top:d[1],width:a,height:r})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===_?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var t=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var i=this.ctx.mozCurrentTransform;return[i[0]*e+i[2]*t+i[4],i[1]*e+i[3]*t+i[5]]}},n.OPS)e.prototype[n.OPS[w]]=e.prototype[w];return e}();t.CanvasGraphics=u},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=i(0);function a(e){this.docId=e,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}a.prototype={insertRule:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(t));var i=t.sheet;i.insertRule(e,i.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0}};Object.defineProperty(a.prototype,"loadTestFont",{get:function(){return(0,n.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},configurable:!0}),a.prototype.addNativeFontFace=function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},a.prototype.bind=function(e,t){for(var i=[],r=[],o=[],s=function(e){return e.loaded.catch(function(t){(0,n.warn)('Failed to load font "'+e.family+'": '+t)})},l=a.isFontLoadingAPISupported&&!a.isSyncFontLoadingSupported,c=0,d=e.length;c<d;c++){var u=e[c];if(!u.attached&&!1!==u.loading)if(u.attached=!0,l){var h=u.createNativeFontFace();h&&(this.addNativeFontFace(h),o.push(s(h)))}else{var p=u.createFontFaceRule();p&&(this.insertRule(p),i.push(p),r.push(u))}}var f=this.queueLoadingCallback(t);l?x.a.all(o).then(function(){f.complete()}):i.length>0&&!a.isSyncFontLoadingSupported?this.prepareFontLoadEvent(i,r,f):f.complete()},a.prototype.queueLoadingCallback=function(e){var t=this.loadingContext,i={id:"pdfjs-font-loading-"+t.nextRequestId++,complete:function(){for((0,n.assert)(!i.end,"completeRequest() cannot be called twice"),i.end=Date.now();t.requests.length>0&&t.requests[0].end;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e,started:Date.now()};return t.requests.push(i),i},a.prototype.prepareFontLoadEvent=function(e,t,i){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,i,n){return e.substr(0,t)+n+e.substr(t+i)}var o,s,l=document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d"),d=0;var u="lt"+Date.now()+this.loadTestFontId++,h=this.loadTestFont,p=a(h=r(h,976,u.length,u),16);for(o=0,s=u.length-3;o<s;o+=4)p=p-1482184792+a(u,o)|0;o<u.length&&(p=p-1482184792+a(u+"XXX",o)|0),h=r(h,16,4,(0,n.string32)(p));var f='@font-face { font-family:"'+u+'";src:'+("url(data:font/opentype;base64,"+btoa(h)+");")+"}";this.insertRule(f);var m=[];for(o=0,s=t.length;o<s;o++)m.push(t[o].loadedName);m.push(u);var g=document.createElement("div");for(g.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),o=0,s=m.length;o<s;++o){var v=document.createElement("span");v.textContent="Hi",v.style.fontFamily=m[o],g.appendChild(v)}document.body.appendChild(g),function e(t,i){if(++d>30)return(0,n.warn)("Load test font never loaded."),void i();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?i():setTimeout(e.bind(null,t,i))}(u,function(){document.body.removeChild(g),i.complete()})},a.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;Object.defineProperty(a,"isSyncFontLoadingSupported",{get:function(){return(0,n.shadow)(a,"isSyncFontLoadingSupported",function(){if("undefined"==typeof navigator)return!0;var e=!1,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return t&&t[1]>=14&&(e=!0),e}())},enumerable:!0,configurable:!0});var r={get value(){return(0,n.shadow)(this,"value",(0,n.isEvalSupported)())}},o=function(){function e(e,t){for(var i in this.compiledGlyphs=S()(null),e)this[i]=e[i];this.options=t}return e.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=new FontFace(this.loadedName,this.data,{});return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this),e},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=(0,n.bytesToString)(new Uint8Array(this.data)),t=this.loadedName,i="url(data:"+this.mimetype+";base64,"+btoa(e)+");",a='@font-face { font-family:"'+t+'";src:'+i+"}";return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,i),a},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var i,n,a,o=e.get(this.loadedName+"_path_"+t);if(this.options.isEvalSupported&&r.value){var s,l="";for(n=0,a=o.length;n<a;n++)s=void 0!==(i=o[n]).args?i.args.join(","):"",l+="c."+i.cmd+"("+s+");\n";this.compiledGlyphs[t]=new Function("c","size",l)}else this.compiledGlyphs[t]=function(e,t){for(n=0,a=o.length;n<a;n++)"scale"===(i=o[n]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}return this.compiledGlyphs[t]}},e}();t.FontFaceObject=o,t.FontLoader=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.getShadingPatternFromIR=void 0;var n=i(0),a=i(7),r={RadialAxial:{fromIR:function(e){var t=e[1],i=e[2],n=e[3],a=e[4],r=e[5],o=e[6];return{type:"Pattern",getPattern:function(e){var s;"axial"===t?s=e.createLinearGradient(n[0],n[1],a[0],a[1]):"radial"===t&&(s=e.createRadialGradient(n[0],n[1],r,a[0],a[1],o));for(var l=0,c=i.length;l<c;++l){var d=i[l];s.addColorStop(d[0],d[1])}return s}}}}},o=function(){function e(e,t,i,n,a,r,o,s){var l,c=t.coords,d=t.colors,u=e.data,h=4*e.width;c[i+1]>c[n+1]&&(l=i,i=n,n=l,l=r,r=o,o=l),c[n+1]>c[a+1]&&(l=n,n=a,a=l,l=o,o=s,s=l),c[i+1]>c[n+1]&&(l=i,i=n,n=l,l=r,r=o,o=l);var p=(c[i]+t.offsetX)*t.scaleX,f=(c[i+1]+t.offsetY)*t.scaleY,m=(c[n]+t.offsetX)*t.scaleX,g=(c[n+1]+t.offsetY)*t.scaleY,v=(c[a]+t.offsetX)*t.scaleX,b=(c[a+1]+t.offsetY)*t.scaleY;if(!(f>=b))for(var y,_,w,x,C,S,T,k,A,E=d[r],N=d[r+1],P=d[r+2],R=d[o],I=d[o+1],L=d[o+2],D=d[s],U=d[s+1],O=d[s+2],M=Math.round(f),B=Math.round(b),F=M;F<=B;F++){F<g?(y=p-(p-m)*(A=F<f?0:f===g?1:(f-F)/(f-g)),_=E-(E-R)*A,w=N-(N-I)*A,x=P-(P-L)*A):(y=m-(m-v)*(A=F>b?1:g===b?0:(g-F)/(g-b)),_=R-(R-D)*A,w=I-(I-U)*A,x=L-(L-O)*A),C=p-(p-v)*(A=F<f?0:F>b?1:(f-F)/(f-b)),S=E-(E-D)*A,T=N-(N-U)*A,k=P-(P-O)*A;for(var j=Math.round(Math.min(y,C)),H=Math.round(Math.max(y,C)),W=h*F+4*j,q=j;q<=H;q++)A=(A=(y-q)/(y-C))<0?0:A>1?1:A,u[W++]=_-(_-S)*A|0,u[W++]=w-(w-T)*A|0,u[W++]=x-(x-k)*A|0,u[W++]=255}}function t(t,i,n){var a,r,o=i.coords,s=i.colors;switch(i.type){case"lattice":var l=i.verticesPerRow,c=Math.floor(o.length/l)-1,d=l-1;for(a=0;a<c;a++)for(var u=a*l,h=0;h<d;h++,u++)e(t,n,o[u],o[u+1],o[u+l],s[u],s[u+1],s[u+l]),e(t,n,o[u+l+1],o[u+1],o[u+l],s[u+l+1],s[u+1],s[u+l]);break;case"triangles":for(a=0,r=o.length;a<r;a+=3)e(t,n,o[a],o[a+1],o[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}return function(e,i,n,r,o,s,l){var c,d,u,h,p=Math.floor(e[0]),f=Math.floor(e[1]),m=Math.ceil(e[2])-p,g=Math.ceil(e[3])-f,v=Math.min(Math.ceil(Math.abs(m*i[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*i[1]*1.1)),3e3),y=m/v,_=g/b,w={coords:n,colors:r,offsetX:-p,offsetY:-f,scaleX:1/y,scaleY:1/_},x=v+4,C=b+4;if(a.WebGLUtils.isEnabled)c=a.WebGLUtils.drawFigures(v,b,s,o,w),(d=l.getCanvas("mesh",x,C,!1)).context.drawImage(c,2,2),c=d.canvas;else{var S=(d=l.getCanvas("mesh",x,C,!1)).context,T=S.createImageData(v,b);if(s){var k=T.data;for(u=0,h=k.length;u<h;u+=4)k[u]=s[0],k[u+1]=s[1],k[u+2]=s[2],k[u+3]=255}for(u=0;u<o.length;u++)t(T,o[u],w);S.putImageData(T,2,2),c=d.canvas}return{canvas:c,offsetX:p-2*y,offsetY:f-2*_,scaleX:y,scaleY:_}}}();r.Mesh={fromIR:function(e){var t=e[2],i=e[3],a=e[4],r=e[5],s=e[6],l=e[8];return{type:"Pattern",getPattern:function(e,c,d){var u;if(d)u=n.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(u=n.Util.singularValueDecompose2dScale(c.baseTransform),s){var h=n.Util.singularValueDecompose2dScale(s);u=[u[0]*h[0],u[1]*h[1]]}var p=o(r,u,t,i,a,d?null:l,c.cachedCanvases);return d||(e.setTransform.apply(e,c.baseTransform),s&&e.transform.apply(e,s)),e.translate(p.offsetX,p.offsetY),e.scale(p.scaleX,p.scaleY),e.createPattern(p.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){var e=1,t=2;function i(e,t,i,n,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=a,this.type="Pattern",this.ctx=i}return i.prototype={createPatternCanvas:function(e){var t=this.operatorList,i=this.bbox,a=this.xstep,r=this.ystep,o=this.paintType,s=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+s);var d=i[0],u=i[1],h=i[2],p=i[3],f=[d,u],m=[d+a,u+r],g=m[0]-f[0],v=m[1]-f[1],b=n.Util.singularValueDecompose2dScale(this.matrix),y=n.Util.singularValueDecompose2dScale(this.baseTransform),_=[b[0]*y[0],b[1]*y[1]];g=Math.min(Math.ceil(Math.abs(g*_[0])),3e3),v=Math.min(Math.ceil(Math.abs(v*_[1])),3e3);var w=e.cachedCanvases.getCanvas("pattern",g,v,!0),x=w.context,C=c.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(x,o,l),this.setScale(g,v,a,r),this.transformToScale(C);var S=[1,0,0,1,-f[0],-f[1]];return C.transform.apply(C,S),this.clipBbox(C,i,d,u,h,p),C.executeOperatorList(t),w.canvas},setScale:function(e,t,i,n){this.scale=[e/i,t/n]},transformToScale:function(e){var t=this.scale,i=[t[0],0,0,t[1],0,0];e.transform.apply(e,i)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,i,a,r,o){if((0,n.isArray)(t)&&4===t.length){var s=r-i,l=o-a;e.ctx.rect(i,a,s,l),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(i,a,r){switch(a){case e:var o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle;break;case t:var s=n.Util.makeCssRgb(r[0],r[1],r[2]);i.fillStyle=s,i.strokeStyle=s;break;default:throw new n.FormatError("Unsupported paint type: "+a)}},getPattern:function(e,t){var i=this.createPatternCanvas(t);return(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(i,"repeat")}},i}();t.getShadingPatternFromIR=function(e){var t=r[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=i(0),a=function(){function e(e,t){var i=this;(0,n.assert)(t),this._queuedChunks=[];var a=e.initialData;if(a&&a.length>0){var r=new Uint8Array(a).buffer;this._queuedChunks.push(r)}this._pdfDataRangeTransport=t,this._isRangeSupported=!e.disableRange,this._isStreamingSupported=!e.disableStream,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){i._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e){i._onProgress({loaded:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){i._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.transportReady()}function t(e,t){this._stream=e,this._done=!1,this._queuedChunks=t||[],this._requests=[],this._headersReady=x.a.resolve(),e._fullRequestReader=this,this.onProgress=null}function i(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return e.prototype={_onReceiveData:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var i=this._rangeReaders.some(function(i){return i._begin===e.begin&&(i._enqueue(t),!0)});(0,n.assert)(i)}},_onProgress:function(e){if(this._rangeReaders.length>0){var t=this._rangeReaders[0];t.onProgress&&t.onProgress({loaded:e.loaded})}},_removeRangeReader:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)},getFullReader:function(){(0,n.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new t(this,e)},getRangeReader:function(e,t){var n=new i(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach(function(t){t.cancel(e)}),this._pdfDataRangeTransport.abort()}},t.prototype={_enqueue:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(this._queuedChunks.length>0){var e=this._queuedChunks.shift();return x.a.resolve({value:e,done:!1})}if(this._done)return x.a.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},i.prototype={_enqueue:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,x.a.resolve({value:e,done:!1})}if(this._done)return x.a.resolve({value:void 0,done:!0});var t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},e}();t.PDFDataTransportStream=a},function(e,t,i){var n=i(0),a=i(8),r=i(2),o=i(5),s=i(3),l=i(1),c=i(4);i(9),t.PDFJS=a.PDFJS,t.build=r.build,t.version=r.version,t.getDocument=r.getDocument,t.LoopbackPort=r.LoopbackPort,t.PDFDataRangeTransport=r.PDFDataRangeTransport,t.PDFWorker=r.PDFWorker,t.renderTextLayer=o.renderTextLayer,t.AnnotationLayer=s.AnnotationLayer,t.CustomStyle=l.CustomStyle,t.createPromiseCapability=n.createPromiseCapability,t.PasswordResponses=n.PasswordResponses,t.InvalidPDFException=n.InvalidPDFException,t.MissingPDFException=n.MissingPDFException,t.SVGGraphics=c.SVGGraphics,t.NativeImageDecoding=n.NativeImageDecoding,t.UnexpectedResponseException=n.UnexpectedResponseException,t.OPS=n.OPS,t.UNSUPPORTED_FEATURES=n.UNSUPPORTED_FEATURES,t.isValidUrl=l.isValidUrl,t.createValidAbsoluteUrl=n.createValidAbsoluteUrl,t.createObjectURL=n.createObjectURL,t.removeNullCharacters=n.removeNullCharacters,t.shadow=n.shadow,t.createBlob=n.createBlob,t.RenderingCancelledException=l.RenderingCancelledException,t.getFilenameFromUrl=l.getFilenameFromUrl,t.addLinkAttributes=l.addLinkAttributes,t.StatTimer=n.StatTimer},function(t,i,n){var a="function"==typeof E.a&&"symbol"===I()(k.a)?function(e){return void 0===e?"undefined":I()(e)}:function(e){return e&&"function"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?"symbol":void 0===e?"undefined":I()(e)};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var r="undefined"!=typeof window&&window.Math===Math?window:void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:{},o="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Android/.test(o),c=/Android\s[0-2][^\d]/.test(o),u=/Android\s[0-4][^\d]/.test(o),h=o.indexOf("Chrom")>=0,p=/Chrome\/(39|40)\./.test(o),f=o.indexOf("CriOS")>=0,m=o.indexOf("Trident")>=0,g=/\b(iPad|iPhone|iPod)(?=;)/.test(o),v=o.indexOf("Opera")>=0,y=/Safari\//.test(o)&&!/(Chrome\/|Android\s)/.test(o),_="object"===("undefined"==typeof window?"undefined":a(window))&&"object"===("undefined"==typeof document?"undefined":a(document));"undefined"==typeof PDFJS&&(r.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){if("undefined"!=typeof Uint8Array)return void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),void("undefined"==typeof Float64Array&&(r.Float64Array=Float32Array));function e(e,t){return new s(this.slice(e,t))}function t(e,t){arguments.length<2&&(t=0);for(var i=0,n=e.length;i<n;++i,++t)this[t]=255&e[i]}function i(e,t){this.buffer=e,this.byteLength=e.length,this.length=t,function(e){for(;n<e;)P()(i.prototype,n,o(n)),n++}(this.length)}i.prototype=S()(null);var n=0;function o(e){return{get:function(){var t=this.buffer,i=e<<2;return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0},set:function(t){var i=this.buffer,n=e<<2;i[n]=255&t,i[n+1]=t>>8&255,i[n+2]=t>>16&255,i[n+3]=t>>>24&255}}}function s(i){var n,r,o;if("number"==typeof i)for(n=[],r=0;r<i;++r)n[r]=0;else if("slice"in i)n=i.slice(0);else for(n=[],r=0,o=i.length;r<o;++r)n[r]=i[r];return n.subarray=e,n.buffer=n,n.byteLength=n.length,n.set=t,"object"===(void 0===i?"undefined":a(i))&&i.buffer&&(n.buffer=i.buffer),n}r.Uint8Array=s,r.Int8Array=s,r.Int32Array=s,r.Uint16Array=s,r.Float32Array=s,r.Float64Array=s,r.Uint32Array=function(){if(3===arguments.length){if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new i(arguments[0],arguments[2])}return s.apply(this,arguments)}}(),function(){if(_&&window.CanvasPixelArray){var e=window.CanvasPixelArray.prototype;"buffer"in e||(Object.defineProperty(e,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),r.URL||(r.URL=r.webkitURL),function(){if(void 0!==P.a){var e=!0;try{_&&Object.defineProperty(new Image,"id",{value:"test"});var t=function(){};t.prototype={get id(){}},Object.defineProperty(new t,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(t){e=!1}if(e)return}Object.defineProperty=function(e,t,i){delete e[t],"get"in i&&e.__defineGetter__(t,i.get),"set"in i&&e.__defineSetter__(t,i.set),"value"in i&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=i.value)}}(),function(){if("undefined"!=typeof XMLHttpRequest){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest;"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(e){}}),"responseType"in t||(Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){"text"!==e&&"arraybuffer"!==e||(this._responseType=e,"arraybuffer"===e&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"==typeof VBArray?Object.defineProperty(e,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var e,t=this.responseText,i=t.length,n=new Uint8Array(i);for(e=0;e<i;++e)n[e]=255&t.charCodeAt(e);return n.buffer}}):Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}))}}(),function(){if(!("btoa"in r)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.btoa=function(t){var i,n,a="";for(i=0,n=t.length;i<n;i+=3){var r=255&t.charCodeAt(i),o=255&t.charCodeAt(i+1),s=255&t.charCodeAt(i+2),l=(3&r)<<4|o>>4,c=i+1<n?(15&o)<<2|s>>6:64,d=i+2<n?63&s:64;a+=e.charAt(r>>2)+e.charAt(l)+e.charAt(c)+e.charAt(d)}return a}}}(),function(){if(!("atob"in r)){r.atob=function(e){if((e=e.replace(/=+$/,"")).length%4==1)throw new Error("bad atob input");for(var t,i,n=0,a=0,r="";i=e.charAt(a++);~i&&(t=n%4?64*t+i:i,n++%4)?r+=String.fromCharCode(255&t>>(-2*n&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return r}}}(),void 0===Function.prototype.bind&&(Function.prototype.bind=function(e){var t=this,i=Array.prototype.slice.call(arguments,1);return function(){var n=i.concat(Array.prototype.slice.call(arguments));return t.apply(e,n)}}),_&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var e={},t=0,i=this.attributes.length;t<i;t++){var n=this.attributes[t];"data-"===n.name.substring(0,5)&&(e[n.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=n.value)}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})),function(){function e(e,t,i,n){var a=(e.className||"").split(/\s+/g);""===a[0]&&a.shift();var r=a.indexOf(t);return r<0&&i&&a.push(t),r>=0&&n&&a.splice(r,1),e.className=a.join(" "),r>=0}if(_&&!("classList"in document.createElement("div"))){var t={add:function(t){e(this.element,t,!0,!1)},contains:function(t){return e(this.element,t,!1,!1)},remove:function(t){e(this.element,t,!1,!0)},toggle:function(t){e(this.element,t,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=S()(t,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}}(),function(){if(!("undefined"==typeof importScripts||"console"in r)){var e={},t={log:function(){var e=Array.prototype.slice.call(arguments);r.postMessage({targetName:"main",action:"console_log",data:e})},error:function(){var e=Array.prototype.slice.call(arguments);r.postMessage({targetName:"main",action:"console_error",data:e})},time:function(t){e[t]=Date.now()},timeEnd:function(t){var i=e[t];if(!i)throw new Error("Unknown timer name "+t);this.log("Timer:",t,Date.now()-i)}};r.console=t}}(),function(){var e;if(_){if("console"in window)return"bind"in console.log?void 0:(console.log=(e=console.log,function(t){return e(t)}),console.error=function(e){return function(t){return e(t)}}(console.error),void(console.warn=function(e){return function(t){return e(t)}}(console.warn)));window.console={log:function(){},error:function(){},warn:function(){}}}}(),function(){v&&document.addEventListener("click",function(e){(function e(t){return t.disabled||t.parentNode&&e(t.parentNode)})(e.target)&&e.stopPropagation()},!0)}(),(m||f)&&(PDFJS.disableCreateObjectURL=!0),"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")),(y||c||p||g)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0),_&&(history.pushState&&!c||(PDFJS.disableHistory=!0)),function(){if(_)if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,i=this.length;t<i;t++)this[t]=e[t]});else{var e,t=!1;if(h?t=(e=o.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(e[2])<21:s?t=u:y&&(t=(e=o.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(e[1])<6),t){var i=window.CanvasRenderingContext2D.prototype,n=i.createImageData;i.createImageData=function(e,t){var i=n.call(this,e,t);return i.data.set=function(e){for(var t=0,i=this.length;t<i;t++)this[t]=e[t]},i},i=null}}}(),function(){function e(){window.requestAnimationFrame=function(e){return window.setTimeout(e,20)},window.cancelAnimationFrame=function(e){window.clearTimeout(e)}}_&&(g?e():"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||e()))}(),(g||s)&&(PDFJS.maxCanvasPixels=5242880),_&&m&&window.parent!==window&&(PDFJS.disableFullscreen=!0),_&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},enumerable:!0,configurable:!0})),function(){if(_){var e=document.createElement("input");try{e.type="number"}catch(n){var t=e.constructor.prototype,i=b()(t,"type");Object.defineProperty(t,"type",{get:function(){return i.get.call(this)},set:function(e){i.set.call(this,"number"===e?"text":e)},enumerable:!0,configurable:!0})}}}(),function(){if(_&&document.attachEvent){var e=document.constructor.prototype,t=b()(e,"readyState");Object.defineProperty(e,"readyState",{get:function(){var e=t.get.call(this);return"interactive"===e?"loading":e},set:function(e){t.set.call(this,e)},enumerable:!0,configurable:!0})}}(),_&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),d.a||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)}),l.a||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),function(){if(r.Promise)return"function"!=typeof r.Promise.all&&(r.Promise.all=function(e){var t,i,n=0,a=[],o=new r.Promise(function(e,n){t=e,i=n});return e.forEach(function(e,r){n++,e.then(function(e){a[r]=e,0===--n&&t(a)},i)}),0===n&&t(a),o}),"function"!=typeof r.Promise.resolve&&(r.Promise.resolve=function(e){return new r.Promise(function(t){t(e)})}),"function"!=typeof r.Promise.reject&&(r.Promise.reject=function(e){return new r.Promise(function(t,i){i(e)})}),void("function"!=typeof r.Promise.prototype.catch&&(r.Promise.prototype.catch=function(e){return r.Promise.prototype.then(void 0,e)}));var e=2,t={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var t=Date.now()+1;this.handlers.length>0;){var i=this.handlers.shift(),n=i.thisPromise._status,a=i.thisPromise._value;try{1===n?"function"==typeof i.onResolve&&(a=i.onResolve(a)):"function"==typeof i.onReject&&(a=i.onReject(a),n=1,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(t){n=e,a=t}if(i.nextPromise._updateStatus(n,a),Date.now()>=t)break}this.handlers.length>0?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){var e=this;this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){e.pendingRejectionCheck=!1;for(var t=Date.now(),i=0;i<e.unhandledRejections.length;i++)if(t-e.unhandledRejections[i].time>500){var n=e.unhandledRejections[i].promise._value,a="Unhandled rejection: "+n;n.stack&&(a+="\n"+n.stack);try{throw new Error(a)}catch(e){console.warn(a)}e.unhandledRejections.splice(i),i--}e.unhandledRejections.length&&e.scheduleRejectionCheck()},500))}},i=function(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}};i.all=function(t){var n,a,r=new i(function(e,t){n=e,a=t}),o=t.length,s=[];if(0===o)return n(s),r;function l(t){r._status!==e&&(s=[],a(t))}for(var c=0,d=t.length;c<d;++c){var u=t[c],h=function(t){return function(i){r._status!==e&&(s[t]=i,0===--o&&n(s))}}(c);i.isPromise(u)?u.then(h,l):h(u)}return r},i.isPromise=function(e){return e&&"function"==typeof e.then},i.resolve=function(e){return new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,i){i(e)})},i.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(n,a){1!==this._status&&this._status!==e&&(1===n&&i.isPromise(a)?a.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,e)):(this._status=n,this._value=a,n===e&&0===this._handlers.length&&(this._unhandledRejection=!0,t.addUnhandledRejection(this)),t.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(t){this._updateStatus(e,t)},then:function(e,n){var a=new i(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:a}),t.scheduleHandlers(this),a},catch:function(e){return this.then(void 0,e)}},r.Promise=i}(),function(){if(!r.WeakMap){var e=0;t.prototype={has:function(e){return("object"===(void 0===e?"undefined":a(e))||"function"==typeof e)&&null!==e&&!!b()(e,this.id)},get:function(e){return this.has(e)?e[this.id]:void 0},set:function(e,t){P()(e,this.id,{value:t,enumerable:!1,configurable:!0})},delete:function(e){delete e[this.id]}},r.WeakMap=t}function t(){this.id="$weakmap"+e++}}(),function(){var e=!1;try{if("function"==typeof URL&&"object"===a(URL.prototype)&&"origin"in URL.prototype){var t=new URL("b","http://a");t.pathname="c%20d",e="http://a/c%20d"===t.href}}catch(e){}if(!e){var i=S()(null);i.ftp=21,i.file=0,i.gopher=70,i.http=80,i.https=443,i.ws=80,i.wss=443;var n=S()(null);n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var o,s=/[a-zA-Z]/,l=/[a-zA-Z0-9\+\-\.]/;v.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){g.call(this),m.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||m.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&m.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&m.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&m.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],m.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"===e[0]&&(e=e.slice(1)),m.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"===e[0]&&(e=e.slice(1)),m.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new v(this._schemeData).origin||"null"}catch(e){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var c=r.URL;c&&(v.createObjectURL=function(e){return c.createObjectURL.apply(c,arguments)},v.revokeObjectURL=function(e){c.revokeObjectURL(e)}),r.URL=v}function d(e){return void 0!==i[e]}function u(){g.call(this),this._isInvalid=!0}function h(e){return""===e&&u.call(this),e.toLowerCase()}function p(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function f(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function m(e,t,a){function r(e){y.push(e)}var c=t||"scheme start",m=0,g="",v=!1,b=!1,y=[];e:for(;(e[m-1]!==o||0===m)&&!this._isInvalid;){var _=e[m];switch(c){case"scheme start":if(!_||!s.test(_)){if(t){r("Invalid scheme.");break e}g="",c="no scheme";continue}g+=_.toLowerCase(),c="scheme";break;case"scheme":if(_&&l.test(_))g+=_.toLowerCase();else{if(":"!==_){if(t){if(_===o)break e;r("Code point not allowed in scheme: "+_);break e}g="",m=0,c="no scheme";continue}if(this._scheme=g,g="",t)break e;d(this._scheme)&&(this._isRelative=!0),c="file"===this._scheme?"relative":this._isRelative&&a&&a._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===_?(this._query="?",c="query"):"#"===_?(this._fragment="#",c="fragment"):_!==o&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._schemeData+=p(_));break;case"no scheme":if(a&&d(a._scheme)){c="relative";continue}r("Missing scheme."),u.call(this);break;case"relative or authority":if("/"!==_||"/"!==e[m+1]){r("Expected /, got: "+_),c="relative";continue}c="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=a._scheme),_===o){this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query=a._query,this._username=a._username,this._password=a._password;break e}if("/"===_||"\\"===_)"\\"===_&&r("\\ is an invalid code point."),c="relative slash";else if("?"===_)this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query="?",this._username=a._username,this._password=a._password,c="query";else{if("#"!==_){var w=e[m+1],x=e[m+2];("file"!==this._scheme||!s.test(_)||":"!==w&&"|"!==w||x!==o&&"/"!==x&&"\\"!==x&&"?"!==x&&"#"!==x)&&(this._host=a._host,this._port=a._port,this._username=a._username,this._password=a._password,this._path=a._path.slice(),this._path.pop()),c="relative path";continue}this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query=a._query,this._fragment="#",this._username=a._username,this._password=a._password,c="fragment"}break;case"relative slash":if("/"!==_&&"\\"!==_){"file"!==this._scheme&&(this._host=a._host,this._port=a._port,this._username=a._username,this._password=a._password),c="relative path";continue}"\\"===_&&r("\\ is an invalid code point."),c="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==_){r("Expected '/', got: "+_),c="authority ignore slashes";continue}c="authority second slash";break;case"authority second slash":if(c="authority ignore slashes","/"!==_){r("Expected '/', got: "+_);continue}break;case"authority ignore slashes":if("/"!==_&&"\\"!==_){c="authority";continue}r("Expected authority, got: "+_);break;case"authority":if("@"===_){v&&(r("@ already seen."),g+="%40"),v=!0;for(var C=0;C<g.length;C++){var S=g[C];if("\t"!==S&&"\n"!==S&&"\r"!==S)if(":"!==S||null!==this._password){var T=p(S);null!==this._password?this._password+=T:this._username+=T}else this._password="";else r("Invalid whitespace in authority.")}g=""}else{if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_){m-=g.length,g="",c="host";continue}g+=_}break;case"file host":if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_){2!==g.length||!s.test(g[0])||":"!==g[1]&&"|"!==g[1]?0===g.length?c="relative path start":(this._host=h.call(this,g),g="",c="relative path start"):c="relative path";continue}"\t"===_||"\n"===_||"\r"===_?r("Invalid whitespace in file host."):g+=_;break;case"host":case"hostname":if(":"!==_||b){if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_){if(this._host=h.call(this,g),g="",c="relative path start",t)break e;continue}"\t"!==_&&"\n"!==_&&"\r"!==_?("["===_?b=!0:"]"===_&&(b=!1),g+=_):r("Invalid code point in host/hostname: "+_)}else if(this._host=h.call(this,g),g="",c="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(_))g+=_;else{if(_===o||"/"===_||"\\"===_||"?"===_||"#"===_||t){if(""!==g){var k=parseInt(g,10);k!==i[this._scheme]&&(this._port=k+""),g=""}if(t)break e;c="relative path start";continue}"\t"===_||"\n"===_||"\r"===_?r("Invalid code point in port: "+_):u.call(this)}break;case"relative path start":if("\\"===_&&r("'\\' not allowed in path."),c="relative path","/"!==_&&"\\"!==_)continue;break;case"relative path":var A;if(_!==o&&"/"!==_&&"\\"!==_&&(t||"?"!==_&&"#"!==_))"\t"!==_&&"\n"!==_&&"\r"!==_&&(g+=p(_));else"\\"===_&&r("\\ not allowed in relative path."),(A=n[g.toLowerCase()])&&(g=A),".."===g?(this._path.pop(),"/"!==_&&"\\"!==_&&this._path.push("")):"."===g&&"/"!==_&&"\\"!==_?this._path.push(""):"."!==g&&("file"===this._scheme&&0===this._path.length&&2===g.length&&s.test(g[0])&&"|"===g[1]&&(g=g[0]+":"),this._path.push(g)),g="","?"===_?(this._query="?",c="query"):"#"===_&&(this._fragment="#",c="fragment");break;case"query":t||"#"!==_?_!==o&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._query+=f(_)):(this._fragment="#",c="fragment");break;case"fragment":_!==o&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._fragment+=_)}m++}}function g(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function v(e,t){void 0===t||t instanceof v||(t=new v(String(t))),this._url=e,g.call(this);var i=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");m.call(this,i,null,t)}}()}},function(e,t,i){var n=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),n=!0}catch(e){}t.ReadableStream=n?ReadableStream:i(10).ReadableStream}])},"object"===("undefined"==typeof exports?"undefined":I()(exports))&&"object"===I()(a)?a.exports=o():"function"==typeof define&&i("Ycmu")?define("pdfjs-dist/build/pdf",[],o):"object"===("undefined"==typeof exports?"undefined":I()(exports))?exports["pdfjs-dist/build/pdf"]=o():r["pdfjs-dist/build/pdf"]=r.pdfjsDistBuildPdf=o()}).call(t,i("9AUj"),i("V0EG"),i("7xR8").Buffer,i("VC+f")(e))},mqrw:function(e,t,i){"use strict";var n=i("jHHs"),a=(n.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:n.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":e.maskTransition,"dialog-transition":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]),e._v(" "),i("div",{staticClass:"weui-dialog__bd"},[e._t("default",[i("div",{domProps:{innerHTML:e._s(e.content)}})])],2),e._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:e._onHide}},[e._v(e._s(e.buttonText||"确定"))])])])],1)},staticRenderFns:[]};var o=i("C7Lr")(a,r,!1,function(e){i("ukoZ")},null,null);t.a=o.exports},nuMz:function(e,t){},okaO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y"),a=i("C331"),r=i("m4Hq"),o=i("xdES"),s=(r.default,o.default,{components:{mobileFlow:r.default,mobileForm:o.default},props:{account:{default:{}}},created:function(){var e=this;Object(a.c)({url:"/api/app/"+this.$route.params.id,type:"get",success:function(t){e.loading=!1,t.state?(e.item={data:t.data,appData:t.data},"WORKFLOW"===t.data.setting.type?e.type="flow":"FORM"===t.data.setting.type?e.type="form":"LINK"===t.data.setting.type&&(e.type="link"),e.isMobile&&e._getBusiness(e.item.appData)):e.$toast(t.message)}})},data:function(){return{url:"/app/",type:"",item:null,loading:!0,mobileUrl:"",mobileData:null,bread:[],disableRoute:["/notifications/notifications","/placeholderRoute"],curRoute:"",update:!1,historyBread:[]}},computed:{isMobile:function(){return this.$route.path.indexOf("mobile")>=0}},methods:{_getBusiness:function(e){var t=this;Object(a.c)({url:"/api/app/"+e.id+"/business/now",type:"get",success:function(i){i.state?i.data.length>0?("FORM"===e.setting.type?(t.mobileUrl="/form/MFormLayout",t.mobileData={route:"/form/MFormLayout?appId="+e.id,title:"",curBusiness:i.data[0],type:{typeTitle:e.appType.name,childName:e.name},data:{appId:e.id}}):(t.mobileUrl="/form/MFlowDetail",t.mobileData={route:"/form/MFlowDetail?appId="+e.id+"&businessId="+i.data[0].business.id,title:e.name,curBusiness:i.data[0],data:{appId:e.id,businessId:i.data[0].business.id}}),t.addBread(t.mobileData)):t.$toast("暂无业务"):t.$toast(i.message)}})},addBread:function(e){if(this.disableRoute.indexOf(e.route)>=0)return"/placeholderRoute"!==e.route&&this.$vux.toast.show({text:"尚未上线 敬请期待",position:"bottom",type:"text"}),!1;var t=!1;this.bread.forEach(function(i,n){i.route===e.route&&(t=!0)}),t||(e.data||n.a.set(e,"data",this._getParams(e.route)),this.bread.push(e)),this.curRoute=e.route},removeBread:function(e){if(1!==this.bread.length){var t=this;t.bread.forEach(function(i,n){i.route===e.route&&t.bread.splice(n,1)}),t.curRoute===e.route&&(t.curRoute=t.historyBread[1]),e.isUpdateLastPage&&this._refresh()}else this._refresh()},_refresh:function(){var e=this;this.update=this.curRoute,setTimeout(function(){e.update=""},100)},_getParams:function(e){var t={};if(-1!==e.indexOf("?"))for(var i=e.substr(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return t}},watch:{curRoute:function(){var e=this;this.historyBread.forEach(function(t,i){t===e.curRoute&&e.historyBread.splice(i,1)}),this.historyBread.forEach(function(t,i){var n=!1;e.bread.forEach(function(e){t===e.route&&(n=!0)}),n||e.historyBread.splice(i,1)}),this.historyBread.splice(0,0,this.curRoute)}}}),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isMobile?i("div",{staticClass:"application-mobile-page"},[e._l(e.bread,function(t,n){return e.item&&e.item.appData.isPublished?i("transition",{key:n,attrs:{name:"slide-fade"}},[i("router-view",{staticClass:"router-view",style:"z-index:"+(e.curRoute===t.route?100:0)+";",attrs:{curRoute:t,name:t.route.split("?")[0],role:t.data&&t.data.id,update:e.curRoute===t.route&&e.curRoute===e.update,data:t,account:e.account},on:{addBread:e.addBread,removeBread:e.removeBread}})],1):e._e()}),e._v(" "),e.item&&["flow","form","link"].indexOf(e.type)<0?i("div",{staticClass:"text-center tip"},[i("p",{staticClass:"text-center"},[e._v("Σ( ° △ °|||)︴")]),e._v(" "),i("p",{staticClass:"text-center"},[e._v("暂不支持该类型独立链接")])]):e.item&&["flow","form","link"].indexOf(e.type)>=0&&!e.mobileUrl?i("div",{staticClass:"text-center tip"},[i("p",{staticClass:"text-center"},[e._v("Σ( ° △ °|||)︴")]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.item.appData.isPublished?"暂无业务":"应用未发布")+" ")])]):e._e()],2):i("div",{staticClass:"application-page"},[e.item&&e.item.appData.isPublished?i("router-view",{attrs:{name:e.type?""+e.url+e.type:"",data:e.item,account:e.account}}):e._e(),e._v(" "),e.item&&["flow","form","link"].indexOf(e.type)<0?i("div",{staticClass:"text-center tip"},[e._v("暂不支持该类应用的独立链接Σ( ° △ °|||)︴")]):e._e(),e._v(" "),e.item&&!e.item.appData.isPublished?i("div",{staticClass:"text-center tip"},[e._v("应用尚未发布Σ( ° △ °|||)︴")]):e._e(),e._v(" "),e.item?e._e():i("div",{staticClass:"text-center tip"},[e._v(e._s(e.loading?"w(ﾟДﾟ)w应用加载中...":" 应用不存在Σ( ° △ °|||)︴"))])],1)},staticRenderFns:[]};var c=i("C7Lr")(s,l,!1,function(e){i("OPoD")},null,null);t.default=c.exports},"q7+4":function(e,t){},qHcJ:function(e,t){},qIWb:function(e,t,i){"use strict";(function(e){i("n+6Y"),i("C331");var t=i("9r/T");i.n(t)}).call(t,i("L7Pj"))},"qO/Y":function(e,t){},ra1U:function(e,t){},s8jq:function(e,t){},sM0v:function(e,t){},tscI:function(e,t){},uYhI:function(e,t){},ukoZ:function(e,t){},uxaD:function(e,t){},wV9A:function(e,t){},wvnA:function(e,t,i){"use strict";(function(e){}).call(t,i("L7Pj"))},x0r5:function(e,t){},xDzJ:function(e,t){UE.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",deletecaption:"删除表格标题",inserttitle:"插入标题",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",simpleupload:"单图上传",insertimage:"多图上传",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"Baidu地图",gmap:"Google地图",insertvideo:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacingtop:"段前距",rowspacingbottom:"段后距",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",lineheight:"行间距",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"从草稿箱加载",charts:"图表"},insertorderedlist:{num:"1,2,3...",num1:"1),2),3)...",num2:"(1),(2),(3)...",cn:"一,二,三....",cn1:"一),二),三)....",cn2:"(一),(二),(三)....",decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圆圈",disc:"● 小黑点",square:"■ 小方块 ",dash:"— 破折号",dot:" 。 小圆圈"},paragraph:{p:"段落",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},fontfamily:{songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},customstyle:{tc:"标题居中",tl:"标题居左",im:"强调",hi:"明显强调"},autoupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},simpleupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},elementPathTip:"元素路径",wordCountTip:"字数统计",wordCountMsg:"当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ",wordOverFlowMsg:'<span style="color:red;">字数超出最大允许值，服务器可能拒绝保存！</span>',ok:"确认",cancel:"取消",closeDialog:"关闭对话框",tableDrag:"表格拖动必须引入uiUtils.js文件！",autofloatMsg:"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!",loadconfigError:"获取后台配置项请求出错，上传功能将不能正常使用！",loadconfigFormatError:"后台配置项返回格式出错，上传功能将不能正常使用！",loadconfigHttpError:"请求后台配置项http错误，上传功能将不能正常使用！",snapScreen_plugin:{browserMsg:"仅支持IE浏览器！",callBackErrorMsg:"服务器返回数据有误，请检查配置项之后重试。",uploadErrorMsg:"截图上传失败，请检查服务器端环境! "},insertcode:{as3:"ActionScript 3",bash:"Bash/Shell",cpp:"C/C++",css:"CSS",cf:"ColdFusion","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"HTML",java:"Java",jfx:"JavaFX",js:"JavaScript",pl:"Perl",php:"PHP",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",vb:"Visual Basic",xml:"XML"},confirmClear:"确定清空当前文档么？",contextMenu:{delete:"删除",selectall:"全选",deletecode:"删除代码",cleardoc:"清空文档",confirmclear:"确定清空当前文档么？",unlink:"删除超链接",paragraph:"段落格式",edittable:"表格属性",aligntd:"单元格对齐方式",aligntable:"表格对齐方式",tableleft:"左浮动",tablecenter:"居中显示",tableright:"右浮动",edittd:"单元格属性",setbordervisible:"设置表格边线可见",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",table:"表格",inserttable:"插入表格",deletetable:"删除表格",insertparagraphbefore:"前插入段落",insertparagraphafter:"后插入段落",deleterow:"删除当前行",deletecol:"删除当前列",insertrow:"前插入行",insertcol:"左插入列",insertrownext:"后插入行",insertcolnext:"右插入列",insertcaption:"插入表格名称",deletecaption:"删除表格名称",inserttitle:"插入表格标题行",deletetitle:"删除表格标题行",inserttitlecol:"插入表格标题列",deletetitlecol:"删除表格标题列",averageDiseRow:"平均分布各行",averageDisCol:"平均分布各列",mergeright:"向右合并",mergeleft:"向左合并",mergedown:"向下合并",mergecells:"合并单元格",splittocells:"完全拆分单元格",splittocols:"拆分成列",splittorows:"拆分成行",tablesort:"表格排序",enablesort:"设置表格可排序",disablesort:"取消表格可排序",reversecurrent:"逆序当前",orderbyasc:"按ASCII字符升序",reversebyasc:"按ASCII字符降序",orderbynum:"按数值大小升序",reversebynum:"按数值大小降序",borderbk:"边框底纹",setcolor:"表格隔行变色",unsetcolor:"取消表格隔行变色",setbackground:"选区背景隔行",unsetbackground:"取消选区背景",redandblue:"红蓝相间",threecolorgradient:"三色渐变",copy:"复制(Ctrl + c)",copymsg:"浏览器不支持,请使用 'Ctrl + c'",paste:"粘贴(Ctrl + v)",pastemsg:"浏览器不支持,请使用 'Ctrl + v'"},copymsg:"浏览器不支持,请使用 'Ctrl + c'",pastemsg:"浏览器不支持,请使用 'Ctrl + v'",anthorMsg:"链接",clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色",property:"属性",default:"默认",modify:"修改",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中",justify:"默认",clear:"清除",anchorMsg:"锚点",delete:"删除",clickToUpload:"点击上传",unset:"尚未设置语言文件",t_row:"行",t_col:"列",more:"更多",pasteOpt:"粘贴选项",pasteSourceFormat:"保留源格式",tagFormat:"只保留标签",pasteTextFormat:"只保留文本",autoTypeSet:{mergeLine:"合并空行",delLine:"清除空行",removeFormat:"清除格式",indent:"首行缩进",alignment:"对齐方式",imageFloat:"图片浮动",removeFontsize:"清除字号",removeFontFamily:"清除字体",removeHtml:"清除冗余HTML代码",pasteFilter:"粘贴过滤",run:"执行",symbol:"符号转换",bdc2sb:"全角转半角",tobdc:"半角转全角"},background:{static:{lang_background_normal:"背景设置",lang_background_local:"在线图片",lang_background_set:"选项",lang_background_none:"无背景色",lang_background_colored:"有背景色",lang_background_color:"颜色设置",lang_background_netimg:"网络图片",lang_background_align:"对齐方式",lang_background_position:"精确定位",repeatType:{options:["居中","横向重复","纵向重复","平铺","自定义"]}},noUploadImage:"当前未上传过任何图片！",toggleSelect:"单击可切换选中状态\n原图尺寸: "},insertimage:{static:{lang_tab_remote:"插入图片",lang_tab_upload:"本地上传",lang_tab_online:"在线管理",lang_tab_search:"图片搜索",lang_input_url:"地 址：",lang_input_size:"大 小：",lang_input_width:"宽度",lang_input_height:"高度",lang_input_border:"边 框：",lang_input_vhspace:"边 距：",lang_input_title:"描 述：",lang_input_align:"图片浮动方式：",lang_imgLoading:"　图片加载中……",lang_start_upload:"开始上传",lock:{title:"锁定宽高比例"},searchType:{title:"图片类型",options:["新闻","壁纸","表情","头像"]},searchTxt:{value:"请输入搜索关键词"},searchBtn:{value:"百度一下"},searchReset:{value:"清空搜索"},noneAlign:{title:"无浮动"},leftAlign:{title:"左浮动"},rightAlign:{title:"右浮动"},centerAlign:{title:"居中独占一行"}},uploadSelectFile:"点击选择图片",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",uploadNoPreview:"不能预览",updateStatusReady:"选中_张图片，共_KB。",updateStatusConfirm:"已成功上传_张照片，_张照片上传失败",updateStatusFinish:"共_张（_KB），_张上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错",remoteLockError:"宽高不正确,不能所定比例",numError:"请输入正确的长度或者宽度值！例如：123，400",imageUrlError:"不允许的图片格式或者图片域！",imageLoadError:"图片加载失败！请检查链接地址或网络状态！",searchRemind:"请输入搜索关键词",searchLoading:"图片加载中，请稍后……",searchRetry:" :( ，抱歉，没有找到图片！请重试一次！"},attachment:{static:{lang_tab_upload:"上传附件",lang_tab_online:"在线附件",lang_start_upload:"开始上传",lang_drop_remind:"可以将文件拖到这里，单次最多可选100个文件"},uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"已成功上传_个文件，_个文件上传失败",updateStatusFinish:"共_个（_KB），_个上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},insertvideo:{static:{lang_tab_insertV:"插入视频",lang_tab_searchV:"搜索视频",lang_tab_uploadV:"上传视频",lang_video_url:"视频网址",lang_video_size:"视频尺寸",lang_videoW:"宽度",lang_videoH:"高度",lang_alignment:"对齐方式",videoSearchTxt:{value:"请输入搜索关键字！"},videoType:{options:["全部","热门","娱乐","搞笑","体育","科技","综艺"]},videoSearchBtn:{value:"百度一下"},videoSearchReset:{value:"清空结果"},lang_input_fileStatus:" 当前未上传文件",startUpload:{style:"background:url(upload.png) no-repeat;"},lang_upload_size:"视频尺寸",lang_upload_width:"宽度",lang_upload_height:"高度",lang_upload_alignment:"对齐方式",lang_format_advice:"建议使用mp4格式."},numError:"请输入正确的数值，如123,400",floatLeft:"左浮动",floatRight:"右浮动",'"default"':"默认",block:"独占一行",urlError:"输入的视频地址有误，请检查后再试！",loading:" &nbsp;视频加载中，请等待……",clickToSelect:"点击选中",goToSource:"访问源视频",noVideo:" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！",browseFiles:"浏览文件",uploadSuccess:"上传成功!",delSuccessFile:"从成功队列中移除",delFailSaveFile:"移除保存失败文件",statusPrompt:" 个文件已上传！ ",flashVersionError:"当前Flash版本过低，请更新FlashPlayer后重试！",flashLoadingError:"Flash加载失败!请检查路径或网络状态",fileUploadReady:"等待上传……",delUploadQueue:"从上传队列中移除",limitPrompt1:"单次不能选择超过",limitPrompt2:"个文件！请重新选择！",delFailFile:"移除失败文件",fileSizeLimit:"文件大小超出限制！",emptyFile:"空文件无法上传！",fileTypeError:"文件类型不允许！",unknownError:"未知错误！",fileUploading:"上传中，请等待……",cancelUpload:"取消上传",netError:"网络错误",failUpload:"上传失败!",serverIOError:"服务器IO错误！",noAuthority:"无权限！",fileNumLimit:"上传个数限制",failCheck:"验证失败，本次上传被跳过！",fileCanceling:"取消中，请等待……",stopUploading:"上传已停止……",uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"成功上传_个，_个失败",updateStatusFinish:"共_个(_KB)，_个成功上传",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},webapp:{tip1:"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!",tip2:"申请完成之后请至ueditor.config.js中配置获得的appkey! ",applyFor:"点此申请",anthorApi:"百度API"},template:{static:{lang_template_bkcolor:"背景颜色",lang_template_clear:"保留原有内容",lang_template_select:"选择模板"},blank:"空白文档",blog:"博客文章",resume:"个人简历",richText:"图文混排",sciPapers:"科技论文"},scrawl:{static:{lang_input_previousStep:"上一步",lang_input_nextsStep:"下一步",lang_input_clear:"清空",lang_input_addPic:"添加背景",lang_input_ScalePic:"缩放背景",lang_input_removePic:"删除背景",J_imgTxt:{title:"添加背景图片"}},noScarwl:"尚未作画，白纸一张~",scrawlUpLoading:"涂鸦上传中,别急哦~",continueBtn:"继续",imageError:"糟糕，图片读取失败了！",backgroundUploading:"背景图片上传中,别急哦~"},music:{static:{lang_input_tips:"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！",J_searchBtn:{value:"搜索歌曲"}},emptyTxt:"未搜索到相关音乐结果，请换一个关键词试试。",chapter:"歌曲",singer:"歌手",special:"专辑",listenTest:"试听"},anchor:{static:{lang_input_anchorName:"锚点名字："}},charts:{static:{lang_data_source:"数据源：",lang_chart_format:"图表格式：",lang_data_align:"数据对齐方式",lang_chart_align_same:"数据源与图表X轴Y轴一致",lang_chart_align_reverse:"数据源与图表X轴Y轴相反",lang_chart_title:"图表标题",lang_chart_main_title:"主标题：",lang_chart_sub_title:"子标题：",lang_chart_x_title:"X轴标题：",lang_chart_y_title:"Y轴标题：",lang_chart_tip:"提示文字",lang_cahrt_tip_prefix:"提示文字前缀：",lang_cahrt_tip_description:"仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀",lang_chart_data_unit:"数据单位",lang_chart_data_unit_title:"单位：",lang_chart_data_unit_description:"显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃",lang_chart_type:"图表类型：",lang_prev_btn:"上一个",lang_next_btn:"下一个"}},emotion:{static:{lang_input_choice:"精选",lang_input_Tuzki:"兔斯基",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"绿豆蛙",lang_input_babyCat:"baby猫",lang_input_bubble:"泡泡",lang_input_youa:"有啊"}},gmap:{static:{lang_input_address:"地址",lang_input_search:"搜索",address:{value:"北京"}},searchError:"无法定位到该地址!"},help:{static:{lang_input_about:"关于UEditor",lang_input_shortcuts:"快捷键",lang_input_introduction:"UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。",lang_Txt_shortcuts:"快捷键",lang_Txt_func:"功能",lang_Txt_bold:"给选中字设置为加粗",lang_Txt_copy:"复制选中内容",lang_Txt_cut:"剪切选中内容",lang_Txt_Paste:"粘贴",lang_Txt_undo:"重新执行上次操作",lang_Txt_redo:"撤销上一次操作",lang_Txt_italic:"给选中字设置为斜体",lang_Txt_underline:"给选中字加下划线",lang_Txt_selectAll:"全部选中",lang_Txt_visualEnter:"软回车",lang_Txt_fullscreen:"全屏"}},insertframe:{static:{lang_input_address:"地址：",lang_input_width:"宽度：",lang_input_height:"高度：",lang_input_isScroll:"允许滚动条：",lang_input_frameborder:"显示框架边框：",lang_input_alignMode:"对齐方式：",align:{title:"对齐方式",options:["默认","左对齐","右对齐","居中"]}},enterAddress:"请输入地址!"},link:{static:{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口打开："},validLink:"只支持选中一个链接时生效",httpPrompt:"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"},map:{static:{lang_city:"城市",lang_address:"地址",city:{value:"北京"},lang_search:"搜索",lang_dynamicmap:"插入动态地图"},cityMsg:"请选择城市",errorMsg:"抱歉，找不到该位置！"},searchreplace:{static:{lang_tab_search:"查找",lang_tab_replace:"替换",lang_search1:"查找",lang_search2:"查找",lang_replace:"替换",lang_searchReg:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_searchReg1:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_case_sensitive1:"区分大小写",lang_case_sensitive2:"区分大小写",nextFindBtn:{value:"下一个"},preFindBtn:{value:"上一个"},nextReplaceBtn:{value:"下一个"},preReplaceBtn:{value:"上一个"},repalceBtn:{value:"替换"},repalceAllBtn:{value:"全部替换"}},getEnd:"已经搜索到文章末尾！",getStart:"已经搜索到文章头部",countMsg:"总共替换了{#count}处！"},snapscreen:{static:{lang_showMsg:"截图功能需要首先安装UEditor截图插件！ ",lang_download:"点此下载",lang_step1:"第一步，下载UEditor截图插件并运行安装。",lang_step2:"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！"}},spechars:{static:{},tsfh:"特殊字符",lmsz:"罗马字符",szfh:"数学字符",rwfh:"日文字符",xlzm:"希腊字母",ewzm:"俄文字符",pyzm:"拼音字母",yyyb:"英语音标",mati:"系统图标",zyzf:"其他"},edittable:{static:{lang_tableStyle:"表格样式",lang_insertCaption:"添加表格名称行",lang_insertTitle:"添加表格标题行",lang_insertTitleCol:"添加表格标题列",lang_orderbycontent:"使表格内容可排序",lang_tableSize:"自动调整表格尺寸",lang_autoSizeContent:"按表格文字自适应",lang_autoSizePage:"按页面宽度自适应",lang_example:"示例",lang_borderStyle:"表格边框",lang_color:"颜色:"},captionName:"表格名称",titleName:"标题",cellsName:"内容",errorMsg:"有合并单元格，不可排序"},edittip:{static:{lang_delRow:"删除整行",lang_delCol:"删除整列"}},edittd:{static:{lang_tdBkColor:"背景颜色:"}},formula:{static:{}},wordimage:{static:{lang_resave:"转存步骤",uploadBtn:{src:"upload.png",alt:"上传"},clipboard:{style:"background: url(copy.png) -153px -1px no-repeat;"},lang_step:"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。"},fileType:"图片",flashError:"FLASH初始化失败，请检查FLASH插件是否正确安装！",netError:"网络连接错误，请重试！",copySuccess:"图片地址已经复制！",flashI18n:{}},autosave:{saving:"保存中...",success:"本地保存成功"}}},xbIw:function(e,t){},xdES:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("n+6Y"),a=i("Zuxa");n.a.component("m-fromLayout",a.default);n.a.component("m-fromLayout",a.default);var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"formDetail"}},[this.data.data.appId?t("m-fromLayout",{attrs:{appId:this.data.data.appId,routeInfo:this.data},on:{back:this._back,jumpAffariList:this._jumpAffariList}}):t("m-fromLayout",{attrs:{infoSetting:this.data.data},on:{back:this._back}})],1)},staticRenderFns:[]};var o=i("C7Lr")({props:{data:{default:null}},created:function(){},methods:{_back:function(){this.$emit("removeBread",this.data)},_jumpAffariList:function(){this.$emit("removeBread",this.data),this.$emit("addBread",{route:"/myAffair/MyAffairList",title:""})}}},r,!1,function(e){i("Qy8z")},null,null);t.default=o.exports},y2x4:function(e,t){},z92W:function(e,t){}},[0]);