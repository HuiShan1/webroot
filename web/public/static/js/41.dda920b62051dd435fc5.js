webpackJsonp([41],{"0SMs":function(t,a){},oZKw:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("a3Yh"),s=e.n(i),n=e("C331"),r={props:{data:""},data:function(){return{startTime:"",endTime:"",barData:"",Time:"",stations:[],needData:{xAxisData:[],seriesLinshiData:[],seriesGudingData:[],seriesQitaData:[],seriesjianzhifudaoyuanData:[],seriesjiaqiData:[]}}},created:function(){this.setOptionsData()},methods:{daochu:function(){window.location.href="/downloads/pwps/statistics/downloadExcelToPosition?startTime="+this.startTime+"&endTime="+this.endTime},selectStartTime:function(t){this.startTime=t.value.substring(0,10),this.endTime&&this.setOptionsData()},selectEndTime:function(t){this.endTime=t.value.substring(0,10),this.startTime&&this.setOptionsData()},reset:function(){this.$refreshBread(this.data)},setOptionsData:function(){var t=this,a="/api/pwps/statistics/position?startTime="+this.startTime+"&endTime="+this.endTime;Object(n.c)({url:a,dataType:"json",type:"get",success:function(a){a.state?(0==a.data.length&&t.toast("没有符合条件的数据!"),t.jiexiDataBingXuanRan(a.data)):t.toast("统计数据获取失败！")}})},jiexiDataBingXuanRan:function(t){var a=this;this.needData={xAxisData:[],seriesLinshiData:[],seriesGudingData:[],seriesQitaData:[],seriesjianzhifudaoyuanData:[],seriesjiaqiData:[]},0==t.length?this.needData={xAxisData:[],seriesLinshiData:[],seriesGudingData:[],seriesQitaData:[],seriesjianzhifudaoyuanData:[],seriesjiaqiData:[]}:t.forEach(function(t,e){a.needData.xAxisData.push(t.unitName),a.needData.seriesQitaData.push(t.map["其它岗位"]),a.needData.seriesGudingData.push(t.map["固定岗位"]),a.needData.seriesLinshiData.push(t.map["临时岗位"]),a.needData.seriesjiaqiData.push(t.map["假期岗位"]),a.needData.seriesjianzhifudaoyuanData.push(t.map["兼职辅导员"]),a.Time=t.updateTime}),this.barData={title:"",legend:{data:["固定岗位","临时岗位","假期岗位","兼职辅导员","其他岗位"],top:"top"},xAxis:s()({data:this.needData.xAxisData,type:"category",axisLabel:{interval:0}},"axisLabel",{rotate:-45,formatter:function(t){return t.length>12?t.substring(0,12)+"...":t}}),yAxis:{type:"value",show:!0,name:"数量",axisLabel:{formatter:"{value} 个"}},seriesData:[{name:"临时岗位",data:this.needData.seriesLinshiData,type:"bar"},{name:"固定岗位",data:this.needData.seriesGudingData,type:"bar"},{name:"假期岗位",data:this.needData.seriesjiaqiData,type:"bar"},{name:"兼职辅导员",data:this.needData.seriesjianzhifudaoyuanData,type:"bar"},{name:"其他岗位",data:this.needData.seriesQitaData,type:"bar"}]}},shuzuquchong:function(t){for(var a=[],e=0;e<t.length;e++)-1==a.indexOf(t[e])&&a.push(t[e]);return a}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid",attrs:{id:"numberstatistics-page"}},[e("p",{staticClass:"title",staticStyle:{"text-align":"right",color:"rgb(158,158,158)"}},[t._v("  以下数据统计截止至："+t._s(t.Time))]),t._v(" "),e("div",{staticClass:"row row-top ",staticStyle:{height:"80px !important"}},[e("div",{attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[e("div",{staticClass:"form-group pull-left "},[e("label",[t._v("时间")]),t._v(" "),e("v-datepicker-area",{ref:"datepicker",staticClass:"btn-block time-picker  time-item",on:{startSelected:t.selectStartTime,endSelected:t.selectEndTime}})],1),t._v(" "),e("div",{staticClass:"btn-group pull-left",staticStyle:{"margin-left":"30px"}},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.reset}},[t._v("重置")])]),t._v(" "),e("div",{staticClass:"btn-group pull-left",staticStyle:{"margin-left":"5px"}},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.daochu}},[t._v("导出")])])])]),t._v(" "),e("div",{staticClass:"row content"},[e("div",{staticClass:"table-item"},[e("v-EchartsBar",{attrs:{optionData:t.barData}})],1)])])},staticRenderFns:[]};var d=e("C7Lr")(r,o,!1,function(t){e("0SMs")},"data-v-c3b3365a",null);a.default=d.exports}});