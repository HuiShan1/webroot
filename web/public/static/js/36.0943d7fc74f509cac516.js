webpackJsonp([36],{"1dx8":function(t,e){},DmHF:function(t,e,a){"use strict";a("wHoj"),a("NGAA");var n=a("INlO"),i=a.n(n),s=a("lC5x"),r=a.n(s),o=a("J0Oq"),c=a.n(o),l=a("IwLe"),u=a("VDkK"),d=a("hn+R"),p=a("713C"),f=a("V/it"),m=a("B/WJ"),h=a("2IYH"),v=a("Se9A"),y=(Boolean,Boolean,Object,h.a,v.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[h.a],components:{ModuleContainer:v.a}}),w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("module-container",{attrs:{title:"备注",inline:t.inline}},[t.edit?a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}):a("p",[t._v(t._s(t.form))])],1)},staticRenderFns:[]},b=a("C7Lr")(y,w,!1,null,null,null).exports,A=a("N9Ox"),I=a("fSJ2"),g=(a("p+qa"),a("t7Ya")),_=a("mrGO"),k=(Number,Number,String,Number,Boolean,Boolean,v.a,A.a,l.a,u.a,d.a,p.a,f.a,m.a,{props:{unitApplyInfoId:Number,id:Number,dcwName:String,auditStatus:Number,isUnit:Boolean,isManager:Boolean},components:{ModuleContainer:v.a,ModuleLoader:A.a,BaseInfo:l.a,StandInfo:u.a,StandPicker:d.a,UnitInfo:p.a,PositionsInfo:f.a,RecruitmentInfo:m.a,RemarkInfo:b},data:function(){return{UnitApplyAuditStatus:_.a,loading:!0,dcw:null,unitApplyInfo:null,standsInitialized:!1,stands:[],rules:{name:{hidden:!0},applyTime:{hidden:!0}},dict:{positionType:{}}}},computed:{auditStatusLabel:function(){return _.b[this.auditStatus]},auditStatusLabelType:function(){var t="";switch(this.auditStatus){case _.a.AUDITING:t="warning";break;case _.a.PASSED:t="success";break;case _.a.FAILED:t="danger";break;case _.a.COUNTERMAND:case _.a.REJECT:t="warning"}return t},canEditApplyInfo:function(){return this.isManager?this.auditStatus===_.a.AUDITING:!!this.isUnit&&[_.a.COUNTERMAND,_.a.REJECT].includes(this.auditStatus)},canAuditing:function(){return this.isManager&&this.auditStatus===_.a.AUDITING}},created:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initDcw();case 2:return e.next=4,t.initUnitApplyInfo();case 4:return e.next=6,t.initStands();case 6:t.loading=!1;case 7:case"end":return e.stop()}},e,t)}))()},methods:{initDcw:function(){var t=this;return c()(r.a.mark(function e(){var a,n,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.get(t.id);case 2:a=e.sent,n=a.state,i=a.message,s=a.data,n?t.dcw=g.a.fromApi(s):t.$toast(i);case 7:case"end":return e.stop()}},e,t)}))()},initUnitApplyInfo:function(){var t=this;return c()(r.a.mark(function e(){var a,n,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.getUnitApplyInfo(t.unitApplyInfoId);case 2:a=e.sent,n=a.state,i=a.message,s=a.data,n?t.unitApplyInfo=g.d.fromApi(s,t.dict):t.$toast(i);case 7:case"end":return e.stop()}},e,t)}))()},initStands:function(){var t=this;return c()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.unitApplyInfo.stands.map(function(t){return t.id}),t.stands=t.dcw.standInfo.stands.map(function(t){var e=new g.b(t);return a.includes(t.id)&&(e.selected=!0,e.occupied=!1),e}),t.standsInitialized=!0;case 3:case"end":return e.stop()}},e,t)}))()},backToList:function(){this.$emit("back-to-list")},submitApply:function(){var t=this;return c()(r.a.mark(function e(){var a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.apply(t.dcw.id,t.unitApplyInfo);case 2:a=e.sent,n=a.state,i=a.message,a.data,n?t.$toast("提交成功"):t.$toast(i);case 7:case"end":return e.stop()}},e,t)}))()},resubmitApply:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},countermandApply:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.a.confirm("确认撤回申请?").then(c()(r.a.mark(function e(){var a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.countermand(t.unitApplyInfo.id);case 2:a=e.sent,n=a.state,i=a.message,a.data,n?(t.auditStatus=_.a.COUNTERMAND,t.$toast("撤回成功")):t.$toast(i);case 7:case"end":return e.stop()}},e,t)})));case 1:case"end":return e.stop()}},e,t)}))()},rejectApply:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.a.prompt("请填写驳回意见","驳回").then(function(){var e=c()(r.a.mark(function e(a){var n,i,s,o=a.value;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.reject(t.unitApplyInfo.id,o);case 2:n=e.sent,i=n.state,s=n.message,n.data,i?t.auditStatus=_.a.REJECT:t.$toast(s);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},disagreeApply:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.a.prompt("请填写不通过意见","不通过").then(function(){var e=c()(r.a.mark(function e(a){var n,i,s,o=a.value;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.disagree(t.unitApplyInfo.id,o);case 2:n=e.sent,i=n.state,s=n.message,n.data,i?t.auditStatus=_.a.FAILED:t.$toast(s);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},agreeApply:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.a.confirm("确认同意该申请?").then(c()(r.a.mark(function e(){var a,n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.dcw.agree(t.unitApplyInfo.id);case 2:a=e.sent,n=a.state,i=a.message,a.data,n?t.auditStatus=_.a.PASSED:t.$toast(i);case 7:case"end":return e.stop()}},e,t)})));case 1:case"end":return e.stop()}},e,t)}))()}}}),x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"back",on:{click:t.backToList}},[a("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),a("div",{staticClass:"page-title-status"},[a("p",[a("span",{staticClass:"title"},[t._v("审核状态：")]),a("el-tag",{attrs:{type:t.auditStatusLabelType,effect:"dark"}},[t._v(t._s(t.auditStatusLabel))])],1),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("双选会名称：")]),a("span",[t._v(t._s(t.dcwName))])]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("双选会时间：")]),a("span",[t._v(t._s(t.dcw?t.dcw.getApplyTimeHtml():""))])])]),t._v(" "),t.loading?a("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):a("div",{staticClass:"module-container"},[a("unit-info",{attrs:{dcw:t.dcw,edit:t.canEditApplyInfo},model:{value:t.unitApplyInfo,callback:function(e){t.unitApplyInfo=e},expression:"unitApplyInfo"}}),t._v(" "),a("positions-info",{attrs:{dcw:t.dcw,edit:t.canEditApplyInfo},model:{value:t.unitApplyInfo.positions,callback:function(e){t.$set(t.unitApplyInfo,"positions",e)},expression:"unitApplyInfo.positions"}}),t._v(" "),a("recruitment-info",{attrs:{dcw:t.dcw,edit:t.canEditApplyInfo},model:{value:t.unitApplyInfo.recruitment,callback:function(e){t.$set(t.unitApplyInfo,"recruitment",e)},expression:"unitApplyInfo.recruitment"}}),t._v(" "),a("stand-info",{model:{value:t.dcw.standInfo,callback:function(e){t.$set(t.dcw,"standInfo",e)},expression:"dcw.standInfo"}},[a("template",{slot:"start"},[a("el-form",[a("el-form-item",{attrs:{label:"双选会场地"}},[a("p",[t._v(t._s(t.dcw.baseInfo.address))])])],1)],1)],2),t._v(" "),"UNIT"===t.dcw.standInfo.chooseType?a("module-container",{attrs:{inline:"",loader:!t.standsInitialized,loaderText:"正在加载展位信息"}},[t.standsInitialized&&t.canEditApplyInfo?a("stand-picker",{attrs:{dcw:t.dcw,published:"",selectable:""},model:{value:t.stands,callback:function(e){t.stands=e},expression:"stands"}}):t._e(),t._v(" "),t.canEditApplyInfo?t._e():a("el-form",[a("el-form-item",{attrs:{label:"展位号"}},[a("p",[t._v(t._s("TODO 展示展位号"))])])],1)],1):t._e(),t._v(" "),"MANAGER"===t.dcw.standInfo.chooseType?a("recruitment-info",{attrs:{dcw:t.dcw,edit:t.canEditApplyInfo},model:{value:t.unitApplyInfo.remark,callback:function(e){t.$set(t.unitApplyInfo,"remark",e)},expression:"unitApplyInfo.remark"}}):t._e(),t._v(" "),t.isUnit?a("module-container",{staticClass:"audit-actions",attrs:{actions:""}},[t.unitApplyInfo.id?t._e():a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.submitApply}},[t._v("提交审核")]),t._v(" "),[t.UnitApplyAuditStatus.COUNTERMAND,t.UnitApplyAuditStatus.REJECT].includes(t.auditStatus)?a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.resubmitApply}},[t._v("重新提交")]):t._e(),t._v(" "),t.auditStatus===t.UnitApplyAuditStatus.AUDITING?a("el-button",{attrs:{type:"danger",plain:"",size:"large"},on:{click:t.countermandApply}},[t._v("撤回")]):t._e()],1):t._e(),t._v(" "),t.isManager&&t.auditStatus===t.UnitApplyAuditStatus.AUDITING?a("module-container",{staticClass:"audit-actions",attrs:{actions:""}},[a("el-button",{attrs:{type:"danger",plain:"",size:"large"},on:{click:t.rejectApply}},[t._v("驳回")]),t._v(" "),a("el-button",{attrs:{size:"large"},on:{click:t.disagreeApply}},[t._v("不通过")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.agreeApply}},[t._v("通过")])],1):t._e()],1)],1)},staticRenderFns:[]};var T=a("C7Lr")(k,x,!1,function(t){a("ijN7")},"data-v-1de0583d",null);e.a=T.exports},ijN7:function(t,e){},mrGO:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return o});var n,i=a("a3Yh"),s=a.n(i),r={AUDITING:0,PASSED:1,FAILED:2,COUNTERMAND:3,REJECT:4},o=(n={},s()(n,r.AUDITING,"待审核"),s()(n,r.PASSED,"已通过"),s()(n,r.FAILED,"未通过"),s()(n,r.COUNTERMAND,"已撤回"),s()(n,r.REJECT,"驳回待提交"),n)},pizR:function(t,e){},yjtQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("t7Ya"),i={data:function(){var t=this;return{page:"LIST",table:{url:"/table-data/employment/doubleChoose/getDoubleChooseAuditList?ts=",search:{ts:+new Date,beginTime:"",endTime:""},columns:[{id:"doubleChooseName",title:"双选会名称",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}},formatter:function(t){return n.a.fromApi(t).getNameHtmlWithStatus()}},{id:"areaName",title:"双选会地点",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"time",title:"双选会时间",className:"text-left line-height-normal",width:145,hidden:!1,search:{type:"datetime",data:{placeholder:"双选会",dateFormat:"yyyy-MM-dd hh:ii",change:function(e){e.value;var a=e.target;t.table.search.beginTime=a.tableSearchFields.time_start,t.table.search.endTime=a.tableSearchFields.time_end}}},formatter:function(t){return new Date(t.beginTime).format("yyyy-MM-dd HH:mm")+" ~<br/> "+new Date(t.endTime).format("yyyy-MM-dd HH:mm")}},{id:"applyTime",title:"申请时间",className:"text-left line-height-normal",width:145,hidden:!1,formatter:function(t){return new Date(t.applyBeginTime).format("yyyy-MM-dd HH:mm")+" ~<br/> "+new Date(t.applyEndTime).format("yyyy-MM-dd HH:mm")}},{id:"opt",title:"操作",width:120,hidden:!1,formatter:function(e){var a=n.a.fromApi(e),i={show:{tag:"a",text:"查看",callback:function(e,a){var i=n.a.fromApi(e);t.showDcw(i)}},apply:{tag:"a",text:"申请",callback:function(e,a){var i=n.a.fromApi(e);t.applyDcw(i)}}};return a.applied||!a.isApplying()?[i.show]:[i.apply]}}]},currentDcw:null}},computed:{tableUrl:function(){return this.table.url+"&beginTime="+(this.table.search.beginTime||"")+"&endTime="+(this.table.search.endTime||"")+"&ts="+this.table.search.ts}},methods:{showDcw:function(t){this.$emit("to-detail",t)},applyDcw:function(t){this.showDcw(t)}}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("v-table",{attrs:{url:this.tableUrl,columns:this.table.columns,idField:"id",pagesize:"20",multiple:!1,search:!1,order:!0}})},staticRenderFns:[]},r=a("C7Lr")(i,s,!1,null,null,null).exports,o=a("mrGO"),c={data:function(){var t=this;return{table:{url:"/table-data/employment/doubleChoose/getMyDoubleChooseAuditList?ts=",search:{ts:+new Date,beginTime:"",endTime:""},columns:[{id:"name",title:"双选会名称",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}},formatter:function(t){return n.a.fromApi(t).getNameHtmlWithStatus()}},{id:"areaName",title:"双选会地点",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"time",title:"双选会时间",className:"text-left line-height-normal",width:145,hidden:!1,search:{type:"datetime",data:{placeholder:"双选会",dateFormat:"yyyy-MM-dd hh:ii",change:function(e){e.value;var a=e.target;t.table.search.beginTime=a.tableSearchFields.time_start,t.table.search.endTime=a.tableSearchFields.time_end}}},formatter:function(t){return new Date(t.beginTime).format("yyyy-MM-dd HH:mm")+" ~<br/> "+new Date(t.endTime).format("yyyy-MM-dd HH:mm")}},{id:"boothName",title:"展位号",className:"text-left",width:80,hidden:!1},{id:"auditTime",title:"提交时间",className:"text-left",width:140,hidden:!1},{id:"auditStatus",title:"审核状态",className:"text-left",width:80,hidden:!1,formatter:function(t){return o.b[t.auditStatus]}},{id:"reason",title:"审核意见",className:"text-left",width:100,hidden:!1},{id:"opt",title:"操作",width:100,hidden:!1,formatter:function(e){var a=n.a.fromApi(e),i={show:{tag:"a",text:"查看",callback:function(e,a){var i=new n.a;i.id=e.doubleChooseId,i.baseInfo.name=e.name,i.applied=!!e.isApplied,t.toApplyDetail({dcw:i,unitApplyInfoId:e.id,auditStatus:parseInt(e.auditStatus)})}}};return!a.applied&&a.isApplying()&&(i.show.text="申请"),[i.show]}}]}}},computed:{tableUrl:function(){return this.table.url+"&beginTime="+(this.table.search.beginTime||"")+"&endTime="+(this.table.search.endTime||"")+"&ts="+this.table.search.ts}},methods:{toApplyDetail:function(t){this.$emit("to-apply-detail",t)}}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("v-table",{attrs:{url:this.tableUrl,columns:this.table.columns,idField:"id",pagesize:"20",multiple:!1,search:!1,order:!0}})},staticRenderFns:[]},u=a("C7Lr")(c,l,!1,null,null,null).exports,d=a("lC5x"),p=a.n(d),f=a("J0Oq"),m=a.n(f),h=a("IwLe"),v=a("VDkK"),y=a("Se9A"),w=a("N9Ox"),b=a("fSJ2"),A=(Number,String,y.a,w.a,h.a,v.a,{props:{id:Number,dcwName:String},components:{ModuleContainer:y.a,ModuleLoader:w.a,BaseInfo:h.a,StandInfo:v.a},data:function(){return{loading:!0,dcw:null,myUnit:null,rules:{name:{hidden:!0},applyTime:{hidden:!0}}}},computed:{},created:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initDcw();case 2:return e.next=4,t.initMyUnit();case 4:return e.next=6,t.initApplyStatus();case 6:t.loading=!1;case 7:case"end":return e.stop()}},e,t)}))()},methods:{initDcw:function(){var t=this;return m()(p.a.mark(function e(){var a,i,s,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.dcw.get(t.id);case 2:a=e.sent,i=a.state,s=a.message,r=a.data,i?t.dcw=n.a.fromApi(r):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initMyUnit:function(){var t=this;return m()(p.a.mark(function e(){var a,n,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.unit.getMyUnit();case 2:a=e.sent,n=a.state,i=a.message,s=a.data,n?t.myUnit=s:t.$toast(i);case 7:case"end":return e.stop()}},e,t)}))()},initApplyStatus:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dcw.applied=t.dcw.standUnits.some(function(e){return e.unitId===t.myUnit.companyId});case 1:case"end":return e.stop()}},e,t)}))()},toApply:function(){this.$emit("to-apply")},backToList:function(){this.$emit("back-to-list")}}}),I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"back",on:{click:t.backToList}},[a("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),a("div",{staticClass:"page-title"},[t._v("\n    "+t._s("双选会名称："+t.dcwName)+"\n  ")]),t._v(" "),t.loading?a("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):a("div",{staticClass:"module-container"},[a("base-info",{attrs:{rules:t.rules},model:{value:t.dcw.baseInfo,callback:function(e){t.$set(t.dcw,"baseInfo",e)},expression:"dcw.baseInfo"}}),t._v(" "),a("module-container",{attrs:{title:"申请信息"}},[a("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"申请时间"}},[a("p",[t._v(t._s(t.dcw.baseInfo.startApplyTime)+" ~ "+t._s(t.dcw.baseInfo.endApplyTime)+"  "),a("span",{staticClass:"apply-time-tip"},[t._v(t._s(t.dcw.isApplying()?"":"（不在申请时间内）"))])])])],1)],1),t._v(" "),a("stand-info",{model:{value:t.dcw.standInfo,callback:function(e){t.$set(t.dcw,"standInfo",e)},expression:"dcw.standInfo"}}),t._v(" "),a("module-container",{attrs:{inline:""}},[a("div",{staticClass:"stand-units"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dcw.standUnits}},[a("el-table-column",{attrs:{prop:"stand.name",label:"展位号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用人单位",width:"260"}}),t._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"单位性质",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"positionsCount",label:"职位总数",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(t){}}},[t._v("查看")])]}}])})],1)],1)]),t._v(" "),!t.dcw.applied&&t.dcw.isApplying()?a("module-container",{attrs:{actions:""}},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.toApply}},[t._v("申请")])],1):t._e()],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(A,I,!1,function(t){a("pizR")},"data-v-2b188d56",null).exports,_=a("hn+R"),k=a("713C"),x=a("V/it"),T=a("B/WJ"),D=(Number,String,y.a,w.a,h.a,v.a,_.a,k.a,x.a,T.a,{props:{id:Number,dcwName:String},components:{ModuleContainer:y.a,ModuleLoader:w.a,BaseInfo:h.a,StandInfo:v.a,StandPicker:_.a,UnitInfo:k.a,PositionsInfo:x.a,RecruitmentInfo:T.a},data:function(){return{loading:!0,dcw:null,unitApplyInfo:new n.d,rules:{name:{hidden:!0},applyTime:{hidden:!0}}}},computed:{},created:function(){var t=this;return m()(p.a.mark(function e(){var a,i,s,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.dcw.get(t.id);case 2:a=e.sent,i=a.state,s=a.message,r=a.data,i?t.dcw=n.a.fromApi(r):t.$toast(s),t.loading=!1;case 8:case"end":return e.stop()}},e,t)}))()},methods:{backToList:function(){this.$emit("back-to-list")},selectStands:function(t){this.unitApplyInfo.stands=t},submit:function(){var t=this;return m()(p.a.mark(function e(){var a,n,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.dcw.apply(t.dcw.id,t.unitApplyInfo);case 2:a=e.sent,n=a.state,i=a.message,a.data,n?t.$toast("提交成功"):t.$toast(i);case 7:case"end":return e.stop()}},e,t)}))()}}}),S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"back",on:{click:t.backToList}},[a("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),a("div",{staticClass:"page-title"},[t._v("\n    "+t._s("双选会名称："+t.dcwName)+"\n  ")]),t._v(" "),t.loading?a("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):a("div",{staticClass:"module-container"},[a("unit-info",{attrs:{dcw:t.dcw,"my-unit":"",edit:""},model:{value:t.unitApplyInfo,callback:function(e){t.unitApplyInfo=e},expression:"unitApplyInfo"}}),t._v(" "),a("positions-info",{attrs:{dcw:t.dcw,edit:""},model:{value:t.unitApplyInfo.positions,callback:function(e){t.$set(t.unitApplyInfo,"positions",e)},expression:"unitApplyInfo.positions"}}),t._v(" "),a("recruitment-info",{attrs:{dcw:t.dcw,edit:""},model:{value:t.unitApplyInfo.recruitment,callback:function(e){t.$set(t.unitApplyInfo,"recruitment",e)},expression:"unitApplyInfo.recruitment"}}),t._v(" "),a("stand-info",{model:{value:t.dcw.standInfo,callback:function(e){t.$set(t.dcw,"standInfo",e)},expression:"dcw.standInfo"}},[a("template",{slot:"start"},[a("el-form",[a("el-form-item",{attrs:{label:"双选会场地"}},[a("p",[t._v(t._s(t.dcw.baseInfo.address))])])],1)],1)],2),t._v(" "),"UNIT"===t.dcw.standInfo.chooseType?a("module-container",{attrs:{inline:""}},[a("stand-picker",{attrs:{dcw:t.dcw,published:"",selectable:""},model:{value:t.unitApplyInfo.stands,callback:function(e){t.$set(t.unitApplyInfo,"stands",e)},expression:"unitApplyInfo.stands"}})],1):t._e(),t._v(" "),"MANAGER"===t.dcw.standInfo.chooseType?a("module-container",{attrs:{title:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:""},model:{value:t.unitApplyInfo.remark,callback:function(e){t.$set(t.unitApplyInfo,"remark",e)},expression:"unitApplyInfo.remark"}})],1):t._e(),t._v(" "),t.dcw.applied?t._e():a("module-container",{attrs:{actions:""}},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("提交审核")])],1)],1)],1)},staticRenderFns:[]},N=a("C7Lr")(D,S,!1,null,null,null).exports,C=a("DmHF"),L=(C.a,{components:{UnitAllDcwList:r,UnitMyDcwList:u,UnitDcwDetail:g,UnitApplyDcw:N,UnitApplyDetail:C.a},data:function(){return{activeList:"ALL",page:"LIST",currentDcw:null,unitApplyInfoId:null,auditStatus:null}},methods:{toDetail:function(t){this.currentDcw=t,this.page="DETAIL"},toApply:function(t){this.page="APPLY"},toApplyDetail:function(t){var e=t.unitApplyInfoId,a=t.dcw,n=t.auditStatus;this.currentDcw=a,this.unitApplyInfoId=e,this.auditStatus=n,this.page="APPLY_DETAIL"},backToList:function(){this.page="LIST"}}}),E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"LIST"===t.page,expression:"page === 'LIST'"}],staticClass:"tab-content"},[a("el-tabs",{model:{value:t.activeList,callback:function(e){t.activeList=e},expression:"activeList"}},[a("el-tab-pane",{attrs:{label:"双选会列表",name:"ALL"}},[a("unit-all-dcw-list",{on:{"to-detail":t.toDetail,"to-apply":t.toApply}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"我的双选会",name:"MINE"}},[a("unit-my-dcw-list",{on:{"to-detail":t.toDetail,"to-apply":t.toApply,"to-apply-detail":t.toApplyDetail}})],1)],1)],1),t._v(" "),"DETAIL"===t.page?a("div",[a("unit-dcw-detail",{attrs:{id:t.currentDcw.id,"dcw-name":t.currentDcw.baseInfo.name},on:{"back-to-list":t.backToList,"to-apply":t.toApply}})],1):t._e(),t._v(" "),"APPLY"===t.page?a("div",[a("unit-apply-dcw",{attrs:{id:t.currentDcw.id,"dcw-name":t.currentDcw.baseInfo.name},on:{"back-to-list":t.backToList}})],1):t._e(),t._v(" "),"APPLY_DETAIL"===t.page?a("div",[a("unit-apply-detail",{attrs:{id:t.currentDcw.id,"dcw-name":t.currentDcw.baseInfo.name,"unit-apply-info-id":t.unitApplyInfoId,"audit-status":t.auditStatus,"is-unit":""},on:{"back-to-list":t.backToList}})],1):t._e()])},staticRenderFns:[]};var U=a("C7Lr")(L,E,!1,function(t){a("1dx8")},null,null);e.default=U.exports}});