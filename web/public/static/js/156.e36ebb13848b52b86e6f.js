webpackJsonp([156],{dEOv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("C331"),r=(a("ZpE2"),{data:function(){var e=this;return{provinceSecondArr:[],tableCheckedList:[],url:"/table-data/archives/middle/getListMiddle",columns:[],isParentPage:!0,checkTemplateUrl:"/archives/query/getImageDate",importParams:{parentPageTitle:"中学标准库",downloadTemplateUrl:"/archives/middle/template",downloadErrorTemplateUrl:"/archives/middle/errorFile",templateName:"中学标准库导入模板.xlsx",importBtnType:[{name:"中学标准库导入.xlsx",url:"/archives/middle",method:"PUT",isShowBtn:!0,success:function(t){t.state&&(e.url=e.url+"?timestamp="+(new Date).getTime())}}]}}},created:function(){this.initC()},computed:{nowArr:function(){var e=[];return 0==this.tableCheckedList.length?e=[]:this.tableCheckedList.forEach(function(t){e.push(t.id)}),e}},methods:{batchDel:function(){var e=this;if(this.nowArr.length>0){Object(i.d)("/api/archives/middle/deleteMiddle?id="+this.nowArr,"","delete").then(function(t){t.state&&(e.url=e.url+"?timestamp="+(new Date).getTime())})}else this.$toast("请勾选需要操作的行")},exportTable:function(){this.nowArr.length>0?window.location.href="/downloads/archives/getMiddleExcel?middleId="+this.nowArr:this.$toast("请勾选需要操作的行")},_tableChecked:function(e){this.tableCheckedList=e},backParentPage:function(){this.isParentPage=!0,this.url=this.url+"?timestamp="+(new Date).getTime()},batchSet:function(){this.isParentPage=!1},initC:function(){var e=this;this.columns=[{id:"province",title:"省份",className:"text-left",hidden:!1,width:120,search:{type:"select",data:{url:"api/archives/permissions/getProvinceList",optionsLabel:"label",optionsValue:"value",placeholder:"",change:function(t){Object(i.e)({url:"api/archives/permissions/getProvinceSecond?value="+t.value,type:"get",success:function(t){e.provinceSecondArr=t.data,e.initC()}})}}}},{id:"provinceSecond",title:"地区",className:"text-left",hidden:!1,width:120,search:{type:"select",data:{options:this.provinceSecondArr,optionsLabel:"label",optionsValue:"value",placeholder:""}}},{id:"middleSchoolName",title:"中学名称",className:"text-left",hidden:!1,width:120,search:{type:"input",data:{autoFocus:!0,placeholder:"中学名称"}}}]}}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isParentPage?a("div",{staticClass:"relationship-page container-fluid",attrs:{id:"schoolStandard-page"}},[a("v-table",{ref:"studentTable",attrs:{url:e.url,pagesize:"10",idField:"id",columns:e.columns,multiple:!0,order:!0,search:!0},on:{afterChecked:e._tableChecked}},[a("div",{attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[a("div",{staticClass:"btn-group pull-right"},[a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(t){return e.batchDel()}}},[e._v("批量删除")]),e._v(" "),a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(t){return e.batchSet()}}},[e._v("批量导入")]),e._v(" "),a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(t){return e.exportTable()}}},[e._v("导出")])])])])],1):a("v-import",e._b({attrs:{checkTemplateUrl:e.checkTemplateUrl},on:{backParentPage:e.backParentPage}},"v-import",e.importParams,!1))},staticRenderFns:[]};var l=a("C7Lr")(r,n,!1,function(e){a("exQI")},null,null);t.default=l.exports},exQI:function(e,t){}});