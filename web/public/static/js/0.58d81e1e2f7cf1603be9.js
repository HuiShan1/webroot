webpackJsonp([0],{"++D3":function(t,e){},"+OQL":function(t,e){t.exports="data:image/gif;base64,R0lGODlhMgAtAOUAAP///+fn59vb2/f39/v7+5KSkl1dXePj49fX16ampnFxcd/f34qKinl5efPz8+vr69LS0u/v76KiolFRUcLCwllZWWlpaW1tbcrKyrKyss7OzmVlZZaWloaGhlVVVZ6enn19fWFhYUlJSbq6upqamq6urra2tr6+vqqqqo6OjsbGxkVFRXV1dUFBQTk5OT09PU1NTYKCgigoKDU1NS0tLTExMRwcHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgA3ACwAAAAAMgAtAAAG/0CAcEgsGo/IpHLJbDqf0Gg0IBgACAXDQXhAEKRSQkKxuDK0gEGh4QA3H5CIUDKhmCvbgOXSJgy+bkcYFhlCGhscBAQdHlsYFR9fBA5tgUYPICEIABEKChGLEwEAHyJ2kw5WlpxVhh4dfx8MDwQjEg4EHyBbAxGqab9REAofVlgTGAAPC8EEBweSf0K9lVIRJB7FAAsJEE1+0xG+gQOlHJWATg4BD8FOEQKV5Q2bUZPtQwPuSRAXIBpCnMmRoi9gBAe0mkTIcCEEhzKr/EQIIO3JgwQWEuyzh3BjkwUC0rkZkOrJgRImmK1C0uugEggg/DUo8WDlEAIBAixYMBAJgf8HCEqAICHA5rRnqUQqmeQRjB+lRqMWSfCBxIcPGKAGWrdzp5KYGzZYKKHVDTwIGtIqifCgLT6pip5KnVvEAYITJ7bY/Nm26ZAAKFKAIKZ35U8EGgTwVLKgQIETCHoa5YpgVBKmN3FFbFb2CAQJFPwq3Cm6iLMMDToAXOVggQYMCT9ySGGi5pXO3+BggNbkgAqIABBkKPyEgAAv09jhRoKgAwfbUIyPQB4IAgMOvA5I9unSOAUIpZEESJFCr4YPm+QSUZQGAoRKAkYAj/JAheUHHyTIQQCe0yjj4BGwgHxHQRcIASekUBQBJZSACwUJtKEBTQA4cIIK1dh0gAQjWBFDAQomKGICB3IckEFRABxAAXU2BYDBQJ95U8sHcjgwAgWS7LScPQFpIMEWM8oxwAkd0mXET60QAOFAByywo5FQRplEEAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgsBgDCzy0ijCyK0Kh0WGHeCiLrbTPtEh23gXC0ggixTAeLKHh6oQvDMKBQ3lLZG4IY2BTeUGA3B2E3DWIpLUwZLmY3IC8agGEHSDcCV0IoIEIUQwUWTAgvf0IPhFOEKEQie2JTDgoVD0IaEyRdAwlCSEyYXhEkJ0IQLTBuUwC7dpNEFCIVAVIDEZaWqM1CMSG0UywpyBGv2TcBWgRQAxRcEtLksFpFGe/Jbw/u9EToUCMY1flvXj1h0eGGCUEAo5xDhi+hkAAPukGx5LCixREoMpZwZPHGvodEFHQcIgbDEAAoU44sQnHlGwIBJEmsSAhhBBNCLNyY6RDVvYhyNz6oCPBxZIQHblDqcyklAIoRHRsSiTAiRimLCxAgLHJiq0VsTRBIPKAiXjawXg6kYEbugCdATyQwaUluAV0oH0h0Q5AhaReT+whJLeIAghVdJcQgA3TXi4oEqExAZbqTyIAMw26okDDOXQSO2eIFKIHq8SsMJk0NfkfCyuZXKigPMfmKZ5cgACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCwaiYGjclm0LC/M6FHllFqVrFF0EUJdmSnWI7oaMmCC73hokQgzHaEmIfywiKTvLT5MhK4NekMbXoKFNxg3BlYjf4JDGC96I3yPNwpED0lEMXmWSwMJIpVyIA0lEZ9EAycGLjEHWIeqKhUWiapXDxBHFLlSDioJFA8pFykpvr9EGRYbEyslQxQcdMtDHCwSBw7X3t/MJuLgQg4R5xEMpg2k3gcC8Gnk878RCAj0RBQSKTGz1+/MCUnwD9wABwHW5JNiQsWyAVFUFEggLxeBAwEWHEEhAZe3AQG6RdHwSaGQVEseJJD2iZeVAAkyDEGpJ4DLKBlYClEmBR6RTJtLBEB8Y0LIA403hgpB+gCBQppWIIxYQ8ElhKI3BGgRAgGongweKZC8oUHmjQg8byyI9QjfEIdyzN5A4PWXgENlh3Qlh3TuiUxXggAAIfkEBQoANwAsBgADACgAKAAABv/Am3BILD6GmUtxyWw2G8PEZviBOq/ERREhlA4ZseEB6wSphA8GqjsVsjLDhoTMlDCGsYJQYhhWhgUedEwBIGs3JxxIXUSCREdXBSNDJUp0HRZEGwlYJhcnQyNjdBhDHpZkCnCDRRAwmU4ORQWQrEJ3Vwsfh7ZkJTd6RR0coL1XIilNFCnFxsYRzqwaAtG2pR8pHBKl1UsULH8vRQkn0N1EHRVmteex7dUaFCcnKlrvQgskKQX8CSn/JM7cu6FhgosXL1YMXMiwYYkPGmQJwVBCAgcKEt8xQDihQbkRIyDcAMAwAAUQBhQ1HBRBg8h2AzIu0VBC1LsHA8w9omCCy0JvBwBk3hg1xKcxBzpvDMCSgUI0BwHYXTHBLVqEAEmVORUSAELWJgcCDHGwQGiRAURvqKgq9UYAsUIOmB204OWNqgs0xNWLz14vBxSoCYHgU0BVuznb0vEbQQAkAXyH+o3ZbhI+gTcE+G2Yl8hcJkEAACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCQ6ip2icslcUpJDxTCRalqbkNgiOuQwruAAicgZcYUdMxoFXpY4x1vhM7wIKZvhx9BmMkxTA0UZVUIWbH03CRREMVYRQykgiUIqUHd9gEIIIX0YDGqUQ3yJKoiicpNNASUZqEuQRWNEAiQSr00XE00Yt7hEGhYNv8RDCMWUJWMlEMhFMSEVMLSazkIpIZfW29wYGCoa3DcBvjckJRISHwniNxXt8NsBB9zVQxAUIygY3BxEKjcoAIw3pBzBg5UunFIiYMTAYgdYvAjBz4iGh9YoTBBBp0mELa8SGCxhr4gDcLg4yPAHJoKKZr8+zCgQB0tFIfTaRIh1gwMNNYOwaB274aAmE6MmboYRYCzAEqZDnL4aKmQByCILag4wmkgqTiYPxAVQGk5IgLDxAlAlkCgIACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCwSTymjcskcYjhDU1JogjavwgfRestMb5IPFpuADEsUoTf7wQw5prHxVBpK6t2OEAM6CFENckoJaTcaJ3NiQiyCNw8jZkIqXBFNHwxEDSNXGhKRA5FYJwhDIAxaVxAJbo2ZXGObrUIJBZVMKiqyWCYXCUYmo7pKGB0WJEsIJxrCRSBfzNA3AQPRTQixFCYjJwvVRBgMLCEGRSqk3kIkLK/o7egLEPEIqO0oNyTHKib7FOfuKyJWeHBH0J2tdr6IHMCAgYIAdx9E3DCQQoMDAQi6FRTCQcFGQQMOBKi2LM6SABAEHIxW4UaoIQcEjGwHwcJAIgOoEXEgDM8RamsaZUm4oQgLAj+NBmiYeQPGmAVBb/DE8mBDICEfJtgTdADpDQJGUHDgmcBFLFkRHOgMMPUBUhIuHt7YMIFeowVMH8x0u0dELA0wjsmaKiRnFqQPLFy9oS1aBH98hTQIsTLaAMI3vDaUEwQAIfkEBQoANwAsBgADACgAKAAABv/Am3BILBIxCaNyyRxCksIT8SRpWpUC6E06NGmvzBFRHCV+E1wwUUUZlringhAiF5oKAbXxBDEuMEIqWilkaoBOhVYoJEQdVwsZRAtqGnpFGX2WQwsdKXoIh5o3GR9NDhCZQgCiShQgRgEqKqxLfQ0lS5O0Rgwcu79DB8BgFAg3GBQqqcNEMQoXJkMBELrMNwkxH8vW3NYHCwd53UISKOYaFCcUGtXMCxcTFRUh4/X2zCYCRQgCGMLdHjxc8CVkgbh7t+4pXPKqSTtgMSYseXAgQj0DuJgM+JXRziwmB1m9UDOg4q8kVaxECAmAwBUHF8ys0PTgQZQCFhcYG1XqRok1mcMGsLBgMQWMIS2I0GMVweKNABtiCEkhwmk9FR7IFKi6pM0vEi90UbU6jgKKIRxgON3WJAgAIfkEBQoANwAsBgADACgAKAAABv/Am3BILBYzxqRySTQNNUgh5sSsKkcRoQY1pFCtTAfmMIRAtFHHCDEcqcBGxFk4wghViaGku4cXBxpEAkkjQg8fFH43AgtDAnZCA0wmJUQfkEwqZIZ+jTcBH3lWByqeikIBJKJgBwiSpzcUlUQORQEHr7BLGiSFRQgLD7pKKL1KAQKbw0MJq8vP0GCPQgJyN8LRQwgJJAwMXzcRwdlDJQUZg+Tq61lDtetOQhkLZhDj6yAXFxsK6/7/6t4UeXDggYB25EooYAFiyIMHCP2d+QbQz4B30AqAMzIgQsRnDBTESOIAozoQLOIpgcBAmaIRKq1gaOEhwDARcCi8qLAJgs1SfwtgTNg0wsPGJQ2KePClZAEKbBFgbKilos9PIxWIUJgD5oMITEM4eBAiAcYQBRZ0BW0Y7gKDJGOHWJilaMEHbDcMKFHQYV2fJDEurNMQMyusIAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgsEgUUo3LJHB4wQ8RoKNA0r8qHVYhICiEqLFbwGAYWXCJ0qIGIjQv0V8A9DUcOocYUeRsDB0IHZTcPcgJrNyNufg+EN4BNBEMqYUIPJoxMDwiPeWIIRCVTWBF0fkYZJo2PqDcaXkwOfa5iCZZDDoOftXAZt0oAEa29QgEmJgFXvMVCtEURA82oBA8HBwHM00MmJR8fiQMB0ttEJwmk5errShHu2uoqJ/N2cYPsQyQgMQwd+P/rBGSQEGidBhXKjKUwIKLGBTnqRsQAwSGDAAghNlgEKGQECY5+BDRIoQ7ckgAMXHhIN+0DCJJFMLYg8azcggL+jqCAeKNAMWcKsW5g2LKkgoViJyyUeCNCATEsC2iNYLEUy4ZHIYg26fBhyAkFQf8UqXDhCoqOFxK5QuFhSAwWQroOMTAERINmMG+w4CCExIQhISwhANErQIIhEI4OqeDWJzu2RP4KYRADpJANvYIAACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCwWNcakcqlcIIcCplSJGC6IAsh0elg+b9Gt9PEgdoWqIYWYFruJ2jezLP7eTtsrkZAnjtZbAXRyQn+Ehwh2h4sCJkkRA4tKFCOKRA6SRSptmZkSJoOdVGAeLQYVJBGiRBQmKAlaAxAFFQphqzcmKmdFkbi/iwXCwiPAmEMqMC0vLysFwDcSDCk3JNDXuCjYQ6rbNykMGcXeVjcJ5GIcogvnS+q/CRwSekUw1x8kgOhbG5kK41I0hLAgCo8UFkUIbtN3I0QDIRpKGDmRQciaODcsSTFABISQBAolDmHAYBHHITGIhBhyodwikWqEfGh5w8GzIRoJiRjy4eSNCXe/qgxBgZBQEAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgsEh8Co3LJHEaSwgAxcGhal9UoZPhYXK8O4iCiHR6kwkf2S3SEhYdHVFMWLhDsWwQtHMj1BEIOfwdeQhBrVwgWBW1sC4Z6GJFLKTYcQwBvVg9kh3RXBTIMeUURGqBKDokcBpSleEwYHhZbUaVMBxSxgigrLQWJuEcak0oRBTAdw0YPEBCeSwi2zNXWSn83ISJCCddGARgYFCNFId9GEBjU6E0A7dUSRCrwQwgazxAVRCT1QiYSAqLwRxBelQwEIWS7QcKCkAb+VKD4cELFAQEKFNwQVk+DCXYFv3xoZ4KXkgkh6H1zMEICCj52HBYsUSLVRhNEBHhjhsGISWIjHqypSKHSCh6NQqCUGsoG6Q0KINi4HKKCQc8mI6KxWHYDQTk9a75iaGTNaYEUQkpAvGGCxRASmJgpGCmE7I0EF+DEoMahqLUOV3cOGWjvW4a83RDfkBC33tUbGaLaAckkCAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgkBhbEA5FQbDqfQo7nMVQOHdBsETLMiDTV4YCq1SJgEuHBUggLHRExuVxUTAJCywV7EwgjVkJ4dE0IIgxCJBuDQw+MfoRDJEMdL1x9Wox9mk4kM0MBJGB0A0MLSGUJNW2RRQKQhButRoFOECENsLNQEQioQyYTu1qnnJI3KcNND7/KzkIoz4QPVBYuGxbSTq8QGIESFiDaRAK+4+fo6VqlRCEwMCIwCekRKib3I+r64yf56Ai6biRQEEJEjHQITJSAcClGh32CEKiAGKlANG0YmhWRsKHBKGkqRpxwEmNDiXQPRmBoQgHdJSGnslxINgzCPEIWOMRpNUfDh1mPT/B02IkBEZ0S/m5oIIFAy0RKHIaoYEIEwlMIk4YIqKVlBAMrH7KOoEmB5g0UF3c1SHtWSAmjNwpACsC2VdIFKS6ZMFsiQ7oTLLqIE5Lh5rlmI1gJCQglCAA7"},"+X9P":function(t,e,i){"use strict";var a=i("lC5x"),s=i.n(a),n=i("J0Oq"),o=i.n(n),r=i("2IYH"),l=i("aA9S"),c=i.n(l),u={data:function(){return{timeRangePickerOptions:{},applyTimeRangePickerOptions:{}}},created:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.initTimeLimit();case 1:case"end":return e.stop()}},e,t)}))()},methods:{initTimeLimit:function(){var t=this;c()(this.timeRangePickerOptions,{disabledDate:function(e){var i=t.form.applyTimeRange&&t.form.applyTimeRange[1];return!!i&&e<i}}),c()(this.applyTimeRangePickerOptions,{disabledDate:function(e){var i=t.form.timeRange&&t.form.timeRange[0];return!!i&&e>i}})}}},d=i("Se9A"),p=(Boolean,Boolean,Object,r.a,d.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[r.a,u],components:{ModuleContainer:d.a},data:function(){return{formRules:{name:[{required:!0,message:"请输入网招会名称",trigger:"blur"},{min:2,max:60,message:"长度在2到60个汉字",trigger:"blur"}],timeRange:[{required:!0,message:"请选择网招会起止时间",trigger:"blur"}],applyTimeRange:[{required:!0,message:"请选择申请起止时间",trigger:"blur"}]},editorConfig:{autoHeightEnabled:!0,wordCount:!1,autoFloatEnabled:!1,toolbars:[["source","undo","redo","bold","italic","underline","strikethrough","fontborder","subscript","superscript","formatmatch","removeformat","time","date","horizontal"],["paragraph","fontfamily","fontsize","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","lineheight","rowspacingtop","rowspacingbottom"],["simpleupload","insertimage","attachment","link","emotion","spechars","imagenone","imageleft","imageright","imagecenter","inserttable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","deletecaption","inserttitle","mergecells","edittable","edittd","deletetable","insertparagraphbeforetable"],["autotypeset","pasteplain","snapscreen","preview","print","fullscreen","background","touppercase","tolowercase","insertcode","directionalityltr","directionalityrtl","customstyle","template"]]}}},created:function(){},methods:{validate:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$refs.form.validate());case 1:case"end":return e.stop()}},e,t)}))()}}}),m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"基本信息",inline:t.inline}},[t.edit?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules},on:{validate:t.formValidate}},[i("el-form-item",{attrs:{label:"网招会名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入网招会名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网招会起止时间",prop:"timeRange"}},[i("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","picker-options":t.timeRangePickerOptions},model:{value:t.form.timeRange,callback:function(e){t.$set(t.form,"timeRange",e)},expression:"form.timeRange"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"申请起止时间",prop:"applyTimeRange"}},[i("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","picker-options":t.applyTimeRangePickerOptions},model:{value:t.form.applyTimeRange,callback:function(e){t.$set(t.form,"applyTimeRange",e)},expression:"form.applyTimeRange"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("u-editor",{ref:"descEditor",attrs:{config:t.editorConfig},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1):i("el-form",{attrs:{model:t.form,size:"small"}},[t.rules.name&&t.rules.name.hidden?t._e():i("el-form-item",{attrs:{label:"网招会名称"}},[i("p",[t._v(t._s(t.form.name))])]),t._v(" "),i("el-form-item",{attrs:{label:"网招会起止时间"}},[i("p",[t._v(t._s(t.form.timeRange.map(function(t){return new Date(t).format("yyyy-MM-dd HH:mm")}).join(" ~ ")))])]),t._v(" "),t.rules.applyTime&&t.rules.applyTime.hidden?t._e():i("el-form-item",{attrs:{label:"申请起止时间"}},[i("p",[t._v(t._s(t.form.applyTimeRange.map(function(t){return new Date(t).format("yyyy-MM-dd HH:mm")}).join(" ~ ")))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1)],1)},staticRenderFns:[]},_=i("C7Lr")(p,m,!1,null,null,null);e.a=_.exports},"/NeE":function(t,e,i){"use strict";var a=i("KH7x"),s=i.n(a);e.a={mergeSameDayDateTime:function(t,e){var i=t.split(/\s/),a=s()(i,2),n=a[0],o=a[1],r=e.split(/\s/),l=s()(r,2),c=l[0],u=l[1];return n!==c?t+" ~ "+e:n+" "+o+"~"+u}}},"/tWO":function(t,e,i){"use strict";i("M17r");var a=i("lxAt"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"jobApplyForm"}},[t.isShowLog?i("div",{staticClass:"log"},[i("button",{staticClass:"btn log-toggle",class:[t.logShow?"open":""],attrs:{title:"操作日志"},on:{click:function(e){t.logShow=!t.logShow}}},[t._v("\n        日志\n      ")]),t._v(" "),i("div",{staticClass:"log-content",class:[t.logShow?"active":""]},[t.isLogRecord?i("div",{staticClass:"log-item"},[i("span",{staticClass:"btn-block log-time"},[t._v("当前状态")]),t._v(" "),i("label",[i("strong",[t._v(t._s(t.logData.statusLabel))])])]):i("div",{staticClass:"log-item"},[t._m(0)]),t._v(" "),t._l(t.logData.histories,function(e,a){return i("div",{key:a,staticClass:"log-item"},[i("label",{staticClass:"btn-block log-time"},[t._v(t._s(e.createTime))]),t._v(" "),i("label",{staticClass:"btn-block log-detail"},[t._v("在"),i("strong",[t._v(t._s(e.node.nodeType.name))]),t._v("节点")]),t._v(" "),i("label",{staticClass:"btn-block log-detail"},[i("strong",[t._v(t._s(e.operator.name))]),i("strong",[t._v(t._s(t.actionTypeData[e.actionType])+"申请")])]),t._v(" "),"DISAGREE"===t.actionTypeData[e.actionType]?i("label",{staticClass:"btn-block log-detail"},[t._v("意见为："),i("strong",[t._v(t._s(e.opinion))])]):t._e(),t._v(" "),i("div",{staticClass:"log-records"},t._l(e.modifiedValues,function(e,a){return i("p",{key:a},[i("label",{staticClass:"btn-block log-detail"},[t._v("更新了"),i("strong",[t._v(t._s(e.valueTypeLabel))]),t._v("为"),i("strong",[t._v(t._s(e.newValueLabel))])])])}),0)])})],2)]):t._e(),t._v(" "),i("div",{staticClass:"jobApplyForm-header"},[i("i",{staticClass:"maticon back-icon-btn pull-left",domProps:{innerHTML:t._s(t.icons("navigate_before"))},on:{click:t._back}},[t._v("navigate_before")]),t._v(" "),i("div",{staticClass:"jobApplyForm-title"},[t._v("岗位申请表")])]),t._v(" "),i("div",{staticClass:"jobApplyForm-body",style:"max-height:"+t.scrollHeight+"px"},[i("div",{staticClass:"date-select-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label"},[t._v("申请人姓名")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.applyName,expression:"applyListData.applyName"}],staticClass:"form-control form-input",attrs:{type:"text",disabled:!0,placeholder:"请输入姓名"},domProps:{value:t.applyListData.applyName},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"applyName",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label",staticStyle:{"margin-left":"50px"}},[t._v("联系方式")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.contact,expression:"applyListData.contact"}],staticClass:"form-control form-input",attrs:{type:"text",disabled:!t.isApply,placeholder:"请输入联系方式"},domProps:{value:t.applyListData.contact},on:{change:t.isPhoneNo,input:function(e){e.target.composing||t.$set(t.applyListData,"contact",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"date-select-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label pull-left  time-picker-label one-words-difference-margin"},[t._v("申请日期")]),t._v(" "),i("v-datepicker",{ref:"workStartTime",staticClass:"time-picker",class:{disabled:!0},attrs:{disabled:!0,clearButton:!1,showTime:!1},model:{value:t.applyListData.applyTime,callback:function(e){t.$set(t.applyListData,"applyTime",e)},expression:"applyListData.applyTime"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label pull-left time-picker-label"},[t._v("工作开始时间")]),t._v(" "),i("v-datepicker",{ref:"workStartTime",staticClass:"time-picker",class:{disabled:!t.isApply},attrs:{disabled:!t.isApply,clearButton:!1,showTime:!1},model:{value:t.applyListData.workStartTime,callback:function(e){t.$set(t.applyListData,"workStartTime",e)},expression:"applyListData.workStartTime"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label pull-left time-picker-label"},[t._v("工作结束时间")]),t._v(" "),i("v-datepicker",{ref:"workStartTime",staticClass:"time-picker",class:{disabled:!t.isApply},attrs:{disabled:!t.isApply,clearButton:!1,showTime:!1},model:{value:t.applyListData.workEndTime,callback:function(e){t.$set(t.applyListData,"workEndTime",e)},expression:"applyListData.workEndTime"}})],1)]),t._v(" "),i("div",{staticClass:"date-select-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"input-label"},[t._v("是否困难生")]),t._v(" "),i("v-select",{staticClass:"btn-block form-select",attrs:{value:t.applyListData.isDifficultyStudent,options:t.isTodifficultStudentData,optionsLabel:"text",optionsValue:"id",disabled:!t.isApply,search:"","close-on-select":""},on:{afterSelected:t.difficultStudentSelected}})],1),t._v(" "),"true"===t.applyListData.isDifficultyStudent?i("div",{staticClass:"form-group"},[i("label",{staticClass:"input-label"},[t._v("困难认定级别")]),t._v(" "),i("v-select",{staticClass:"btn-block form-select",attrs:{value:t.applyListData.difficultyLevel,options:t.difficultyLevelData,optionsLabel:"label",optionsValue:"value",disabled:!t.isApply,search:"","close-on-select":""},on:{afterSelected:t.levelSelected}})],1):t._e(),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label one-words-difference-margin",attrs:{title:t.applyListData.validWorkTime}},[t._v("工作时间段")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.validWorkTime,expression:"applyListData.validWorkTime"}],staticClass:"form-control form-input",attrs:{type:"text",title:t.applyListData.validWorkTime,disabled:!t.isApply,placeholder:"请输入可工作时间段"},domProps:{value:t.applyListData.validWorkTime},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"validWorkTime",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"form-group computer-skills"},[i("label",{staticClass:"form-label verticalAlign-top"},[t._v("计算机能力")]),t._v(" "),i("div",{staticClass:"computer-content"},[i("div",t._l(t.computerSkillsData,function(e,a){return i("div",{key:a,staticClass:"computer-skills-options"},[i("span",{on:{click:function(i){return t.changeComputer(e,t.isApply)}}},[t.applyListData.computerSkill.indexOf(e.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v(t._s(e.title))])])}),0),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"computer-skills-options"},[t.isApply?i("span",{on:{click:function(e){return t.changeComputer(t.computerOther,t.isApply)}}},[t.computerOther.checked?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):i("span",{on:{click:function(e){return t.changeComputer(t.computerOther,t.isApply)}}},[t.computerOther.title&&t.applyListData.computerSkill.indexOf(t.computerOther.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v("其他")])]),t._v(" "),i("span",{staticClass:"other"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.computerOther.title,expression:"computerOther.title"}],staticClass:"form-control search-input",attrs:{type:"text",disabled:!t.isApply},domProps:{value:t.computerOther.title},on:{input:function(e){e.target.composing||t.$set(t.computerOther,"title",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"form-group computer-skills"},[i("label",{staticClass:"form-label verticalAlign-top one-words-difference-margin"},[t._v("写作能力")]),t._v(" "),i("div",{staticClass:"computer-content"},[i("div",t._l(t.writingAbilityData,function(e,a){return i("div",{key:a,staticClass:"computer-skills-options"},[i("span",{on:{click:function(i){return t.changeWriting(e,t.isApply)}}},[t.applyListData.writeSkill.indexOf(e.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v(t._s(e.title))])])}),0),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"computer-skills-options"},[t.isApply?i("span",{attrs:{title:"222"},on:{click:function(e){return t.changeWriting(t.writingOther,t.isApply)}}},[t.writingOther.checked?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):i("span",{on:{click:function(e){return t.changeWriting(t.writingOther,t.isApply)}}},[t.writingOther.title&&t.applyListData.writeSkill.indexOf(t.writingOther.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v("其他")])]),t._v(" "),i("span",{staticClass:"other"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.writingOther.title,expression:"writingOther.title"}],staticClass:"form-control search-input",attrs:{type:"text",disabled:!t.isApply},domProps:{value:t.writingOther.title},on:{input:function(e){e.target.composing||t.$set(t.writingOther,"title",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[i("label",{staticClass:"input-label three-words-difference-margin verticalAlign-top"},[t._v("备注")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.remark,expression:"applyListData.remark"}],staticClass:"modal-textarea",attrs:{cols:"24",rows:"5",maxlength:"600"},domProps:{value:t.applyListData.remark},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"remark",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[i("label",{staticClass:"input-label one-words-difference-margin"},[t._v("添加附件")]),t._v(" "),t.isApply?i("span",[i("div",{staticClass:"btn upload"},[t._v("添加附件"),i("input",{attrs:{type:"file"},on:{change:function(e){return t._fileUpload(e)}}})])]):t._e(),t._v(" "),i("div",{staticClass:"file-div"},[t.applyListData.attachment.length>0?i("ul",{staticClass:"list-group"},t._l(t.applyListData.attachment,function(e,a){return i("li",{key:a,staticClass:"list-group-item"},[i("span",{staticClass:"pull-right"},[i("a",{attrs:{"data-href":t.fileUrlPrefix+e.hash},on:{click:t._downloadFile}},[t._v("下载")])]),t._v(" "),i("i",{staticClass:" maticon pull-right",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return t._removeFile(a)}}},[t._v("cancel")]),t._v(" "),t.supportPreview.indexOf(e.originalName.match(/([^.]+)$/)[1])>=0?i("p",{staticClass:"fileName"},[i("a",{staticClass:"a-style",on:{click:function(i){return t._showAttachmentPreview(e)}}},[t._v(t._s(e.originalName))])]):i("p",{staticClass:"fileName"},[i("a",[t._v(t._s(e.originalName))])])])}),0):i("div",{staticClass:"list-group"},[t._v("无")])])])]),t._v(" "),"application"===t.formType?i("div",{staticClass:"jobApplyForm-footer"},[i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn sumbit-form clearBtnBorder",attrs:{type:"button"},on:{click:t.sumbit}},[t._v("提交")])])]):"check"===t.formType?i("div",{staticClass:"jobApplyForm-footer"},["TODO"===t.formStatus?i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._pass}},[t._v("通过")]),t._v(" "),i("button",{staticClass:"btn unpass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._unpass}},[t._v("不通过")])]):t._e(),t._v(" "),t.formDetail.opts?i("div",{staticClass:"btn-group"},[t.formDetail.opts.canRevoke?i("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e()]):t._e()]):"applicationRecord"===t.formType?i("div",{staticClass:"jobApplyForm-footer"},[i("div",{staticClass:"btn-group"},[t.formDetail.opts.canRevoke?i("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e(),t._v(" "),t.formDetail.opts.canResubmit?i("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._resubimt}},[t._v("重新提交")]):t._e(),t._v(" "),t.formDetail.opts.canCancel?i("button",{staticClass:"btn unpass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._cancelApplication}},[t._v("取消申请")]):t._e()])]):i("div",{staticClass:"jobApplyForm-footer"}),t._v(" "),i("v-modal",{attrs:{show:t.showUnpassOpinionModal,width:"500"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("\n        确定不通过该申请吗？\n      ")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"form-group"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.opinion,expression:"opinion"}],staticClass:"unpass-modal-textarea",attrs:{cols:"24",rows:"5",placeholder:"请输入不通过的意见",maxlength:"600"},domProps:{value:t.opinion},on:{input:function(e){e.target.composing||(t.opinion=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showUnpassOpinionModal=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.submitUnpassOpinion}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("暂无相关日志")])])}]};var n=function(t){i("t9KY")},o=i("C7Lr")(a.a,s,!1,n,null,null);e.a=o.exports},"/ue5":function(t,e,i){"use strict";(function(t){i("C331");var e=i("7liN"),a=(i.n(e),i("TD+U"));i.n(a)}).call(e,i("qqHy"))},"0FSR":function(t,e,i){"use strict";var a=i("2IYH"),s=i("Se9A"),n=(Boolean,a.a,s.a,{props:{inline:Boolean},mixins:[a.a],components:{ModuleContainer:s.a},methods:{showOjfUnitApply:function(t,e){this.$emit("show-ojf-unit-apply",t)}}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"参会单位",inline:t.inline}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form}},[i("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"企业名称",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionCount",label:"职位数量",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showOjfUnitApply(e.row,e.$index)}}},[t._v("查看")])]}}])})],1)],1)},staticRenderFns:[]},r=i("C7Lr")(n,o,!1,null,null,null);e.a=r.exports},"2IYH":function(t,e,i){"use strict";var a=i("hRKE"),s=i.n(a);e.a={props:["value"],data:function(){return{form:this.value}},watch:{form:{deep:!0,handler:function(t){"object"!==s()(this.form)&&this.$emit("input",t)}}}}},"3H1U":function(t,e){},"4+5z":function(t,e){},"4DA3":function(t,e,i){"use strict";i("aozt");var a=i("C331"),s=i("9r/T"),n={props:["showArea","width","options"],data:function(){return{mapJson:"../../../../static/json/map.json",province:"",sheng:"",shi:"",shi1:[],qu:"",qu1:[],city:"",block:"",_sheng:"",_shi:"",_qu:""}},watch:{options:{handler:function(t){var e=this;Object(s.setTimeout)(function(){if(t){var i=t.split(",");i[0]&&(e.sheng=i[0],e.choseProvince(i[0])),i[1]&&(e.shi=i[1],e.choseCity(i[1])),i[2]&&(e.qu=i[2],e.choseBlock(i[2]))}else e.sheng="",e.shi="",e.qu=""},200)},immediate:!0}},methods:{getCityData:function(){var t=this;Object(a.e)({url:this.mapJson,type:"get",success:function(e){e=e;for(var i in t.province=[],t.city=[],t.block=[],e)i.match(/0000$/)?t.province.push({id:i,value:e[i],children:[]}):i.match(/00$/)?t.city.push({id:i,value:e[i],children:[]}):t.block.push({id:i,value:e[i]});for(var a in t.province)for(var s in t.city)t.province[a].id.slice(0,2)===t.city[s].id.slice(0,2)&&t.province[a].children.push(t.city[s]);for(var n in t.city)for(var o in t.block)t.block[o].id.slice(0,4)===t.city[n].id.slice(0,4)&&t.city[n].children.push(t.block[o])}})},setIdVaule:function(t){var e={};return e.id=t.id,e.value=t.value,e},choseProvince:function(t){for(var e in this.province)t===this.province[e].id&&(this.shi1=this.province[e].children,this.shi=this.province[e].children[0].id,this.qu1=this.province[e].children[0].children,this.qu=this.province[e].children[0].children[0].id,this._sheng=this.setIdVaule(this.province[e]),this._shi=this.setIdVaule(this.province[e].children[0]),this._qu=this.setIdVaule(this.qu1[0]));this.$emit("getData",{province:this._sheng,city:this._shi,area:this._qu})},choseCity:function(t){for(var e in this.city)t===this.city[e].id&&(this.qu1=this.city[e].children,this.qu=this.city[e].children[0].id,this.E=this.qu1[0].id,this._shi=this.setIdVaule(this.city[e]),this._qu=this.setIdVaule(this.qu1[0]));this.$emit("getData",{province:this._sheng,city:this._shi,area:this._qu})},choseBlock:function(t){for(var e in this.qu1)t===this.qu1[e].id&&(this._qu=this.setIdVaule(this.qu1[e]));this.$emit("getData",{province:this._sheng,city:this._shi,area:this._qu})}},created:function(){this.getCityData()}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"linkage",attrs:{id:"linkage"}},[i("el-select",{style:"width:"+t.width+"px",attrs:{placeholder:"省级地区",filterable:""},on:{change:t.choseProvince},model:{value:t.sheng,callback:function(e){t.sheng=e},expression:"sheng"}},t._l(t.province,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1),t._v(" "),i("el-select",{style:"width:"+t.width+"px",attrs:{filterable:"",placeholder:"市级地区"},on:{change:t.choseCity},model:{value:t.shi,callback:function(e){t.shi=e},expression:"shi"}},t._l(t.shi1,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1),t._v(" "),t.showArea?i("el-select",{style:"width:"+t.width+"px",attrs:{filterable:"",placeholder:"区级地区"},on:{change:t.choseBlock},model:{value:t.qu,callback:function(e){t.qu=e},expression:"qu"}},t._l(t.qu1,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1):t._e()],1)},staticRenderFns:[]};var r=i("C7Lr")(n,o,!1,function(t){i("++D3")},"data-v-0c3633ab",null);e.a=r.exports},"5aPB":function(t,e){},"5rGT":function(t,e,i){"use strict";var a=i("3cXf"),s=i.n(a),n=i("C331"),o=(i("9r/T"),{name:"New-Address",data:function(){var t=this;return{options:[],values:"",texts:"",selectValue:[],myAddress:"请选择",cityUrl:"api/archives/permissions/getProvinceSecond",provenceUrl:"api/archives/permissions/getProvinceList",props:{expandTrigger:"hover",value:"value",label:"label",children:"city",checkStrictly:!0,lazy:!0,lazyLoad:function(e,i){1===e.level?t.getCity(e,i):2!==e.level||t.noArea?i([]):t.getArea(e,i)}}}},props:{value:{default:""},width:{default:220},noArea:{default:!1},disabled:{default:!1}},created:function(){this.myAddress=this.value},watch:{value:function(t){this.myAddress=t||"请选择",this.selectValue=["","",""]}},mounted:function(){this.getCNodes("根",[])},methods:{getCity:function(t,e){var i=this,a=this.cityUrl+"?value="+t.value;t.city&&t.city.length?t.city=JSON.parse(s()(t.city)):Object(n.d)(a).then(function(a){a.state&&(i.noArea?(t.city=a.data.map(function(t){return t.leaf=!0,t}),e(t.city)):(t.city=a.data.map(function(t){return t.city=[],t}),e(t.city)))})},getArea:function(t){t.city=[{value:124,label:"我自创的市"},{value:1234,label:"哈哈哈哈哈"}]},getCNodes:function(t,e){var i=this,a=this.provenceUrl;Object(n.d)(a).then(function(t){t.state&&(i.options=t.data.map(function(t){return t.city=[],t}))})},handleItemChange:function(t){this.values=t;var e=t.length,i=this;1===e?i.options.forEach(function(e,a){e.value===t[0]&&i.getCity(e)}):2!==e||this.noArea||i.options.forEach(function(e,a){e.value===t[0]&&e.city.forEach(function(e,a){e.value===t[1]&&i.getArea(e)})})},handleChange:function(t,e){var i=this,a=this;a.values=this.selectValue[0],this.selectValue[1]&&(a.values+=","+this.selectValue[1]),this.$nextTick(function(t){a.texts=i.$refs.cascader.inputValue,i.$emit("onChange",a.values)})}}}),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-elwrap",style:{width:t.width+"px"}},[i("el-cascader",{ref:"cascader",staticStyle:{width:"100%",height:"34px"},attrs:{disabled:t.disabled,placeholder:t.myAddress,"popper-class":"cascader-panel",separator:",",options:t.options,props:t.props},on:{change:t.handleChange},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})],1)},staticRenderFns:[]};var l=i("C7Lr")(o,r,!1,function(t){i("BlvK")},null,null);e.a=l.exports},"6pjK":function(t,e){},"6s1/":function(t,e,i){"use strict";i("xd7I");var a=i("qqHy"),s=i.n(a),n=(i("C331"),{data:function(){return{cursurPosition:0,functionHtml:" ",functionCode:"",useItemList:[],disabledList:[]}},props:{properties:{default:null},wigtDataArr:{default:[]},showComputedModal:{default:!1}},watch:{showComputedModal:function(t){t?this.onShow():(document.querySelector(".functionWrap").innerHTML=" ",this.functionHtml=" ")}},mounted:function(){this.onShow()},methods:{doNothing:function(){},unFocus:function(){"bookTextarea"===event.target.id||(event.preventDefault(),s()("#bookTextarea").blur())},onShow:function(){this.properties&&(this.functionHtml=this.properties.functionHtml+" ",""==this.functionHtml&&(this.functionHtml=" "),this.functionCode=this.properties.functionCode,this.disabledList=[],this.checkCtrl(),document.querySelector(".functionWrap").focus())},tab:function(t,e){document.querySelector(".functionWrap").focus();var i=event.view.getSelection().getRangeAt(0),a=i.startOffset,s=document.createElement("span");s.setAttribute("contenteditable",!1),s.innerHTML=t.title;var n=document.createRange();n.setStart(i.startContainer,a),n.setEnd(i.startContainer,a),n.collapse(!0),n.insertNode(s),event.view.getSelection().removeAllRanges(),event.view.getSelection().addRange(i),i.setStart(s,1),i.setEnd(s,1)},patchfunctionCode:function(){var t=this;this.wigtDataArr.forEach(function(e){e.indexOf(t.functionCode)})},patchFunctionHtml:function(){this.functionHtml=document.querySelector(".functionWrap").innerHTML,this.functionCode=this.functionHtml.replace(/div contenteditable="false" title="/g,""),this.functionCode=this.functionCode.replace(/" class="myClass"/g,"");var t=this;return-1!=this.functionCode.indexOf("</div>")&&function e(i){var a=i.indexOf(">"),s=i.indexOf("</div>"),n=i.substring(a,s+6);-1!=(i=i.replace(n,"$")).indexOf("</div>")?e(i):(i=i.replace(/\$/g,">"),t.functionCode=i)}(this.functionCode),-1!=this.functionCode.indexOf("（")&&(this.functionCode=this.functionCode.replace(/（/g,"("),this.functionCode=this.functionCode.replace(/）/g,")")),-1!=this.functionCode.indexOf("&nbsp;")&&(this.functionCode=this.functionCode.replace(/&nbsp;/g," "),this.functionCode=this.functionCode.replace(/&nbsp;/g," ")),{functionHtml:this.functionHtml,functionCode:this.functionCode}},checkCtrl:function(){var t=this,e=s()(".transition.selected").data("key"),i=this.disabledList.length;-1==this.disabledList.indexOf(this.wigtDataArr[e].name)&&this.disabledList.push(this.wigtDataArr[e].name);this.wigtDataArr.forEach(function(e){if("number"==e.componentType&&e.initialization.properties.functionCode){var i=[],a=!1;if(t.disabledList.forEach(function(t){e.name==t&&(a=!0)}),a)return;!function t(e){var a=e.indexOf("<"),s=e.indexOf(">"),n=e.substring(a+1,s);i.push(n),-1!=(e=e.replace("<"+n+">","")).indexOf("<")&&t(e)}(e.initialization.properties.functionCode);for(var s=!1,n=0;n<i.length;n++){for(var o=0;o<t.disabledList.length;o++)if(i[n]==t.disabledList[o]){-1==t.disabledList.indexOf(e.name)&&t.disabledList.push(e.name),s=!0;break}if(s)break}}}),i<this.disabledList.length&&this.checkCtrl()},insertHtmlAtCaret:function(t){if(-1==this.disabledList.indexOf(t.name)){var e,i,a='<div contenteditable="false" title="'+t.name+'" class="myClass">'+t.title+"</div> ";if(this.useItemList.push({item:t}),window.getSelection&&(e=window.getSelection()).getRangeAt&&e.rangeCount){(i=e.getRangeAt(0)).deleteContents();var s=document.createElement("div");s.innerHTML=a;for(var n,o,r=document.createDocumentFragment();n=s.firstChild;)o=r.appendChild(n);i.insertNode(r),o&&((i=i.cloneRange()).setStartAfter(o),i.collapse(!0),e.removeAllRanges(),e.addRange(i))}}else this.$toast("该控件计算公式与当前控件相关联,无法使用!")}}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"conputer"},on:{mousedown:function(e){return t.unFocus()}}},[i("div",[i("div",{staticClass:"left"},[i("ul",t._l(t.wigtDataArr,function(e,a){return"number"==e.componentType?i("li",{key:a,class:{disabled:-1!=t.disabledList.indexOf(e.name)},attrs:{title:e.name,disabled:"disabled"},on:{click:function(i){return t.insertHtmlAtCaret(e,a)}}},[t._v(t._s(e.title))]):t._e()}),0)]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"ctrlTitle"},[t._v("控件名称")]),t._v(" "),i("div",{staticClass:"functionWrap",attrs:{id:"bookTextarea",contenteditable:"true"},domProps:{innerHTML:t._s(t.functionHtml)}}),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[e("p",[this._v("公式编辑方式：")]),this._v(" "),e("p",[this._v("1、单击左边控件选中进行编辑。")]),this._v(" "),e("p",[this._v("2、例如：（数字控件1+控件名称1+控件名称2）/2")])])}]};var r=i("C7Lr")(n,o,!1,function(t){i("5aPB"),i("uwCV")},"data-v-45fc33a2",null);e.a=r.exports},"713C":function(t,e,i){"use strict";var a=i("lC5x"),s=i.n(a),n=i("J0Oq"),o=i.n(n),r=i("2IYH"),l=i("Se9A"),c=i("p+qa"),u=(Boolean,Boolean,Object,Array,r.a,l.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}},units:Array},mixins:[r.a],components:{ModuleContainer:l.a},data:function(){return{descError:!1,formRules:{name:[{required:!0,message:"请选择单位",trigger:"blur"}],contactPeople:[{required:!0,message:"请填写单位联系人",trigger:"blur"}],contactPhone:[{required:!0,message:"请填写电话",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},editorConfig:{autoHeightEnabled:!0,wordCount:!1,autoFloatEnabled:!1,toolbars:[["source","undo","redo","bold","italic","underline","strikethrough","fontborder","subscript","superscript","formatmatch","removeformat","time","date","horizontal"],["paragraph","fontfamily","fontsize","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","lineheight","rowspacingtop","rowspacingbottom"],["simpleupload","insertimage","attachment","link","emotion","spechars","imagenone","imageleft","imageright","imagecenter","inserttable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","deletecaption","inserttitle","mergecells","edittable","edittd","deletetable","insertparagraphbeforetable"],["autotypeset","pasteplain","snapscreen","preview","print","fullscreen","background","touppercase","tolowercase","insertcode","directionalityltr","directionalityrtl","customstyle","template"]]}}},computed:{hasSelectedUnit:function(){return this.form.unitId||this.form.id}},created:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{selectUnit:function(t){var e=this;return o()(s.a.mark(function i(){var a,n,o,r,l;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Object(c.h)(t);case 4:a=i.sent,n=a.state,o=a.message,r=a.data,n?(l=r.companyMessage,e.form.unitId=l.companyId||l.id,e.form.name=l.companyName,e.form.typeName=l.propertyName,e.form.scale=l.scaleName,e.form.email=l.mailAddress,e.form.address=l.addressDetail,e.form.desc=l.summary,e.form.contactPeople=l.contactPeople,e.form.contactPhone=l.contactPhone):e.$toast(o);case 9:case"end":return i.stop()}},i,e)}))()},descChange:function(t){this.descError=!t},validate:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.form.desc){e.next=3;break}throw t.descError=!0,new Error(!1);case 3:return e.abrupt("return",t.$refs.form.validate());case 4:case"end":return e.stop()}},e,t)}))()}}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"单位信息",inline:t.inline,small:!t.edit}},[t.edit?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位",prop:"name"}},[t.hasSelectedUnit?i("p",[t._v("\n            "+t._s(t.form.name)+"\n          ")]):i("el-select",{attrs:{placeholder:"请选择单位"},on:{change:t.selectUnit},model:{value:t.form.unitId,callback:function(e){t.$set(t.form,"unitId",e)},expression:"form.unitId"}},t._l(t.units,function(t){return i("el-option",{key:"unit-"+t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),t.hasSelectedUnit?i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位性质"}},[i("p",[t._v(t._s(t.form.typeName))])])],1):t._e()],1),t._v(" "),t.hasSelectedUnit?i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位联系人",prop:"contactPeople"}},[i("el-input",{attrs:{placeholder:"请输入单位联系人"},model:{value:t.form.contactPeople,callback:function(e){t.$set(t.form,"contactPeople",e)},expression:"form.contactPeople"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位规模"}},[i("p",[t._v(t._s(t.form.scale))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"电话",prop:"contactPhone"}},[i("el-input",{attrs:{placeholder:"请输入电话"},model:{value:t.form.contactPhone,callback:function(e){t.$set(t.form,"contactPhone",e)},expression:"form.contactPhone"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"单位地址"}},[i("p",[t._v(t._s(t.form.address))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介",required:""}},[i("u-editor",{ref:"descEditor",class:{"is-error":t.descError},attrs:{config:t.editorConfig},on:{change:t.descChange},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),t._v(" "),t.descError?i("div",{staticClass:"el-form-item__error"},[t._v("请填写简介")]):t._e()],1)],1):t._e()],1):i("el-form",{attrs:{model:t.form}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位"}},[i("p",[t._v(t._s(t.form.name))])])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位性质"}},[i("p",[t._v(t._s(t.form.typeName))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位联系人"}},[i("p",[t._v(t._s(t.form.contactPeople))])])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位规模"}},[i("p",[t._v(t._s(t.form.scale))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"电话"}},[i("p",[t._v(t._s(t.form.contactPhone))])])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"邮箱"}},[i("p",[t._v(t._s(t.form.email))])])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"单位地址"}},[i("p",[t._v(t._s(t.form.address))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1)],1)},staticRenderFns:[]},p=i("C7Lr")(u,d,!1,null,null,null);e.a=p.exports},"7CEZ":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("LNiB");var a=i("Z9v7"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid formSetPage",attrs:{id:"formSetPage"+t.pageStamp,tabindex:"1"}},[i("div",{staticClass:"head"},[i("div",{staticClass:"pull-left back-div"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),i("div",{staticClass:"pull-right opt-div"},[t.infoSetting?i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._gotoRoleSet}},[t._v("参与角色设置")]):t._e(),t._v(" "),t.student?t._e():i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t.daochumoban}},[t._v("导出模板设置")]),t._v(" "),i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:function(e){t.preview=!0}}},[t._v(t._s(t.translate.preview))]),t._v(" "),t.infoSetting?i("button",{staticClass:"btn save",class:{hasChange:t.isChangeOfInfo},on:{click:t._saveLayout}},[t._v(t._s(t.translate.sure))]):i("button",{staticClass:"btn save",class:{hasChange:t.isChange},on:{click:t._saveLayout}},[t._v(t._s(t.translate.sure))])])]),t._v(" "),i("div",{staticClass:"body flex-container",on:{mousemove:t._mouseMove,mouseup:t._mouseUp}},[i("GeminiScrollbar",{staticClass:"form-widget",class:t.layoutSetting.scriptShow||t.globalCollector.show?"hideTop":"",attrs:{scrollX:!1}},[i("div",{staticClass:"search-container",class:t.searching?"active":""},[i("div",{staticClass:"search-content"},[i("div",{staticClass:"search-head input-group"},[i("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.searchPlaceholder},on:{keyup:t._searchKeyUp,change:t._searchWigt}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.searching=!1}}},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))}},[t._v("cancel")])])]),t._v(" "),t.searchingText?i("div",{staticClass:"search-body"},[t._l(t.formSetting.leftSideData.base,function(e,a){return e.title.indexOf(t.searchingText)>=0?i("div",{key:"base"+a,staticClass:"widget-div col-xm-12"},[i("div",{staticClass:"widget normal drag search-wigt",attrs:{title:e.title,"data-key":a,"data-wigt-type":"base"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                "+t._s(e.title)+"\n                "),i("p",[t._v(t._s(t.translate.from)+":"+t._s(t.translate.basic))])])]):t._e()}),t._v(" "),t._l(t.formSetting.leftSideData.form,function(e,a){return i("div",{key:"form"+a,staticClass:"col-xm-12"},t._l(e.wigts,function(s,n){return s.title.indexOf(t.searchingText)>=0?i("div",{key:"formwigt"+n,staticClass:"widget-div col-xm-12"},[i("div",{staticClass:"widget normal drag search-wigt",attrs:{title:s.title,"data-key":n,"data-formindex":a,"data-wigt-type":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(s.title)+"\n                  "),i("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}),0)}),t._v(" "),t._l(t.formSetting.leftSideData.info,function(e,a){return i("div",{key:"info"+a,staticClass:"col-xm-12"},t._l(e.wigts,function(s,n){return s.title.indexOf(t.searchingText)>=0?i("div",{key:"infowigt"+n,staticClass:"widget-div col-xm-12"},[i("div",{staticClass:"widget normal drag search-wigt",attrs:{title:s.title,"data-key":n,"data-infoindex":a,"data-wigt-type":"info"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(s.title)+"\n                  "),i("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}),0)}),t._v(" "),t._l(t.formSetting.leftSideData.sys,function(e,a){return i("div",{key:"sy"+a,staticClass:"col-xm-12"},t._l(e.wigts,function(s,n){return s.title.indexOf(t.searchingText)>=0?i("div",{key:"sywigt"+n,staticClass:"widget-div col-xm-12"},[i("div",{staticClass:"widget normal drag search-wigt",attrs:{title:s.title,"data-key":n,"data-sysindex":a,"data-wigt-type":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(e.title)+"\n                  "),i("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}),0)})],2):t._e()])]),t._v(" "),t.searching?t._e():i("div",{staticClass:"part-head"},[i("h3",{staticClass:"pull-left"},[t._v(t._s(t.translate.library))]),t._v(" "),i("span",{staticClass:"circle1 pull-right",on:{click:function(e){t.searching=!0}}},[i("span",{staticClass:"circle2"},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("search"))}},[t._v("search")])])]),t._v(" "),i("div",{staticClass:"wigt-scroll",style:"height:"+t.leftBaseHeight+"px"},[i("div",{staticClass:"widget-container",class:t.curTarget&&"table"===t.curTarget.componentType?"active":""},t._l(t.formSetting.leftSideData.table,function(e,a){return i("div",{key:a,staticClass:"widget-div",class:"table"===e.componentType?"col-xs-12":"col-xs-6"},[i("div",{staticClass:"widget normal",attrs:{title:e.title,"data-key":a,draggable:""},on:{dragstart:t._drag}},[t._v(t._s(e.title))])])}),0),t._v(" "),i("div",{staticClass:"widget-container",class:t.curTarget&&"table"===t.curTarget.componentType?"":"active"},t._l(t.formSetting.leftSideData.base,function(e,a){return i("div",{key:a,staticClass:"widget-div col-xs-6"},[i("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":a,"data-wigt-type":"base"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])]),t._v(" "),t.student?i("div",{attrs:{id:"newItem"},on:{click:function(e){t.showAddMemberModal=!0}}},[t._v("新增分类")]):t._e(),t._v(" "),t.searching?t._e():i("div",{staticClass:"part-bottom"},[i("ul",{staticClass:"list-group"},[t.formSetting.leftSideData.favor&&t.formSetting.leftSideData.favor.length>0?i("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFavorWigt?"active":""},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showFavorWigt")}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFavorWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.favor)+"\n            ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFavorWigt?"in":""})]):t._e(),t._v(" "),t.formSetting.leftSideData.form&&t.formSetting.leftSideData.form.length>0?i("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormWigt?"active":""},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showFormWigt")}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.other)+"\n            ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormWigt?"in":""},[i("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.form,function(e,a){return i("li",{key:a,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormName==="form"+a?"active":"",attrs:{title:e.title}},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showFormWigt(a)}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormName==="form"+a?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormName==="form"+a?"in":""},t._l(e.wigts,function(e,s){return i("div",{key:s,staticClass:"widget-div col-xs-12"},[i("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":s,"data-formindex":a,"data-wigt-type":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])}),0)])]):t._e(),t._v(" "),t.formSetting.leftSideData.info&&t.formSetting.leftSideData.info.length>0?i("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showInfoWigt?"active":""},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showInfoWigt")}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showInfoWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.info)+"\n            ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showInfoWigt?"in":""},[i("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.info,function(e,a){return i("li",{key:a,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormName==="info"+a?"active":"",attrs:{title:e.title}},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showInfoWigt(a)}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormName==="info"+a?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormName==="info"+a?"in":""},t._l(e.wigts,function(e,s){return i("div",{key:s,staticClass:"widget-div col-xs-12"},[i("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":s,"data-infoindex":a,"data-wigt-type":"info"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])}),0)])]):t._e(),t._v(" "),t.formSetting.leftSideData.sys&&t.formSetting.leftSideData.sys.length>0?i("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showSysWigt?"active":""},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showSysWigt")}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showSysWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.allCom)+"\n            ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showSysWigt?"in":""},[i("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.sys,function(e,a){return i("li",{key:a,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showSysName==="sys"+a?"active":"",attrs:{title:e.title}},[i("a",{attrs:{role:"button"},on:{click:function(e){return t._showSysWigt(a)}}},[i("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showSysName==="sys"+a?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),i("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showSysName==="sys"+a?"in":""},t._l(e.wigts,function(e,s){return i("div",{key:s,staticClass:"widget-div col-xs-12"},[i("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":s,"data-sysindex":a,"data-wigt-type":"sys"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])}),0)])]):t._e()])])]),t._v(" "),i("div",{staticClass:"col-md-12 form-part",attrs:{scrollX:!1},on:{click:t._pageClick}},[i("div",{staticClass:"script-btn",on:{click:t.scriptClick}},[t.layoutSetting.scriptShow?i("span",[t._v(t._s(t.translate.layout))]):i("span",[t._v(t._s(t.translate.script))]),t._v(" "),i("div",{class:t.layoutSetting.scriptShow?"code-script":""},[t.layoutSetting.scriptShow?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("format_align_left"))}},[t._v("format_align_left")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("code"))}},[t._v("code")])])]),t._v(" "),i("div",{staticClass:"collect-btn",on:{click:t.collectClick}},[t.globalCollector.show?i("span",[t._v(t._s(t.translate.layout))]):i("span",{attrs:{title:"全局采集"}},[t._v("采集")]),t._v(" "),i("div",{class:t.globalCollector.show?"code-script":""},[t.globalCollector.show?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("format_align_left"))}},[t._v("format_align_left")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("control_point"))}},[t._v("control_point")])])]),t._v(" "),t.layoutSetting.scriptShow?i("div",{staticClass:"script-div"},[t._m(0),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{placeholder:"这里放入你的脚本代码哟~"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.globalCollector.show,expression:"globalCollector.show"}],staticClass:"collect-div"},[t._l(t.globalCollector.collectors,function(e,a){return i("div",{key:"global-collector-"+a,staticClass:"collect-item"},[i("div",[i("div",{staticClass:"item-head"},[i("label",{staticClass:"inLabel",attrs:{for:""}},[t._v("数据集")]),t._v(" "),i("v-select",{attrs:{options:t.multipleDataSetOptions,"data-index":a,defaultValue:e.dataSet,value:e.dataSet,"options-value":"name","options-label":"title"},on:{afterSelected:t._selectGlobalCollectorDataSet}})],1),t._v(" "),i("span",{attrs:{"display:inline-block":""}},[t._v("索引")]),t._v(" "),i("a",{staticClass:"item-remove",attrs:{"display:inline-block":""},on:{click:function(e){return t._deleteGlobalCollector(a)}}},[t._v("删除")])]),t._v(" "),t._l(e.fields,function(s,n){return i("div",{key:"global-collector-field-"+n,staticClass:"item-inItem"},[i("div",{staticClass:"item-inItem-info"},[i("label",{staticClass:"item-lable",attrs:{for:""}},[t._v(t._s(t._getFieldNameByDataSetAndName(e.dataSet,s.name)))]),t._v(" "),i("v-select",{attrs:{options:t.globalCollector.valueTypeOptions,"options-value":"value","options-label":"label","data-set-index":a,"data-field-index":n},on:{afterSelected:t._selectGlobalCollectorFieldValueType},model:{value:s.valueType,callback:function(e){t.$set(s,"valueType",e)},expression:"field.valueType"}}),t._v(" "),"COMPONENT"===s.valueType?i("v-select",{attrs:{options:t.singularWidgets,"options-value":"name","options-label":"title","data-set-index":a,"data-field-index":n},on:{afterSelected:t._selectGlobalCollectorFieldComponentValue},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"field.value"}}):t._e(),t._v(" "),"FIXED"===s.valueType?i("input",{directives:[{name:"model",rawName:"v-model",value:s.value,expression:"field.value"}],attrs:{type:"text"},domProps:{value:s.value},on:{input:function(e){e.target.composing||t.$set(s,"value",e.target.value)}}}):t._e()],1),t._v(" "),i("span",{staticStyle:{display:"inline-block"}},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons(s.isKey?"check_box":"check_box_outline_blank"))},on:{click:function(t){s.isKey=!s.isKey}}})])])})],2)}),t._v(" "),i("button",{staticClass:"addCollect",on:{click:t._addGlobalCollector}},[t._v("新增采集")])],2),t._v(" "),i("div",{staticClass:"cells-div"},[t.infoSetting?i("div",{staticClass:"form-title info-title"},[i("span",{staticClass:"tab-pre",on:{click:function(e){return t._scrollTab(0)}}}),t._v(" "),i("span",{staticClass:"tab-next",on:{click:function(e){return t._scrollTab(1)}}}),t._v(" "),i("div",{staticClass:"tab-container"},[i("div",{staticClass:"tab-list"},t._l(t.infoSetting.tabs,function(e,a){return i("div",{key:a,staticClass:"tab-item",class:{active:t.personalInfoSetting.curInfoId===e.id},on:{click:function(i){return t._getPersonalInfoOf(e)}}},[t._v("\n                "+t._s(e.title)+"\n                "),t.personalInfoSetting.changedIds.indexOf(e.id)>=0?i("i",[t._v("*")]):t._e()])}),0),t._v(" "),t.tabShow?t._e():i("div",{staticClass:"text-center more"},[i("i",{staticClass:"maticon",class:{active:t.tabShow},staticStyle:{"margin-top":"32px",transform:"rotate(-90deg)",cursor:"pointer"},attrs:{title:"类别总览"},domProps:{innerHTML:t._s(t.icons("chevron_left"))},on:{click:function(e){t.tabShow=!t.tabShow}}})])])]):i("h2",{staticClass:"form-title"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"info-value",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),t._l(t.cellsArray,function(e,a){return i("div",{key:a,staticClass:"container-fluid cell-row"},t._l(t.cellsArray[a],function(t,e){return i("div",{key:e,staticClass:"cell",attrs:{"data-x":e,"data-y":a}},[i("div")])}),0)})],2)]),t._v(" "),i("GeminiScrollbar",{staticClass:"form-attrs",class:t.layoutSetting.scriptShow||t.globalCollector.show?"hideTop":"",attrs:{scrollX:!1}},[i("div",{staticClass:"part-head"},[i("h3",[i("i",{staticClass:"maticon help",attrs:{title:t.translate.help},domProps:{innerHTML:t._s(t.icons("info"))}},[t._v("info")])]),t._v(" "),t.curTarget?i("div",{staticClass:"info-part"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.title)+"*")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.title,expression:"curTarget.title"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.title},on:{input:function(e){e.target.composing||t.$set(t.curTarget,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v("nameID")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.name,expression:"curTarget.name"}],staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:t.curTarget.name},on:{input:function(e){e.target.composing||t.$set(t.curTarget,"name",e.target.value)}}})])]):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].basic?i("div",{staticClass:"info-part"},[i("label",{staticClass:"type-head"},[t._v(t._s(t.translate.basicAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].basic,function(e,a){return"exportable"!==e?i("div",{key:a,staticClass:"type-attr"},[i("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[i("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.basic,e,i.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.basic,e,i.target.value)}}}):"number"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.basic,e,i.target.value)}}}):"bool"===t.formSetting.attributes[e].type?i("div",{staticClass:"info-value disabled box_flex align_center"},[i("div",{staticClass:"bool-div ",class:t.curTarget.properties.basic[e]?"active":"",on:{click:function(i){t.curTarget.properties.basic[e]=!t.curTarget.properties.basic[e]}}},[i("span",[t._v(t._s(t.curTarget.properties.basic[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic[e],callback:function(i){t.$set(t.curTarget.properties.basic,e,i)},expression:"curTarget.properties.basic[b]"}}):"multi"===t.formSetting.attributes[e].type?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic[e],callback:function(i){t.$set(t.curTarget.properties.basic,e,i)},expression:"curTarget.properties.basic[b]"}}):"datetime"===t.formSetting.attributes[e].type?i("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%","data-type":"basic"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.basic[e],callback:function(i){t.$set(t.curTarget.properties.basic,e,i)},expression:"curTarget.properties.basic[b]"}}):"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e(),t._v(" "),"richText"===t.formSetting.attributes[e].type?i("div",{staticClass:"info-value disabled form-control"},[i("a",{staticClass:"rich-text-toggle",staticStyle:{cursor:"pointer"},on:{click:function(e){t.formSetting.editorShow=!0}}},[t._v("配置富文本")])]):t._e(),t._v(" "),"map"===t.formSetting.attributes[e].type?i("div",{staticClass:"info-value disabled form-control"},[i("a",{staticClass:"map-toggle",staticStyle:{cursor:"pointer"},on:{click:function(e){t.formSetting.mapShow=!0}}},[t._v("配置定位参数")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name text-center"},[t._v(t._s(t.translate.way))]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),i("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),i("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),i("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),i("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?i("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){return t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):i("v-select",{staticClass:"form-control info-value",attrs:{options:t.dictionaryOptions,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.basic[e],function(a,s){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:a,list:t.curTarget.properties.basic[e]},expression:"{ item: opt, list: curTarget.properties.basic[b]}"}],key:s,staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text"},domProps:{value:a},on:{change:function(i){return t._optionsTxtChange(i,t.curTarget.properties.basic[e],s)}}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.properties.basic[e].splice(s,1)}}},[t._v("cancel")])])])}),t._v(" "),i("div",{staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{change:function(e){return t._addOption("basic")},input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))}},[t._v("add")])])])],2):t._e()]):t._e()})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].style?i("div",{staticClass:"info-part"},[i("label",{staticClass:"type-head"},[t._v(t._s(t.translate.styleAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].style,function(e,a){return i("div",{key:a,staticClass:"type-attr"},[i("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[i("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.style,e,i.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.style,e,i.target.value)}}}):"number"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.style,e,i.target.value)}}}):"bool"===t.formSetting.attributes[e].type?i("div",{staticClass:"info-value disabled box_flex align_center"},[i("div",{staticClass:"bool-div",class:t.curTarget.properties.style[e]?"active":"",on:{click:function(i){t.curTarget.properties.style[e]=!t.curTarget.properties.style[e]}}},[i("span",[t._v(t._s(t.curTarget.properties.style[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"style","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.style[e],callback:function(i){t.$set(t.curTarget.properties.style,e,i)},expression:"curTarget.properties.style[b]"}}):"multi"===t.formSetting.attributes[e].type?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"style","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.style[e],callback:function(i){t.$set(t.curTarget.properties.style,e,i)},expression:"curTarget.properties.style[b]"}}):"datetime"===t.formSetting.attributes[e].type?i("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%","data-type":"style"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.style[e],callback:function(i){t.$set(t.curTarget.properties.style,e,i)},expression:"curTarget.properties.style[b]"}}):"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"form-control info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),i("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),i("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),i("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),i("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?i("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){return t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):i("v-select",{staticClass:"form-control info-value",attrs:{url:"/api/system/dictTypes","options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.style[e],function(a,s){return i("div",{key:s,staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:a}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.properties.style[e].splice(s,1)}}},[t._v("cancel")])])])}),t._v(" "),i("div",{staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(e){return t._addOption("style")}}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].verification?i("div",{staticClass:"info-part"},[i("label",{staticClass:"type-head"},[t._v(t._s(t.translate.verifyAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].verification,function(e,a){return i("div",{key:a,staticClass:"type-attr"},[i("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[i("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.verification[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.verification,e,i.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.verification[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.verification,e,i.target.value)}}}):"number"===t.formSetting.attributes[e].type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.verification[e]},on:{change:function(i){return t._fileSizeCheck(e)},input:function(i){i.target.composing||t.$set(t.curTarget.properties.verification,e,i.target.value)}}}):"bool"===t.formSetting.attributes[e].type?i("div",{staticClass:"info-value disabled box_flex align_center"},[i("div",{staticClass:"bool-div",class:t.curTarget.properties.verification[e]?"active":"",on:{click:function(i){t.curTarget.properties.verification[e]=!t.curTarget.properties.verification[e]}}},[i("span",[t._v(t._s(t.curTarget.properties.verification[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"verification","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"multi"===t.formSetting.attributes[e].type?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":t.curTarget.properties.verification[e],required:t.formSetting.attributes[e].required,"data-type":"verification","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"datetime"===t.formSetting.attributes[e].type?i("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%",format:t.curTarget.properties.basic.dateFormat,required:t.formSetting.attributes[e].required,"data-type":"verification"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"form-control info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),i("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),i("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),i("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),i("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?i("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){return t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):i("v-select",{staticClass:"form-control info-value",attrs:{url:"/api/system/dictTypes","options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?i("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.verification[e],function(a,s){return i("div",{key:s,staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:a}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.properties.verification[e].splice(s,1)}}},[t._v("cancel")])])])}),t._v(" "),i("div",{staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(e){return t._addOption("verification")}}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].collector?i("div",{staticClass:"info-part"},[i("label",{staticClass:"type-head"},[t._v(t._s(t.translate.collectionAttr))]),t._v(" "),i("div",{staticClass:"type-attr"},[t._l(t.formSetting.attributesShow[t.curTarget.componentType].collector,function(e,a){return"flag"!==e.id&&t.curTarget.collector&&t.curTarget.collector.flag||"flag"===e.id?i("div",{key:a,staticClass:"input-group"},[i("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.collector[e.id]))]),t._v(" "),"bool"===e.type?i("div",{staticClass:"info-value disabled box_flex align_center"},[i("div",{staticClass:"bool-div",class:t.curTarget.collector&&t.curTarget.collector[e.id]?"active":"",on:{click:function(i){return t._exchangeCollection(e)}}},[i("span",[t._v(t._s(t.curTarget.collector&&t.curTarget.collector[e.id]?t.translate.on:t.translate.off))])])]):"table"===t.curTarget.componentType&&"dataSet"===e.id?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataSetOptions||[],"data-attr":e.id,"data-prop":"collector","options-value":"name","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfCollector},model:{value:t.curTarget.collector.dataSet,callback:function(e){t.$set(t.curTarget.collector,"dataSet",e)},expression:"curTarget.collector.dataSet"}}):"table"!==t.curTarget.componentType&&"dataField"===e.id?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataFieldOptions||[],"data-attr":e.id,"data-prop":"collector",value:t._getFieldOf(t.curTarget.collector),"options-value":"columnNameAndTypeName","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfCollector}}):t._e()],1):t._e()}),t._v(" "),"table"===t.curTarget.componentType&&t.curTarget.collector.dataSet?i("div",{staticClass:"table-initial-div"},[i("div",{staticClass:"input-group",staticStyle:{padding:"5px 0"}},[i("label",{staticClass:"info-name input-group-addon pull-left",style:{maxWidth:"42px"}},[t._v("表头")]),t._v(" "),i("label",{staticClass:"info-name input-group-addon pull-left",staticStyle:{width:"30%","text-align":"center"}},[t._v("字段")]),t._v(" "),i("label",{staticClass:"info-name input-group-addon pull-right",staticStyle:{width:"30%","text-align":"right"}},[t._v("索引")])]),t._v(" "),t._l(t.curTarget.properties.basic.tableFields,function(e,a){return i("div",{key:a,staticClass:"input-group"},[i("label",{staticClass:"info-name input-group-addon",style:{maxWidth:"42px"},attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",style:{width:"148px"},attrs:{autoSelect:!1,options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.collector.dataSet):t.dataFieldOptions||[],value:t.curTarget.collector.tableFields&&t.curTarget.collector.tableFields[e.name],"options-value":"columnName","options-label":"title","close-on-select":""},on:{afterSelected:function(i){return t._afterSelectOfTableCollector(i,e)}}}),t._v(" "),i("label",{staticClass:"info-name input-group-addon"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons(t.curTarget.collector.tableKeys&&t.curTarget.collector.tableKeys.indexOf(e.name)>=0?"check_box":"check_box_outline_blank"))},on:{click:function(i){return t._checkTableKeys(e)}}})])],1)})],2):t._e()],2)]):t._e(),t._v(" "),t.curTarget&&(t.curTarget.name.indexOf("table_")<0||"table"===t.curTarget.componentType)&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].initial?i("div",{staticClass:"info-part"},[i("label",{staticClass:"type-head"},[t._v(t._s(t.translate.defaultValue))]),t._v(" "),i("div",{staticClass:"type-attr"},[i("div",{staticClass:"input-group"},[i("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributesShow[t.curTarget.componentType].initial,autoSelect:!1,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectInitMode},model:{value:t.curTarget.initialization.mode,callback:function(e){t.$set(t.curTarget.initialization,"mode",e)},expression:"curTarget.initialization.mode"}})],1),t._v(" "),"computed"==t.curTarget.initialization.mode?i("div",{staticClass:"comDiv"},[i("a",{on:{click:function(e){return t._showComputedModal()}}},[t._v("编辑计算公式")])]):t._e(),t._v(" "),t.curTarget.initialization.mode?i("div",{staticClass:"prop-div"},[t._l(t._getAttributesOfInitialMode(t.curTarget),function(e,a){return i("div",{key:a,class:"fixedValue"===e&&"datetime"!==t.curTarget.componentType&&"address"!==t.curTarget.componentType||"params"!==e&&"sqlQuery"!==e?"input-group":"form-group",attrs:{title:t.translate.initial[e]}},[i("label","fixedValue"===e?{staticClass:"info-name",class:"datetime"!==t.curTarget.componentType&&"address"!==t.curTarget.componentType?"input-group-addon":"form-label"}:{staticClass:"info-name",class:"params"!==e&&"sqlQuery"!==e?"input-group-addon":"form-label"},[t._v(t._s(t.translate.initial[e]))]),t._v(" "),"fixedValue"===e&&"datetime"===t.curTarget.componentType?i("div",{staticClass:"form-control info-value disabled"},[i("label",{attrs:{for:"currentTime"}},[t._v(t._s(t.translate.initial.currentTime))]),t._v(" "),i("input",{attrs:{type:"radio",name:"dayType",id:"currentTime"},domProps:{checked:"currentTime"===t.initialTime},on:{change:function(e){return t._changeInitTime("currentTime")}}}),t._v(" "),i("label",{staticStyle:{"margin-left":"20px"},attrs:{for:"yes"}},[t._v(t._s(t.translate.initial.definedTime))]),t._v(" "),i("input",{attrs:{type:"radio",name:"dayType",id:"yes"},domProps:{checked:"defined"===t.initialTime},on:{change:function(e){return t._changeInitTime("defined")}}})]):"fixedValue"!==e||"select"!==t.curTarget.componentType&&"radio"!==t.curTarget.componentType?"fixedValue"===e&&"checkbox"===t.curTarget.componentType?i("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.curTarget.properties.basic.options),"data-attr":e,"options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):"fixedValue"!==e||"input"!==t.curTarget.componentType&&"label"!==t.curTarget.componentType?"fixedValue"===e&&"number"===t.curTarget.componentType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):i("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.curTarget.properties.basic.options),"data-attr":e,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}),t._v(" "),"fixedValue"===e&&"datetime"===t.curTarget.componentType&&"defined"===t.initialTime?i("v-datepicker",{staticClass:"info-value btn-block",staticStyle:{clear:"both"},attrs:{width:"100%","data-attr":e,format:t.curTarget.properties.basic.dateFormat},on:{daySelected:t._daySelectedOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):t._e(),t._v(" "),"fixedValue"===e&&"address"===t.curTarget.componentType?i("div",[t.curTarget.initialization.properties[e]?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.provinceList,"data-attr":e,"data-add-type":"province","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].province,callback:function(i){t.$set(t.curTarget.initialization.properties[e],"province",i)},expression:"curTarget.initialization.properties[attr].province"}}):t._e(),t._v(" "),t.curTarget.initialization.properties[e]&&t.curTarget.initialization.properties[e].province?i("v-select",{staticClass:"form-control info-value",attrs:{options:t._getCityList(t.curTarget.initialization.properties[e].province),"data-attr":e,"data-add-type":"city","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].city,callback:function(i){t.$set(t.curTarget.initialization.properties[e],"city",i)},expression:"curTarget.initialization.properties[attr].city"}}):t._e(),t._v(" "),t.curTarget.initialization.properties[e]&&t.curTarget.initialization.properties[e].city?i("v-select",{staticClass:"form-control info-value",attrs:{options:t._getAreaList(t.curTarget.initialization.properties[e].city,t.curTarget.initialization.properties[e].province),"data-attr":e,"data-add-type":"area","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].area,callback:function(i){t.$set(t.curTarget.initialization.properties[e],"area",i)},expression:"curTarget.initialization.properties[attr].area"}}):t._e()],1):t._e(),t._v(" "),"sqlQuery"===e?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control",attrs:{rows:"6",cols:"30"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):"dataSet"===e?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataSetOptions||[],"data-attr":e,"options-value":"name","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):"dataField"===e?i("v-select",{staticClass:"form-control info-value",attrs:{options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.initialization.properties.dataSet):t.dataFieldOptions||[],"data-attr":e,value:t._getFieldOf(t.curTarget.initialization.properties),"options-value":"columnNameAndTypeName","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfInit}}):"url"===e||"key"===e||"className"===e||"functionName"===e?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):"method"===e?i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.methodsList,"data-attr":e,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):"dynamic"===e?i("div",{staticClass:"info-value disabled box_flex align_center"},[i("div",{staticClass:"bool-div",class:t.curTarget.initialization.properties[e]?"active":"",on:{click:function(i){return t.$set(t.curTarget.initialization.properties,e,!t.curTarget.initialization.properties[e])}}},[i("span",[t._v(t._s(t.curTarget.initialization.properties[e]?t.translate.on:t.translate.off))])])]):t._e(),t._v(" "),"params"===e?i("div",{staticClass:"options-div active"},[t._l(t.curTarget.initialization.properties[e],function(a,s){return i("div",{key:s,staticClass:"param-div"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v("name")]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:a.name}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[t._v("    ")])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v("value")]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:a.value}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.initialization.properties[e].splice(s,1)}}},[t._v("cancel")])])])])}),t._v(" "),i("div",{staticClass:"param-div"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v("name")]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newNameStr,expression:"newNameStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.initial.paramKey},domProps:{value:t.newNameStr},on:{input:function(e){e.target.composing||(t.newNameStr=e.target.value)}}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[t._v("    ")])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v("value")]),t._v(" "),i("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newValueStr,expression:"newValueStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.initial.paramValue},domProps:{value:t.newValueStr},on:{input:function(e){e.target.composing||(t.newValueStr=e.target.value)}}})]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(i){return t._addParam(e)}}},[t._v("add")])])])])],2):t._e()],1)}),t._v(" "),"table"===t.curTarget.componentType&&"systemValue"===t.curTarget.initialization.mode&&t.curTarget.initialization.properties.dataSet?i("div",{staticClass:"table-initial-div"},t._l(t.curTarget.properties.basic.tableFields,function(e,a){return i("div",{key:a,staticClass:"input-group"},[i("label",{staticClass:"info-name input-group-addon"},[t._v(t._s(e.title))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",attrs:{autoSelect:!1,options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.initialization.properties.dataSet):t.dataFieldOptions||[],value:t.curTarget.initialization.properties.tableFields&&t.curTarget.initialization.properties.tableFields[e.name],"options-value":"columnName","options-label":"title","close-on-select":""},on:{afterSelected:function(i){return t._afterSelectOfTableInit(i,e)}}})],1)}),0):t._e()],2):t._e(),t._v(" "),"fixedValue"!==t.curTarget.initialization.mode?i("div",{staticClass:"input-group info-value disabled",staticStyle:{"max-width":"auto"}},[i("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.initial.dynamic))]),t._v(" "),i("div",{staticClass:"bool-div",class:t.curTarget.initialization.dynamic?"active":"",on:{click:function(e){return t.$set(t.curTarget.initialization,"dynamic",!t.curTarget.initialization.dynamic)}}},[i("span",[t._v(t._s(t.curTarget.initialization.dynamic?t.translate.on:t.translate.off))])])]):t._e()])]):t._e(),t._v(" "),t.curTarget&&(t.curTarget.name.indexOf("table_")<0||t.curTarget.name.indexOf("table_")>=0&&"table"===t.curTarget.componentType)&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].events?i("div",{staticClass:"info-part"},[i("label",{staticClass:"type-head"},[t._v(t._s(t.translate.events))]),t._v(" "),i("ul",{staticClass:"list-group event-list"},t._l(t.curTarget.events,function(e,a){return i("li",{key:a,staticClass:"list-group-item"},[i("span",{staticClass:"case-name",on:{click:function(i){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v(t._s(t.translate.eventsList[e.name]+"("+e.cases.length+")"))]),t._v(" "),t.eventShow===e.name?i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("expand_less"))},on:{click:function(i){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v("expand_less")]):i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("expand_more"))},on:{click:function(i){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v("expand_more")]),t._v(" "),t.eventShow===e.name?i("ul",{staticClass:"list-group case-list",on:{click:function(t){t.stopPropagation()}}},[t._l(e.cases,function(a,s){return i("li",{key:s,staticClass:"input-group"},[i("div",{staticClass:"form-control info-value disabled"},[t._v(t._s(a.name))]),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.eventsList.set},domProps:{innerHTML:t._s(t.icons("view_quilt"))},on:{click:function(e){return e.stopPropagation(),t._setCase(a)}}},[t._v("view_quilt")]),t._v(" "),i("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("delete"))},on:{click:function(t){return t.stopPropagation(),e.cases.splice(s,1)}}},[t._v("delete")])])])}),t._v(" "),i("li",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newCaseNameStr,expression:"newCaseNameStr"}],staticClass:"form-control info-value text-left",attrs:{type:"text",placeholder:t.translate.eventsList.caseName},domProps:{value:t.newCaseNameStr},on:{input:function(e){e.target.composing||(t.newCaseNameStr=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(i){return i.stopPropagation(),t._addNewCase(e)}}},[t._v("add")])])])],2):t._e()])}),0)]):t._e()])])],1),t._v(" "),t.infoSetting&&t.tabShow?i("div",{staticClass:"info-cover",class:{active:t.tabShow},on:{click:function(e){t.tabShow=!1}}},[i("div",{staticClass:"tab-container3 container-fluid",class:{active:t.tabShow},on:{click:function(t){t.stopPropagation()}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShow,expression:"tabShow"}],staticClass:"row"},t._l(t.infoSetting.tabs,function(e,a){return i("div",{key:a,staticClass:"col-md-3 tab-item2",class:{active:t.personalInfoSetting.curInfoId===e.id},attrs:{title:e.title},on:{click:function(i){return t._getPersonalInfoOf(e,a)}}},[t._v("\n          "+t._s(e.title)+"\n          "),i("i",{staticClass:"maticon remove",attrs:{title:"删除"},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._removeItem(e,a,i)}}})])}),0),t._v(" "),i("div",{staticClass:"text-center more",on:{click:function(e){t.tabShow=!t.tabShow}}},[i("i",{staticClass:"maticon",class:{active:t.tabShow},attrs:{title:"类别总览"},domProps:{innerHTML:t._s(t.icons("chevron_left"))}})])])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"create"===t.dragType,expression:"dragType === 'create'"}],staticClass:"drag-dom",class:t.layoutSetting.transition?"transition":"",style:{width:t.layoutSetting.cellWidth*t.dragData.w+"px",height:t.layoutSetting.cellLineHeight*t.dragData.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px"},attrs:{id:"dragDom"},on:{mouseup:t._mouseUp,mousemove:t._mouseMove}},[i("label",{staticClass:"form-label"},[t._v(t._s(t.dragData.title))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dragData.show,expression:"dragData.show"}],staticClass:"drag-dom-shadow",class:{error:!t.isValid},style:{width:t.layoutSetting.cellWidth*t.dragData.w-t.layoutSetting.margin[1]-t.layoutSetting.margin[3]+"px",height:t.layoutSetting.cellLineHeight*t.dragData.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px",left:t.dragData.x*t.layoutSetting.cellWidth+t.layoutSetting.draggableX+t.layoutSetting.margin[3]+"px",top:t.dragData.y*t.layoutSetting.cellLineHeight+t.layoutSetting.draggableY+t.layoutSetting.margin[0]+"px"},on:{mouseup:t._mouseUp,mousemove:t._mouseMove}},[i("label",{staticClass:"form-label"},[t._v(t._s(t.dragData.title))])]),t._v(" "),t._l(t.wigtDataArr,function(e,a){return t.formSetting.attributesShow[e.componentType]?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.layoutSetting.scriptShow,expression:"!layoutSetting.scriptShow"}],key:a,staticClass:"widget-cell drag",class:{transition:t.layoutSetting.transition,selected:t.curTarget&&t.curTarget.name===e.name},style:{width:t.layoutSetting.cellWidth*e.w-t.layoutSetting.margin[1]-t.layoutSetting.margin[3]+"px",height:t.layoutSetting.cellLineHeight*e.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px",left:e.x*t.layoutSetting.cellWidth+t.layoutSetting.draggableX+t.layoutSetting.margin[3]+"px",top:e.y*t.layoutSetting.cellLineHeight+t.layoutSetting.draggableY+t.layoutSetting.margin[0]+"px",padding:"table"===e.componentType?"0":""},attrs:{"data-key":a,"data-type":e.componentType},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp,click:t._widgetClick}},["checkbox"===e.componentType?i("div",{staticClass:"pull-left special-icon"},[i("i",{staticClass:"maticon pull-right font18",staticStyle:{"margin-top":"-10px"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]),t._v(" "),i("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]),t._v(" "),i("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]),t._v(" "),i("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")])]):t._e(),t._v(" "),"radio"===e.componentType?i("div",{staticClass:"pull-left special-icon"},[i("i",{staticClass:"maticon pull-right font18",staticStyle:{"margin-top":"-10px"},domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")]),t._v(" "),i("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]),t._v(" "),i("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")]),t._v(" "),i("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")])]):t._e(),t._v(" "),"image"===e.componentType?i("i",{staticClass:"maticon picture",domProps:{innerHTML:t._s(t.icons("photo"))}},[t._v("photo")]):"select"===e.componentType?i("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"radio"===e.componentType?i("label",{staticClass:"form-label",staticStyle:{border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"checkbox"===e.componentType?i("label",{staticClass:"form-label",staticStyle:{border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"datetime"===e.componentType?i("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("event"))}},[t._v("event")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"splitLine"===e.componentType?i("label",{staticClass:"form-label pull-left",style:"border-color:"+e.properties.style.color+";",attrs:{disabled:""}},[t._v(t._s(e.title))]):"attachment"===e.componentType?i("label",{staticClass:"form-label pull-left",staticStyle:{border:"none"},attrs:{disabled:""}},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("attachment"))}},[t._v("attachment")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"map"===e.componentType?i("label",{staticClass:"form-label pull-left",staticStyle:{border:"none"},attrs:{disabled:""}},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("my_location"))}},[t._v("location")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"label"===e.componentType?i("label",{staticClass:"form-label pull-left",style:"border:none;",attrs:{disabled:""}},[t._v(t._s(e.title))]):"table"===e.componentType||"signature"===e.componentType?i("label",{staticClass:"form-label pull-left",staticStyle:{padding:"0 12px",border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):i("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[t._v(t._s(e.title))]),t._v(" "),"table"===e.componentType?i("GeminiScrollbar",{staticClass:"table-item-div",attrs:{scrollY:!1},nativeOn:{dragover:function(e){return t._dragover(e)},drop:function(e){return t._drop(e)},click:function(e){return t._widgetClick(e)}}},t._l(e.properties.basic.tableFields,function(s,n){return i("div",{key:n,staticClass:"table-item",class:t.curTarget&&t.curTarget.name===s.name?"selected":"",attrs:{"data-key":n,"data-index":a,title:s.title},on:{click:t._widgetClick}},[i("span",[t._v(t._s(s.title))]),t._v(" "),i("i",{staticClass:"maticon remove table-item-close",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._removeTableItem(e,n,s.name)}}},[t._v("cancel")])])}),0):t._e(),t._v(" "),i("div",{staticClass:"pull-right cell-opt"},[i("i",{staticClass:"maticon remove",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._remove(e)}}},[t._v("cancel")]),t._v(" "),t.formSetting.attributesShow[e.componentType].xResizable?i("i",{staticClass:"maticon resize-horizontal horizontal-resize",attrs:{title:t.translate.hrTip},domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{mousedown:t._scaleMouseDown,mouseup:t._scaleMouseUp,mousemove:t._scaleMouseMove}},[t._v("trending_flat")]):t._e(),t._v(" "),i("i",{staticClass:"maticon duplicate",attrs:{title:t.translate.duplicateTip},domProps:{innerHTML:t._s(t.icons("content_copy"))},on:{click:function(i){return t._duplicate(e)}}},[t._v("content_copy")]),t._v(" "),t.formSetting.attributesShow[e.componentType].yResizable?i("i",{staticClass:"maticon resize-vertical vertical-resize",attrs:{title:t.translate.vrTip},domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{mousedown:t._scaleMouseDown,mouseup:t._scaleMouseUp,mousemove:t._scaleMouseMove}},[t._v("trending_flat")]):t._e()])],1):t._e()}),t._v(" "),i("div",{staticClass:"trigger-cover",class:t.curCase?"active":""},[i("div",{staticClass:"trigger-content",on:{click:function(t){t.stopPropagation()}}},[i("i",{staticClass:"maticon close-cover",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){t.curCase=null}}},[t._v("cancel")]),t._v(" "),t.curCase&&t.curCase.condition?i("div",{staticClass:"condition-part"},[i("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.condition))]),t._v(" "),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-3"},[i("v-select",{ref:"componentSelect",staticClass:"info-value btn-block",staticStyle:{"max-width":"auto"},attrs:{options:t.conditionAllowedWigt,placeholder:t.translate.eventsList.fieldsList,autoSelect:!1,"options-value":"name","options-label":"title",width:"100%","data-action":"conditions","data-field":"component"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.component,callback:function(e){t.$set(t.curCase.condition,"component",e)},expression:"curCase.condition.component"}})],1),t._v(" "),t.curCase.condition&&t.curCase.condition.component?i("div",{staticClass:"col-sm-9"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4"},[i("v-select",{staticClass:"info-value btn-block",staticStyle:{"max-width":"auto"},attrs:{options:t.formSetting.attributesShow[t.curCase.condition.component.split("_")[0]].conditions,placeholder:t.translate.eventsList.condition,autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"operator"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.operator,callback:function(e){t.$set(t.curCase.condition,"operator",e)},expression:"curCase.condition.operator"}})],1),t._v(" "),t.curCase.condition.operator&&t.curCase.condition.data?i("div",{staticClass:"col-sm-8"},[i("div",{staticClass:"row"},["between"===t.curCase.condition.operator||"notBetween"===t.curCase.condition.operator||t.curCase.condition.component&&"address"===t.curCase.condition.component.split("_")[0]?i("div",{staticClass:"col-sm-8"},["address"!==t.curCase.condition.component.split("_")[0]?i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-6"},["number"===t.curCase.condition.component.split("_")[0]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.minValue,expression:"curCase.condition.data.minValue"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"minValue"},domProps:{value:t.curCase.condition.data.minValue},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"minValue",e.target.value)}}}):i("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"minValue","data-field":"conVal"},on:{daySelected:t._daySelectedOfCondition},model:{value:t.curCase.condition.data.minValue,callback:function(e){t.$set(t.curCase.condition.data,"minValue",e)},expression:"curCase.condition.data.minValue"}})],1),t._v(" "),t.curCase.condition.data?i("div",{staticClass:"col-xs-6"},["number"===t.curCase.condition.component.split("_")[0]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.maxValue,expression:"curCase.condition.data.maxValue"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"maxValue"},domProps:{value:t.curCase.condition.data.maxValue},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"maxValue",e.target.value)}}}):i("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"maxValue","data-field":"conVal"},on:{daySelected:t._daySelectedOfCondition},model:{value:t.curCase.condition.data.maxValue,callback:function(e){t.$set(t.curCase.condition.data,"maxValue",e)},expression:"curCase.condition.data.maxValue"}})],1):t._e()]):i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-4"},[i("v-select",{staticClass:"info-value btn-block",attrs:{options:t.provinceList,autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"province"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.province,callback:function(e){t.$set(t.curCase.condition.data,"province",e)},expression:"curCase.condition.data.province"}})],1),t._v(" "),t.curCase.condition.data.province?i("div",{staticClass:"col-xs-4"},[i("v-select",{staticClass:"info-value btn-block",attrs:{options:t._getCityList(t.curCase.condition.data.province),autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"city"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.city,callback:function(e){t.$set(t.curCase.condition.data,"city",e)},expression:"curCase.condition.data.city"}})],1):t._e(),t._v(" "),t.curCase.condition.data.city&&t.curCase.condition.data.province?i("div",{staticClass:"col-xs-4"},[i("v-select",{staticClass:"info-value btn-block",attrs:{options:t._getAreaList(t.curCase.condition.data.city,t.curCase.condition.data.province),autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"area"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.area,callback:function(e){t.$set(t.curCase.condition.data,"area",e)},expression:"curCase.condition.data.area"}})],1):t._e()])]):i("div",{staticClass:"col-sm-4"},["select"===t.curCase.condition.component.split("_")[0]||"radio"===t.curCase.condition.component.split("_")[0]?i("v-select",{staticClass:"info-value btn-block",attrs:{options:t._optionsFixed(t.conditionField?t.conditionField.properties.basic.options:[]),autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"value"},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.value,callback:function(e){t.$set(t.curCase.condition.data,"value",e)},expression:"curCase.condition.data.value"}}):"checkbox"===t.curCase.condition.component.split("_")[0]?i("v-select",{staticClass:"info-value btn-block",attrs:{options:t._optionsFixed(t.conditionField.properties.basic.options),autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"value",multiple:""},on:{afterSelected:t._afterSelectedFields},model:{value:t.curCase.condition.data.value,callback:function(e){t.$set(t.curCase.condition.data,"value",e)},expression:"curCase.condition.data.value"}}):t.curCase.condition.component&&"datetime"===t.curCase.condition.component.split("_")[0]?i("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"value","data-field":"conVal"},on:{daySelected:t._daySelectedOfCondition},model:{value:t.curCase.condition.data.value,callback:function(e){t.$set(t.curCase.condition.data,"value",e)},expression:"curCase.condition.data.value"}}):"input"===t.curCase.condition.component.split("_")[0]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.value,expression:"curCase.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"text","data-attr":"value"},domProps:{value:t.curCase.condition.data.value},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"value",e.target.value)}}}):"number"===t.curCase.condition.component.split("_")[0]?i("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.condition.data.value,expression:"curCase.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"value"},domProps:{value:t.curCase.condition.data.value},on:{change:t._addConditionProp,input:function(e){e.target.composing||t.$set(t.curCase.condition.data,"value",e.target.value)}}}):t._e()],1)])]):t._e()])]):t._e()])])]):t._e(),t._v(" "),i("div",{staticClass:"action-part"},[i("div",{staticClass:"col-md-4 opt-area"},[i("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.actionList))]),t._v(" "),i("ul",{staticClass:"list-group action-list"},t._l(t.formSetting.triggers.actionsList,function(e,a){return i("li",{key:a,staticClass:"list-group-item",on:{click:function(i){return t._addAction(e.name)}}},[t._v(t._s(t.translate.eventsList[e.name]))])}),0)]),t._v(" "),i("div",{staticClass:"col-md-4 opt-area"},[i("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.orgAction))]),t._v(" "),t.curCase?i("ul",{staticClass:"list-group action-desc-list"},t._l(t.curCase.actions,function(e,a){return i("li",{key:a,staticClass:"list-group-item action-desc",on:{click:function(i){t.curAction=e}}},[i("div",{staticClass:"action-desc-head"},[i("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return e.stopPropagation(),t._removeAction(a)}}},[t._v("cancel")]),t._v(" "),i("span",[t._v(t._s(t.translate.eventsList[e.name])+":")])]),t._v(" "),"showComponent"===e.name||"hideComponent"===e.name?i("div",{staticClass:"list-group"},t._l(e.properties.fields,function(e,a){return i("span",{key:a,staticClass:"list-group-item",attrs:{title:e.name}},[t._v(t._s(e.title))])}),0):"setText"===e.name?i("ul",{staticClass:"list-group"},t._l(e.properties,function(e,a){return i("li",{key:a,staticClass:"list-group-item"},[t._v("\n                  "+t._s(t.translate.eventsList.set)+"\n                  "),i("span",{attrs:{title:e.fieldName}},[t._v(t._s(e.fieldTitle))]),t._v("\n                  "+t._s(t.translate.eventsList.valueTo)+"\n                  "),i("span",[t._v(t._s(t._getFieldValue(e)))])])}),0):"triggerEvent"===e.name?i("ul",{staticClass:"list-group"},t._l(e.properties,function(e,a){return i("li",{key:a,staticClass:"list-group-item"},[t._v("\n                  "+t._s(t.translate.eventsList.trigger)+"\n                  "),i("span",{attrs:{title:e.fieldName}},[t._v(t._s(e.fieldTitle))]),t._v(" "),i("span",[t._v(t._s(e.eventName))]),t._v("\n                  "+t._s(t.translate.eventsList.events)+"\n                ")])}),0):"script"===e.name?i("ul",{staticClass:"list-group"},[i("li",{staticClass:"list-group-item"},[t._v(t._s(e.properties.script))])]):t._e()])}),0):t._e()]),t._v(" "),i("div",{staticClass:"col-md-4 opt-area"},[i("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.setAction))]),t._v(" "),t.curAction?i("div",{staticClass:"set-container"},["showComponent"===t.curAction.name||"hideComponent"===t.curAction.name?i("div",{staticClass:"components-div"},[i("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.fieldsList))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",staticStyle:{"max-width":"auto"},attrs:{options:t.wigtDataArr,autoSelect:!1,value:t.curAction.properties?t._getFieldArr(t.curAction.properties.fields):"","options-value":"name","options-label":"title",width:"100%","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}})],1):t._e(),t._v(" "),"setText"===t.curAction.name?i("div",{staticClass:"settext-div"},[t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?i("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.valueList))]):t._e(),t._v(" "),t._l(t.curAction.properties,function(e,a){return i("div",{key:a,staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(e.fieldTitle))]),t._v(" "),i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:t._getFieldValue(e)}}),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return t._removeActionProp(a)}}},[t._v("cancel")])])])}),t._v(" "),t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?i("div",{staticClass:"div-line"}):t._e(),t._v(" "),i("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.setText))]),t._v(" "),i("div",[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFields))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",attrs:{options:t.actionSetValueAllowedWigt,"options-value":"name","options-label":"title","data-action":t.curAction.name},on:{optionClick:t._afterSelectedFields}}),t._v(" "),t._m(1)],1),t._v(" "),t.showFieldValue?i("div",{staticClass:"input-group",staticStyle:{display:"block"}},[i("span",{staticClass:"info-name",class:["label","datetime","address"].indexOf(t.showFieldValue)>=0?"btn-block":"input-group-addon"},[t._v(t._s(t.translate.eventsList.formFieldsValue))]),t._v(" "),"select"===t.showFieldValue||"radio"===t.showFieldValue?i("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.triggerSetTextField.properties.basic.options),"options-value":"id","options-label":"name","data-action":t.curAction.name},on:{afterSelected:t._afterSelectedFields}}):"checkbox"===t.showFieldValue?i("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.triggerSetTextField.properties.basic.options),"options-value":"id","options-label":"name","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}}):"datetime"===t.showFieldValue?i("v-datepicker",{staticClass:"form-control info-value btn-block action-datetime",attrs:{format:t.triggerSetTextField.properties.basic.dateFormat,width:"100%","data-action":t.curAction.name},on:{daySelected:t._daySelectedOfValue}}):"number"===t.showFieldValue?i("input",{directives:[{name:"model",rawName:"v-model",value:t.newObj2.value,expression:"newObj2.value"}],staticClass:"form-control info-value",attrs:{type:"number"},domProps:{value:t.newObj2.value},on:{input:function(e){e.target.composing||t.$set(t.newObj2,"value",e.target.value)}}}):"input"===t.showFieldValue?i("input",{directives:[{name:"model",rawName:"v-model",value:t.newObj2.value,expression:"newObj2.value"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.newObj2.value},on:{input:function(e){e.target.composing||t.$set(t.newObj2,"value",e.target.value)}}}):"label"===t.showFieldValue?i("div",{staticStyle:{position:"relative"}},[i("u-editor",{attrs:{config:t.formSetting.richTextConfig},model:{value:t.newObj2.value,callback:function(e){t.$set(t.newObj2,"value",e)},expression:"newObj2.value"}})],1):"address"===t.showFieldValue?i("div",{staticClass:"btn-block"},[i("v-select",{staticClass:"info-value",attrs:{options:t.provinceList,"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"province"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.province,callback:function(e){t.$set(t.newObj2.value,"province",e)},expression:"newObj2.value.province"}}),t._v(" "),t.newObj2.value&&t.newObj2.value.province?i("v-select",{staticClass:"info-value",attrs:{options:t._getCityList(t.newObj2.value.province),"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"city"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.city,callback:function(e){t.$set(t.newObj2.value,"city",e)},expression:"newObj2.value.city"}}):t._e(),t._v(" "),t.newObj2.value&&t.newObj2.value.city?i("v-select",{staticClass:"info-value",attrs:{options:t._getAreaList(t.newObj2.value.city,t.newObj2.value.province),"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"area"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.area,callback:function(e){t.$set(t.newObj2.value,"area",e)},expression:"newObj2.value.area"}}):t._e()],1):t._e()],1):t._e(),t._v(" "),i("button",{staticClass:"btn btn-block action-add",on:{click:t._addActionProp2}},[i("i",{staticClass:"maticon pull-left",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))}},[t._v("add")]),t._v("新增事件值\n                ")])])],2):t._e(),t._v(" "),"triggerEvent"===t.curAction.name&&t.curAction.properties?i("div",{staticClass:"triggerEvents-div"},[t.curAction.properties&&JSON.stringify(t.curAction.properties)!=={}?i("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.eventsList))]):t._e(),t._v(" "),t._l(t.curAction.properties,function(e,a){return i("div",{key:a,staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(e.fieldTitle))]),t._v(" "),i("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:e.eventName}}),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return t._removeActionProp(a)}}},[t._v("cancel")])])])}),t._v(" "),t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?i("div",{staticClass:"div-line"}):t._e(),t._v(" "),i("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.addEvent))]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFields))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",attrs:{options:t.triggerAllowedWigt,"options-value":"name","options-label":"title","data-action":t.curAction.name},on:{optionClick:t._afterSelectedFields}}),t._v(" "),t._m(2)],1),t._v(" "),t.showFieldEvents?i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFieldsEvents))]),t._v(" "),i("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.triggers.eventsList,"options-value":"id","options-label":"name","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}}),t._v(" "),i("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[i("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:t._addActionProp}},[t._v("add")])])],1):t._e()],2):t._e(),t._v(" "),"script"===t.curAction.name?i("div",{staticClass:"components-div"},[i("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.script))]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curAction.properties.script,expression:"curAction.properties.script"}],attrs:{rows:"20",placeholder:"这里放入你的脚本代码哟~"},domProps:{value:t.curAction.properties.script},on:{input:function(e){e.target.composing||t.$set(t.curAction.properties,"script",e.target.value)}}})]):t._e()]):t._e()])]),t._v(" "),i("div",{staticClass:"footer-part"},[i("a",{attrs:{href:"javacript:;"},on:{click:t._cancelSave}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("a",{attrs:{href:"javacript:;"},on:{click:t._savecurCase}},[t._v(t._s(t.translate.sure))])])])]),t._v(" "),t.preview?i("div",{staticClass:"preview-container"},[i("preview",{attrs:{set:t.setPreview,data:t.wigtDataArr,title:t.title,script:t.code,appid:t.appId,previewType:"pre",infoSetting:t.infoSetting?{tabs:t.infoSetting.tabs,curInfoId:t.personalInfoSetting.curInfoId}:null},on:{tabExchange:t._getPersonalInfoOf,back:function(e){t.preview=!1}}})],1):t._e(),t._v(" "),t.formModel?i("div",{staticClass:"formModel-container"},[i("formModel",{attrs:{data:t.wigtDataArr,script:t.code,appid:t.appId,previewType:"pre",infoSetting:t.infoSetting?{tabs:t.infoSetting.tabs,curInfoId:t.personalInfoSetting.curInfoId}:null},on:{tabExchange:t._getPersonalInfoOf,back:function(e){t.formModel=!1}}})],1):t._e(),t._v(" "),t.formSetting.editorShow?i("div",{staticClass:"editor-cover"},[i("div",{staticClass:"editor-content modal-content"},[t._m(3),t._v(" "),t.curTarget?i("div",{staticClass:"modal-body",staticStyle:{padding:"0",overflow:"hidden"}},[i("u-editor",{attrs:{config:t.formSetting.richTextConfig},model:{value:t.curTarget.properties.basic.content,callback:function(e){t.$set(t.curTarget.properties.basic,"content",e)},expression:"curTarget.properties.basic['content']"}})],1):t._e(),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.formSetting.editorShow=!1}}},[t._v("确定")])])])]):t._e(),t._v(" "),t.formSetting.mapShow?i("div",{staticClass:"editor-cover"},[i("div",{staticClass:"editor-content modal-content"},[t._m(4),t._v(" "),t.curTarget?i("div",{staticClass:"modal-body",staticStyle:{width:"100%",padding:"0",overflow:"hidden"}},[i("v-map",{staticClass:"map",attrs:{center:t.curTarget.properties.basic.map.center,search:!0,location:!1,searchText:"请输入地名设置中心点",radius:t.curTarget.properties.basic.map.radius},on:{markerClick:t._markerClick}}),t._v(" "),i("div",{staticClass:"form-group map-params"},[i("span",[t._v("中心位置：经纬度("+t._s(t.curTarget.properties.basic.map.center.lat)+","+t._s(t.curTarget.properties.basic.map.center.lng)+")")]),t._v(" "),i("div",[i("span",[t._v("定位半径")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic.map.radius,expression:"curTarget.properties.basic.map['radius']"}],staticClass:"form-control text-right map-radius-input",attrs:{type:"number",placeholder:"定位半径"},domProps:{value:t.curTarget.properties.basic.map.radius},on:{input:function(e){e.target.composing||t.$set(t.curTarget.properties.basic.map,"radius",e.target.value)}}}),t._v(" "),i("span",[t._v("米（m）")])])])],1):t._e(),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.formSetting.mapShow=!1}}},[t._v("确定设置")])])])]):t._e(),t._v(" "),i("v-modal",{staticClass:"organization-modal",attrs:{show:t.showAddMemberModal,effect:"fade",width:"446"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("新增分类")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newFenlei,expression:"newFenlei"}],staticClass:"form-control search-input organization-input",attrs:{type:"text",placeholder:t.请输入新增分类名称},domProps:{value:t.newFenlei},on:{input:function(e){e.target.composing||(t.newFenlei=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showAddMemberModal=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._checkNewFenlei}},[t._v("确定")])])]),t._v(" "),i("v-modal",{staticClass:"organization-modal",attrs:{show:t.showComputedModal,effect:"fade",width:"678"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("设置公式")])]),t._v(" "),i("div",{staticClass:"modal-body",staticStyle:{padding:"0"},attrs:{slot:"modal-body"},slot:"modal-body"},[i("computed",{ref:"computed",attrs:{showComputedModal:t.showComputedModal,wigtDataArr:t.wigtDataArr,properties:t.computedProperties}})],1),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showComputedModal=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._setComputed}},[t._v("确定")])])])],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tip"},[i("label",[t._v("可能用到的数据（请严格按照下方提示取值，否则将影响脚本的正常执行，window不可忽略。）")]),t._v(" "),i("p",[i("strong",[t._v("表单实例：")]),t._v("window.vue\n          ")]),t._v(" "),i("p",[i("strong",[t._v("表单实例id：")]),t._v("window.vue.defaultData.id\n          ")]),t._v(" "),i("p",[i("strong",[t._v("表单所属人、代理人：")]),t._v("window.vue.defaultData.applicant、window.vue.defaultData.proxyApplicant\n          ")]),t._v(" "),i("p",[i("strong",[t._v("组件name与值的集合：")]),t._v("window.vue.formData\n          ")]),t._v(" "),i("p",[i("strong",[t._v("当前操作表单人的信息：")]),t._v("window.vue.$account\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[e("i",{staticClass:"maticon"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[e("i",{staticClass:"maticon"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("文本编辑")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("\n          定位范围设置\n          "),e("span",{staticClass:"pull-right"},[this._v("点击定位图标设置当前中心，以定位中心为圆心设置定位半径")])])])}]};var n=function(t){i("dMOG")},o=i("C7Lr")(a.a,s,!1,n,null,null);e.default=o.exports},"8c0Y":function(t,e,i){"use strict";var a=i("C331"),s=(Object,Boolean,Number,String,String,String,Array,{name:"EmUser",componentName:"EmUser",props:{user:{type:Object,default:function(){return null}},isShowConsole:{type:Boolean,default:!0},pageType:{type:Number,default:0},loginUrl:{type:String,default:"/"},msgUrl:{type:String,default:"/"},infoUrl:{type:String,default:"/"},menu:{type:Array,default:function(){return[{name:"单位管理",url:"/"},{name:"系统管理",url:"/"}]}},userInfo:null},data:function(){return{loginTypeList:{STUDENT:"STUDENT",TEACHER:"TEACHER",COMPANY:"COMPANY"},loginType:null,showDropdown:!1}},methods:{showOrHideUserDropdown:function(){this.showDropdown=!this.showDropdown},toPerson:function(){this.user.id&&this.$router.push("/employment")},msgClick:function(){this.$toast("暂未开放，敬请期待")},_checkLogin:function(){var t=this;Object(a.e)({url:"/login/check",type:"get",success:function(e){e.state?(t.userInfo=e.data,t.user={id:e.data.id,name:e.data.name},e.data.email&&(t.user.email=e.data.email.replace(e.data.email.substring(3,7),"****"))):t.$message.error(e.message)}})},logout:function(){var t=this;Object(a.e)({url:"/logout",type:"get",success:function(e){t.user=null,t.pageType=0,document.title="就业管理系统",t.$router.push("/employment/index")}}),this.showOrHideUserDropdown()},toLogin:function(){this.$router.push("/default/login/employment")}},created:function(){var t=this;this._checkLogin(),Object(a.e)({url:"/api/employment/user/getLoginType",type:"get",success:function(e){e&&e.state&&(t.loginType=e.data.loginType)}})}}),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"em-user__container"},[t.user||0!==t.pageType?t.user||1!==t.pageType?t.user||2!==t.pageType?t.user?i("div",{staticClass:"em-user__main"},[t.user.access?i("div",{staticClass:"em-user__menu"},[t._t("menu",t._l(t.menu,function(e,a){return i("a",{key:a,attrs:{href:e.url}},[t._v("\n          "+t._s(e.name)+"\n        ")])}))],2):t._e(),t._v(" "),t.isShowConsole&&"STUDENT"!=t.loginType?i("el-button",{staticClass:"enter-console",attrs:{type:"text"},on:{click:t.toPerson}},[t._v("进入控制台")]):t._e(),t._v(" "),i("div",{staticClass:"em-user__msg"},[t._t("msg",[i("a",{on:{click:function(e){return t.msgClick()}}},[i("i",{staticClass:"icon",domProps:{innerHTML:t._s(t.icons("notifications"))}})])])],2),t._v(" "),i("div",{staticClass:"em-user__info"},[t._t("user",[i("div",{class:["em-user__content",t.showDropdown?"active":""]},[i("div",{staticClass:"em-user__name",attrs:{title:t.user.name?t.user.name:t.user.email}},[t._v(t._s(t.user.name?t.user.name:t.user.email))]),t._v(" "),i("div",{staticClass:"em-user__more",on:{click:function(e){return t.showOrHideUserDropdown()}}},[i("i")]),t._v(" "),t.showDropdown?i("div",{staticClass:"em-user__dropdown-mask",on:{click:function(e){return t.showOrHideUserDropdown()}}}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"em-user__dropdown"},[i("ul",["STUDENT"==t.loginType?i("li",{on:{click:t.toPerson}},[t._v("个人信息")]):t._e(),t._v(" "),i("li",{on:{click:t.logout}},[t._v("退出登录")])])])])])],2)],1):t._e():i("div",{staticClass:"em-user__empty"}):i("div",{staticClass:"em-user__sign"},[t._v("\n    已有帐号？"),i("span",{staticClass:"em-user__btn",on:{click:t.toLogin}},[t._v("马上登录")])]):i("div",{staticClass:"em-user__login"},[i("div",{staticClass:"em-user__btn",on:{click:t.toLogin}},[t._v("登录")])])])},staticRenderFns:[]};var o=i("C7Lr")(s,n,!1,function(t){i("Lmz2")},"data-v-18720a16",null);e.a=o.exports},"B/WJ":function(t,e,i){"use strict";var a=i("2IYH"),s=i("Se9A"),n=(Boolean,Boolean,Object,a.a,s.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[a.a],components:{ModuleContainer:s.a}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"招聘简章",inline:t.inline}},[t.edit?i("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:"招聘流程，薪资福利"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}):i("pre",[t._v(t._s(t.form))])],1)},staticRenderFns:[]},r=i("C7Lr")(n,o,!1,null,null,null);e.a=r.exports},BBwL:function(t,e){},BlvK:function(t,e){},DkpT:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return l}),i.d(e,"c",function(){return c}),i.d(e,"d",function(){return u});var a,s,n=i("a3Yh"),o=i.n(n),r={AUDITING:0,PASSED:1,FAILED:2,COUNTERMAND:3,REJECT:4},l=(a={},o()(a,r.AUDITING,"待审核"),o()(a,r.PASSED,"已通过"),o()(a,r.FAILED,"未通过"),o()(a,r.COUNTERMAND,"已撤回"),o()(a,r.REJECT,"驳回等待重新提交"),a),c=o()({},r.REJECT,"已被驳回"),u=(s={},o()(s,r.AUDITING,"warning"),o()(s,r.PASSED,"success"),o()(s,r.FAILED,"danger"),o()(s,r.COUNTERMAND,"warning"),o()(s,r.REJECT,"warning"),s)},Do79:function(t,e,i){"use strict";i("qqHy");var a=i("xd7I"),s=(i("C331"),{props:{isShowDateOfDay:{default:!0},tableType:{default:null},tableData:{default:null},timeQuantumArray:{default:null},dataType:{default:null},consultantId:{default:null},studentId:{default:null}},data:function(){return{weekData:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],dayOfWeek:[1,2,3,4,5,6,7],tableCells:[],dateOfday:[],weekStartTime:"",weekEndTime:"",currentFirstDate:"",dateStart:"",dateEnd:"",newTableData:[],selectedTabelCells:[],curSelectedDate:"",loadingText:"数据加载中~"}},watch:{timeQuantumArray:{deep:!0,handler:function(){this._initData()}},tableData:{deep:!0,handler:function(){this._initData()}}},created:function(){this.setDate(new Date),"setting"===this.dataType?this._initData():0===this.newTableData.length&&this._initData()},methods:{_initData:function(){for(var t in this.loadingText="数据加载中~",this.newTableData=[],this.tableCells=[],this.timeQuantumArray)for(var e in this.newTableData.push({timeQuantum:this.timeQuantumArray[t].timeQuantum,tableData:[]}),this.dayOfWeek)this.tableCells.push({tablex:this.dayOfWeek[e],tabley:this.timeQuantumArray[t].timeQuantum,timeSettingId:this.timeQuantumArray[t].id,isChecked:!1,data:{}});if("setting"===this.dataType)for(var t in this.tableCells)for(var e in a.default.set(this.tableCells[t].data,"dayTimeTeacher",[]),a.default.set(this.tableCells[t].data,"dayOfWeek",null),a.default.set(this.tableCells[t].data,"timeSetting",{}),this.tableData){var i=this.tableData[e].timeSetting.timeQuantumStart+"-"+this.tableData[e].timeSetting.timeQuantumEnd;this.tableData[e].dayOfWeek===this.tableCells[t].tablex&&i===this.tableCells[t].tabley&&(this.tableCells[t].data.dayTimeTeacher.push(this.tableData[e]),this.tableCells[t].data.dayOfWeek=this.tableData[e].dayOfWeek,this.tableCells[t].data.timeSetting=this.tableData[e].timeSetting)}else for(var t in this.tableData)for(var e in this.tableCells)this.tableData[t].dayOfWeek===this.tableCells[e].tablex&&this.tableData[t].timeQuantum===this.tableCells[e].tabley&&(this.tableCells[e].data=this.tableData[t]);for(var t in this.newTableData)for(var e in this.tableCells)this.newTableData[t].timeQuantum===this.tableCells[e].tabley&&this.newTableData[t].tableData.push(this.tableCells[e]);0===this.newTableData.length?this.loadingText="暂无排班~":this.loadingText=""},_selectTabelCell:function(t){var e=this;if(!this.consultantId)return this.$toast("请先检索咨询师");if("addPersonnel"===this.dataType){if(!this.studentId)return this.$toast("请先检索学生");if(t.data.dayTimeTeacher.length>0&&t.data.dayTimeTeacher[0].isReserved)return this.$toast("预约已满")}t.isChecked=!t.isChecked,t.isChecked?this.selectedTabelCells.push(t):this.selectedTabelCells.forEach(function(i,a){i.tablex===t.tablex&&i.tabley===t.tabley&&e.selectedTabelCells.splice(a,1)}),this.$emit("selectTabelCell",this.selectedTabelCells)},_editConsultant:function(t,e){"check"!==this.tableType&&"disabled"!==e&&this.$emit("editConsultant",t)},_isTableCellFull:function(t){return!!t.data&&(!!t.data.dayTimeTeacher&&(t.data.dayTimeTeacher.length>0&&t.data.dayTimeTeacher[0].isReserved))},changeDate:function(t){var e=this,i=window.event||t;setTimeout(function(){e.$date({dateFormat:"yyyy-MM-dd",value:e.curSelectedDate||"",type:"init",event:i,onSelect:function(t){e._daySelectedOfValue({value:t})}})},100)},_daySelectedOfValue:function(t){this.curSelectedDate=t.value,this.dateOfday=[],this.setDate(this._parserDate(t.value))},_parserDate:function(t){var e=Date.parse(t);return isNaN(e)?new Date:new Date(Date.parse(t.replace(/-/g,"/")))},lastWeek:function(){this.dateOfday=[],this.setDate(this.addDate(this.currentFirstDate,-7))},nextWeek:function(){this.dateOfday=[],this.setDate(this.addDate(this.currentFirstDate,7))},addDate:function(t,e){return t.setDate(t.getDate()+e),t},setDate:function(t){var e=t.getDay()-1;t=this.addDate(t,-1*e),this.currentFirstDate=new Date(t);for(var i=0;i<this.weekData.length;i++){var a=this.getWeekDay(0==i?t:this.addDate(t,1),i);a<10&&(a="0"+a),this.dateOfday.push(a)}this.weekStartTime&&this.weekEndTime&&this.$emit("getWeekTime",{weekStartTime:this.weekStartTime,weekEndTime:this.weekEndTime,dateStart:this.dateStart,dateEnd:this.dateEnd})},_getTableCellBg:function(t){if(t.data&&t.data.timeSetting){var e=t.data.timeSetting.timeQuantumStart.split(":")[0];if(parseInt(e)<12&&t.data.dayTimeTeacher.length>0)return"morning-bg-color";if(parseInt(e)>=12&&t.data.dayTimeTeacher.length>0)return"afternoon-bg-color"}},getWeekDay:function(t,e){var i=t.getDate();if(0===e||6===e){var a=t.getFullYear(),s=t.getMonth()+1;s<=9&&(s="0"+s);var n=t.getDate();n<=9&&(n="0"+n),0===e?(this.weekStartTime=a+"年"+s+"月"+n+"日",this.dateStart=a+"-"+s+"-"+n):(this.weekEndTime=a+"年"+s+"月"+n+"日",this.dateEnd=a+"-"+s+"-"+n)}return i}}}),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"reserveTable"}},[i("div",{staticClass:"table-header"},[t._t("header-select"),t._v(" "),t.isShowDateOfDay?i("div",{staticClass:"week"},[i("div",{staticClass:"week-lable"},[t._v("周")]),t._v(" "),i("div",{staticClass:"week-select"},[i("i",{staticClass:"glyphicon glyphicon-menu-left week-before-icon",on:{click:t.lastWeek}}),t._v(" "),i("i",{staticClass:"maticon week-icon",domProps:{innerHTML:t._s(t.icons("event"))},on:{click:function(e){return t.changeDate(e)}}},[t._v("event")]),t._v(" "),i("i",{staticClass:"glyphicon glyphicon-menu-right week-after-icon",on:{click:t.nextWeek}})])]):t._e()],2),t._v(" "),i("div",{staticClass:"table-body"},[t._t("body-slot"),t._v(" "),i("div",{staticClass:"table-content"},[i("div",{staticClass:"table-top"},[t.isShowDateOfDay?i("div",{staticClass:"table-date"},[i("div",{staticClass:"table-left-time"},[t._v("日期")]),t._v(" "),t._l(t.dateOfday,function(e,a){return i("div",{key:a,staticClass:"date-day"},[t._v(t._s(e))])})],2):t._e(),t._v(" "),i("div",{staticClass:"table-date"},[i("div",{staticClass:"table-left-time"},[t._v("时间段")]),t._v(" "),t._l(t.weekData,function(e,a){return i("div",{key:a},[t._v(t._s(e))])})],2)]),t._v(" "),t.newTableData.length>0?i("GeminiScrollbar",{staticClass:"table-srcoll",attrs:{scrollX:!1}},t._l(t.newTableData,function(e,a){return"add"===t.tableType?i("div",{key:a,staticClass:"table-info"},[i("div",{staticClass:"table-time"},[t._v(t._s(e.timeQuantum))]),t._v(" "),t._l(e.tableData,function(e,a){return i("div",{key:a,staticClass:"name-container black-font-color can-click",class:[e.isChecked?"selected-bg-color":"",t._isTableCellFull(e)?"full-bg-color":""],on:{click:function(i){return t._selectTabelCell(e)}}},[e.data&&e.data.dayTimeTeacher&&0===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"}):e.data&&e.data.dayTimeTeacher&&1===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):e.data&&e.data.dayTimeTeacher&&2===e.data.dayTimeTeacher.length?i("div",{staticClass:"two-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):i("div",{staticClass:"other-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0)])})],2):i("div",{staticClass:"table-info"},[i("div",{staticClass:"table-time"},[t._v(t._s(e.timeQuantum))]),t._v(" "),t._l(e.tableData,function(e,a){return e.data&&e.data.id?i("div",{key:a,staticClass:"name-container white-font-color",class:[t._getTableCellBg(e),"check"===t.tableType?"":"can-click"],on:{click:function(i){return t._editConsultant(e,"click")}}},[e.data&&e.data.dayTimeTeacher&&0===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"}):e.data&&e.data.dayTimeTeacher&&1===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):e.data&&e.data.dayTimeTeacher&&2===e.data.dayTimeTeacher.length?i("div",{staticClass:"two-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):i("div",{staticClass:"other-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0)]):i("div",{staticClass:"name-container white-font-color",on:{click:function(i){return t._editConsultant(e,"disabled")}}},[i("div",{staticClass:"other-name"})])})],2)}),0):i("div",{staticClass:"loading"},[t._v(t._s(t.loadingText))]),t._v(" "),i("div",{staticClass:"clear"})],1)],2)])},staticRenderFns:[]};var o=i("C7Lr")(s,n,!1,function(t){i("u3PF")},null,null);e.a=o.exports},F5Yc:function(t,e){},FBGu:function(t,e){},FqA6:function(t,e){},G1RR:function(t,e,i){"use strict";var a=i("aA9S"),s=i.n(a),n=(i("wHoj"),i("NGAA"),i("INlO")),o=i.n(n),r=i("lC5x"),l=i.n(r),c=i("J0Oq"),u=i.n(c),d=i("713C"),p=i("V/it"),m=i("B/WJ"),_=i("WD6V"),f=i("Se9A"),h=i("N9Ox"),v=i("XfSg"),g=(i("p+qa"),i("MVd6")),y=i("DkpT"),b=(Boolean,Boolean,Object,Number,Boolean,Boolean,String,Boolean,Boolean,f.a,h.a,d.a,p.a,m.a,_.a,{props:{isManager:Boolean,isUnit:Boolean,ojf:Object,ojfUnitApplyId:Number,showOplog:Boolean,edit:Boolean,from:String,hideStatus:Boolean,hideOplog:Boolean},components:{ModuleContainer:f.a,ModuleLoader:h.a,UnitInfo:d.a,PositionsInfo:p.a,RecruitmentInfo:m.a,Oplog:_.a},data:function(){return{UnitApplyAuditStatus:y.a,UnitApplyAuditStatusLabel:y.b,loading:!0,ojfUnitApply:new g.b,ojfUnitApplyTemp:null,showOpLogs:this.showOplog||!1,passedInfoEditing:!1,savingPassedInfo:!1,opLogDataUrl:"/api/employment/manage/networkMeeting/getOperationDetailList?participantId="+this.ojfUnitApplyId}},computed:{auditStatusLabelType:function(){return y.d[this.ojfUnitApply.status]},canEditApplyInfo:function(){return!!this.passedInfoEditing||(this.isManager?this.ojfUnitApply.status===y.a.AUDITING:!!this.isUnit&&[y.a.COUNTERMAND,y.a.REJECT].includes(this.ojfUnitApply.status))},canAuditing:function(){return this.isManager&&this.ojfUnitApply.status===y.a.AUDITING},auditReasonVisiable:function(){return[y.a.FAILED,y.a.REJECT].includes(this.ojfUnitApply.status)},canEditPassedInfo:function(){return this.isManager&&this.ojfUnitApply.status===y.a.PASSED&&this.edit}},created:function(){var t=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initOjf();case 2:return e.next=4,t.initOjfUnitApply();case 4:t.loading=!1;case 5:case"end":return e.stop()}},e,t)}))()},methods:{initOjf:function(){var t=this;return u()(l.a.mark(function e(){var i,a,s,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ojf.initialized){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v.a.get(t.ojf.id);case 4:i=e.sent,a=i.state,s=i.message,n=i.data,a?t.ojf=g.a.fromApi(n):t.$toast(s);case 9:case"end":return e.stop()}},e,t)}))()},initOjfUnitApply:function(){var t=this;return u()(l.a.mark(function e(){var i,a,s,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getOjfUnitApplyById(t.ojfUnitApplyId);case 2:i=e.sent,a=i.state,s=i.message,n=i.data,a?(t.ojfUnitApply=g.b.fromApi(n),t.ojfUnitApply.ojf=t.ojf):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},resubmitApply:function(){var t=this;return u()(l.a.mark(function e(){var i,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.apply(t.ojfUnitApply);case 2:i=e.sent,a=i.state,s=i.message,i.data,a?(t.$toast("重新提交成功"),t.ojfUnitApply.status=y.a.AUDITING):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},countermandApply:function(){var t=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.a.confirm("确认撤回申请?").then(u()(l.a.mark(function e(){var i,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.countermand(t.ojfUnitApply.id);case 2:i=e.sent,a=i.state,s=i.message,i.data,a?(t.ojfUnitApply.status=y.a.COUNTERMAND,t.$toast("撤回成功")):t.$toast(s);case 7:case"end":return e.stop()}},e,t)})));case 1:case"end":return e.stop()}},e,t)}))()},rejectApply:function(){var t=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.a.prompt("请填写驳回意见","驳回").then(function(){var e=u()(l.a.mark(function e(i){var a,s,n,o=i.value;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.reject(t.ojfUnitApply.id,o);case 2:a=e.sent,s=a.state,n=a.message,a.data,s?(t.ojfUnitApply.status=y.a.REJECT,t.ojfUnitApply.auditReason=o,t.$toast("驳回成功")):t.$toast(n);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},disagreeApply:function(){var t=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.a.prompt("请填写不通过意见","不通过").then(function(){var e=u()(l.a.mark(function e(i){var a,s,n,r=i.value;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.disagree(t.ojfUnitApply.id,r);case 2:a=e.sent,s=a.state,n=a.message,a.data,s?(t.ojfUnitApply.status=y.a.FAILED,t.ojfUnitApply.auditReason=r,o.a.confirm("不通过成功，是否返回审核列表?").then(function(){t.backToList(!0)})):t.$toast(n);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},agreeApply:function(){var t=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.a.confirm("确认同意该申请?").then(u()(l.a.mark(function e(){var i,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.agree(t.ojfUnitApply);case 2:i=e.sent,a=i.state,s=i.message,i.data,a?(t.ojfUnitApply.status=y.a.PASSED,o.a.confirm("操作成功，是否返回审核列表?").then(function(){t.back(!0)})):t.$toast(s);case 7:case"end":return e.stop()}},e,t)})));case 1:case"end":return e.stop()}},e,t)}))()},toEditPassedInfo:function(){this.ojfUnitApplyTemp=s()({},this.ojfUnitApply),this.passedInfoEditing=!0},cancelEditPassedInfo:function(){s()(this.ojfUnitApply,this.ojfUnitApplyTemp),this.passedInfoEditing=!1},saveEditPassedInfo:function(){var t=this;return u()(l.a.mark(function e(){var i,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.savingPassedInfo=!0,e.next=3,v.a.upsertOjfUnitApply(t.ojfUnitApply);case 3:i=e.sent,a=i.state,s=i.message,i.data,t.savingPassedInfo=!1,a?(t.$toast("更新成功"),t.initOjfUnitApply(),t.passedInfoEditing=!1):t.$toast(s);case 9:case"end":return e.stop()}},e,t)}))()},back:function(t){this.$emit("back",{refresh:t,tableName:"auditList",from:this.from})}}}),C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"back",on:{click:t.back}},[i("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),i("div",{staticClass:"page-title-status"},[t.hideStatus?t._e():i("p",[i("span",{staticClass:"title"},[t._v("审核状态：")]),i("el-tag",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:t.auditStatusLabelType,effect:"dark"}},[t._v(t._s(t.UnitApplyAuditStatusLabel[this.ojfUnitApply.status]))])],1),t._v(" "),t.auditReasonVisiable?i("p",[i("span",{staticClass:"title"},[t._v("审核意见：")]),i("span",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t._v(t._s(this.ojfUnitApply.auditReason))])]):t._e(),t._v(" "),i("p",[i("span",{staticClass:"title"},[t._v("网招会名称：")]),i("span",[t._v(t._s(t.ojf.name))])]),t._v(" "),i("div",{staticClass:"operations-container-action"},[t.canEditPassedInfo&&!t.passedInfoEditing?i("el-button",{attrs:{type:"text"},on:{click:t.toEditPassedInfo}},[t._v("编辑")]):t._e(),t._v(" "),t.passedInfoEditing?i("el-button",{attrs:{type:"text"},on:{click:t.cancelEditPassedInfo}},[t._v("取消编辑")]):t._e(),t._v(" "),t.hideOplog?t._e():i("el-button",{attrs:{type:"text"},on:{click:function(e){t.showOpLogs=!t.showOpLogs}}},[t._v("操作日志")])],1)]),t._v(" "),t.loading?i("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):i("div",{staticClass:"module-container"},[i("unit-info",{attrs:{edit:t.canEditApplyInfo},model:{value:t.ojfUnitApply,callback:function(e){t.ojfUnitApply=e},expression:"ojfUnitApply"}}),t._v(" "),i("positions-info",{attrs:{edit:t.canEditApplyInfo},model:{value:t.ojfUnitApply.positions,callback:function(e){t.$set(t.ojfUnitApply,"positions",e)},expression:"ojfUnitApply.positions"}}),t._v(" "),i("recruitment-info",{attrs:{edit:t.canEditApplyInfo},model:{value:t.ojfUnitApply.recruitment,callback:function(e){t.$set(t.ojfUnitApply,"recruitment",e)},expression:"ojfUnitApply.recruitment"}}),t._v(" "),t.isUnit?i("module-container",{staticClass:"audit-actions",attrs:{actions:""}},[[t.UnitApplyAuditStatus.COUNTERMAND,t.UnitApplyAuditStatus.REJECT].includes(t.ojfUnitApply.status)?i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.resubmitApply}},[t._v("重新提交")]):t._e(),t._v(" "),t.ojfUnitApply.status===t.UnitApplyAuditStatus.AUDITING?i("el-button",{attrs:{type:"danger",plain:"",size:"large"},on:{click:t.countermandApply}},[t._v("撤回")]):t._e()],1):t._e(),t._v(" "),t.isManager&&t.ojfUnitApply.status===t.UnitApplyAuditStatus.AUDITING?i("module-container",{staticClass:"audit-actions",attrs:{actions:""}},[i("el-button",{attrs:{type:"danger",plain:"",size:"large"},on:{click:t.rejectApply}},[t._v("驳回")]),t._v(" "),i("el-button",{attrs:{size:"large"},on:{click:t.disagreeApply}},[t._v("不通过")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.agreeApply}},[t._v("通过")])],1):t._e(),t._v(" "),t.passedInfoEditing?i("module-container",{attrs:{actions:""}},[i("el-button",{attrs:{size:"large"},on:{click:t.cancelEditPassedInfo}},[t._v("取消")]),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.savingPassedInfo,expression:"savingPassedInfo"}],attrs:{type:"primary",size:"large"},on:{click:t.saveEditPassedInfo}},[t._v("保存")])],1):t._e(),t._v(" "),t.hideOplog?t._e():i("div",{staticClass:"operations-container",class:{show:t.showOpLogs}},[t.showOpLogs?i("oplog",{attrs:{dataUrl:t.opLogDataUrl}}):t._e()],1)],1)],1)},staticRenderFns:[]};var w=i("C7Lr")(b,C,!1,function(t){i("F5Yc")},"data-v-68613bff",null);e.a=w.exports},Gme2:function(t,e,i){"use strict";var a=i("C331"),s=i("a3Yh"),n=i.n(s),o={name:"EmSearch",componentName:"EmSearch",data:function(){var t;return t={keyWord:"",loading:!1,searchResult:[],showResult:!1},n()(t,"loading",!0),n()(t,"options",[]),n()(t,"result",""),t},methods:{searchCancle:function(){this.keyWord="",this.showResult=!1},show:function(){},search:function(){var t=this;if(this.keyWord){this.showResult=!0,this.loading=!0,this.options=[];var e="/api/employment/platform/searchAllByKeyWord?keyWord="+this.keyWord;Object(a.e)({url:e,type:"get",success:function(e){e.state?setTimeout(function(){t.loading=!1,t.options=e.data},2e3):setTimeout(function(){t.options=[],t.options=e.data},2e3)}})}},focus:function(){this.keyWord&&(this.showResult=!0)},showOrHideUserDropdown:function(){this.showResult=!this.showResult},searching:function(){var t=this;setTimeout(function(){t.loading=!1},100)}},watch:{},created:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchBox"},[a("div",{staticClass:"searchContent"},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.keyWord.length,expression:"keyWord.length"}],staticClass:"closeIcon",on:{click:t.searchCancle}}),t._v(" "),a("el-input",{ref:"searchContent",nativeOn:{input:function(e){return t.search(e)}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),a("i",{staticClass:"searchIcon",on:{click:t.focus}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"searchResult"},[a("ul",[a("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:i("+OQL"),alt:""}}),t._v(" "),t._l(t.options,function(e,i){return t.options.length?a("li",{attrs:{id:e.id,url:e.detailUrl}},[a("a",{domProps:{innerHTML:t._s(e.fitContent)}})]):t._e()}),t._v(" "),0!=t.options.length||t.loading?t._e():a("p",[t._v("暂无搜索结果")])],2)]),t._v(" "),t.showResult?a("div",{staticClass:"em-user__dropdown-mask",on:{click:function(e){return t.showOrHideUserDropdown()}}}):t._e()])},staticRenderFns:[]};var l=i("C7Lr")(o,r,!1,function(t){i("FqA6"),i("bKtk")},"data-v-77f9b0d5",null).exports,c=(Object,{name:"EmHeader",componentName:"EmHeader",props:{platIn:{default:!1},title:{type:Object,default:function(){return{name:"就业管理系统",url:"/",logo:""}}}},data:function(){return{webTitle:{name:"就业管理系统"}}},created:function(){var t=this;Object(a.e)({url:"/api/employment/user/getSchoolInfo",success:function(e){if(e.state){var i={name:e.data&&e.data.name+"就业管理系统"||"就业管理系统",url:"/",logo:""};t.webTitle=i,document.title=i.name}}}).always(function(){document.title="就业管理系统"})},components:{EmSearch:l},methods:{toIndex:function(){this.platIn?this.$emit("backToIndex","/index"):this.$router.push("/employment/index")}}}),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"em-header__container"},[i("div",{staticClass:"em-header__main"},[i("div",{staticClass:"em-header__title",on:{click:t.toIndex}},[t._t("title",[t.webTitle&&t.webTitle.logo?i("img",{attrs:{src:t.webTitle&&t.webTitle.logo}}):t._e(),t._v(" "),i("span",[t._v(t._s(t.webTitle&&t.webTitle.name||"就业管理系统"))])])],2),t._v(" "),i("div",{staticClass:"em-header_search"},[i("Em-search")],1),t._v(" "),i("div",{staticClass:"em-header__nav"},[t._t("top-nav")],2)])])},staticRenderFns:[]};var d=i("C7Lr")(c,u,!1,function(t){i("4+5z")},"data-v-3015aa6c",null);e.a=d.exports},IIfq:function(t,e,i){"use strict";(function(t){var a=i("C331"),s=i("7liN"),n=i.n(s),o=i("TD+U"),r=i.n(o);e.a={props:["recruitmentInfo","checkUserInfo"],data:function(){return{fileName:"",recruitmentDetails:{},collectList:[],showCollect:!1,onApplyPositionModal:!1,hasResume:!1,resumenInfo:{},resumenName:"",curUserInfo:{},hasCollect:!1,showPreview:!1,resumeData:{},sendFileLoading:!1,recruitType:"ONLINE"}},methods:{getDetails:function(){var t=this,e="/api/employment/platform/getPositionById?id="+this.recruitmentInfo.id+"&type=RECRUITMENT";Object(a.e)({url:e,type:"get",success:function(e){e.state?t.recruitmentDetails=e.data:(t.$message.error("获取职位信息失败,请重新获取"),t.$emit("getInfoError","false"))}})},apply:function(){var t=this;if(this.checkUserInfo||"STUDENT"!=this.checkUserInfo.type){this.onApplyPositionModal=!0,this.resumenName=this.recruitmentDetails.schoolName+"_"+this.checkUserInfo.name+"_"+this.recruitmentInfo.positionName;Object(a.e)({url:"/api/employment/resume/getUseResumeType",type:"get",success:function(e){e.state?(t.hasResume=!0,t.resumenInfo=e.data):t.hasResume=!1}})}else this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login")},_getPdf:function(e,i){var a=e||this.title,s=t("#content").outerWidth(),o=t("#content").outerHeight();n()(document.querySelector("#showPreview"),{allowTaint:!0,width:s,height:o,dpi:300}).then(function(t){var e=t.width,s=t.height,n=e/592.28*841.89,o=s,l=0,c=592.28/e*s,u=t.toDataURL("image/jpeg",1),d=new r.a("","pt","a4");if(o<n)d.addImage(u,"JPEG",0,0,595.28,c);else for(;o>0;)d.addImage(u,"JPEG",0,l,595.28,c),l-=841.89,(o-=n)>0&&d.addPage();i?i(d.output("datauri")):d.save(a+".pdf")})},dataURLtoFile:function(t,e){for(var i=t.split(","),a=i[0].match(/:(.*?);/)[1],s=atob(i[1]),n=s.length,o=new Uint8Array(n);n--;)o[n]=s.charCodeAt(n);return new File([o],e,{type:a})},blacklistSure:function(){var t=this;if(!this.resumenName)return this.$message.error("请填写简历名称");this.sendFileLoading=!0;"FILE"==this.recruitType?Object(a.e)({url:"/api/employment/resume/sendFileResume",type:"post",data:{positionId:this.recruitmentInfo.id,type:this.resumenInfo.type,resumeFile:this.resumenInfo.resumeFile,positionTypeEnum:this.recruitmentInfo.type},success:function(e){e.state?t.$message.success("发送成功"):t.$message.error(e.message),t.onApplyPositionModal=!1,t.sendFileLoading=!1},error:function(e){t.onApplyPositionModal=!1,t.sendFileLoading=!1,t.$message.error("发送失败")}}):this.setOnlineResume("send")},sendOnlineResume:function(){var t=this;this._getPdf("我的简历",function(e){var i=t.dataURLtoFile(e,"pdf"),s=new FormData;s.append("file",i),Object(a.e)({url:"/upload/storage/files",type:"post",contentType:!1,processData:!1,data:s,success:function(e){if("88888"==e.code){var i=e.data.hash;Object(a.e)({url:"/api/employment/resume/sendFileResume",data:{positionId:t.recruitmentInfo.id,type:t.resumenInfo.type,resumeFile:i,positionTypeEnum:t.recruitmentInfo.type},type:"post",success:function(e){e.state?t.$message.success("发送成功"):t.$message.error(e.message),t.onApplyPositionModal=!1,t.sendFileLoading=!1,t.showPreview=!1}})}}})})},collect:function(t){var e=this;this.checkUserInfo||"STUDENT"==this.checkUserInfo.type?t?Object(a.e)({url:"/api/employment/collection/cancelCollectByRelationId/"+this.recruitmentDetails.id,type:"delete",success:function(t){t.state?(e.$message.success("取消收藏成功"),e.recruitmentDetails.isCollect=!1):e.$message.error("取消收藏失败")}}):Object(a.e)({url:"/api/employment/collection/addCollection",type:"post",data:{relationId:this.recruitmentDetails.id},success:function(t){t.state?(e.$message.success("收藏成功"),e.recruitmentDetails.isCollect=!0):e.$message.error("收藏失败")}}):this.$message.error("您还未登录或非学生,暂无权限申请职位")},toAddResume:function(){this.$emit("getRouter")},fileNameChange:function(t){this.fileName=t.target.files[0].name},onApplyPosition:function(){},preview:function(){this.setOnlineResume()},setOnlineResume:function(t){var e=this;if("FILE"!=this.recruitType){var i="/api/employment/resume/"+this.checkUserInfo.id;Object(a.e)({url:i,type:"get",success:function(i){i.state&&(e.resumeData=i.data,e.showPreview=!0,"send"==t&&e.sendOnlineResume())}})}else this.$preview({name:this.resumenInfo.resumeFileName,url:"/downloads/storage/files/"+this.resumenInfo.resumeFile,type:"pdf"})}},created:function(){this.getDetails()}}}).call(e,i("qqHy"))},IwLe:function(t,e,i){"use strict";var a=i("2IYH"),s=i("Se9A"),n=(Boolean,Boolean,Object,a.a,s.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[a.a],components:{ModuleContainer:s.a},data:function(){return{editorConfig:{autoHeightEnabled:!0,wordCount:!1,autoFloatEnabled:!1,toolbars:[["source","undo","redo","bold","italic","underline","strikethrough","fontborder","subscript","superscript","formatmatch","removeformat","time","date","horizontal"],["paragraph","fontfamily","fontsize","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","lineheight","rowspacingtop","rowspacingbottom"],["simpleupload","insertimage","attachment","link","emotion","spechars","imagenone","imageleft","imageright","imagecenter","inserttable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","deletecaption","inserttitle","mergecells","edittable","edittd","deletetable","insertparagraphbeforetable"],["autotypeset","pasteplain","snapscreen","preview","print","fullscreen","background","touppercase","tolowercase","insertcode","directionalityltr","directionalityrtl","customstyle","template"]]}}},methods:{}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"基本信息",inline:t.inline}},[t.edit?i("el-form",{ref:"form",attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"双选会名称"}},[i("el-input",{attrs:{placeholder:"请输入双选会名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"双选会时间"}},[i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期","suffix-icon":"el-icon-date"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v(" "),i("div",{staticClass:"line"},[t._v("到")]),t._v(" "),i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期","suffix-icon":"el-icon-date"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"双选会地点"}},[i("el-input",{attrs:{placeholder:"请输入双选会地点"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"申请时间"}},[i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期","suffix-icon":"el-icon-date"},model:{value:t.form.startApplyTime,callback:function(e){t.$set(t.form,"startApplyTime",e)},expression:"form.startApplyTime"}}),t._v(" "),i("div",{staticClass:"line"},[t._v("到")]),t._v(" "),i("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期","suffix-icon":"el-icon-date"},model:{value:t.form.endApplyTime,callback:function(e){t.$set(t.form,"endApplyTime",e)},expression:"form.endApplyTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("u-editor",{ref:"descEditor",attrs:{config:t.editorConfig},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1):i("el-form",{attrs:{model:t.form,size:"small"}},[t.rules.name&&t.rules.name.hidden?t._e():i("el-form-item",{attrs:{label:"双选会名称"}},[i("p",[t._v(t._s(t.form.name))])]),t._v(" "),i("el-form-item",{attrs:{label:"双选会时间"}},[i("p",[t._v(t._s(new Date(t.form.startTime).format("yyyy-MM-dd HH:mm"))+" ~ "+t._s(new Date(t.form.endTime).format("yyyy-MM-dd HH:mm")))])]),t._v(" "),i("el-form-item",{attrs:{label:"双选会地点"}},[i("p",[t._v(t._s(t.form.address))])]),t._v(" "),t.rules.applyTime&&t.rules.applyTime.hidden?t._e():i("el-form-item",{attrs:{label:"申请时间"}},[i("p",[t._v(t._s(new Date(t.form.startApplyTime).format("yyyy-MM-dd HH:mm"))+" ~ "+t._s(new Date(t.form.endApplyTime).format("yyyy-MM-dd HH:mm")))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1)],1)},staticRenderFns:[]},r=i("C7Lr")(n,o,!1,null,null,null);e.a=r.exports},J0Oq:function(t,e,i){"use strict";e.__esModule=!0;var a,s=i("rVsN"),n=(a=s)&&a.__esModule?a:{default:a};e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,i){return function a(s,o){try{var r=e[s](o),l=r.value}catch(t){return void i(t)}if(!r.done)return n.default.resolve(l).then(function(t){a("next",t)},function(t){a("throw",t)});t(l)}("next")})}}},JUJb:function(t,e,i){"use strict";var a=i("rVsN"),s=i.n(a),n=i("C331");e.a={data:function(){return{statusUrl:"/api/async/exports/exportStatus/",exportCode:""}},methods:{exportFile:function(t,e,i){var a=this;return new s.a(function(s,o){a.$waiting.show({text:"正在导出...(导出时间跟学生数量相关，请耐心等待)",container:"body"}),Object(n.d)(t,e,i).then(function(t){if(t.state){a.exportCode=t.data;var e=a;!function t(){Object(n.d)(e.statusUrl+e.exportCode).then(function(i){e.$waiting.close(),i.data&&i.data.fileName?s(i):i.data?(e.$waiting.show({text:"正在导出...("+parseInt(i.data.hadSearchCount/i.data.count*100)+"%)",container:"body"}),setTimeout(t,2e3)):(e.$toast(i.message),o(i))})}()}else a.$waiting.close()})})},getExportStatus:function(){}}}},KH7x:function(t,e,i){"use strict";e.__esModule=!0;var a=n(i("MGgt")),s=n(i("HzJ8"));function n(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,a.default)(Object(t)))return function(t,e){var i=[],a=!0,n=!1,o=void 0;try{for(var r,l=(0,s.default)(t);!(a=(r=l.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},LNiB:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__=__webpack_require__("HzJ8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_vue__=__webpack_require__("xd7I"),__WEBPACK_IMPORTED_MODULE_3_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_3_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__),__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_5__computed__=__webpack_require__("6s1/"),_unused_webpack_default_export={inject:{windowObj:{default:null}},props:{departmentId:{default:null},student:{default:null},appId:{default:null},formId:{default:null},initWay:{default:"create"},app:{default:null},businessId:{default:null},infoSetting:{default:null}},components:{computed:__WEBPACK_IMPORTED_MODULE_5__computed__.a},created:function(){var t=this,e=localStorage.getItem("lang");Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(e)&&(this.lang=e),this.pageStamp=Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)(),this.layoutSetting.scrollContainer="#formSetPage"+this.pageStamp+" .form-part .cells-div",this.title!==this.app||this.app.name,this.formSetting.leftSideData.base.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.table.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.triggers.eventsList.forEach(function(e){e.name=t.translate.eventsList[e.id]}),this._getSettingData(),this.infoSetting?(Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/information/columns/"+this.infoSetting.type,type:"get",success:function(e){e.state&&e.data&&e.data.length>0&&(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.info=e.data)}}),this.personalInfoSetting.infoLayoutUrl="/api/information/infoSettings/init/"+this.infoSetting.type,this._getPersonalInfoOf(this.infoSetting.tabs&&this.infoSetting.tabs[0])):this._getFormInfo()},data:function(){return{dataCenterArray:[{value:1,label:"是的"}],showAddMemberModal:!1,showComputedModal:!1,computedProperties:"",controlList:[{name:"控件1",value:1,id:"kj1"},{name:"控件2",value:2,id:"kj2"},{name:"控件3",value:3,id:"kj3"},{name:"控件4",value:4,id:"kj4"},{name:"控件5",value:5,id:"kj5"},{name:"控件6",value:6,id:"kj6"}],newFenlei:"",setPreview:!1,pageStamp:"",title:"",formSetting:{leftSideControl:{showFavorWigt:!1,showFormWigt:!1,showInfoWigt:!1,showSysWigt:!1,showFormName:"",showSysName:""},leftSideData:{base:[{title:"输入框",top:0,left:0,w:3,h:1,componentType:"input"},{title:"下拉单选框",top:0,left:0,w:3,h:1,componentType:"select"},{title:"单选框",top:0,left:0,w:3,h:1,componentType:"radio"},{title:"复选框",top:0,left:0,w:3,h:1,componentType:"checkbox"},{title:"数字框",top:0,left:0,w:3,h:1,componentType:"number"},{title:"日期",top:0,left:0,w:3,h:1,componentType:"datetime"},{title:"文本",top:0,left:0,w:3,h:1,componentType:"label"},{title:"图片",top:0,left:0,w:3,h:2,componentType:"image"},{title:"电子签名",top:0,left:0,w:3,h:2,componentType:"signature"},{title:"定位",top:0,left:0,w:6,h:3,componentType:"map"},{title:"附件",top:0,left:0,w:3,h:2,componentType:"attachment"},{title:"分割线",top:0,left:0,w:12,h:1,componentType:"splitLine"},{title:"省、地、市(县)",top:0,left:0,w:6,h:1,componentType:"address"},{title:"表格(下方区域配置表格字段)",top:0,left:0,w:12,h:1,componentType:"table"}],table:[{title:"输入框",componentType:"input"},{title:"下拉单选框",componentType:"select"},{title:"单选框",componentType:"radio"},{title:"复选框",componentType:"checkbox"},{title:"数字框",componentType:"number"},{title:"日期",componentType:"datetime"}],info:[],favor:[],form:[],sys:[]},attributesShow:{input:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","rows"],verification:["regexExpression","maxLength","minLength"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","precision"],verification:["maxValue","minValue"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]},{id:"computed",name:"计算结果"}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},datetime:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","dateFormat"],verification:["maxDate","minDate"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},radio:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect"],verification:["maxSelect","minSelect"],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{xResizable:!0,yResizable:!1,basic:["exportable","options","autoSelect"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},address:{xResizable:!1,yResizable:!1,basic:["exportable"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},table:{xResizable:!1,yResizable:!1,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataSet"},{type:"bool",id:"coverTable"}],basic:["exportable","autoNumber","checkable","importable"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},label:{xResizable:!0,yResizable:!0,basic:["content"],style:["borderTop","borderBottom","color"]},splitLine:{xResizable:!1,yResizable:!1,style:["color"]},image:{xResizable:!0,yResizable:!0,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],basic:["exportable"],verification:["minWidth","minHeight","maxWidth","maxHeight"],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}]},signature:{xResizable:!0,yResizable:!0,basic:["exportable"]},map:{xResizable:!0,yResizable:!0,basic:["exportable","map"]},attachment:{xResizable:!0,yResizable:!0,verification:["fileMaxNumber","fileFormat","fileSize"]}},attributes:{placeholder:{type:"text"},rows:{type:"number",min:1},options:{type:"options"},autoSelect:{type:"bool"},precision:{type:"number",min:0},dateFormat:{type:"select",data:[{id:"yyyy-MM-dd",name:"yyyy-MM-dd"},{id:"yyyyMMdd",name:"yyyyMMdd"},{id:"yyyy-MM-dd hh:ii:ss",name:"yyyy-MM-dd hh:ii:ss"},{id:"yyyy-MM",name:"yyyy-MM"}]},autoNumber:{type:"bool"},checkable:{type:"bool"},exportable:{type:"bool"},importable:{type:"bool"},content:{type:"richText"},color:{type:"color"},borderBottom:{type:"bool"},borderTop:{type:"bool"},regexExpression:{type:"text"},maxWidth:{type:"number"},maxHeight:{type:"number"},minWidth:{type:"number"},minHeight:{type:"number"},maxLength:{type:"number",min:0},minLength:{type:"number",min:0},maxSelect:{type:"number",min:1},minSelect:{type:"number",min:1},maxValue:{type:"number"},minValue:{type:"number"},maxDate:{type:"datetime"},minDate:{type:"datetime"},fileFormat:{type:"multi",required:!0,data:[{id:".txt",name:".txt"},{id:".doc",name:".doc"},{id:".docx",name:".docx"},{id:".wps",name:".wps"},{id:".pdf",name:".pdf"},{id:".ppt",name:".ppt"},{id:".pptx",name:".pptx"},{id:".xls",name:".xls"},{id:".xlsx",name:".xlsx"},{id:".rar",name:".rar"},{id:".zip",name:".zip"},{id:".png",name:".png"},{id:".jpg",name:".jpg"},{id:".jpeg",name:".jpeg"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"},{id:".lrc",name:".lrc"},{id:".rm",name:".rm"},{id:".rmvb",name:".rmvb"},{id:".mp3",name:".mp3"},{id:".mp4",name:".mp4"},{id:".wma",name:".wma"},{id:".wav",name:".wav"},{id:".avi",name:".avi"},{id:".wfs",name:".wfs"}]},fileMaxNumber:{type:"number",min:1},fileSize:{type:"select",data:[{id:51200,name:"50MB"},{id:10240,name:"10MB"},{id:5120,name:"5MB"},{id:2048,name:"2MB"},{id:1024,name:"1MB"}]},map:{type:"map"}},triggers:{eventsList:[{id:"FOCUS",name:"获取焦点"},{id:"BLUR",name:"失去焦点"},{id:"CHANGE",name:"值改变"}],actionsList:[{name:"showComponent",properties:{field:[]}},{name:"hideComponent",properties:{field:[]}},{name:"setText"},{name:"triggerEvent"},{name:"script"}],conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},triggerNotAllowWigt:["table","label","image","attachment","splitLine","signature","map"],actionNotAllowSetWigt:["table","attachment","splitLine","signature","map"],methodsList:[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"delete",name:"DELETE"},{id:"put",name:"PUT"},{id:"patch",name:"PATCH"}],richTextConfig:{toolbars:[["source","undo","redo","500","italic","underline","strikethrough","forecolor","backcolor","lineheight","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","horizontal","date","time","spechars","attachment"]],initialFrameHeight:280},editorShow:!1,mapShow:!1,originalSettingStr:""},layoutSetting:{transition:!0,scriptShow:!1,margin:[8,6,8,6],cellsLines:100,cellLineHeight:86,cellWidth:62,cellHeight:65,draggableX:0,draggableY:0,timer:null,timer2:null,delay:300,scrollContainer:""},globalCollector:{show:!1,valueTypeOptions:[{value:"COMPONENT",label:"关联组件"},{value:"FIXED",label:"固定值"}],collectors:[]},searching:!1,searchingText:"",containerDom:null,scaleTarget:null,scaleData:{_startX:0,_startY:0},dragTarget:null,dragData:{show:!1,title:"输入框",top:0,left:0,w:3,h:1,x:0,y:0},dragType:"",cellsDom:null,wigtDataArr:[],code:"",curTarget:null,optionsShow:!1,optionsway:"",urlAddr:"",newOptStr:"",dataSetOptions:[],dataFieldOptions:[],dictionaryOptions:[],initialTime:"currentTime",newNameStr:"",newValueStr:"",newCaseNameStr:"",eventShow:"",curCase:null,oldCase:null,curAction:null,showFieldEvents:!1,showFieldValue:"",triggerSetTextField:null,newObj:{},newObj2:{},preview:!1,formModel:!1,isClick:!1,wigtDataArrHistory:[],historyIndex:0,isRedoOrBack:!1,reviseFromId:"",reviseRemark:null,personalInfoSetting:{curInfoId:"",infoIndexJson:{},oldIndexJsonStr:{},infoLayoutUrl:"",changedIds:[]},tabStyleParam:{scrollDeltaX:300,duration:.5},tabShow:!1,lang:"zh-cn"}},computed:{cellsArray:function(){for(var t=[],e=0;e<this.layoutSetting.cellsLines;e++){for(var i=[],a=0;a<12;a++)i.push("");t.push(i)}return t},singularDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple||t.push(e)}),t},multipleDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple&&t.push(e)}),t},singularWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"!==e.componentType&&t.push(e)}),t},multipleWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"===e.componentType&&t.push(e)}),t},dataSetId:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.initialization.properties.dataSet&&(e=i.id)}),e},dataSetIdOfCollection:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.collector.dataSet&&(e=i.id)}),e},isValid:function(){return this.dragData.x>=0&&this.dragData.y>=0&&12-this.dragData.x>=this.dragData.w},conditionField:function(){var t=this,e={};return this.wigtDataArr.forEach(function(i){i.name===t.curCase.condition.component&&(e=i)}),e},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(this.lang).formManage},conditionAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){!t.formSetting.triggerNotAllowWigt.indexOf(i.componentType)>=0&&e.push(i)}),e},actionSetValueAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.actionNotAllowSetWigt.indexOf(i.componentType)<0&&e.push(i)}),e},triggerAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.attributesShow[i.componentType].events&&e.push(i)}),e},leftBaseHeight:function(){return 48*Math.ceil(this.formSetting.leftSideData.base.length/2)+70},isChange:function(t){return!!this.formSetting.originalSettingStr&&this.formSetting.originalSettingStr!==__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({title:this.title,code:this.code,components:this.wigtDataArr})},isChangeOfInfo:function(){if(this.personalInfoSetting.curInfoId&&this.wigtDataArr&&this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]){var t=this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId);this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]!==__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({code:this.code,components:this.wigtDataArr})?t<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId):t>=0&&this.personalInfoSetting.changedIds.splice(t,1)}return this.personalInfoSetting.changedIds.length>0}},watch:{wigtDataArr:{deep:!0,handler:function(){var t=this;this.infoSetting||(this.isRedoOrBack?this.isRedoOrBack=!1:(this.layoutSetting.timer2&&clearTimeout(this.layoutSetting.timer2),this.layoutSetting.timer2=setTimeout(function(){t.historyIndex<t.wigtDataArrHistory.length&&t.wigtDataArrHistory.splice(t.historyIndex),t.wigtDataArrHistory.push(JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t.wigtDataArr))),t.historyIndex++},200)))}},windowObj:{deep:!0,handler:function(t){this._pauseTransition(),this._justifyLayoutParam()}}},mounted:function(){var t=this;this.containerDom=document.getElementById("formSetPage"+this.pageStamp),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(""+this.layoutSetting.scrollContainer).on("scroll",function(){t._pauseTransition(),t._justifyLayoutParam()}),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp).keydown(function(e){if(1==e.ctrlKey){if(83===e.keyCode)return t._saveLayout(),e.preventDefault(),!1;if(90===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex--,t.historyIndex<=0)return t.historyIndex++,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}if(89===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex++,t.historyIndex>t.wigtDataArrHistory.length)return t.historyIndex--,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}}return!0}),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp).on("mousewheel",function(e,i){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).is(t.layoutSetting.scrollContainer)||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).parents(t.layoutSetting.scrollContainer)[0]||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).is(".widget-cell")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).parents(".widget-cell")[0]){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).is(".script-div")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).parents(".script-div")[0])return;var a=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.layoutSetting.scrollContainer).scrollTop();__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.layoutSetting.scrollContainer).scrollTop(a+e.originalEvent.deltaY)}}),t._justifyLayoutParam()},methods:{collectClick:function(){this.layoutSetting.scriptShow?this.$toast("请先返回布局页"):this.globalCollector.show=!this.globalCollector.show},scriptClick:function(){this.globalCollector.show?this.$toast("请先返回布局页"):this.layoutSetting.scriptShow=!this.layoutSetting.scriptShow},daochumoban:function(){this.isChange?alert("请先保存模块设置"):this.formModel=!0},_back:function(){(this.isChange||this.isChangeOfInfo)&&confirm(this.translate.backTip)?this._saveLayout():this.$emit("back")},_gotoRoleSet:function(){this.$emit("gotoRoleSet")},_searchKeyUp:function(t){13===t.keyCode&&(this.searchingText=t.target.value)},_getSettingData:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/document/data/types",type:"get",success:function(e){e.state?t.dataSetOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/document/data/types/columns/all",type:"get",success:function(e){e.state?(t.dataFieldOptions=e.data,t.dataFieldOptions.forEach(function(t){t.columnTitle=t.title,t.title=t.title+" ("+t.typeTitle+")",t.columnNameAndTypeName=t.columnName+"+"+t.typeName})):t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/system/dictTypes",type:"get",success:function(e){e.state?t.dictionaryOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/system/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.sys=e.data):t.$toast(e.message)}})})})})},_getFormInfo:function(){var t=this;this.departmentId&&Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/departments/"+this.departmentId+"/apps/forms/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.form=e.data):t.$toast(e.message)}});var e=this.formId?"/api/apps/settings/forms/"+this.formId:"";"edit"===this.initWay?e=this.businessId?"/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting":"/api/apps/"+this.appId+"/settings/forms":this.title=this.app.name,e&&(this.$waiting.show(),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:e,type:"get",success:function(e){e.state?e.data&&("edit"===t.initWay&&(t.title=e.data.name,t.reviseFromId=e.data.fromId,t.reviseRemark=e.data.remark),setTimeout(function(){t._pageClick(),t._componentsProcess(e.data),t.formSetting.originalSettingStr=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({title:t.title,code:t.code,components:t.wigtDataArr})},300)):t.$toast(e.message)}}).always(function(){setTimeout(function(){t.$waiting.close()},300)}))},_componentsProcess:function(t){var e=this;t.components.forEach(function(t,i){t.location&&(e.$set(t,"x",parseInt(t.location.left)),e.$set(t,"y",parseInt(t.location.top))),t.size&&(e.$set(t,"w",parseInt(t.size.width)),e.$set(t,"h",parseInt(t.size.height))),e._initWigt(t)}),this.code=t.property?t.property.script:"",t.property&&t.property.collectors&&t.property.collectors.length&&(this.globalCollector.collectors=t.property.collectors.map(function(t){return{dataSet:t.dataSet,fields:t.tableInitializations.map(function(e){return{name:e.fieldName,isKey:t.tableKeys.includes(e.fieldName),valueType:e.mode,value:e.value}})}})),this.wigtDataArr=t.components,this.$nextTick(function(){e._clearEmptyLine()})},_getDataFieldOf:function(t){var e=[];return this.dataFieldOptions.forEach(function(i){i.typeName===t&&e.push(i)}),e},_getFieldOf:function(t){var e="";return this.dataFieldOptions.forEach(function(i){i.typeName===t.dataSet&&i.columnName===t.dataField&&(e=i.columnName+"+"+i.typeName)}),e+""},_getAttributesOfInitialMode:function(t){var e=[];return this.formSetting.attributesShow[t.componentType].initial.forEach(function(i){i.id===t.initialization.mode&&(e=i.attributes||[])}),e},_getFieldValue:function(t){var e=t.fieldName.split("_")[0],i=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t));return"address"===e?(i.value.province||"")+(i.value.city||"")+(i.value.area||"")||this.translate.empty:i.value||this.translate.empty},_exchangeCollection:function(t){this.curTarget.collector||this.$set(this.curTarget,"collector",{flag:!1,dataSet:"",dataField:""}),this.curTarget.collector[t.id]=!this.curTarget.collector[t.id]},_initWigt:function(t){this.$set(t,"initialization",{mode:t.initialization&&t.initialization.mode||"",dynamic:t.initialization&&t.initialization.dynamic||!1,properties:{fixedValue:t.initialization&&t.initialization.properties&&t.initialization.properties.fixedValue||"",sqlQuery:t.initialization&&t.initialization.properties&&t.initialization.properties.sqlQuery||"",dataField:t.initialization&&t.initialization.properties&&t.initialization.properties.dataField||"",dataSet:t.initialization&&t.initialization.properties&&t.initialization.properties.dataSet||"",url:t.initialization&&t.initialization.properties&&t.initialization.properties.url||"",method:t.initialization&&t.initialization.properties&&t.initialization.properties.method||"",key:t.initialization&&t.initialization.properties&&t.initialization.properties.key||"",functionName:t.initialization&&t.initialization.properties&&t.initialization.properties.functionName||"",className:t.initialization&&t.initialization.properties&&t.initialization.properties.className||"",functionCode:t.initialization&&t.initialization.properties&&t.initialization.properties.functionCode||"",functionHtml:t.initialization&&t.initialization.properties&&t.initialization.properties.functionHtml||"",params:t.initialization&&t.initialization.properties&&t.initialization.properties.params||[],tableFields:t.initialization&&t.initialization.properties&&t.initialization.properties.tableFields||{}}}),this.$set(t,"properties",{basic:{placeholder:t.properties&&t.properties.basic&&t.properties.basic.placeholder||"",rows:t.properties&&t.properties.basic&&t.properties.basic.rows||1,options:t.properties&&t.properties.basic&&t.properties.basic.options||[],tableFields:t.properties&&t.properties.basic&&t.properties.basic.tableFields||[],precision:t.properties&&t.properties.basic&&t.properties.basic.precision||0,dateFormat:t.properties&&t.properties.basic&&t.properties.basic.dateFormat||"yyyy-MM-dd",autoNumber:t.properties&&t.properties.basic&&t.properties.basic.autoNumber||!1,autoSelect:t.properties&&t.properties.basic&&t.properties.basic.autoSelect||!1,checkable:t.properties&&t.properties.basic&&t.properties.basic.checkable||!1,exportable:!t.properties||!t.properties.basic||0!=t.properties.basic.exportable,importable:t.properties&&t.properties.basic&&t.properties.basic.importable||!1,content:t.properties&&t.properties.basic&&t.properties.basic.content||"",map:t.properties&&t.properties.basic&&t.properties.basic.map||{radius:300,center:{lat:"",lng:""}}},style:{color:t.properties&&t.properties.style&&t.properties.style.color||"#000000",fontSize:t.properties&&t.properties.style&&t.properties.style.fontSize||"",borderTop:t.properties&&t.properties.style&&t.properties.style.borderTop||!1,borderBottom:t.properties&&t.properties.style&&t.properties.style.borderBottom||!1},verification:{regexExpression:t.properties&&t.properties.verification&&t.properties.verification.regexExpression||"",maxLength:t.properties&&t.properties.verification&&t.properties.verification.maxLength||"",minLength:t.properties&&t.properties.verification&&t.properties.verification.minLength||"",maxSelect:t.properties&&t.properties.verification&&t.properties.verification.maxSelect||"",minSelect:t.properties&&t.properties.verification&&t.properties.verification.minSelect||"",maxValue:t.properties&&t.properties.verification&&t.properties.verification.maxValue||"",minValue:t.properties&&t.properties.verification&&t.properties.verification.minValue||"",maxDate:t.properties&&t.properties.verification&&t.properties.verification.maxDate||"",minDate:t.properties&&t.properties.verification&&t.properties.verification.minDate||"",maxHeight:t.properties&&t.properties.verification&&t.properties.verification.maxHeight||"",maxWidth:t.properties&&t.properties.verification&&t.properties.verification.maxWidth||"",minHeight:t.properties&&t.properties.verification&&t.properties.verification.minHeight||"",minWidth:t.properties&&t.properties.verification&&t.properties.verification.minWidth||"",fileFormat:t.properties&&t.properties.verification&&t.properties.verification.fileFormat&&("string"==typeof t.properties.verification.fileFormat?t.properties.verification.fileFormat:t.properties.verification.fileFormat.join(","))||".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:t.properties&&t.properties.verification&&t.properties.verification.fileMaxNumber||"",fileSize:t.properties&&t.properties.verification&&t.properties.verification.fileSize||10240}}),this.$set(t,"collector",{flag:t.collector&&t.collector.flag||!1,coverTable:t.collector&&t.collector.coverTable||!1,dataSet:t.collector&&t.collector.dataSet||"",dataField:t.collector&&t.collector.dataField||"",tableFields:t.collector&&t.collector.tableFields||{},tableKeys:t.collector&&t.collector.tableKeys||[]}),this.$set(t,"events",[{name:"FOCUS",cases:t.events&&t.events[0]&&t.events[0].cases||[]},{name:"BLUR",cases:t.events&&t.events[1]&&t.events[1].cases||[]},{name:"CHANGE",cases:t.events&&t.events[2]&&t.events[2].cases||[]}])},_searchWigt:function(t){this.searchingText=t.target.value},_showWigtContainer:function(t){for(var e in this.formSetting.leftSideControl)!0===this.formSetting.leftSideControl[e]&&e!==t&&(this.formSetting.leftSideControl[e]=!1);this.formSetting.leftSideControl[t]=!this.formSetting.leftSideControl[t]},_showFormWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="form"+t?"":"form"+t},_showInfoWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="info"+t?"":"info"+t},_showSysWigt:function(t){this.formSetting.leftSideControl.showSysName=this.formSetting.leftSideControl.showSysName==="sys"+t?"":"sys"+t},_optionsTxtChange:function(t,e,i){var a=e[i];e.splice(i,1),e.indexOf(t.target.value)>=0?(this.$toast("选项已存在列表中"),e.splice(i,0,a)):e.splice(i,0,t.target.value)},_justifyLayoutParam:function(){this.layoutSetting.draggableX=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().left-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().left,this.layoutSetting.draggableY=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().top-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().top},_clearEmptyLine:function(){var t=0,e=0;this.wigtDataArr.forEach(function(t){e<t.y+t.h-1&&(e=t.y+t.h-1)});for(var i=0;i<=e;){t=i;for(var a=0;a<this.wigtDataArr.length;a++)if(i>=this.wigtDataArr[a].y&&i<=this.wigtDataArr[a].y+this.wigtDataArr[a].h-1){i+=1;break}if(t===i){var s=!0;if(this.wigtDataArr.forEach(function(e){e.y>t&&(s=!1,e.y=e.y-1)}),s)break;e-=1}}},_testTwoNode:function(t,e){return(t.x+t.w-1>=e.x&&t.x<=e.x||t.x<=e.x+e.w-1&&t.x>=e.x||t.x>=e.x&&t.x+t.w-1<=e.x+e.w-1||t.x<=e.x&&t.x+t.w-1>=e.x+e.w-1)&&(t.y+t.h-1>=e.y&&t.y<=e.y||t.y<=e.y+e.h-1&&t.y>=e.y||t.y>=e.y&&t.y+t.h-1<=e.y+e.h-1||t.y<=e.y&&t.y+t.h-1>=e.y+e.h-1)},_collisionDetect:function(t){var e=this;this.wigtDataArr.forEach(function(i){if(t.name!==i.name){var a=i.y-t.y;(t.x+t.w-1>=i.x&&t.x<=i.x||t.x<=i.x+i.w-1&&t.x>=i.x||t.x>=i.x&&t.x+t.w-1<=i.x+i.w-1||t.x<=i.x&&t.x+t.w-1>=i.x+i.w-1)&&(t.y+t.h-1>=i.y&&t.y<=i.y||t.y<=i.y+i.h-1&&t.y>=i.y||t.y>=i.y&&t.y+t.h-1<=i.y+i.h-1||t.y<=i.y&&t.y+t.h-1>=i.y+i.h-1)&&e.wigtDataArr.forEach(function(e){e.y+e.h-1>=t.y&&e.name!==t.name&&(e.y=e.y+t.h-a)})}}),this.$nextTick(function(){e._clearEmptyLine()})},_mouseDown:function(t){var e=this;t.cancelBubble=!0,this.isClick=!0,this.layoutSetting.timer=setTimeout(function(){e.isClick=!1},300),setTimeout(function(){if(!t.button&&!e.isClick){e._pauseTransition();var i=null;if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".drag")?i=t.target:__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")?i=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag")[0]:__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".duplicate")&&(i=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag")[0]),i){var a,s;if(i.getAttribute("data-wigt-type")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".duplicate"))for(s in e.dragTarget=document.getElementById("dragDom"),e.dragType="create",a="form"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.form[i.getAttribute("data-formindex")].wigts[i.getAttribute("data-key")])):"info"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.info[i.getAttribute("data-infoindex")].wigts[i.getAttribute("data-key")])):"base"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.base[i.getAttribute("data-key")])):"sys"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.sys[i.getAttribute("data-sysindex")].wigts[i.getAttribute("data-key")])):JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[s]=a[s];else{for(s in e.dragTarget=i,e.dragType="move",a=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[s]=a[s];__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.dragTarget).addClass("active")}e.dragData.show=!0,e.dragData.top=i.offsetTop,e.dragData.left=i.offsetLeft}}},this.layoutSetting.delay)},_pauseTransition:function(){var t=this;this.layoutSetting.transition=!1,setTimeout(function(){t.layoutSetting.transition=!0},100)},_mouseUp:function(t){var e=this;if(clearTimeout(this.layoutSetting.timer),!t.button&&!this.isClick){if(this.scaleTarget&&this._scaleMouseUp(t),this.dragData.show&&this.dragTarget&&this.isValid){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".cell.active").removeClass("active"),"create"===this.dragType){var i={};for(var a in this.dragData)i[a]=this.dragData[a];i.name=i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)(),"table"===i.componentType&&i.properties.basic.tableFields.forEach(function(t){t.name=i.componentType+"_"+t.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)()});var s=!1;this.wigtDataArr.forEach(function(t){t.name===i.name&&(s=!0)}),s||(this.curTarget=i,this.wigtDataArr.push(i),this._collisionDetect(i))}else __WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.dragTarget).removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.dragData.name){for(var i in t)t[i]=e.dragData[i];e._collisionDetect(t)}});this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}else if(this.dragTarget&&this.dragTarget.getAttribute("data-key")){var n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.dragTarget.getAttribute("data-key")]));for(var o in n)this.dragData[o]=n[o];this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}this.infoSetting&&(this.dragData.location||this.$set(this.dragData,"location",{}),this.$set(this.dragData.location,"left",this.dragData.x),this.$set(this.dragData.location,"top",this.dragData.y),this.dragData.size||this.$set(this.dragData,"size",{}),this.$set(this.dragData.size,"width",this.dragData.w),this.$set(this.dragData.size,"height",this.dragData.h)),this.dragTarget=null,this.dragData.show=!1,this.dragType=""}},_mouseMove:function(t){if(!t.button&&!this.isClick&&(this.scaleTarget&&this._scaleMouseMove(t),this.dragTarget)){var e,i;if(this.dragData.top=t.pageY-this.dragTarget.offsetHeight/3-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().top,this.dragData.left=t.pageX-this.dragTarget.offsetWidth/3-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().left,this.dragTarget.style.top=this.dragData.top+"px",this.dragTarget.style.left=this.dragData.left+"px",e=Math.round((this.dragData.left-this.layoutSetting.draggableX)/this.layoutSetting.cellWidth),i=Math.round((this.dragData.top-this.layoutSetting.draggableY)/this.layoutSetting.cellLineHeight),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".cell.active").removeClass("active"),this.dragData.x=e,this.dragData.y=i,e>=0&&i>=0&&12-e>=this.dragData.w)for(var a=0;a<this.dragData.h;a++)for(var s=0;s<this.dragData.w;s++)__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .cell .cell[data-x="+(e+s)+"][data-y="+(i+a)+"]").addClass("active")}},_checkNewFenlei:function(){this.$emit("addNewFenlei",this.newFenlei),this.showAddMemberModal=!1,this.newFenlei=""},_showComputedModal:function(){this.showComputedModal=!0;var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".transition.selected").data("key");(t||0==t)&&(this.computedProperties=this.wigtDataArr[t].initialization.properties)},checkCode:function checkCode(funStr){function re(str){var index1=str.indexOf("<"),index2=str.indexOf(">"),reStr=str.substring(index1,index2+1);if(str=str.replace(reStr,"5.5"),-1!=str.indexOf("<"))return re(str);try{eval(str)}catch(t){return!1}return!0}return re(funStr)},_setComputed:function(){var t=this.$refs.computed.patchFunctionHtml();if(this.checkCode(t.functionCode)){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".transition.selected").data("key");(e||0==e)&&(this.wigtDataArr[e].initialization.properties.functionCode=t.functionCode,this.wigtDataArr[e].initialization.properties.functionHtml=t.functionHtml),this.showComputedModal=!1}else this.$toast("公式有误,请检查!")},_removeItem:function(t,e,i){this.personalInfoSetting.curInfoId==t.id?confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1),this.personalInfoSetting.curInfoId=this.infoSetting.tabs[0].id,this._getPersonalInfoOf(this.infoSetting.tabs[0])):confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1)),i.stopPropagation()},_scaleMouseDown:function(t){if(!t.button){this.scaleTarget=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag"),this.scaleTarget.addClass("active");var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.scaleTarget.attr("data-key")]));for(var i in e)this.scaleData[i]=e[i];this.scaleData._startX=t.pageX,this.scaleData._startY=t.pageY,__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".vertical-resize")?this.scaleData.way="vertical":this.scaleData.way="horizontal"}},_scaleMouseUp:function(t){var e=this;t.button||(this.scaleTarget.removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.scaleData.name){for(var i in t)i===("vertical"===e.scaleData.way?"h":"w")?(t[i]=e.scaleData[i]+e.scaleData["d"+i]<=0?1:e.scaleData[i]+e.scaleData["d"+i],"vertical"!==e.scaleData.way&&(t[i]=e.scaleData.x+t[i]>12?12-e.scaleData.x:t[i])):t[i]=e.scaleData[i];e._collisionDetect(t)}}),"vertical"===this.scaleData.way?this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]-4+"px":this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+"px",this.scaleTarget=null)},_scaleMouseMove:function(t){if(!t.button&&this.scaleTarget){var e=t.pageX,i=t.pageY;"vertical"===this.scaleData.way?(this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]+(i-this.scaleData._startY)+"px",this.scaleData.dh=Math.round((i-this.scaleData._startY)/this.layoutSetting.cellLineHeight)):(this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+(e-this.scaleData._startX)+"px",this.scaleData.dw=Math.round((e-this.scaleData._startX)/this.layoutSetting.cellWidth))}},_remove:function(t){var e=this;this.wigtDataArr.forEach(function(i,a){e.curTarget&&e.curTarget.name===t.name&&(e.curTarget=null),i.name===t.name&&e.wigtDataArr.splice(a,1)}),this._pauseTransition(),this.$nextTick(function(){e._clearEmptyLine()})},_removeTableItem:function(t,e,i){t.collector&&t.collector.tableFields&&delete t.collector.tableFields[i],t.initialization&&t.initialization.tableFields&&delete t.initialization.tableFields[i];var a=t.collector.tableKeys.indexOf(i);a>=0&&t.collector.tableKeys.splice(a,1),t.properties.basic.tableFields.splice(e,1)},_drag:function(t){t.dataTransfer.setData("data",t.target.getAttribute("data-key"))},_dragover:function(t){__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_drop:function(t){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.table[t.dataTransfer.getData("data")],i={};(i=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e))).name="table_"+i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)();var a=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag").attr("data-key");void 0!==a&&this.wigtDataArr[a].properties.basic.tableFields&&this.wigtDataArr[a].properties.basic.tableFields.push(i)}},_pageClick:function(t){this._justifyLayoutParam(),this.curTarget=null},_widgetClick:function(t){t.cancelBubble=!0;var e=null;__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".drag")?e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")?e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag"):__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item")?e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item span")&&(e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".table-item")),e&&(e.is(".drag")?this.curTarget=this.wigtDataArr[e.attr("data-key")]:e.is(".table-item")&&(this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.tableFields[e.attr("data-key")]),this.initialTime="currentTime"===this.curTarget.initialization.properties.fixedValue?"currentTime":"defined",this.newNameStr=this.newValueStr="")},_duplicate:function(t){var e={};(e=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t))).name=e.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)(),"table"===e.componentType&&e.properties.basic.tableFields.forEach(function(t,i){t.name=e.componentType+"_"+t.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)()+i}),this.wigtDataArr.push(e),this._collisionDetect(t)},_attrSelect:function(t){},_afterSelectInitMode:function(t){this.curTarget.initialization.mode=t.val,"address"===this.curTarget.componentType?this.$set(this.curTarget.initialization.properties,t.val,{}):this.$set(this.curTarget.initialization.properties,t.val,"")},_afterSelectOfInit:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.initialization.properties,"dataField",e[0]||""),this.$set(this.curTarget.initialization.properties,"dataSet",e[1]||"")}else if("dataSet"===t.target.$attrs["data-attr"])this.$set(this.curTarget.initialization.properties,"dataSet",t.value);else if("fixedValue"===t.target.$attrs["data-attr"]){var i=t.target.$attrs["data-addType"];i&&this.$set(this.curTarget.initialization.properties[t.target.$attrs["data-attr"]],i,t.val)}else t.target.$attrs["data-attr"]&&this.$set(this.curTarget.initialization.properties,t.target.$attrs["data-attr"],t.value)},_afterSelectOfCollector:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.collector,"dataField",e[0]||""),this.$set(this.curTarget.collector,"dataSet",e[1]||"")}else"dataSet"===t.target.$attrs["data-attr"]?this.$set(this.curTarget.collector,"dataSet",t.value):t.target.$attrs["data-attr"]&&this.$set(this.curTarget.collector,t.target.$attrs["data-attr"],t.value)},_afterSelectOfTableInit:function(t,e){this.curTarget.initialization.properties.tableFields||this.$set(this.curTarget.initialization.properties,"tableFields",{}),this.$set(this.curTarget.initialization.properties.tableFields,e.name,t.value)},_afterSelectOfTableCollector:function(t,e){this.curTarget.collector.tableFields||this.$set(this.curTarget.collector,"tableFields",{}),this.$set(this.curTarget.collector.tableFields,e.name,t.value)},_checkTableKeys:function(t){this.curTarget.collector.tableKeys||this.$set(this.curTarget.collector,"tableKeys",[]);var e=this.curTarget.collector.tableKeys.indexOf(t.name);e>=0?this.curTarget.collector.tableKeys.splice(e,1):this.curTarget.collector.tableKeys.push(t.name)},_afterSelectedFields:function(t){var e=this,i=t.target.$attrs["data-action"];if("showComponent"===i||"hideComponent"===i)this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,"fields",[]),t.val.split(",").forEach(function(t,i){e.wigtDataArr.forEach(function(i,a){t===i.name&&e.curAction.properties.fields.push({name:t,title:i.title})})});else if("triggerEvent"===i)t.option?(this.showFieldEvents=this.formSetting.attributesShow[t.option.componentType].events&&t.target.values,this.newObj.fieldTitle=t.target.selected,this.newObj.fieldName=t.target.values):(this.newObj.eventsId=t.val,this.newObj.eventName=t.target.selected);else if("setText"===i)if(t.option)this.newObj2.fieldName=this.newObj2.fieldTitle="","address"===t.option.componentType?this.$set(this.newObj2,"value",{}):this.newObj2.value="",this.triggerSetTextField=t.option,this.showFieldValue=t.target.values?t.option.componentType:"",this.newObj2.fieldTitle=t.target.selected,this.newObj2.fieldName=t.target.values;else if("address"!==this.showFieldValue)this.$set(this.newObj2,"value",t.value);else{var a=t.target.$attrs["data-address"];this.newObj2.value||this.$set(this.newObj2,"value",{}),this.$set(this.newObj2.value,a,t.val),"province"===a&&this.newObj2.value&&this.$set(this.newObj2.value,"city","")&&this.$set(this.newObj2.value,"area",""),"city"===a&&this.newObj2.value&&this.$set(this.newObj2.value,"area","")}else if("conditions"===i){var s=t.target.$attrs["data-field"];if(this.curCase.condition||this.$set(this.curCase,"condition",{}),this.$set(this.curCase.condition,s,t.val),"component"===s)this.$set(this.curCase,"condition",{}),this.$set(this.curCase.condition,s,t.val);else if("operator"===s)this.$set(this.curCase.condition,"operator",t.val),this.$set(this.curCase.condition,"data",{});else if("conVal"===s){var n=t.target.$attrs["data-con"];"province"===n&&this.curCase.condition.data&&this.$set(this.curCase.condition.data,"city","")&&this.$set(this.curCase.condition.data,"area",""),"city"===n&&this.curCase.condition.data&&this.$set(this.curCase.condition.data,"area",""),n&&(this.curCase.condition.data||this.$set(this.curCase.condition,"data",{}),this.$set(this.curCase.condition.data,n,t.val))}}},_addConditionProp:function(t){},_daySelectedOfValue:function(t){"setText"===t.target.$attrs["data-action"]&&this.$set(this.newObj2,"value",t.value)},_initOptions:function(t){var e=this,i="";if("string"==typeof t)i=t;else{if(!t.val)return;i="/api/system/dictTypes/"+t.val+"/dicts"}Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:i,type:"get",success:function(t){t.state?(t.data.forEach(function(t){e.curTarget.properties.basic.options.push(t.label)}),e.optionsShow=!e.optionsShow):e.$toast(t.message)}})},_addOption:function(t){var e=this.newOptStr?this.newOptStr:this.translate.attrName.options+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)();this.newOptStr="",this.curTarget.properties[t].options.indexOf(e)>=0?this.$toast("选项已存在在列表中"):e?this.curTarget.properties[t].options.push(e):this.$toast("选项不能为空")},_addParam:function(t){var e=this;if(this.newNameStr&&this.newValueStr){var i=!1;this.curTarget.initialization.properties[t].forEach(function(t){t.name===e.newNameStr&&(i=!0)}),i?this.$toast(this.translate.initial.keyExistTip):(this.curTarget.initialization.properties[t].push({name:this.newNameStr,value:this.newValueStr}),this.newNameStr=this.newValueStr="")}else this.$toast(this.translate.initial.keyInValidTip)},_daySelected:function(t){var e=t.target.$attrs["data-type"],i=t.target.$attrs["data-attr"];this.curTarget.properties[e][i]=t.value},_daySelectedOfInit:function(t){this.curTarget.initialization.properties[t.target.$attrs["data-attr"]]=t.value},_daySelectedOfCondition:function(t){this.$set(this.curCase.condition.data,t.target.$attrs["data-attr"],t.value)},_timeFormat:function(t,e){if(!t)return"";var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},_fileSizeCheck:function(t){"fileSize"===t&&this.curTarget.properties.verification[t]>this.formSetting.attributes[t].max&&(this.curTarget.properties.verification[t]=this.formSetting.attributes[t].max,this.$toast(this.translate.fileMaxSizeTip+this.formSetting.attributes[t].max+"KB"))},_changeInitTime:function(t){this.initialTime=t,this.curTarget.initialization.properties.fixedValue="currentTime"===t?t:""},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_addNewCase:function(t){var e={};t.cases||this.$set(t,"cases",[]),this.$set(e,"name",this.newCaseNameStr?this.newCaseNameStr:"用例"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)()),this.$set(e,"condition",{}),this.$set(e,"actions",[]),t.cases.push(e),this._setCase(e)},_setCase:function(t){this.curCase=t,this.oldCase=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t))},_addAction:function(t){this.curCase.actions||this.$set(this.curCase,"actions",[]);var e={};this.$set(e,"name",t),this.$set(e,"properties",{}),this.curAction=e,this.curCase.actions.push(e)},_addActionProp:function(){if(this.newObj.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.newObj));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_addActionProp2:function(){if(this.newObj2.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.newObj2));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_removeAction:function(t){this.curCase.actions.splice(t,1),this.curAction=null},_removeActionProp:function(t){this.$delete(this.curAction.properties,t)},_getFieldArr:function(t){var e=[];return t&&t.forEach(function(t){e.push(t.name)}),e.join(",")},_savecurCase:function(){this.curCase=null,this.curAction=null,this.showFieldValue=""},_cancelSave:function(){for(var t in this.oldCase)this.curCase[t]=this.oldCase[t];this.curAction=null,this.curCase=null,this.showFieldValue=""},_saveLayout:function(){var t=this;this.wigtDataArr.forEach(function(e){t.$set(e,"location",{}),t.$set(e.location,"top",e.y),t.$set(e.location,"left",e.x),t.$set(e,"size",{}),t.$set(e.size,"width",e.w),t.$set(e.size,"height",e.h)}),this._sortLayout(this.wigtDataArr);var e=this._getGlobalCollectorSetting(),i={};if(this.businessId?i={formId:this.reviseFromId,name:this.title,remark:this.reviseRemark,property:{script:this.code,collectors:e},components:this.wigtDataArr}:(i={name:this.title,property:{script:this.code,collectors:e},components:this.wigtDataArr},"edit"===this.initWay&&(i.id=this.formId)),this.infoSetting){var a=this._getChangedInfoArray()||[];this.$emit("submit",a),this.personalInfoSetting.changedIds=[]}else this.$emit("submit",i)},_getGlobalCollectorSetting:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var s,n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.globalCollector.collectors);!(e=(s=n.next()).done);e=!0){var o=s.value,r={dataSet:"",tableKeys:[],tableInitializations:[]};if(o.dataSet){r.dataSet=o.dataSet;var l=!0,c=!1,u=void 0;try{for(var d,p=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(o.fields);!(l=(d=p.next()).done);l=!0){var m=d.value;m.isKey&&r.tableKeys.push(m.name),r.tableInitializations.push({fieldName:m.name,mode:m.valueType||null,value:m.value})}}catch(t){c=!0,u=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}t.push(r)}}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}return t},_sortLayout:function(t){t.sort(function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y})},_getPersonalInfoOf:function(t,e){var i=this;if(this.curTarget=null,t){if(this.personalInfoSetting.infoIndexJson[t.id])this.wigtDataArr=this.personalInfoSetting.infoIndexJson[t.id].components,this.personalInfoSetting.curInfoId=t.id;else{this.$waiting.show();var a={};"STUDENT"===this.infoSetting.type&&(a={educationLevel:this.infoSetting.educationLevel}),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:this.personalInfoSetting.infoLayoutUrl+"/"+t.id,type:"get",data:a,success:function(e){e.state?(i.$set(i.personalInfoSetting.infoIndexJson,t.id,e.data),setTimeout(function(){i._pageClick(),i._componentsProcess(e.data),i.wigtDataArr.forEach(function(t){i._collisionDetect(t),t.location||i.$set(t,"location",{}),t.location.left=t.x,t.location.top=t.y}),i.wigtDataArr.forEach(function(t){}),i.$set(i.personalInfoSetting.oldIndexJsonStr,t.id,__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({code:i.code,components:i.wigtDataArr})),i.personalInfoSetting.curInfoId=t.id},300)):i.$toast(e.message)}}).always(function(){setTimeout(function(){i.$waiting.close()},300)})}if(e>=0){var s=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),n=-__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-list .tab-item").eq(e).position().left;s.css({left:n+"px","transition-duration":this.tabStyleParam.duration+"s"}),this.tabShow=!1}}},_judgeChange:function(){this.personalInfoSetting.curInfoId&&(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId].property.script=this.code,__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId])!==this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]&&this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId)<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId))},_getChangedInfoArray:function(){var t=this,e=[];return this.personalInfoSetting.changedIds.forEach(function(i){t._sortLayout(t.personalInfoSetting.infoIndexJson[i].components),e.push(t.personalInfoSetting.infoIndexJson[i])}),e},_scrollTab:function(t){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),i=parseInt(e.css("left").replace("px",""));t?-(i-=this.tabStyleParam.scrollDeltaX)>=e.width()-__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2&&(i=-(e.width()-__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2)):-(i+=this.tabStyleParam.scrollDeltaX)<=0&&(i=0),e.css({left:i+"px","transition-duration":this.tabStyleParam.duration+"s"})},_markerClick:function(t){this.curTarget.properties.basic.map.center={lat:t.location.lat,lng:t.location.lng}},_selectGlobalCollectorDataSet:function(t){var e=parseInt(t.target.$attrs["data-index"]),i=this.globalCollector.collectors[e];i.dataSet!==t.val&&(i.dataSet=t.val,i.fields=[],this.dataFieldOptions.forEach(function(t){t.typeName===i.dataSet&&i.fields.push({name:t.columnName,isKey:!1,valueType:"",value:""})}))},_selectGlobalCollectorFieldValueType:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].valueType=t.val},_selectGlobalCollectorFieldComponentValue:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].value=t.val},_getFieldNameByDataSetAndName:function(t,e){var i="[unknonw]";return this.dataFieldOptions.forEach(function(a){a.typeName===t&&a.columnName===e&&(i=a.columnTitle)}),i},_addGlobalCollector:function(){this.globalCollector.collectors.push({dataSet:"",fields:[]})},_deleteGlobalCollector:function(t){this.globalCollector.collectors.splice(t,1)}},destroyed:function(){__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp).off("mousewheel"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.layoutSetting.scrollContainer).off("scroll")}}},Lmz2:function(t,e){},M17r:function(t,e,i){"use strict";(function(t){i("xd7I"),i("C331")}).call(e,i("qqHy"))},MGgt:function(t,e,i){t.exports={default:i("Xhhq"),__esModule:!0}},MVd6:function(t,e,i){"use strict";i.d(e,"a",function(){return c}),i.d(e,"b",function(){return u});var a=i("aA9S"),s=i.n(a),n=i("AA3o"),o=i.n(n),r=i("xSur"),l=i.n(r),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,t),this.id=null,this.name=null,this.desc="",this.timeRange=[],this.applyTimeRange=[],this.published=!1,this.unShelved=!1,this.applied=!1,this.top=!1,this.canApplyOnTime=null,this.units=[],this.initialized=!1,s()(this,e)}return l()(t,[{key:"isApplying",value:function(){if(void 0!==this.canApplyOnTime&&null!==this.canApplyOnTime)return this.canApplyOnTime;var t=new Date;return t>=new Date(this.applyTimeRange[0])&&t<=new Date(this.applyTimeRange[1])}},{key:"getNameHtmlWithStatus",value:function(){var t=this.name+"&nbsp;&nbsp;";return this.unShelved&&(t+='<span class="el-tag el-tag--mini el-tag--info el-tag--dark">已下架</span>'),t}},{key:"toApiOjf",value:function(){return{id:this.id,name:this.name,summary:this.desc,beginTime:new Date(this.timeRange[0]).format("yyyy-MM-dd HH:mm:ss"),endTime:new Date(this.timeRange[1]).format("yyyy-MM-dd HH:mm:ss"),applyBeginTime:new Date(this.applyTimeRange[0]).format("yyyy-MM-dd HH:mm:ss"),applyEndTime:new Date(this.applyTimeRange[1]).format("yyyy-MM-dd HH:mm:ss")}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.name=e.name,i.desc=e.summary||"",i.timeRange=[e.beginTime,e.endTime],i.applyTimeRange=[e.applyBeginTime,e.applyEndTime],i.published=0==e.status,i.unShelved=1==e.status,i.top=!!e.top,i.units=e.participantDTOList?e.participantDTOList.map(function(t){return u.fromApi(t)}):[],i.initialized=!0,i}}]),t}(),u=function(){function t(e){o()(this,t),this.id=null,this.unitId=null,this.name=null,this.typeName=null,this.scale=null,this.email=null,this.address=null,this.desc="",this.recruitment="",this.contactPeople=null,this.contactPhone=null,this.positionCount=0,this.positions=[],this.ojf=null,this.status=null,this.auditReason=null,s()(this,e)}return l()(t,[{key:"toApiApplyInfo",value:function(){return{id:this.id,companyId:this.unitId,netWorkMeetingId:this.ojf.id,contactPeople:this.contactPeople,contactPhone:this.contactPhone,email:this.email,recruitmentBrief:this.recruitment,positionVOList:this.positions||[]}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.name=e.companyName,i.typeName=e.property,i.scale=e.scale,i.email=e.email,i.address=e.addressDetail,i.desc=e.summary||"",i.recruitment=e.recruitmentBrief||"",i.contactPeople=e.contactPeople,i.contactPhone=e.contactPhone,i.positionCount=e.positionList?e.positionList.length:e.positionsNum||0,i.positions=e.positionList||[],i.status=e.status,i.auditReason=e.auditReason,i}},{key:"fromUnit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.unitId=e.companyId||e.id,i.name=e.companyName,i.typeName=e.propertyName,i.email=e.email,i.address=e.addressDetail,i.desc=e.summary,i.scale=e.scaleName,i.contactPeople=e.contactPeople,i.contactPhone=e.contactPhone,i}}]),t}()},N3om:function(t,e){},N9Ox:function(t,e,i){"use strict";Boolean,String;var a={props:{inline:Boolean,text:String}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module",class:{"module-inline":this.inline}},[e("div",{staticClass:"title"}),this._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"info loader",attrs:{"element-loading-text":this.text}})])},staticRenderFns:[]};var n=i("C7Lr")(a,s,!1,function(t){i("jlQl")},"data-v-7bf53b01",null);e.a=n.exports},RIDs:function(t,e,i){var a=i("9Z3l"),s=i("aThA")("iterator"),n=i("HmiX");t.exports=i("/KQr").isIterable=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||n.hasOwnProperty(a(e))}},RL3Q:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("xd7I"),__WEBPACK_IMPORTED_MODULE_2_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_2_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__),__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__=__webpack_require__("bTp3"),__WEBPACK_IMPORTED_MODULE_5_fs__=__webpack_require__("FBGu"),__WEBPACK_IMPORTED_MODULE_5_fs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_fs__);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component("v-flow",__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__.a);var _unused_webpack_default_export={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},type:{default:""},userType:{default:null}},created:function created(){var _this=this,la=localStorage.getItem("lang");for(var i in Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(la)&&(this.lang=la),this.businessId?(this.reviseFlowUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/flowSetting",this.reviseFormUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting"):"sc"===this.type?this.reviseFlowUrl="/api/sc/activities/types/"+this.appId+"/flowSetting":(this.reviseFlowUrl="/api/apps/"+this.appId+"/settings/flows",this.reviseFormUrl="/api/apps/"+this.appId+"/settings/forms"),Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFlowUrl,type:"get",success:function(t){t.state?t.data&&(_this.flowData.id=t.data.id,_this.flowData.chart=t.data.chart,_this.curFlow=t.data.settings,_this.curFlow.nodes.forEach(function(t,e){_this.$set(t,"id",t.id),_this.$set(t,"name",t.name),_this.$set(t,"category",t.category),_this.$set(t,"distributary",t.distributary),_this.$set(t,"operators",t.operators||[]),_this.$set(t,"operations",t.operations||{}),_this.$set(t,"dataAuthorities",t.dataAuthorities||[]),_this.$set(t,"links",t.links||[])})):_this.$toast(t.message)}}),"sc"===this.type?(this.curFlow.name=this.appName+"流程",this.components=[],this.$set(this.curFlow,"formSettingName",this.appName+"表单"),this.$set(this.curFlow,"formSettingId","sc")):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFormUrl,type:"get",success:function success(data){if(data.state){var patch=function patch(s,re){return re=eval("/"+re+"/ig"),s.match(re)?s.match(re).length:0};_this.curFlow.name=data.data.name+"流程",_this.components=data.data.components;var newCom=JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.components)),initLength=0,m=[],num=0;_this.components.forEach(function(t,e){var i=patch(t.name,"_"),a=patch(t.name,"table");i<2&&a>=1&&(num+=1,m.push(e),num>1&&(initLength+=_this.components[m[num-2]].properties.basic.tableFields.length),t.properties.basic.tableFields.forEach(function(i,a){var s=e+1+initLength;i.title=t.title+i.title,newCom.splice(s,0,i)}))}),_this.components=newCom,_this.components.forEach(function(t,e){_this.$set(t,"checked",!1),_this.$set(t,"checkedXian",!1)}),_this.$set(_this.curFlow,"formSettingName",data.data.name),_this.$set(_this.curFlow,"formSettingId",data.data.id)}else _this.$toast(data.message)}}),"sc"===this.type&&this.distributaryData.push({id:"byOrganization",name:"以社团组织关系分流"}),"4"!==this.userType&&"2"!==this.userType||this.distributaryData.splice(1,2),this.distributaryData.forEach(function(t,e){t.name=_this.translate.distributaryData[t.id]}),this.operatorData.forEach(function(t,e){t.name=_this.translate.operatorData[t.id]}),"sc"===this.type&&(this.permissionData=[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"batch",name:"批量操作",checked:!1}]),this.permissionData.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.data&&t.data.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.options&&t.options.forEach(function(t,e){t.name=_this.translate.permissionData[t.id]})})}),this.attributesShow)this.attributesShow[i].conditions.forEach(function(t,e){t.name=_this.translate.condition[t.id]});this._initRoleList("bySchool"),this._initRoleList("byCollege"),this._initRoleList("byClass"),"sc"===this.type&&this._initRoleList("byOrganization"),this._initRoleList("byBuilding"),this._initRoleList("byParty")},data:function(){return{distributaryData:[{id:"bySchool",name:"不分流"},{id:"byClass",name:"以班级关系分流"},{id:"byTeacher",name:"以带生关系分流"},{id:"byTutor",name:"以导师分流"},{id:"byCollege",name:"以学院关系分流"},{id:"byBuilding",name:"公寓按楼栋分流"},{id:"byParty",name:"以党组织关系分流"}],roleList:{},components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map"]}],permissionData:[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"revocation",name:"撤回",checked:!1},{id:"deliverTo",name:"转交",checked:!1},{id:"sendTo",name:"抄送",checked:!1},{id:"batch",name:"批量操作",checked:!1},{id:"cancelByUser",name:"发起者在此节点可以取消流程",checked:!1}],permission:{reject:{usable:!0,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!0},deliverTo:{usable:!0},sendTo:{usable:!0},batch:{usable:!0},cancelByUser:{usable:!0},canExport:{usable:!0}},attributesShow:{input:{conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},datetime:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},radio:{conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{conditions:[{id:"=",name:"等于",data:"value"}]},address:{conditions:[{id:"=",name:"等于",data:"value"}]}},batchCheck:"",newRoleName:"",roleEditing:!1,roleAddErrorMsg:"",chart:{},curNode:{},curLink:{},otherLink:{nextNodeId:""},curFlow:{id:"",name:"",formSettingId:"",formSettingName:"",nodes:[{id:"start",name:"",category:"start",distributary:null,operators:[],operations:{},dataAuthorities:[],links:[]}]},flowData:{id:"",chart:[],settings:{}},curTargetNode:null,isChange:!1,reviseFlowUrl:"",reviseFormUrl:"",lang:"zh-cn"}},computed:{isApplyNode:function(){return!(!this.curTargetNode||!this.curTargetNode.parents)&&"start"===this.curTargetNode.parents[0]},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(this.lang).flowSetManage},roleCheckAllCount:function(){var t=this,e=0;return this.curNode&&this.curNode.operators&&this.roleList[this.curNode.distributary]&&this.roleList[this.curNode.distributary].forEach(function(i){t.curNode.operators.indexOf(parseInt(i.id))>=0&&e++}),e},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},componentsCheckAllCountXian:function(){var t=0;return this.components.forEach(function(e){e.checkedXian&&t++}),t},initDataOfChart:function(){var t=this,e=null;return this.flowData.chart&&this.flowData.chart.nodes&&this.flowData.chart.nodes.length>0&&(e={},this.flowData.chart.nodes.forEach(function(t,i){e[t.id]=t})),setTimeout(function(){t._refreshFlow()},300),e},curComponent:function(){var t=this,e={};return this.components.forEach(function(i,a){t.curNode.links[0]&&t.curNode.links[0].condition&&t.curNode.links[0].condition.component===i.name&&(e=i)}),e}},mounted:function(){var t=this;__WEBPACK_IMPORTED_MODULE_2_jquery___default()("#flowSetPage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveFlow(),t.$emit("back"),e.preventDefault(),!1)})},methods:{changeCheck:function(t){},lick:function(t){},_back:function(){this.isChange&&confirm(this.translate.backTip)?this._saveFlow():this.$emit("back")},_setApplyOnce:function(t){this.curNode.attribute||this.$set(this.curNode,"attribute",{}),this.$set(this.curNode.attribute,"applyOnceLimit",t)},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_saveFlow:function(){this.curFlow.nodes.length<this.$refs.flow.export().length?this.curFlow.nodes.splice(0,0,{id:"start",name:"",category:"start"}):this.curFlow.nodes.splice(0,1,{id:"start",name:"start",category:"start"});var t={id:this.flowData.id,chart:{nodes:this.$refs.flow.export()},settings:this.curFlow};t.settings.nodes.forEach(function(e){"condition"!==e.category&&(e.links=[],t.chart.nodes.forEach(function(t){e.id===t.id&&t.links.forEach(function(t){e.links.push({nextNodeId:t.id})})}))});var e=!0,i="";t.settings.nodes.forEach(function(t){"end"!==t.category&&(t.links&&0===t.links.length&&(e=!1,i+=t.name+"下一节点不明哟~\n"),t.links.forEach(function(a){a.nextNodeId||(e=!1,i+=t.name+"下一节点不明哟~\n")}))}),e?(this.$emit("submit",t),this.isChange=!1):this.$toast(i)},_afterSelectedDis:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.operators.forEach(function(t,s){i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),e.operators=a,this.$refs.flow.setLineText(e.id,t.target.selected)},_afterSelectedDisOf:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.roleIds.forEach(function(t,s){i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),e.roleIds=a},_roleIdIsInDistributary:function(t,e){var i=!1;return this.roleList[e].forEach(function(e){e.id===t&&(i=!0)}),i},_initRoleList:function(t){var e=this;this.roleList[t]||(this.$set(this.roleList,t,[]),"bySchool"===t||"byCollege"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===t?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){i.state?e.roleList[t]=i.data.reverse():e.$toast(i.message)}}):"byClass"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.text,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byBuilding"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/apartment/roles",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byParty"===t&&Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}))},_getAuthorityOf:function(t,e){var i="",a=!1;return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(i=e.authority,a=!0)}),a||(e.dataAuthorities.push({componentName:t.name,authority:"optional"}),i="optional"),i},_setCanExport:function(t,e){t.dataAuthorities[e].exportable?t.exportNum--:t.exportNum++,t.dataAuthorities[e].exportable=!t.dataAuthorities[e].exportable},_changeExportAll:function(t){0===t.exportNum?(t.dataAuthorities.forEach(function(t){t.exportable=!0}),t.exportNum=t.dataAuthorities.length):(t.dataAuthorities.forEach(function(t){t.exportable=!1}),t.exportNum=0)},_setAuthorityOf:function(t,e,i){var a=this,s=!1;i.dataAuthorities&&i.dataAuthorities.forEach(function(i){t.name===i.componentName&&(s=!0,a.$set(i,"authority",e))}),s||i.dataAuthorities.push({componentName:t.name,authority:e})},_batchSure:function(){var t=this;this.isChange=!0,this.components.forEach(function(e,i){e.checked&&(t._getAuthorityOf(e,t.curNode)?t._setAuthorityOf(e,t._verifyBatch(e,t.batchCheck),t.curNode):t.curNode.dataAuthorities.push({authority:t._verifyBatch(e,t.batchCheck),componentName:e.name}),e.checked=!1)}),this.batchCheck=""},_verifyBatch:function(t,e){var i=!1;return this.operatorData.forEach(function(a){a.id===e&&a.coms.indexOf(t.componentType)>=0&&(i=!0)}),i?e:""},_permissionClick:function(t){this.isChange=!0,this.curNode.operations[t.id].usable=!this.curNode.operations[t.id].usable},_attrOptionClick:function(t,e,i){this.isChange=!0,this.$set(this.curNode.operations[t.id].properties,e.id,i.id)},_changeCheckState:function(t,e,i){var a=this;this.isChange=!0;var s=!1;0===e&&(s=!0),t.forEach(function(t){t.checked=s}),"operators"===i&&(this.curNode[i]=[],t.forEach(function(t){s&&a.curNode[i].push(parseInt(t.id))}))},_changeCanExport:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.canExport&&i.curNode[e].push(t.name)})},_changeCheckStateXian:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.checkedXian&&i.curNode[e].push(t.name)})},_checkOperators:function(t){this.isChange=!0,this.curNode.operators||this.$set(this.curNode,"roleIds",[]);var e=this.curNode.operators.indexOf(parseInt(t.id));e>=0?this.curNode.operators.splice(e,1):this.curNode.operators.push(parseInt(t.id))},_changeRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]),e.roleIds.length>0?e.roleIds=[]:t.forEach(function(t){e.roleIds.push(parseInt(t.id))})},_checkCopyRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]);var i=e.roleIds.indexOf(parseInt(t.id));i>=0?e.roleIds.splice(i,1):e.roleIds.push(parseInt(t.id))},_addNewProxyUser:function(){this.curNode.proxyUsers||this.$set(this.curNode,"proxyUsers",[]),this.curNode.proxyUsers.push({distributary:"bySchool",roleIds:[]})},_addNewCopyUser:function(){this.curNode.copyUsers||this.$set(this.curNode,"copyUsers",[]),this.curNode.copyUsers.push({distributary:"bySchool",roleIds:[]})},_checkComponent:function(t){var e=this;this.isChange=!0,this.curNode.links.forEach(function(i,a){i.condition&&(i.condition.component=t.name,e.$set(i.condition,"data",{}),"other"!==i.condition.operator&&e.$set(i.condition,"operator",""))})},_saveNewRole:function(t,e){var i=this;this.isChange=!0,""===t.replace(/\s/g,"")&&(this.roleAddErrorMsg=this.roleEmptyTip),this.roleList[e.distributary].forEach(function(e){t===e.name&&(i.roleAddErrorMsg&&(i.roleAddErrorMsg+=","),i.roleAddErrorMsg+=i.translate.roleExistTip)}),this.roleAddErrorMsg?setTimeout(function(){i.roleAddErrorMsg=""},1500):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===e.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?(i.roleList[e.distributary].unshift({id:a.data,name:t}),e.operators?e.operators.push(parseInt(a.data)):e.roleIds.push(parseInt(a.data)),i.roleEditing=!1,i.newRoleName=""):i.$toast(a.message)}})},_nodeSelected:function(t){var e=this;this.curFlow.nodes&&(this.components.forEach(function(t){t.checked=!1,t.checkedXian=!1}),this.curFlow.nodes.forEach(function(i){i.name&&i.name==t.target.name&&(e.components=e.components.map(function(t){return void 0!=i.defaultVisibleTableColumns&&i.defaultVisibleTableColumns!=[]&&i.defaultVisibleTableColumns.forEach(function(e){t.name==e&&(t.checkedXian=!0)}),t}))})),this.roleEditing=!1,this.curTargetNode=t.target,this.curFlow.nodes.forEach(function(i,a){if(i.id===t.target.id){var s=0;if(i.dataAuthorities.forEach(function(t){t.exportable&&s++}),i.exportNum=s,e.curNode=i,e.curNode.copyUsers)for(var n in e.curNode.copyUsers);if(e.curNode.proxyUsers)for(var n in e.curNode.proxyUsers);"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)})}})},_nodeWaited:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&(e.curNode=i,"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)}))})},_nodeRemoved:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&e.curFlow.nodes.splice(a,1)});var i=[];this.curFlow.nodes.forEach(function(e,a){t.target.parents.indexOf(e.id)>=0&&i.push(e)}),i.forEach(function(i,a){"condition"===i.category&&i.links.forEach(function(i){i.nextNodeId===t.target.id&&e.$set(i,"nextNodeId","")})})},_nodeLinked:function(t){this.isChange=!0,"condition"===this.curNode.category&&(this.curLink.nextNodeId=t.target.id)},_nodeCreated:function(t){this.isChange=!0;var e={};this.$set(e,"id",t.target.id),this.$set(e,"name",t.target.name),this.$set(e,"category",t.target.type),this.$set(e,"distributary",""),this.$set(e,"operators",[]),this.$set(e,"operations",JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.permission))),this.$set(e,"dataAuthorities",[]),this.$set(e,"links",[]),e.links.push({nextNodeId:"",condition:{component:"",operator:"other",data:{}}}),this.components.forEach(function(t,i){e.dataAuthorities.push({componentName:t.name,authority:"readonly",exportable:!0})}),e.exportNum=e.dataAuthorities.length,this.curFlow.nodes.push(e),"condition"===this.curNode.category?this.curLink.nextNodeId=t.target.id:this.curNode=e},_syncToFlow:function(){this.isChange=!0,this.$refs.flow.refreshNodeText(this.curNode.id,this.curNode.name)},_afterSelectedCondition:function(t,e){this.isChange=!0,this.$set(e.condition,"data",{}),e.condition.component&&"address"===e.condition.component.split("_")[0]&&this.$set(e.condition.data,"value",{province:"",city:"",area:""})},_afterSelectedValue:function(t,e){this.isChange=!0;var i=t.target.$attrs["data-addType"];i&&("province"!==i&&e.condition.data.value||this.$set(e.condition.data,"value",{}),"city"===i&&this.$set(e.condition.data.value,"area",""),this.$set(e.condition.data.value,i,t.val))},_daySelectedOfValue:function(t){this.isChange=!0;var e=t.target.$attrs["data-index"];this.curNode.links[e].condition.data||this.$set(this.curNode.links[e].condition,"data",{}),this.$set(this.curNode.links[e].condition.data,"value",t.value)},_addNewCondition:function(t){this.isChange=!0;var e={nextNodeId:"",condition:{component:this.curComponent.name,operator:"other"===t?t:"",data:{}}};"other"===t?(this.otherLink=this.curNode.links[0],this._createBranch(this.otherLink)):this.curNode.links.push(e)},_createBranch:function(t){this.isChange=!0,t.nextNodeId||(this.curLink=t,this.$refs.flow.toCreateBranch(this.curNode.id))},_removeLink:function(t,e){this.isChange=!0,""===t.nextNodeId?this.curNode.links.splice(e,1):this.$toast(this.translate.removeNodeTip)},_getNodeById:function(t){return this.$refs.flow.getNodeById(t)},_refreshFlow:function(t){this.$refs.flow.refresh()},_showRoleEdit:function(t){this.roleEditing=!(t>=0)||t,this.newRoleName=""},_newRowInputFocus:function(t){this.newRoleName="copy"===t?"(抄送)"+this.appName+this.curNode.name+"管理员":"proxy"===t?"(代理)"+this.appName+this.curNode.name+"管理员":this.appName+this.curNode.name+"管理员"}},watch:{windowObj:{deep:!0,handler:function(t){this.$refs.flow&&this.$refs.flow.refresh()}}},destroyed:function(){}}},Se9A:function(t,e,i){"use strict";Boolean,String,String,Boolean,Boolean,Boolean;var a={props:{loader:Boolean,loaderText:String,title:String,inline:Boolean,small:Boolean,actions:Boolean}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"module",class:{"module-inline":t.inline,"module-actions":t.actions}},[t.actions?t._e():i("div",{staticClass:"title"},[i("i"),i("span",[t._v(t._s(t.title))])]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loader,expression:"loader"}],staticClass:"info",class:{"info-small":t.small,loader:t.loader},attrs:{"element-loading-text":t.loaderText}},[t._t("default")],2)])},staticRenderFns:[]};var n=i("C7Lr")(a,s,!1,function(t){i("BBwL")},"data-v-bff57cd2",null);e.a=n.exports},"V/it":function(t,e,i){"use strict";var a=i("aA9S"),s=i.n(a),n=i("lC5x"),o=i.n(n),r=i("J0Oq"),l=i.n(r),c=i("2IYH"),u=(i("fSJ2"),i("Se9A")),d=i("VDzf"),p=(Boolean,Boolean,Object,c.a,u.a,d.a,{FULL_TIME:"全职",PRACTICE:"实习"}),m={props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[c.a],components:{ModuleContainer:u.a,Position:d.a},data:function(){return{showPositionDialog:!1,position:null,disabledEditPosition:!1}},created:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.form.forEach(function(t){t.positionPropertyName=p[t.positionProperty]});case 1:case"end":return e.stop()}},e,t)}))()},methods:{toAddPosition:function(){this.position=null,this.disabledEditPosition=!1,this.showPositionDialog=!0},editPosition:function(t,e){this.position=t,this.disabledEditPosition=!1,this.showPositionDialog=!0},showPosition:function(t,e){this.position=t,this.disabledEditPosition=!0,this.showPositionDialog=!0},deletePosition:function(t,e){var i=this;this.position=null,MessageBox.confirm("是否删除"+t.positionName+"?").then(function(){i.form.splice(e,1)})},submitPosition:function(t){t.positionPropertyName=p[t.positionProperty],this.position?this.position=s()(this.position,t):(this.form.push(t),this.position=null)}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"职位信息",inline:t.inline}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form}},[i("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionName",label:"职位名称",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionPropertyName",label:"职位性质",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.edit?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.editPosition(e.row,e.$index)}}},[t._v("编辑")]):t._e(),t._v(" "),t.edit?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.deletePosition(e.row,e.$index)}}},[t._v("删除")]):t._e(),t._v(" "),t.edit?t._e():i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showPosition(e.row,e.$index)}}},[t._v("详情")])]}}])})],1),t._v(" "),t.edit?i("div",{staticClass:"position-actions"},[i("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.toAddPosition}},[t._v("添加")])],1):t._e(),t._v(" "),t.showPositionDialog?i("position",{attrs:{disabledEditPosition:t.disabledEditPosition,showDialog:t.showPositionDialog,defaultFormInfo:t.position},on:{closeDialog:function(e){t.showPositionDialog=!1},positionSubmit:t.submitPosition}}):t._e()],1)},staticRenderFns:[]};var f=i("C7Lr")(m,_,!1,function(t){i("V1hJ")},"data-v-03bee130",null);e.a=f.exports},V1hJ:function(t,e){},VDkK:function(t,e,i){"use strict";var a=i("lC5x"),s=i.n(a),n=i("J0Oq"),o=i.n(n),r=i("2IYH"),l=i("hn+R"),c=i("fSJ2"),u=i("Se9A"),d=(Boolean,Boolean,Object,r.a,l.a,u.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[r.a],components:{StandPicker:l.a,ModuleContainer:u.a},data:function(){return{uploadingSiteMap:!1}},computed:{siteMapPreview:function(){return""+(this.imageUrlPrefix+this.form.siteMap)}},methods:{uploadPicture:function(t){var e=this;return o()(s.a.mark(function i(){var a,n;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.uploadingSiteMap=!0,i.next=3,c.a.uploadPicture(t.target.files[0]);case 3:if("88888"===(a=i.sent).code){i.next=6;break}return i.abrupt("return",e.$toast(a.message));case 6:n=a.data.hash,e.form.siteMap=n,e.uploadingSiteMap=!1;case 9:case"end":return i.stop()}},i,e)}))()},deleteSiteMap:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.form.siteMap=null;case 1:case"end":return e.stop()}},e,t)}))()}}}),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"展位信息",inline:t.inline}},[t._t("start"),t._v(" "),t.edit?i("el-form",{ref:"form",attrs:{model:t.form},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"展位分配方式"}},[i("el-radio-group",{attrs:{disabled:t.rules.chooseType&&t.rules.chooseType.disabled},model:{value:t.form.chooseType,callback:function(e){t.$set(t.form,"chooseType",e)},expression:"form.chooseType"}},[i("el-radio",{attrs:{label:"UNIT"}},[t._v("单位选择场地")]),t._v(" "),i("el-radio",{attrs:{label:"MANAGER"}},[t._v("管理员分配")])],1)],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"UNIT"===t.form.chooseType,expression:"form.chooseType === 'UNIT'"}],attrs:{label:"允许选择多个展位"}},[i("el-radio-group",{model:{value:t.form.canSelectMultiStands,callback:function(e){t.$set(t.form,"canSelectMultiStands",e)},expression:"form.canSelectMultiStands"}},[i("el-radio",{attrs:{label:!0}},[t._v("是")]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v("否")])],1),t._v(" "),t.form.canSelectMultiStands?i("div",{staticClass:"limit-stands-selected"},[i("div",{staticClass:"line"},[t._v("上限")]),t._v(" "),i("el-input",{staticClass:"max-stands-choosed",attrs:{type:"number",size:"small"},model:{value:t.form.limitStandsSelected,callback:function(e){t.$set(t.form,"limitStandsSelected",e)},expression:"form.limitStandsSelected"}}),t._v(" "),i("div",{staticClass:"line"},[t._v("个")])],1):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"展位图"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.uploadingSiteMap,expression:"uploadingSiteMap"}],staticClass:"avatar-uploader"},[t.form.siteMap?i("img",{attrs:{src:t.siteMapPreview}}):i("div",{staticClass:"new"},[i("i",{staticClass:"el-icon-plus"},[t._v("上传展位图")]),t._v(" "),i("input",{attrs:{type:"file"},on:{change:function(e){return t.uploadPicture(e)}}})]),t._v(" "),t.form.siteMap?i("div",{staticClass:"change"},[i("i",{staticClass:"el-icon-upload2"},[t._v("重新上传")]),t._v(" "),i("i",{staticClass:"el-icon-close delete",on:{click:t.deleteSiteMap}}),t._v(" "),i("input",{attrs:{type:"file"},on:{change:function(e){return t.uploadPicture(e)}}})]):t._e()])])],1):i("el-form",{ref:"form",attrs:{model:t.form,size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"展位分配方式"}},[i("p",[t._v(t._s("UNIT"===t.form.chooseType?"单位选择场地":"管理员分配"))])]),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"UNIT"===t.form.chooseType,expression:"form.chooseType === 'UNIT'"}],attrs:{label:"允许选择多个展位"}},[i("span",[t._v(t._s(t.form.canSelectMultiStands?"是":"否"))]),t._v(" "),t.form.canSelectMultiStands?i("div",{staticClass:"limit-stands-selected"},[i("span",[t._v(t._s("(上限 "+t.form.limitStandsSelected+" 个)"))])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:"展位图"}},[i("div",{staticClass:"avatar-uploader readonly"},[t.form.siteMap?i("img",{attrs:{src:t.siteMapPreview}}):i("div",{staticClass:"new"},[i("i",{staticClass:"el-icon-picture"},[t._v("未上传展位图")])])])])],1),t._v(" "),t._t("end")],2)},staticRenderFns:[]};var m=i("C7Lr")(d,p,!1,function(t){i("a9Mj")},"data-v-e257be84",null);e.a=m.exports},VDzf:function(t,e,i){"use strict";var a=i("C331"),s=i("p+qa"),n={props:["showDialog","disabledEditPosition","defaultFormInfo"],data:function(){return{dialogVisible:!1,options:[],cityOptions:[],dict_type:[],dict_duty:[],dict_moneyRange:[],dict_educational:[],positionInfoForm:{positionName:"",positionType:"",positionProperty:"",major:"",diploma:"",salary:"",recruitNumber:"",workplace:"",positionRemarks:"",positionRequire:"",selectCity:[]},addPositionRules:{positionName:[{required:!0,message:"请输入职位名称",trigger:"blur"}],positionType:[{required:!0,message:"请输入职位类别",trigger:"change"}],positionProperty:[{required:!0,message:"请选择职位性质",trigger:"change"}],major:[{required:!0,message:"请选择专业要求",trigger:"change"}],diploma:[{required:!0,message:"请选择学历要求",trigger:"change"}],salary:[{required:!0,message:"请选择薪资范围",trigger:"change"}],recruitNumber:[{required:!0,message:"招聘人数不能为空"}],positionRemarks:[{required:!0,message:"请填写工作职责",trigger:"blur"}],positionRequire:[{required:!0,message:"请填写工作要求",trigger:"blur"}],selectCity:[{required:!0,message:"请选择工作地点",trigger:"change"}]}}},methods:{getAddress:function(){var t=this;Object(a.e)({url:"/api/employment/system/getThreeLevelDict?typeName=地区",type:"get",success:function(e){e.state&&(t.options=e.data)}})},getDictList:function(t,e){var i=this;Object(s.d)(t).then(function(t){t.state?i[e]=t.data:i[e]=[]})},addressChange:function(t){this.cityOptions=t},cancle:function(t){this.$refs.positionInfoForm.resetFields(),this.$refs.positionInfoForm.clearValidate(),this.$emit("closeDialog"),"function"==typeof t&&t()},close:function(t){this.cancle(t)},submit:function(){var t=this;this.$refs.positionInfoForm.validate(function(e){if(e){if(t.disabledEditPosition)return void t.$emit("closeDialog");var i=t.positionInfoForm,a=t.positionInfoForm.positionType,s=[];t.cityOptions.map(function(t){s.push(t[t.length-1])}),i.workplace=s.join(","),t.dict_type.map(function(t){t.value==a&&(i.positionTypeName=t.label)}),t.$emit("positionSubmit",i),t.$emit("closeDialog")}})},defaultForm:function(){var t=this;if(this.defaultFormInfo){var e=this.defaultFormInfo;this.positionInfoForm={positionName:e.positionName,positionType:e.positionType,positionProperty:e.positionProperty,major:e.major,diploma:e.diploma,salary:e.salary,recruitNumber:e.recruitNumber,workplace:e.workplace,positionRemarks:e.positionRemarks,positionRequire:e.positionRequire,selectCity:[]},this.positionInfoForm.workplace.split(",").map(function(e){var i=[e];t.positionInfoForm.selectCity.push(i)}),e.id&&(this.positionInfoForm.id=e.id)}}},created:function(){this.defaultForm(),this.getDictList("行业","dict_type"),this.getDictList("专业","dict_duty"),this.getDictList("薪资范围","dict_moneyRange"),this.getDictList("学历","dict_educational"),this.getAddress()}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"position"}},[i("el-dialog",{attrs:{close:"changeEmail-dialog",title:"编辑职位",width:"60%",visible:t.showDialog,"close-on-click-modal":!1,"before-close":t.close},on:{"update:visible":function(e){t.showDialog=e}}},[i("el-form",{ref:"positionInfoForm",staticClass:"add-position-form",attrs:{rules:t.addPositionRules,model:t.positionInfoForm,"label-width":"80px",disabled:t.disabledEditPosition}},[i("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[i("el-input",{staticClass:"custom-el-input",attrs:{placeholder:"请输入职位名称"},model:{value:t.positionInfoForm.positionName,callback:function(e){t.$set(t.positionInfoForm,"positionName",e)},expression:"positionInfoForm.positionName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"职位类别",prop:"positionType"}},[i("el-select",{attrs:{placeholder:"请选择职位类别"},model:{value:t.positionInfoForm.positionType,callback:function(e){t.$set(t.positionInfoForm,"positionType",e)},expression:"positionInfoForm.positionType"}},t._l(t.dict_type,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"职位性质",prop:"positionProperty"}},[i("el-radio-group",{model:{value:t.positionInfoForm.positionProperty,callback:function(e){t.$set(t.positionInfoForm,"positionProperty",e)},expression:"positionInfoForm.positionProperty"}},[i("el-radio",{attrs:{label:"PRACTICE"}},[t._v("实习")]),t._v(" "),i("el-radio",{attrs:{label:"FULL_TIME"}},[t._v("全职")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"专业要求",prop:"major"}},[i("el-select",{attrs:{placeholder:"请选择专业要求"},model:{value:t.positionInfoForm.major,callback:function(e){t.$set(t.positionInfoForm,"major",e)},expression:"positionInfoForm.major"}},t._l(t.dict_duty,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"培养层次",prop:"diploma"}},[i("el-select",{attrs:{placeholder:"请选择学历要求"},model:{value:t.positionInfoForm.diploma,callback:function(e){t.$set(t.positionInfoForm,"diploma",e)},expression:"positionInfoForm.diploma"}},t._l(t.dict_educational,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"薪资范围",prop:"salary"}},[i("el-select",{attrs:{placeholder:"请选择薪资范围"},model:{value:t.positionInfoForm.salary,callback:function(e){t.$set(t.positionInfoForm,"salary",e)},expression:"positionInfoForm.salary"}},t._l(t.dict_moneyRange,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"招聘人数",prop:"recruitNumber"}},[i("el-input",{staticClass:"custom-el-input",attrs:{type:"number",min:"1"},model:{value:t.positionInfoForm.recruitNumber,callback:function(e){t.$set(t.positionInfoForm,"recruitNumber",e)},expression:"positionInfoForm.recruitNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作地点",prop:"selectCity"}},[i("el-cascader-multi",{staticClass:"selectList",attrs:{data:t.options,"only-last":!0,"show-leaf-label":!0},on:{change:t.addressChange,"remove-tag":t.removeChange},model:{value:t.positionInfoForm.selectCity,callback:function(e){t.$set(t.positionInfoForm,"selectCity",e)},expression:"positionInfoForm.selectCity"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作职责",prop:"positionRemarks"}},[i("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"工作职责",resize:"none"},model:{value:t.positionInfoForm.positionRemarks,callback:function(e){t.$set(t.positionInfoForm,"positionRemarks",e)},expression:"positionInfoForm.positionRemarks"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作要求",prop:"positionRequire"}},[i("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"工作要求",resize:"none"},model:{value:t.positionInfoForm.positionRequire,callback:function(e){t.$set(t.positionInfoForm,"positionRequire",e)},expression:"positionInfoForm.positionRequire"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{plain:""},on:{click:t.cancle}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var r=i("C7Lr")(n,o,!1,function(t){i("3H1U"),i("Yauv")},"data-v-3c64cf70",null);e.a=r.exports},VgKF:function(t,e){},WD6V:function(t,e,i){"use strict";var a=i("C331"),s={props:["dataUrl"],data:function(){return{logList:[]}},methods:{getLog:function(){var t=this;Object(a.e)({url:this.dataUrl,type:"get",success:function(e){e.state?t.logList=e.data:t.logList=[]}})}},created:function(){this.getLog()}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timeline"},[t.logList.length?i("el-timeline",t._l(t.logList,function(e,a){return i("el-timeline-item",{key:a,attrs:{timestamp:e.operationTime,placement:"top"}},[i("el-card",[i("h3",{domProps:{innerHTML:t._s(e.operatorName)}}),t._v(" "),i("h5",{domProps:{innerHTML:t._s(t.operationTime)}}),t._v(" "),i("h4",{domProps:{innerHTML:t._s("修改了"+e.fieldChineseName)}}),t._v(" "),i("p",[i("span",[t._v("修改前：")]),i("i",[t._v(t._s(e.oldValue))])]),t._v(" "),i("p",[i("span",[t._v("修改后：")]),i("i",[t._v(t._s(e.newValue))])])])],1)}),1):i("div",[i("p",[t._v("暂无操作记录")])])],1)},staticRenderFns:[]};var o=i("C7Lr")(s,n,!1,function(t){i("VgKF"),i("N3om")},"data-v-011b6961",null);e.a=o.exports},XfSg:function(t,e,i){"use strict";var a=i("lC5x"),s=i.n(a),n=i("J0Oq"),o=i.n(n),r=i("C331");e.a={get:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/getNetworkMeetingInfo?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},create:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/addNetworkMeeting",type:"post",data:t.toApiOjf()}));case 1:case"end":return e.stop()}},i,e)}))()},update:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/updateNetworkMeeting",type:"put",data:t.toApiOjf()}));case 1:case"end":return e.stop()}},i,e)}))()},changeTop:function(t,e){var i=this;return o()(s.a.mark(function a(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/setTop?id="+t+"&isTop="+(e?"YES":"NO"),type:"put"}));case 1:case"end":return i.stop()}},a,i)}))()},unShelve:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/undercarriage?id="+t+"&isUnder=true",type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},shelve:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/undercarriage?id="+t+"&isUnder=false",type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},publish:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/release?id="+t,type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},apply:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/applyNetworkMeeting",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},applyByManager:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/netWorkAddCompany",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},getOjfUnitApplyById:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/getNetworkMeetingParticipantInfo?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},getMyOjfUnitApply:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/getNetworkMeetingParticipantInfo?netWorkId="+t}));case 1:case"end":return e.stop()}},i,e)}))()},countermand:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/recall?id="+t,type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},reject:function(t,e){var i=this;return o()(s.a.mark(function a(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/rejectApply?participantId="+t+"&reason="+e,type:"put"}));case 1:case"end":return i.stop()}},a,i)}))()},disagree:function(t,e){var i=this;return o()(s.a.mark(function a(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/refuseApply?participantId="+t+"&reason="+e,type:"put"}));case 1:case"end":return i.stop()}},a,i)}))()},agree:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/agreeApply",type:"put",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},upsertOjfUnitApply:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/netWorkAddCompany",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},getNoJoinedUnits:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/getUnParticipateCompanyList?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()}}},Xhhq:function(t,e,i){i("MKOc"),i("rYUz"),t.exports=i("RIDs")},XqSp:function(t,e,i){var a=function(){return this}()||Function("return this")(),s=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,n=s&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,t.exports=i("k9rz"),s)a.regeneratorRuntime=n;else try{delete a.regeneratorRuntime}catch(t){a.regeneratorRuntime=void 0}},Yauv:function(t,e){},YhCt:function(t,e){},Z9v7:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__=__webpack_require__("HzJ8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_vue__=__webpack_require__("xd7I"),__WEBPACK_IMPORTED_MODULE_3_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_3_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__),__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_5__computed__=__webpack_require__("6s1/");__webpack_exports__.a={inject:{windowObj:{default:null}},props:{departmentId:{default:null},student:{default:null},appId:{default:null},formId:{default:null},initWay:{default:"create"},app:{default:null},businessId:{default:null},infoSetting:{default:null}},components:{computed:__WEBPACK_IMPORTED_MODULE_5__computed__.a},created:function(){var t=this,e=localStorage.getItem("lang");Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(e)&&(this.lang=e),this.pageStamp=Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)(),this.layoutSetting.scrollContainer="#formSetPage"+this.pageStamp+" .form-part .cells-div",this.title!==this.app||this.app.name,this.formSetting.leftSideData.base.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.table.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.triggers.eventsList.forEach(function(e){e.name=t.translate.eventsList[e.id]}),this._getSettingData(),this.infoSetting?(Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/information/columns/"+this.infoSetting.type,type:"get",success:function(e){e.state&&e.data&&e.data.length>0&&(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.info=e.data)}}),this.personalInfoSetting.infoLayoutUrl="/api/information/infoSettings/init/"+this.infoSetting.type,this._getPersonalInfoOf(this.infoSetting.tabs&&this.infoSetting.tabs[0])):this._getFormInfo()},data:function(){return{dataCenterArray:[{value:1,label:"是的"}],showAddMemberModal:!1,showComputedModal:!1,computedProperties:"",controlList:[{name:"控件1",value:1,id:"kj1"},{name:"控件2",value:2,id:"kj2"},{name:"控件3",value:3,id:"kj3"},{name:"控件4",value:4,id:"kj4"},{name:"控件5",value:5,id:"kj5"},{name:"控件6",value:6,id:"kj6"}],newFenlei:"",setPreview:!1,pageStamp:"",title:"",formSetting:{leftSideControl:{showFavorWigt:!1,showFormWigt:!1,showInfoWigt:!1,showSysWigt:!1,showFormName:"",showSysName:""},leftSideData:{base:[{title:"输入框",top:0,left:0,w:3,h:1,componentType:"input"},{title:"下拉单选框",top:0,left:0,w:3,h:1,componentType:"select"},{title:"单选框",top:0,left:0,w:3,h:1,componentType:"radio"},{title:"复选框",top:0,left:0,w:3,h:1,componentType:"checkbox"},{title:"数字框",top:0,left:0,w:3,h:1,componentType:"number"},{title:"日期",top:0,left:0,w:3,h:1,componentType:"datetime"},{title:"文本",top:0,left:0,w:3,h:1,componentType:"label"},{title:"图片",top:0,left:0,w:3,h:2,componentType:"image"},{title:"电子签名",top:0,left:0,w:3,h:2,componentType:"signature"},{title:"定位",top:0,left:0,w:6,h:3,componentType:"map"},{title:"附件",top:0,left:0,w:3,h:2,componentType:"attachment"},{title:"分割线",top:0,left:0,w:12,h:1,componentType:"splitLine"},{title:"省、地、市(县)",top:0,left:0,w:6,h:1,componentType:"address"},{title:"表格(下方区域配置表格字段)",top:0,left:0,w:12,h:1,componentType:"table"}],table:[{title:"输入框",componentType:"input"},{title:"下拉单选框",componentType:"select"},{title:"单选框",componentType:"radio"},{title:"复选框",componentType:"checkbox"},{title:"数字框",componentType:"number"},{title:"日期",componentType:"datetime"}],info:[],favor:[],form:[],sys:[]},attributesShow:{input:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","rows"],verification:["regexExpression","maxLength","minLength"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","precision"],verification:["maxValue","minValue"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]},{id:"computed",name:"计算结果"}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},datetime:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","dateFormat"],verification:["maxDate","minDate"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},radio:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect"],verification:["maxSelect","minSelect"],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{xResizable:!0,yResizable:!1,basic:["exportable","options","autoSelect"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},address:{xResizable:!1,yResizable:!1,basic:["exportable"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},table:{xResizable:!1,yResizable:!1,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataSet"},{type:"bool",id:"coverTable"}],basic:["exportable","autoNumber","checkable","importable"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},label:{xResizable:!0,yResizable:!0,basic:["content"],style:["borderTop","borderBottom","color"]},splitLine:{xResizable:!1,yResizable:!1,style:["color"]},image:{xResizable:!0,yResizable:!0,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],basic:["exportable"],verification:["minWidth","minHeight","maxWidth","maxHeight"],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}]},signature:{xResizable:!0,yResizable:!0,basic:["exportable"]},map:{xResizable:!0,yResizable:!0,basic:["exportable","map"]},attachment:{xResizable:!0,yResizable:!0,verification:["fileMaxNumber","fileFormat","fileSize"]}},attributes:{placeholder:{type:"text"},rows:{type:"number",min:1},options:{type:"options"},autoSelect:{type:"bool"},precision:{type:"number",min:0},dateFormat:{type:"select",data:[{id:"yyyy-MM-dd",name:"yyyy-MM-dd"},{id:"yyyyMMdd",name:"yyyyMMdd"},{id:"yyyy-MM-dd hh:ii:ss",name:"yyyy-MM-dd hh:ii:ss"},{id:"yyyy-MM",name:"yyyy-MM"}]},autoNumber:{type:"bool"},checkable:{type:"bool"},exportable:{type:"bool"},importable:{type:"bool"},content:{type:"richText"},color:{type:"color"},borderBottom:{type:"bool"},borderTop:{type:"bool"},regexExpression:{type:"text"},maxWidth:{type:"number"},maxHeight:{type:"number"},minWidth:{type:"number"},minHeight:{type:"number"},maxLength:{type:"number",min:0},minLength:{type:"number",min:0},maxSelect:{type:"number",min:1},minSelect:{type:"number",min:1},maxValue:{type:"number"},minValue:{type:"number"},maxDate:{type:"datetime"},minDate:{type:"datetime"},fileFormat:{type:"multi",required:!0,data:[{id:".txt",name:".txt"},{id:".doc",name:".doc"},{id:".docx",name:".docx"},{id:".wps",name:".wps"},{id:".pdf",name:".pdf"},{id:".ppt",name:".ppt"},{id:".pptx",name:".pptx"},{id:".xls",name:".xls"},{id:".xlsx",name:".xlsx"},{id:".rar",name:".rar"},{id:".zip",name:".zip"},{id:".png",name:".png"},{id:".jpg",name:".jpg"},{id:".jpeg",name:".jpeg"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"},{id:".lrc",name:".lrc"},{id:".rm",name:".rm"},{id:".rmvb",name:".rmvb"},{id:".mp3",name:".mp3"},{id:".mp4",name:".mp4"},{id:".wma",name:".wma"},{id:".wav",name:".wav"},{id:".avi",name:".avi"},{id:".wfs",name:".wfs"}]},fileMaxNumber:{type:"number",min:1},fileSize:{type:"select",data:[{id:51200,name:"50MB"},{id:10240,name:"10MB"},{id:5120,name:"5MB"},{id:2048,name:"2MB"},{id:1024,name:"1MB"}]},map:{type:"map"}},triggers:{eventsList:[{id:"FOCUS",name:"获取焦点"},{id:"BLUR",name:"失去焦点"},{id:"CHANGE",name:"值改变"}],actionsList:[{name:"showComponent",properties:{field:[]}},{name:"hideComponent",properties:{field:[]}},{name:"setText"},{name:"triggerEvent"},{name:"script"}],conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},triggerNotAllowWigt:["table","label","image","attachment","splitLine","signature","map"],actionNotAllowSetWigt:["table","attachment","splitLine","signature","map"],methodsList:[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"delete",name:"DELETE"},{id:"put",name:"PUT"},{id:"patch",name:"PATCH"}],richTextConfig:{toolbars:[["source","undo","redo","500","italic","underline","strikethrough","forecolor","backcolor","lineheight","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","horizontal","date","time","spechars","attachment"]],initialFrameHeight:280},editorShow:!1,mapShow:!1,originalSettingStr:""},layoutSetting:{transition:!0,scriptShow:!1,margin:[8,6,8,6],cellsLines:100,cellLineHeight:86,cellWidth:62,cellHeight:65,draggableX:0,draggableY:0,timer:null,timer2:null,delay:300,scrollContainer:""},globalCollector:{show:!1,valueTypeOptions:[{value:"COMPONENT",label:"关联组件"},{value:"FIXED",label:"固定值"}],collectors:[]},searching:!1,searchingText:"",containerDom:null,scaleTarget:null,scaleData:{_startX:0,_startY:0},dragTarget:null,dragData:{show:!1,title:"输入框",top:0,left:0,w:3,h:1,x:0,y:0},dragType:"",cellsDom:null,wigtDataArr:[],code:"",curTarget:null,optionsShow:!1,optionsway:"",urlAddr:"",newOptStr:"",dataSetOptions:[],dataFieldOptions:[],dictionaryOptions:[],initialTime:"currentTime",newNameStr:"",newValueStr:"",newCaseNameStr:"",eventShow:"",curCase:null,oldCase:null,curAction:null,showFieldEvents:!1,showFieldValue:"",triggerSetTextField:null,newObj:{},newObj2:{},preview:!1,formModel:!1,isClick:!1,wigtDataArrHistory:[],historyIndex:0,isRedoOrBack:!1,reviseFromId:"",reviseRemark:null,personalInfoSetting:{curInfoId:"",infoIndexJson:{},oldIndexJsonStr:{},infoLayoutUrl:"",changedIds:[]},tabStyleParam:{scrollDeltaX:300,duration:.5},tabShow:!1,lang:"zh-cn"}},computed:{cellsArray:function(){for(var t=[],e=0;e<this.layoutSetting.cellsLines;e++){for(var i=[],a=0;a<12;a++)i.push("");t.push(i)}return t},singularDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple||t.push(e)}),t},multipleDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple&&t.push(e)}),t},singularWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"!==e.componentType&&t.push(e)}),t},multipleWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"===e.componentType&&t.push(e)}),t},dataSetId:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.initialization.properties.dataSet&&(e=i.id)}),e},dataSetIdOfCollection:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.collector.dataSet&&(e=i.id)}),e},isValid:function(){return this.dragData.x>=0&&this.dragData.y>=0&&12-this.dragData.x>=this.dragData.w},conditionField:function(){var t=this,e={};return this.wigtDataArr.forEach(function(i){i.name===t.curCase.condition.component&&(e=i)}),e},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(this.lang).formManage},conditionAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){!t.formSetting.triggerNotAllowWigt.indexOf(i.componentType)>=0&&e.push(i)}),e},actionSetValueAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.actionNotAllowSetWigt.indexOf(i.componentType)<0&&e.push(i)}),e},triggerAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.attributesShow[i.componentType].events&&e.push(i)}),e},leftBaseHeight:function(){return 48*Math.ceil(this.formSetting.leftSideData.base.length/2)+70},isChange:function(t){return!!this.formSetting.originalSettingStr&&this.formSetting.originalSettingStr!==__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({title:this.title,code:this.code,components:this.wigtDataArr})},isChangeOfInfo:function(){if(this.personalInfoSetting.curInfoId&&this.wigtDataArr&&this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]){var t=this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId);this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]!==__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({code:this.code,components:this.wigtDataArr})?t<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId):t>=0&&this.personalInfoSetting.changedIds.splice(t,1)}return this.personalInfoSetting.changedIds.length>0}},watch:{wigtDataArr:{deep:!0,handler:function(){var t=this;this.infoSetting||(this.isRedoOrBack?this.isRedoOrBack=!1:(this.layoutSetting.timer2&&clearTimeout(this.layoutSetting.timer2),this.layoutSetting.timer2=setTimeout(function(){t.historyIndex<t.wigtDataArrHistory.length&&t.wigtDataArrHistory.splice(t.historyIndex),t.wigtDataArrHistory.push(JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t.wigtDataArr))),t.historyIndex++},200)))}},windowObj:{deep:!0,handler:function(t){this._pauseTransition(),this._justifyLayoutParam()}}},mounted:function(){var t=this;this.containerDom=document.getElementById("formSetPage"+this.pageStamp),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(""+this.layoutSetting.scrollContainer).on("scroll",function(){t._pauseTransition(),t._justifyLayoutParam()}),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp).keydown(function(e){if(1==e.ctrlKey){if(83===e.keyCode)return t._saveLayout(),e.preventDefault(),!1;if(90===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex--,t.historyIndex<=0)return t.historyIndex++,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}if(89===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex++,t.historyIndex>t.wigtDataArrHistory.length)return t.historyIndex--,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}}return!0}),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp).on("mousewheel",function(e,i){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).is(t.layoutSetting.scrollContainer)||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).parents(t.layoutSetting.scrollContainer)[0]||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).is(".widget-cell")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).parents(".widget-cell")[0]){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).is(".script-div")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.target).parents(".script-div")[0])return;var a=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.layoutSetting.scrollContainer).scrollTop();__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.layoutSetting.scrollContainer).scrollTop(a+e.originalEvent.deltaY)}}),t._justifyLayoutParam()},methods:{collectClick:function(){this.layoutSetting.scriptShow?this.$toast("请先返回布局页"):this.globalCollector.show=!this.globalCollector.show},scriptClick:function(){this.globalCollector.show?this.$toast("请先返回布局页"):this.layoutSetting.scriptShow=!this.layoutSetting.scriptShow},daochumoban:function(){this.isChange?alert("请先保存模块设置"):this.formModel=!0},_back:function(){(this.isChange||this.isChangeOfInfo)&&confirm(this.translate.backTip)?this._saveLayout():this.$emit("back")},_gotoRoleSet:function(){this.$emit("gotoRoleSet")},_searchKeyUp:function(t){13===t.keyCode&&(this.searchingText=t.target.value)},_getSettingData:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/document/data/types",type:"get",success:function(e){e.state?t.dataSetOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/document/data/types/columns/all",type:"get",success:function(e){e.state?(t.dataFieldOptions=e.data,t.dataFieldOptions.forEach(function(t){t.columnTitle=t.title,t.title=t.title+" ("+t.typeTitle+")",t.columnNameAndTypeName=t.columnName+"+"+t.typeName})):t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/system/dictTypes",type:"get",success:function(e){e.state?t.dictionaryOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/system/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.sys=e.data):t.$toast(e.message)}})})})})},_getFormInfo:function(){var t=this;this.departmentId&&Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/departments/"+this.departmentId+"/apps/forms/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.form=e.data):t.$toast(e.message)}});var e=this.formId?"/api/apps/settings/forms/"+this.formId:"";"edit"===this.initWay?e=this.businessId?"/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting":"/api/apps/"+this.appId+"/settings/forms":this.title=this.app.name,e&&(this.$waiting.show(),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:e,type:"get",success:function(e){e.state?e.data&&("edit"===t.initWay&&(t.title=e.data.name,t.reviseFromId=e.data.fromId,t.reviseRemark=e.data.remark),setTimeout(function(){t._pageClick(),t._componentsProcess(e.data),t.formSetting.originalSettingStr=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({title:t.title,code:t.code,components:t.wigtDataArr})},300)):t.$toast(e.message)}}).always(function(){setTimeout(function(){t.$waiting.close()},300)}))},_componentsProcess:function(t){var e=this;t.components.forEach(function(t,i){t.location&&(e.$set(t,"x",parseInt(t.location.left)),e.$set(t,"y",parseInt(t.location.top))),t.size&&(e.$set(t,"w",parseInt(t.size.width)),e.$set(t,"h",parseInt(t.size.height))),e._initWigt(t)}),this.code=t.property?t.property.script:"",t.property&&t.property.collectors&&t.property.collectors.length&&(this.globalCollector.collectors=t.property.collectors.map(function(t){return{dataSet:t.dataSet,fields:t.tableInitializations.map(function(e){return{name:e.fieldName,isKey:t.tableKeys.includes(e.fieldName),valueType:e.mode,value:e.value}})}})),this.wigtDataArr=t.components,this.$nextTick(function(){e._clearEmptyLine()})},_getDataFieldOf:function(t){var e=[];return this.dataFieldOptions.forEach(function(i){i.typeName===t&&e.push(i)}),e},_getFieldOf:function(t){var e="";return this.dataFieldOptions.forEach(function(i){i.typeName===t.dataSet&&i.columnName===t.dataField&&(e=i.columnName+"+"+i.typeName)}),e+""},_getAttributesOfInitialMode:function(t){var e=[];return this.formSetting.attributesShow[t.componentType].initial.forEach(function(i){i.id===t.initialization.mode&&(e=i.attributes||[])}),e},_getFieldValue:function(t){var e=t.fieldName.split("_")[0],i=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t));return"address"===e?(i.value.province||"")+(i.value.city||"")+(i.value.area||"")||this.translate.empty:i.value||this.translate.empty},_exchangeCollection:function(t){this.curTarget.collector||this.$set(this.curTarget,"collector",{flag:!1,dataSet:"",dataField:""}),this.curTarget.collector[t.id]=!this.curTarget.collector[t.id]},_initWigt:function(t){this.$set(t,"initialization",{mode:t.initialization&&t.initialization.mode||"",dynamic:t.initialization&&t.initialization.dynamic||!1,properties:{fixedValue:t.initialization&&t.initialization.properties&&t.initialization.properties.fixedValue||"",sqlQuery:t.initialization&&t.initialization.properties&&t.initialization.properties.sqlQuery||"",dataField:t.initialization&&t.initialization.properties&&t.initialization.properties.dataField||"",dataSet:t.initialization&&t.initialization.properties&&t.initialization.properties.dataSet||"",url:t.initialization&&t.initialization.properties&&t.initialization.properties.url||"",method:t.initialization&&t.initialization.properties&&t.initialization.properties.method||"",key:t.initialization&&t.initialization.properties&&t.initialization.properties.key||"",functionName:t.initialization&&t.initialization.properties&&t.initialization.properties.functionName||"",className:t.initialization&&t.initialization.properties&&t.initialization.properties.className||"",functionCode:t.initialization&&t.initialization.properties&&t.initialization.properties.functionCode||"",functionHtml:t.initialization&&t.initialization.properties&&t.initialization.properties.functionHtml||"",params:t.initialization&&t.initialization.properties&&t.initialization.properties.params||[],tableFields:t.initialization&&t.initialization.properties&&t.initialization.properties.tableFields||{}}}),this.$set(t,"properties",{basic:{placeholder:t.properties&&t.properties.basic&&t.properties.basic.placeholder||"",rows:t.properties&&t.properties.basic&&t.properties.basic.rows||1,options:t.properties&&t.properties.basic&&t.properties.basic.options||[],tableFields:t.properties&&t.properties.basic&&t.properties.basic.tableFields||[],precision:t.properties&&t.properties.basic&&t.properties.basic.precision||0,dateFormat:t.properties&&t.properties.basic&&t.properties.basic.dateFormat||"yyyy-MM-dd",autoNumber:t.properties&&t.properties.basic&&t.properties.basic.autoNumber||!1,autoSelect:t.properties&&t.properties.basic&&t.properties.basic.autoSelect||!1,checkable:t.properties&&t.properties.basic&&t.properties.basic.checkable||!1,exportable:!t.properties||!t.properties.basic||0!=t.properties.basic.exportable,importable:t.properties&&t.properties.basic&&t.properties.basic.importable||!1,content:t.properties&&t.properties.basic&&t.properties.basic.content||"",map:t.properties&&t.properties.basic&&t.properties.basic.map||{radius:300,center:{lat:"",lng:""}}},style:{color:t.properties&&t.properties.style&&t.properties.style.color||"#000000",fontSize:t.properties&&t.properties.style&&t.properties.style.fontSize||"",borderTop:t.properties&&t.properties.style&&t.properties.style.borderTop||!1,borderBottom:t.properties&&t.properties.style&&t.properties.style.borderBottom||!1},verification:{regexExpression:t.properties&&t.properties.verification&&t.properties.verification.regexExpression||"",maxLength:t.properties&&t.properties.verification&&t.properties.verification.maxLength||"",minLength:t.properties&&t.properties.verification&&t.properties.verification.minLength||"",maxSelect:t.properties&&t.properties.verification&&t.properties.verification.maxSelect||"",minSelect:t.properties&&t.properties.verification&&t.properties.verification.minSelect||"",maxValue:t.properties&&t.properties.verification&&t.properties.verification.maxValue||"",minValue:t.properties&&t.properties.verification&&t.properties.verification.minValue||"",maxDate:t.properties&&t.properties.verification&&t.properties.verification.maxDate||"",minDate:t.properties&&t.properties.verification&&t.properties.verification.minDate||"",maxHeight:t.properties&&t.properties.verification&&t.properties.verification.maxHeight||"",maxWidth:t.properties&&t.properties.verification&&t.properties.verification.maxWidth||"",minHeight:t.properties&&t.properties.verification&&t.properties.verification.minHeight||"",minWidth:t.properties&&t.properties.verification&&t.properties.verification.minWidth||"",fileFormat:t.properties&&t.properties.verification&&t.properties.verification.fileFormat&&("string"==typeof t.properties.verification.fileFormat?t.properties.verification.fileFormat:t.properties.verification.fileFormat.join(","))||".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:t.properties&&t.properties.verification&&t.properties.verification.fileMaxNumber||"",fileSize:t.properties&&t.properties.verification&&t.properties.verification.fileSize||10240}}),this.$set(t,"collector",{flag:t.collector&&t.collector.flag||!1,coverTable:t.collector&&t.collector.coverTable||!1,dataSet:t.collector&&t.collector.dataSet||"",dataField:t.collector&&t.collector.dataField||"",tableFields:t.collector&&t.collector.tableFields||{},tableKeys:t.collector&&t.collector.tableKeys||[]}),this.$set(t,"events",[{name:"FOCUS",cases:t.events&&t.events[0]&&t.events[0].cases||[]},{name:"BLUR",cases:t.events&&t.events[1]&&t.events[1].cases||[]},{name:"CHANGE",cases:t.events&&t.events[2]&&t.events[2].cases||[]}])},_searchWigt:function(t){this.searchingText=t.target.value},_showWigtContainer:function(t){for(var e in this.formSetting.leftSideControl)!0===this.formSetting.leftSideControl[e]&&e!==t&&(this.formSetting.leftSideControl[e]=!1);this.formSetting.leftSideControl[t]=!this.formSetting.leftSideControl[t]},_showFormWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="form"+t?"":"form"+t},_showInfoWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="info"+t?"":"info"+t},_showSysWigt:function(t){this.formSetting.leftSideControl.showSysName=this.formSetting.leftSideControl.showSysName==="sys"+t?"":"sys"+t},_optionsTxtChange:function(t,e,i){var a=e[i];e.splice(i,1),e.indexOf(t.target.value)>=0?(this.$toast("选项已存在列表中"),e.splice(i,0,a)):e.splice(i,0,t.target.value)},_justifyLayoutParam:function(){this.layoutSetting.draggableX=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().left-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().left,this.layoutSetting.draggableY=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().top-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().top},_clearEmptyLine:function(){var t=0,e=0;this.wigtDataArr.forEach(function(t){e<t.y+t.h-1&&(e=t.y+t.h-1)});for(var i=0;i<=e;){t=i;for(var a=0;a<this.wigtDataArr.length;a++)if(i>=this.wigtDataArr[a].y&&i<=this.wigtDataArr[a].y+this.wigtDataArr[a].h-1){i+=1;break}if(t===i){var s=!0;if(this.wigtDataArr.forEach(function(e){e.y>t&&(s=!1,e.y=e.y-1)}),s)break;e-=1}}},_testTwoNode:function(t,e){return(t.x+t.w-1>=e.x&&t.x<=e.x||t.x<=e.x+e.w-1&&t.x>=e.x||t.x>=e.x&&t.x+t.w-1<=e.x+e.w-1||t.x<=e.x&&t.x+t.w-1>=e.x+e.w-1)&&(t.y+t.h-1>=e.y&&t.y<=e.y||t.y<=e.y+e.h-1&&t.y>=e.y||t.y>=e.y&&t.y+t.h-1<=e.y+e.h-1||t.y<=e.y&&t.y+t.h-1>=e.y+e.h-1)},_collisionDetect:function(t){var e=this;this.wigtDataArr.forEach(function(i){if(t.name!==i.name){var a=i.y-t.y;(t.x+t.w-1>=i.x&&t.x<=i.x||t.x<=i.x+i.w-1&&t.x>=i.x||t.x>=i.x&&t.x+t.w-1<=i.x+i.w-1||t.x<=i.x&&t.x+t.w-1>=i.x+i.w-1)&&(t.y+t.h-1>=i.y&&t.y<=i.y||t.y<=i.y+i.h-1&&t.y>=i.y||t.y>=i.y&&t.y+t.h-1<=i.y+i.h-1||t.y<=i.y&&t.y+t.h-1>=i.y+i.h-1)&&e.wigtDataArr.forEach(function(e){e.y+e.h-1>=t.y&&e.name!==t.name&&(e.y=e.y+t.h-a)})}}),this.$nextTick(function(){e._clearEmptyLine()})},_mouseDown:function(t){var e=this;t.cancelBubble=!0,this.isClick=!0,this.layoutSetting.timer=setTimeout(function(){e.isClick=!1},300),setTimeout(function(){if(!t.button&&!e.isClick){e._pauseTransition();var i=null;if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".drag")?i=t.target:__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")?i=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag")[0]:__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".duplicate")&&(i=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag")[0]),i){var a,s;if(i.getAttribute("data-wigt-type")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".duplicate"))for(s in e.dragTarget=document.getElementById("dragDom"),e.dragType="create",a="form"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.form[i.getAttribute("data-formindex")].wigts[i.getAttribute("data-key")])):"info"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.info[i.getAttribute("data-infoindex")].wigts[i.getAttribute("data-key")])):"base"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.base[i.getAttribute("data-key")])):"sys"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.sys[i.getAttribute("data-sysindex")].wigts[i.getAttribute("data-key")])):JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[s]=a[s];else{for(s in e.dragTarget=i,e.dragType="move",a=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[s]=a[s];__WEBPACK_IMPORTED_MODULE_3_jquery___default()(e.dragTarget).addClass("active")}e.dragData.show=!0,e.dragData.top=i.offsetTop,e.dragData.left=i.offsetLeft}}},this.layoutSetting.delay)},_pauseTransition:function(){var t=this;this.layoutSetting.transition=!1,setTimeout(function(){t.layoutSetting.transition=!0},100)},_mouseUp:function(t){var e=this;if(clearTimeout(this.layoutSetting.timer),!t.button&&!this.isClick){if(this.scaleTarget&&this._scaleMouseUp(t),this.dragData.show&&this.dragTarget&&this.isValid){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".cell.active").removeClass("active"),"create"===this.dragType){var i={};for(var a in this.dragData)i[a]=this.dragData[a];i.name=i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)(),"table"===i.componentType&&i.properties.basic.tableFields.forEach(function(t){t.name=i.componentType+"_"+t.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)()});var s=!1;this.wigtDataArr.forEach(function(t){t.name===i.name&&(s=!0)}),s||(this.curTarget=i,this.wigtDataArr.push(i),this._collisionDetect(i))}else __WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.dragTarget).removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.dragData.name){for(var i in t)t[i]=e.dragData[i];e._collisionDetect(t)}});this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}else if(this.dragTarget&&this.dragTarget.getAttribute("data-key")){var n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.dragTarget.getAttribute("data-key")]));for(var o in n)this.dragData[o]=n[o];this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}this.infoSetting&&(this.dragData.location||this.$set(this.dragData,"location",{}),this.$set(this.dragData.location,"left",this.dragData.x),this.$set(this.dragData.location,"top",this.dragData.y),this.dragData.size||this.$set(this.dragData,"size",{}),this.$set(this.dragData.size,"width",this.dragData.w),this.$set(this.dragData.size,"height",this.dragData.h)),this.dragTarget=null,this.dragData.show=!1,this.dragType=""}},_mouseMove:function(t){if(!t.button&&!this.isClick&&(this.scaleTarget&&this._scaleMouseMove(t),this.dragTarget)){var e,i;if(this.dragData.top=t.pageY-this.dragTarget.offsetHeight/3-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().top,this.dragData.left=t.pageX-this.dragTarget.offsetWidth/3-__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.containerDom).offset().left,this.dragTarget.style.top=this.dragData.top+"px",this.dragTarget.style.left=this.dragData.left+"px",e=Math.round((this.dragData.left-this.layoutSetting.draggableX)/this.layoutSetting.cellWidth),i=Math.round((this.dragData.top-this.layoutSetting.draggableY)/this.layoutSetting.cellLineHeight),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".cell.active").removeClass("active"),this.dragData.x=e,this.dragData.y=i,e>=0&&i>=0&&12-e>=this.dragData.w)for(var a=0;a<this.dragData.h;a++)for(var s=0;s<this.dragData.w;s++)__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .cell .cell[data-x="+(e+s)+"][data-y="+(i+a)+"]").addClass("active")}},_checkNewFenlei:function(){this.$emit("addNewFenlei",this.newFenlei),this.showAddMemberModal=!1,this.newFenlei=""},_showComputedModal:function(){this.showComputedModal=!0;var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".transition.selected").data("key");(t||0==t)&&(this.computedProperties=this.wigtDataArr[t].initialization.properties)},checkCode:function checkCode(funStr){function re(str){var index1=str.indexOf("<"),index2=str.indexOf(">"),reStr=str.substring(index1,index2+1);if(str=str.replace(reStr,"5.5"),-1!=str.indexOf("<"))return re(str);try{eval(str)}catch(t){return!1}return!0}return re(funStr)},_setComputed:function(){var t=this.$refs.computed.patchFunctionHtml();if(this.checkCode(t.functionCode)){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".transition.selected").data("key");(e||0==e)&&(this.wigtDataArr[e].initialization.properties.functionCode=t.functionCode,this.wigtDataArr[e].initialization.properties.functionHtml=t.functionHtml),this.showComputedModal=!1}else this.$toast("公式有误,请检查!")},_removeItem:function(t,e,i){this.personalInfoSetting.curInfoId==t.id?confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1),this.personalInfoSetting.curInfoId=this.infoSetting.tabs[0].id,this._getPersonalInfoOf(this.infoSetting.tabs[0])):confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1)),i.stopPropagation()},_scaleMouseDown:function(t){if(!t.button){this.scaleTarget=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag"),this.scaleTarget.addClass("active");var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.scaleTarget.attr("data-key")]));for(var i in e)this.scaleData[i]=e[i];this.scaleData._startX=t.pageX,this.scaleData._startY=t.pageY,__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".vertical-resize")?this.scaleData.way="vertical":this.scaleData.way="horizontal"}},_scaleMouseUp:function(t){var e=this;t.button||(this.scaleTarget.removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.scaleData.name){for(var i in t)i===("vertical"===e.scaleData.way?"h":"w")?(t[i]=e.scaleData[i]+e.scaleData["d"+i]<=0?1:e.scaleData[i]+e.scaleData["d"+i],"vertical"!==e.scaleData.way&&(t[i]=e.scaleData.x+t[i]>12?12-e.scaleData.x:t[i])):t[i]=e.scaleData[i];e._collisionDetect(t)}}),"vertical"===this.scaleData.way?this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]-4+"px":this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+"px",this.scaleTarget=null)},_scaleMouseMove:function(t){if(!t.button&&this.scaleTarget){var e=t.pageX,i=t.pageY;"vertical"===this.scaleData.way?(this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]+(i-this.scaleData._startY)+"px",this.scaleData.dh=Math.round((i-this.scaleData._startY)/this.layoutSetting.cellLineHeight)):(this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+(e-this.scaleData._startX)+"px",this.scaleData.dw=Math.round((e-this.scaleData._startX)/this.layoutSetting.cellWidth))}},_remove:function(t){var e=this;this.wigtDataArr.forEach(function(i,a){e.curTarget&&e.curTarget.name===t.name&&(e.curTarget=null),i.name===t.name&&e.wigtDataArr.splice(a,1)}),this._pauseTransition(),this.$nextTick(function(){e._clearEmptyLine()})},_removeTableItem:function(t,e,i){t.collector&&t.collector.tableFields&&delete t.collector.tableFields[i],t.initialization&&t.initialization.tableFields&&delete t.initialization.tableFields[i];var a=t.collector.tableKeys.indexOf(i);a>=0&&t.collector.tableKeys.splice(a,1),t.properties.basic.tableFields.splice(e,1)},_drag:function(t){t.dataTransfer.setData("data",t.target.getAttribute("data-key"))},_dragover:function(t){__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_drop:function(t){if(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.table[t.dataTransfer.getData("data")],i={};(i=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e))).name="table_"+i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)();var a=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag").attr("data-key");void 0!==a&&this.wigtDataArr[a].properties.basic.tableFields&&this.wigtDataArr[a].properties.basic.tableFields.push(i)}},_pageClick:function(t){this._justifyLayoutParam(),this.curTarget=null},_widgetClick:function(t){t.cancelBubble=!0;var e=null;__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".drag")?e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")?e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".drag"):__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item")?e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).is(".table-item span")&&(e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(t.target).parents(".table-item")),e&&(e.is(".drag")?this.curTarget=this.wigtDataArr[e.attr("data-key")]:e.is(".table-item")&&(this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.tableFields[e.attr("data-key")]),this.initialTime="currentTime"===this.curTarget.initialization.properties.fixedValue?"currentTime":"defined",this.newNameStr=this.newValueStr="")},_duplicate:function(t){var e={};(e=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t))).name=e.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)(),"table"===e.componentType&&e.properties.basic.tableFields.forEach(function(t,i){t.name=e.componentType+"_"+t.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)()+i}),this.wigtDataArr.push(e),this._collisionDetect(t)},_attrSelect:function(t){},_afterSelectInitMode:function(t){this.curTarget.initialization.mode=t.val,"address"===this.curTarget.componentType?this.$set(this.curTarget.initialization.properties,t.val,{}):this.$set(this.curTarget.initialization.properties,t.val,"")},_afterSelectOfInit:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.initialization.properties,"dataField",e[0]||""),this.$set(this.curTarget.initialization.properties,"dataSet",e[1]||"")}else if("dataSet"===t.target.$attrs["data-attr"])this.$set(this.curTarget.initialization.properties,"dataSet",t.value);else if("fixedValue"===t.target.$attrs["data-attr"]){var i=t.target.$attrs["data-addType"];i&&this.$set(this.curTarget.initialization.properties[t.target.$attrs["data-attr"]],i,t.val)}else t.target.$attrs["data-attr"]&&this.$set(this.curTarget.initialization.properties,t.target.$attrs["data-attr"],t.value)},_afterSelectOfCollector:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.collector,"dataField",e[0]||""),this.$set(this.curTarget.collector,"dataSet",e[1]||"")}else"dataSet"===t.target.$attrs["data-attr"]?this.$set(this.curTarget.collector,"dataSet",t.value):t.target.$attrs["data-attr"]&&this.$set(this.curTarget.collector,t.target.$attrs["data-attr"],t.value)},_afterSelectOfTableInit:function(t,e){this.curTarget.initialization.properties.tableFields||this.$set(this.curTarget.initialization.properties,"tableFields",{}),this.$set(this.curTarget.initialization.properties.tableFields,e.name,t.value)},_afterSelectOfTableCollector:function(t,e){this.curTarget.collector.tableFields||this.$set(this.curTarget.collector,"tableFields",{}),this.$set(this.curTarget.collector.tableFields,e.name,t.value)},_checkTableKeys:function(t){this.curTarget.collector.tableKeys||this.$set(this.curTarget.collector,"tableKeys",[]);var e=this.curTarget.collector.tableKeys.indexOf(t.name);e>=0?this.curTarget.collector.tableKeys.splice(e,1):this.curTarget.collector.tableKeys.push(t.name)},_afterSelectedFields:function(t){var e=this,i=t.target.$attrs["data-action"];if("showComponent"===i||"hideComponent"===i)this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,"fields",[]),t.val.split(",").forEach(function(t,i){e.wigtDataArr.forEach(function(i,a){t===i.name&&e.curAction.properties.fields.push({name:t,title:i.title})})});else if("triggerEvent"===i)t.option?(this.showFieldEvents=this.formSetting.attributesShow[t.option.componentType].events&&t.target.values,this.newObj.fieldTitle=t.target.selected,this.newObj.fieldName=t.target.values):(this.newObj.eventsId=t.val,this.newObj.eventName=t.target.selected);else if("setText"===i)if(t.option)this.newObj2.fieldName=this.newObj2.fieldTitle="","address"===t.option.componentType?this.$set(this.newObj2,"value",{}):this.newObj2.value="",this.triggerSetTextField=t.option,this.showFieldValue=t.target.values?t.option.componentType:"",this.newObj2.fieldTitle=t.target.selected,this.newObj2.fieldName=t.target.values;else if("address"!==this.showFieldValue)this.$set(this.newObj2,"value",t.value);else{var a=t.target.$attrs["data-address"];this.newObj2.value||this.$set(this.newObj2,"value",{}),this.$set(this.newObj2.value,a,t.val),"province"===a&&this.newObj2.value&&this.$set(this.newObj2.value,"city","")&&this.$set(this.newObj2.value,"area",""),"city"===a&&this.newObj2.value&&this.$set(this.newObj2.value,"area","")}else if("conditions"===i){var s=t.target.$attrs["data-field"];if(this.curCase.condition||this.$set(this.curCase,"condition",{}),this.$set(this.curCase.condition,s,t.val),"component"===s)this.$set(this.curCase,"condition",{}),this.$set(this.curCase.condition,s,t.val);else if("operator"===s)this.$set(this.curCase.condition,"operator",t.val),this.$set(this.curCase.condition,"data",{});else if("conVal"===s){var n=t.target.$attrs["data-con"];"province"===n&&this.curCase.condition.data&&this.$set(this.curCase.condition.data,"city","")&&this.$set(this.curCase.condition.data,"area",""),"city"===n&&this.curCase.condition.data&&this.$set(this.curCase.condition.data,"area",""),n&&(this.curCase.condition.data||this.$set(this.curCase.condition,"data",{}),this.$set(this.curCase.condition.data,n,t.val))}}},_addConditionProp:function(t){},_daySelectedOfValue:function(t){"setText"===t.target.$attrs["data-action"]&&this.$set(this.newObj2,"value",t.value)},_initOptions:function(t){var e=this,i="";if("string"==typeof t)i=t;else{if(!t.val)return;i="/api/system/dictTypes/"+t.val+"/dicts"}Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:i,type:"get",success:function(t){t.state?(t.data.forEach(function(t){e.curTarget.properties.basic.options.push(t.label)}),e.optionsShow=!e.optionsShow):e.$toast(t.message)}})},_addOption:function(t){var e=this.newOptStr?this.newOptStr:this.translate.attrName.options+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)();this.newOptStr="",this.curTarget.properties[t].options.indexOf(e)>=0?this.$toast("选项已存在在列表中"):e?this.curTarget.properties[t].options.push(e):this.$toast("选项不能为空")},_addParam:function(t){var e=this;if(this.newNameStr&&this.newValueStr){var i=!1;this.curTarget.initialization.properties[t].forEach(function(t){t.name===e.newNameStr&&(i=!0)}),i?this.$toast(this.translate.initial.keyExistTip):(this.curTarget.initialization.properties[t].push({name:this.newNameStr,value:this.newValueStr}),this.newNameStr=this.newValueStr="")}else this.$toast(this.translate.initial.keyInValidTip)},_daySelected:function(t){var e=t.target.$attrs["data-type"],i=t.target.$attrs["data-attr"];this.curTarget.properties[e][i]=t.value},_daySelectedOfInit:function(t){this.curTarget.initialization.properties[t.target.$attrs["data-attr"]]=t.value},_daySelectedOfCondition:function(t){this.$set(this.curCase.condition.data,t.target.$attrs["data-attr"],t.value)},_timeFormat:function(t,e){if(!t)return"";var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},_fileSizeCheck:function(t){"fileSize"===t&&this.curTarget.properties.verification[t]>this.formSetting.attributes[t].max&&(this.curTarget.properties.verification[t]=this.formSetting.attributes[t].max,this.$toast(this.translate.fileMaxSizeTip+this.formSetting.attributes[t].max+"KB"))},_changeInitTime:function(t){this.initialTime=t,this.curTarget.initialization.properties.fixedValue="currentTime"===t?t:""},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_addNewCase:function(t){var e={};t.cases||this.$set(t,"cases",[]),this.$set(e,"name",this.newCaseNameStr?this.newCaseNameStr:"用例"+Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.a)()),this.$set(e,"condition",{}),this.$set(e,"actions",[]),t.cases.push(e),this._setCase(e)},_setCase:function(t){this.curCase=t,this.oldCase=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t))},_addAction:function(t){this.curCase.actions||this.$set(this.curCase,"actions",[]);var e={};this.$set(e,"name",t),this.$set(e,"properties",{}),this.curAction=e,this.curCase.actions.push(e)},_addActionProp:function(){if(this.newObj.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.newObj));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_addActionProp2:function(){if(this.newObj2.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.newObj2));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_removeAction:function(t){this.curCase.actions.splice(t,1),this.curAction=null},_removeActionProp:function(t){this.$delete(this.curAction.properties,t)},_getFieldArr:function(t){var e=[];return t&&t.forEach(function(t){e.push(t.name)}),e.join(",")},_savecurCase:function(){this.curCase=null,this.curAction=null,this.showFieldValue=""},_cancelSave:function(){for(var t in this.oldCase)this.curCase[t]=this.oldCase[t];this.curAction=null,this.curCase=null,this.showFieldValue=""},_saveLayout:function(){var t=this;this.wigtDataArr.forEach(function(e){t.$set(e,"location",{}),t.$set(e.location,"top",e.y),t.$set(e.location,"left",e.x),t.$set(e,"size",{}),t.$set(e.size,"width",e.w),t.$set(e.size,"height",e.h)}),this._sortLayout(this.wigtDataArr);var e=this._getGlobalCollectorSetting(),i={};if(this.businessId?i={formId:this.reviseFromId,name:this.title,remark:this.reviseRemark,property:{script:this.code,collectors:e},components:this.wigtDataArr}:(i={name:this.title,property:{script:this.code,collectors:e},components:this.wigtDataArr},"edit"===this.initWay&&(i.id=this.formId)),this.infoSetting){var a=this._getChangedInfoArray()||[];this.$emit("submit",a),this.personalInfoSetting.changedIds=[]}else this.$emit("submit",i)},_getGlobalCollectorSetting:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var s,n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.globalCollector.collectors);!(e=(s=n.next()).done);e=!0){var o=s.value,r={dataSet:"",tableKeys:[],tableInitializations:[]};if(o.dataSet){r.dataSet=o.dataSet;var l=!0,c=!1,u=void 0;try{for(var d,p=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(o.fields);!(l=(d=p.next()).done);l=!0){var m=d.value;m.isKey&&r.tableKeys.push(m.name),r.tableInitializations.push({fieldName:m.name,mode:m.valueType||null,value:m.value})}}catch(t){c=!0,u=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}t.push(r)}}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}return t},_sortLayout:function(t){t.sort(function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y})},_getPersonalInfoOf:function(t,e){var i=this;if(this.curTarget=null,t){if(this.personalInfoSetting.infoIndexJson[t.id])this.wigtDataArr=this.personalInfoSetting.infoIndexJson[t.id].components,this.personalInfoSetting.curInfoId=t.id;else{this.$waiting.show();var a={};"STUDENT"===this.infoSetting.type&&(a={educationLevel:this.infoSetting.educationLevel}),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:this.personalInfoSetting.infoLayoutUrl+"/"+t.id,type:"get",data:a,success:function(e){e.state?(i.$set(i.personalInfoSetting.infoIndexJson,t.id,e.data),setTimeout(function(){i._pageClick(),i._componentsProcess(e.data),i.wigtDataArr.forEach(function(t){i._collisionDetect(t),t.location||i.$set(t,"location",{}),t.location.left=t.x,t.location.top=t.y}),i.wigtDataArr.forEach(function(t){}),i.$set(i.personalInfoSetting.oldIndexJsonStr,t.id,__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()({code:i.code,components:i.wigtDataArr})),i.personalInfoSetting.curInfoId=t.id},300)):i.$toast(e.message)}}).always(function(){setTimeout(function(){i.$waiting.close()},300)})}if(e>=0){var s=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),n=-__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-list .tab-item").eq(e).position().left;s.css({left:n+"px","transition-duration":this.tabStyleParam.duration+"s"}),this.tabShow=!1}}},_judgeChange:function(){this.personalInfoSetting.curInfoId&&(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId].property.script=this.code,__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId])!==this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]&&this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId)<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId))},_getChangedInfoArray:function(){var t=this,e=[];return this.personalInfoSetting.changedIds.forEach(function(i){t._sortLayout(t.personalInfoSetting.infoIndexJson[i].components),e.push(t.personalInfoSetting.infoIndexJson[i])}),e},_scrollTab:function(t){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),i=parseInt(e.css("left").replace("px",""));t?-(i-=this.tabStyleParam.scrollDeltaX)>=e.width()-__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2&&(i=-(e.width()-__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2)):-(i+=this.tabStyleParam.scrollDeltaX)<=0&&(i=0),e.css({left:i+"px","transition-duration":this.tabStyleParam.duration+"s"})},_markerClick:function(t){this.curTarget.properties.basic.map.center={lat:t.location.lat,lng:t.location.lng}},_selectGlobalCollectorDataSet:function(t){var e=parseInt(t.target.$attrs["data-index"]),i=this.globalCollector.collectors[e];i.dataSet!==t.val&&(i.dataSet=t.val,i.fields=[],this.dataFieldOptions.forEach(function(t){t.typeName===i.dataSet&&i.fields.push({name:t.columnName,isKey:!1,valueType:"",value:""})}))},_selectGlobalCollectorFieldValueType:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].valueType=t.val},_selectGlobalCollectorFieldComponentValue:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].value=t.val},_getFieldNameByDataSetAndName:function(t,e){var i="[unknonw]";return this.dataFieldOptions.forEach(function(a){a.typeName===t&&a.columnName===e&&(i=a.columnTitle)}),i},_addGlobalCollector:function(){this.globalCollector.collectors.push({dataSet:"",fields:[]})},_deleteGlobalCollector:function(t){this.globalCollector.collectors.splice(t,1)}},destroyed:function(){__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#formSetPage"+this.pageStamp).off("mousewheel"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this.layoutSetting.scrollContainer).off("scroll")}}},ZHwO:function(t,e){},Znhz:function(t,e){},ZtSE:function(t,e){},"a/8i":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("/ue5");var a=i("IIfq"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.sendFileLoading,expression:"sendFileLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"recruitmentInfoApplyDetail",attrs:{"element-loading-text":"正在发送简历","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"rec-header-warp"},[a("div",{staticClass:"rec-header"},[a("div",[a("div",{staticClass:"title"},[t._v(t._s(t.recruitmentDetails.positionName)+" | "+t._s("PRACTICE"==t.recruitmentDetails.positionProperty?"实习":"全职"))]),t._v(" "),a("div",{staticClass:"price"},[t._v(t._s(t.recruitmentDetails.salaryName))]),t._v(" "),a("div",{staticClass:"other"},[t._v(t._s(t.recruitmentDetails.workplaceName)+" | "+t._s(t.recruitmentDetails.positionTypeName))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type == 'STUDENT'"}],staticClass:"custom-btns"},[t.recruitmentDetails.isCollect?t._e():a("el-button",{staticClass:"collect custom",attrs:{plain:""},on:{click:function(e){return t.collect(!1)}}},[a("div",{staticClass:"custom-icon"},[a("img",{staticClass:"like",attrs:{src:"/static/image/employment/like.png",alt:""}}),t._v(" 收藏职位\n          ")])]),t._v(" "),t.recruitmentDetails.isCollect?a("el-button",{staticClass:"collect custom collected",attrs:{plain:""},on:{click:function(e){return t.collect(!0)}}},[a("div",{staticClass:"custom-icon"},[a("img",{staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""}}),t._v(" 已收藏\n          ")])]):t._e(),t._v(" "),a("el-button",{staticClass:"custom",attrs:{type:"primary"},on:{click:t.apply}},[t._v("申请职位")])],1)])]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[t._m(0),t._v(" "),a("ul",[a("li",[a("pre",[t._v(t._s(t.recruitmentDetails.majorName?t.recruitmentDetails.majorName:"暂无专业要求"))])])]),t._v(" "),t._m(1),t._v(" "),a("ul",[a("li",[a("pre",[t._v(t._s(t.recruitmentDetails.positionRemarks?t.recruitmentDetails.positionRemarks:"暂无岗位职责"))])])]),t._v(" "),t._m(2),t._v(" "),a("ul",[a("li",[a("pre",[t._v(t._s(t.recruitmentDetails.positionRequire?t.recruitmentDetails.positionRequire:"暂无招聘要求"))])])]),t._v(" "),t._m(3),t._v(" "),a("ul",[a("li",[a("pre",[t._v(t._s(t.recruitmentDetails.recruitmentBrief?t.recruitmentDetails.recruitmentBrief:"暂无招聘简章"))])])])]),t._v(" "),a("div",{staticClass:"right"},[a("img",{staticClass:"logo",attrs:{src:"/static/image/employment/jiuye.png",alt:""}}),t._v(" "),a("h6",{staticClass:"company-title"},[t._v(t._s(t.recruitmentDetails.companyName))]),t._v(" "),a("div",{staticClass:"title right-item"},[a("img",{staticClass:"icon",attrs:{src:"/static/image/employment/group.png",alt:""}}),t._v("\n        "+t._s(t.recruitmentDetails.scaleName)+"\n      ")]),t._v(" "),a("div",{staticClass:"right-item"},[t._v("\n        联系人：\n        "),a("span",{staticClass:"value"},[t._v(t._s(t.recruitmentDetails.contactPeople))])]),t._v(" "),a("div",{staticClass:"right-item"},[t._v("\n        联系电话：\n        "),a("span",{staticClass:"value"},[t._v(t._s(t.recruitmentDetails.contactPhone))])]),t._v(" "),a("div",{staticClass:"right-item"},[t._v("\n        邮箱：\n        "),a("span",{staticClass:"value"},[t._v(t._s(t.recruitmentDetails.email))])]),t._v(" "),a("div",{staticClass:"introduction-title right-item"},[t._v("公司简介：")]),t._v(" "),a("div",{staticClass:"introduction"},[t._v(t._s(t.recruitmentDetails.summary))]),t._v(" "),a("el-button",{staticClass:"look-more",attrs:{plain:""}},[t._v("查看公司更多职位")])],1)]),t._v(" "),a("el-dialog",{staticClass:"apply-position",attrs:{"show-close":!1,visible:t.onApplyPositionModal,width:"482px"},on:{"update:visible":function(e){t.onApplyPositionModal=e}}},[t.hasResume?a("div",{staticClass:"hasResume"},[a("div",{staticClass:"position-modal-header",attrs:{slot:"title"},slot:"title"},[a("h5",{staticClass:"modal-title"},[t._v("简历名称:")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.preview}},[t._v("预览简历")])],1),t._v(" "),a("span",{staticClass:"fileinput-button"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.resumenName,expression:"resumenName"}],domProps:{value:t.resumenName},on:{input:function(e){e.target.composing||(t.resumenName=e.target.value)}}})]),t._v(" "),t.recruitmentDetails.startTime&&t.recruitmentDetails.endTime?a("p",{staticClass:"time"},[t._v("预计简历接收时间："+t._s(t.recruitmentDetails.startTime)+" - "+t._s(t.recruitmentDetails.endTime))]):t._e(),t._v(" "),a("div",{staticClass:"choiceRecruit",staticStyle:{"margin-top":"20px"}},[a("el-radio",{attrs:{label:"ONLINE"},model:{value:t.recruitType,callback:function(e){t.recruitType=e},expression:"recruitType"}},[t._v("在线简历")]),t._v(" "),a("el-radio",{attrs:{label:"FILE"},model:{value:t.recruitType,callback:function(e){t.recruitType=e},expression:"recruitType"}},[t._v("文件简历")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-footer-button",attrs:{type:"primary"},on:{click:t.blacklistSure}},[t._v("发送简历")])],1)]):a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("暂无简历")]),t._v(" "),a("el-button",{staticClass:"dialog-footer-button",staticStyle:{margin:"20px 0"},attrs:{type:"primary"},on:{click:t.toAddResume}},[t._v("新增简历")])],1)]),t._v(" "),a("el-dialog",{attrs:{id:"showPreview",visible:t.showPreview,width:"60%","before-close":t.handleClose},on:{"update:visible":function(e){t.showPreview=e}}},[a("div",{staticClass:"online_cantEdit"},[a("div",{staticClass:"top box"},[a("div",{staticClass:"userImg"},[t.resumeData.portrait?a("img",{attrs:{src:"/upload/storage/images/"+t.resumeData.portrait,alt:""}}):a("img",{attrs:{src:i("m/pr"),alt:""}})]),t._v(" "),a("div",{staticClass:"userInfo"},[a("p",[t._v(t._s(t.resumeData.name))]),t._v(" "),a("div",{staticClass:"userInfo_details"},[a("div",{staticClass:"userInfo_details_top"},[a("p",[a("i",{staticClass:"sexy"}),t._v(" "),t.resumeData.sex?a("span",[t._v(t._s("1"==t.resumeData.sex?"男":"女"))]):t._e()]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"age"}),t._v(" "),t.resumeData.birthday?a("span",[t._v(t._s((new Date).getFullYear()-new Date(t.resumeData.birthday).getFullYear()))]):t._e()]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"edu"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.educationLevelName))])]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"address"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.presentAddressName))])])]),t._v(" "),a("div",{staticClass:"userInfo_details_bottom"},[a("p",[a("i",{staticClass:"phone"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.phone))])]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"mail"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.email))])])])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("教育经历")]),t._v(" "),a("span",{staticStyle:{"min-width":"20%"}},[t._v(t._s(t.resumeData.collegeName))]),t._v(" "),a("span",{staticStyle:{"min-width":"20%"}},[t._v(t._s(t.resumeData.majorName))]),t._v(" "),a("span",{staticStyle:{"min-width":"10%"}},[t._v(t._s(t.resumeData.educationLevelName))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("项目经历")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.projectExperience))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("获奖经历")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.rewardedExperience))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("自我评价")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.selfEvaluation))])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/major.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("专业要求")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/things.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("岗位职责")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/todo.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("招聘要求")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/jianzhang.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("招聘简章")])])}]};var n=function(t){i("Znhz"),i("ZHwO")},o=i("C7Lr")(a.a,s,!1,n,"data-v-74aa4064",null);e.default=o.exports},a9Mj:function(t,e){},bKtk:function(t,e){},bTp3:function(t,e,i){"use strict";i("xd7I"),i("6fg8");var a=i("2GJD"),s={props:{height:{default:"200px"},data:{default:null}},created:function(){},data:function(){return{flow:null}},watch:{data:function(){this.flow.load(this.data)}},mounted:function(){var t=this;this.flow=Object(a.a)("#flow",{readonly:!1,adjustBranches:!0,data:this.data,debug:!1,animate:!0,animateDuration:200,edgeMaxOffset:20,fixApplyNode:!1,colWidth:300,rowHeight:100,top:58,slideWorkspaceValidAreaOffset:120,slideWorkspaceStep:10,joinPointOffset:15,textLineDistance:10,startNodeWidth:108,startNodeHeight:44,startNodeRadius:22,endNodeWidth:108,endNodeHeight:44,endNodeRadius:22,processNodeWidth:208,processNodeHeight:44,conditionNodeWidth:242,conditionNodeHeight:64,waitingNodeInterval:12,waitingProcessNodeText:"节点",waitingProcessNodeWidth:64,waitingProcessNodeHeight:44,waitingConditionNodeText:"条件",waitingConditionNodeWidth:78,waitingConditionNodeHeight:78,waitingEndNodeText:"结束",waitingEndNodeWidth:64,waitingEndNodeHeight:44,deleteConfirm:!1,deleteConfirmText:"确定要删除此节点吗?"}),this.flow.on("selected",function(e){t.$emit("nodeSelected",e)}),this.flow.on("link_node",function(e){t.$emit("nodeLinked",e)}),this.flow.on("create_node",function(e){t.$emit("nodeCreated",e)}),this.flow.on("delete_node",function(e){t.$emit("nodeRemoved",e)}),this.flow.on("wait_to_create_or_link",function(e){t.$emit("waitToCreate",e)})},methods:{refreshNodeText:function(t,e){this.flow.setNodeName(t,e)},toCreateBranch:function(t){this.flow.toCreateBranch(t)},setLineText:function(t,e,i){this.flow.setLineText(t,e,i)},getNodeById:function(t){return this.flow.getNode(t)},refresh:function(){this.flow.refresh()},export:function(){var t=[],e=this.flow.export();for(var i in e)e[i].id=i,t.push(e[i]);return t}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("svg",{staticClass:"v-flow",style:"height:"+this.height,attrs:{id:"flow"}})},staticRenderFns:[]};var o=i("C7Lr")(s,n,!1,function(t){i("6pjK")},null,null);e.a=o.exports},dMOG:function(t,e){},fSJ2:function(t,e,i){"use strict";var a=i("lC5x"),s=i.n(a),n=i("J0Oq"),o=i.n(n),r=i("C331"),l={add:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/addDoubleChoose",type:"post",data:t.toApiDcw()}));case 1:case"end":return e.stop()}},i,e)}))()},get:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/getDetails",type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},update:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/updateDoubleChoose",type:"put",data:t.toApiDcw()}));case 1:case"end":return e.stop()}},i,e)}))()},unShelve:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/soldOut?id="+t,type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},changeTop:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/top?id="+t,type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},publish:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/release?id="+t,type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},apply:function(t,e){var i=this;return o()(s.a.mark(function a(){var n;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(n=e.toApiApplyInfo()).doubleChooseId=t,i.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/addDoubleChooseAudit",type:"post",data:n}));case 3:case"end":return i.stop()}},a,i)}))()},getUnitApplyInfo:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/getDoubleChooseAuditDetails?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},agree:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/audit/agreeDoubleChooseAudit?id="+t,type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},disagree:function(t,e){var i=this;return o()(s.a.mark(function a(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/audit/repulseDoubleChooseAudit?id="+t+"&reason="+e,type:"put",data:{id:t,reason:e}}));case 1:case"end":return i.stop()}},a,i)}))()},reject:function(t,e){var i=this;return o()(s.a.mark(function a(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/audit/rejectDoubleChooseAudit?id="+t+"&reason="+e,type:"put",data:{id:t,reason:e}}));case 1:case"end":return i.stop()}},a,i)}))()},countermand:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/recall?id="+t,type:"put",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()}},c={isStandDeletable:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/canDelete",type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getUnitApplyInfo:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/participant/getDetails",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getNoApplyUnits:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/getCompanyDetailList?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},deleteStandUnit:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/cancelParticipant?id="+t,type:"put"}));case 1:case"end":return e.stop()}},i,e)}))()},addStands:function(t,e){var i=this;return o()(s.a.mark(function a(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/addBooth",type:"post",data:{boothVOS:e.map(function(e){return{id:t,name:e.name,sortNum:e.sort}})}}));case 1:case"end":return i.stop()}},a,i)}))()},deleteStand:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/deleteBooth?id="+t,type:"delete"}));case 1:case"end":return e.stop()}},i,e)}))()},update:function(t){var e=this;return o()(s.a.mark(function i(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/updateBooth?id="+t.id+"&name="+t.name}));case 1:case"end":return e.stop()}},i,e)}))()},reserve:function(t,e){var i=this;return o()(s.a.mark(function a(){var n;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(n=e.toApiUnitApplyInfo()).doubleChooseId=t,i.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/reserveBooth",type:"post",data:n}));case 3:case"end":return i.stop()}},a,i)}))()}},u={getMyUnit:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.c)({url:"/api/employment/company/information",type:"get"}));case 1:case"end":return t.stop()}},e,t)}))()}};e.a={dcw:l,stand:c,unit:u,uploadPicture:function(t){var e=this;return o()(s.a.mark(function i(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.abrupt("return",Object(r.c)({url:"/upload/storage/files",type:"post",data:a,contentType:!1,processData:!1}));case 3:case"end":return e.stop()}},i,e)}))()}}},hJ1Y:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("xd7I"),__WEBPACK_IMPORTED_MODULE_2_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_2_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__),__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__=__webpack_require__("bTp3"),__WEBPACK_IMPORTED_MODULE_5_fs__=__webpack_require__("FBGu"),__WEBPACK_IMPORTED_MODULE_5_fs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_fs__);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component("v-flow",__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__.a),__webpack_exports__.a={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},type:{default:""},userType:{default:null}},created:function created(){var _this=this,la=localStorage.getItem("lang");for(var i in Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(la)&&(this.lang=la),this.businessId?(this.reviseFlowUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/flowSetting",this.reviseFormUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting"):"sc"===this.type?this.reviseFlowUrl="/api/sc/activities/types/"+this.appId+"/flowSetting":(this.reviseFlowUrl="/api/apps/"+this.appId+"/settings/flows",this.reviseFormUrl="/api/apps/"+this.appId+"/settings/forms"),Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFlowUrl,type:"get",success:function(t){t.state?t.data&&(_this.flowData.id=t.data.id,_this.flowData.chart=t.data.chart,_this.curFlow=t.data.settings,_this.curFlow.nodes.forEach(function(t,e){_this.$set(t,"id",t.id),_this.$set(t,"name",t.name),_this.$set(t,"category",t.category),_this.$set(t,"distributary",t.distributary),_this.$set(t,"operators",t.operators||[]),_this.$set(t,"operations",t.operations||{}),_this.$set(t,"dataAuthorities",t.dataAuthorities||[]),_this.$set(t,"links",t.links||[])})):_this.$toast(t.message)}}),"sc"===this.type?(this.curFlow.name=this.appName+"流程",this.components=[],this.$set(this.curFlow,"formSettingName",this.appName+"表单"),this.$set(this.curFlow,"formSettingId","sc")):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFormUrl,type:"get",success:function success(data){if(data.state){var patch=function patch(s,re){return re=eval("/"+re+"/ig"),s.match(re)?s.match(re).length:0};_this.curFlow.name=data.data.name+"流程",_this.components=data.data.components;var newCom=JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.components)),initLength=0,m=[],num=0;_this.components.forEach(function(t,e){var i=patch(t.name,"_"),a=patch(t.name,"table");i<2&&a>=1&&(num+=1,m.push(e),num>1&&(initLength+=_this.components[m[num-2]].properties.basic.tableFields.length),t.properties.basic.tableFields.forEach(function(i,a){var s=e+1+initLength;i.title=t.title+i.title,newCom.splice(s,0,i)}))}),_this.components=newCom,_this.components.forEach(function(t,e){_this.$set(t,"checked",!1),_this.$set(t,"checkedXian",!1)}),_this.$set(_this.curFlow,"formSettingName",data.data.name),_this.$set(_this.curFlow,"formSettingId",data.data.id)}else _this.$toast(data.message)}}),"sc"===this.type&&this.distributaryData.push({id:"byOrganization",name:"以社团组织关系分流"}),"4"!==this.userType&&"2"!==this.userType||this.distributaryData.splice(1,2),this.distributaryData.forEach(function(t,e){t.name=_this.translate.distributaryData[t.id]}),this.operatorData.forEach(function(t,e){t.name=_this.translate.operatorData[t.id]}),"sc"===this.type&&(this.permissionData=[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"batch",name:"批量操作",checked:!1}]),this.permissionData.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.data&&t.data.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.options&&t.options.forEach(function(t,e){t.name=_this.translate.permissionData[t.id]})})}),this.attributesShow)this.attributesShow[i].conditions.forEach(function(t,e){t.name=_this.translate.condition[t.id]});this._initRoleList("bySchool"),this._initRoleList("byCollege"),this._initRoleList("byClass"),"sc"===this.type&&this._initRoleList("byOrganization"),this._initRoleList("byBuilding"),this._initRoleList("byParty")},data:function(){return{distributaryData:[{id:"bySchool",name:"不分流"},{id:"byClass",name:"以班级关系分流"},{id:"byTeacher",name:"以带生关系分流"},{id:"byTutor",name:"以导师分流"},{id:"byCollege",name:"以学院关系分流"},{id:"byBuilding",name:"公寓按楼栋分流"},{id:"byParty",name:"以党组织关系分流"}],roleList:{},components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map"]}],permissionData:[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"revocation",name:"撤回",checked:!1},{id:"deliverTo",name:"转交",checked:!1},{id:"sendTo",name:"抄送",checked:!1},{id:"batch",name:"批量操作",checked:!1},{id:"cancelByUser",name:"发起者在此节点可以取消流程",checked:!1}],permission:{reject:{usable:!0,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!0},deliverTo:{usable:!0},sendTo:{usable:!0},batch:{usable:!0},cancelByUser:{usable:!0},canExport:{usable:!0}},attributesShow:{input:{conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},datetime:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},radio:{conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{conditions:[{id:"=",name:"等于",data:"value"}]},address:{conditions:[{id:"=",name:"等于",data:"value"}]}},batchCheck:"",newRoleName:"",roleEditing:!1,roleAddErrorMsg:"",chart:{},curNode:{},curLink:{},otherLink:{nextNodeId:""},curFlow:{id:"",name:"",formSettingId:"",formSettingName:"",nodes:[{id:"start",name:"",category:"start",distributary:null,operators:[],operations:{},dataAuthorities:[],links:[]}]},flowData:{id:"",chart:[],settings:{}},curTargetNode:null,isChange:!1,reviseFlowUrl:"",reviseFormUrl:"",lang:"zh-cn"}},computed:{isApplyNode:function(){return!(!this.curTargetNode||!this.curTargetNode.parents)&&"start"===this.curTargetNode.parents[0]},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(this.lang).flowSetManage},roleCheckAllCount:function(){var t=this,e=0;return this.curNode&&this.curNode.operators&&this.roleList[this.curNode.distributary]&&this.roleList[this.curNode.distributary].forEach(function(i){t.curNode.operators.indexOf(parseInt(i.id))>=0&&e++}),e},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},componentsCheckAllCountXian:function(){var t=0;return this.components.forEach(function(e){e.checkedXian&&t++}),t},initDataOfChart:function(){var t=this,e=null;return this.flowData.chart&&this.flowData.chart.nodes&&this.flowData.chart.nodes.length>0&&(e={},this.flowData.chart.nodes.forEach(function(t,i){e[t.id]=t})),setTimeout(function(){t._refreshFlow()},300),e},curComponent:function(){var t=this,e={};return this.components.forEach(function(i,a){t.curNode.links[0]&&t.curNode.links[0].condition&&t.curNode.links[0].condition.component===i.name&&(e=i)}),e}},mounted:function(){var t=this;__WEBPACK_IMPORTED_MODULE_2_jquery___default()("#flowSetPage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveFlow(),t.$emit("back"),e.preventDefault(),!1)})},methods:{changeCheck:function(t){},lick:function(t){},_back:function(){this.isChange&&confirm(this.translate.backTip)?this._saveFlow():this.$emit("back")},_setApplyOnce:function(t){this.curNode.attribute||this.$set(this.curNode,"attribute",{}),this.$set(this.curNode.attribute,"applyOnceLimit",t)},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_saveFlow:function(){this.curFlow.nodes.length<this.$refs.flow.export().length?this.curFlow.nodes.splice(0,0,{id:"start",name:"",category:"start"}):this.curFlow.nodes.splice(0,1,{id:"start",name:"start",category:"start"});var t={id:this.flowData.id,chart:{nodes:this.$refs.flow.export()},settings:this.curFlow};t.settings.nodes.forEach(function(e){"condition"!==e.category&&(e.links=[],t.chart.nodes.forEach(function(t){e.id===t.id&&t.links.forEach(function(t){e.links.push({nextNodeId:t.id})})}))});var e=!0,i="";t.settings.nodes.forEach(function(t){"end"!==t.category&&(t.links&&0===t.links.length&&(e=!1,i+=t.name+"下一节点不明哟~\n"),t.links.forEach(function(a){a.nextNodeId||(e=!1,i+=t.name+"下一节点不明哟~\n")}))}),e?(this.$emit("submit",t),this.isChange=!1):this.$toast(i)},_afterSelectedDis:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.operators.forEach(function(t,s){i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),e.operators=a,this.$refs.flow.setLineText(e.id,t.target.selected)},_afterSelectedDisOf:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.roleIds.forEach(function(t,s){i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),e.roleIds=a},_roleIdIsInDistributary:function(t,e){var i=!1;return this.roleList[e].forEach(function(e){e.id===t&&(i=!0)}),i},_initRoleList:function(t){var e=this;this.roleList[t]||(this.$set(this.roleList,t,[]),"bySchool"===t||"byCollege"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===t?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){i.state?e.roleList[t]=i.data.reverse():e.$toast(i.message)}}):"byClass"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.text,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byBuilding"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/apartment/roles",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byParty"===t&&Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}))},_getAuthorityOf:function(t,e){var i="",a=!1;return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(i=e.authority,a=!0)}),a||(e.dataAuthorities.push({componentName:t.name,authority:"optional"}),i="optional"),i},_setCanExport:function(t,e){t.dataAuthorities[e].exportable?t.exportNum--:t.exportNum++,t.dataAuthorities[e].exportable=!t.dataAuthorities[e].exportable},_changeExportAll:function(t){0===t.exportNum?(t.dataAuthorities.forEach(function(t){t.exportable=!0}),t.exportNum=t.dataAuthorities.length):(t.dataAuthorities.forEach(function(t){t.exportable=!1}),t.exportNum=0)},_setAuthorityOf:function(t,e,i){var a=this,s=!1;i.dataAuthorities&&i.dataAuthorities.forEach(function(i){t.name===i.componentName&&(s=!0,a.$set(i,"authority",e))}),s||i.dataAuthorities.push({componentName:t.name,authority:e})},_batchSure:function(){var t=this;this.isChange=!0,this.components.forEach(function(e,i){e.checked&&(t._getAuthorityOf(e,t.curNode)?t._setAuthorityOf(e,t._verifyBatch(e,t.batchCheck),t.curNode):t.curNode.dataAuthorities.push({authority:t._verifyBatch(e,t.batchCheck),componentName:e.name}),e.checked=!1)}),this.batchCheck=""},_verifyBatch:function(t,e){var i=!1;return this.operatorData.forEach(function(a){a.id===e&&a.coms.indexOf(t.componentType)>=0&&(i=!0)}),i?e:""},_permissionClick:function(t){this.isChange=!0,this.curNode.operations[t.id].usable=!this.curNode.operations[t.id].usable},_attrOptionClick:function(t,e,i){this.isChange=!0,this.$set(this.curNode.operations[t.id].properties,e.id,i.id)},_changeCheckState:function(t,e,i){var a=this;this.isChange=!0;var s=!1;0===e&&(s=!0),t.forEach(function(t){t.checked=s}),"operators"===i&&(this.curNode[i]=[],t.forEach(function(t){s&&a.curNode[i].push(parseInt(t.id))}))},_changeCanExport:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.canExport&&i.curNode[e].push(t.name)})},_changeCheckStateXian:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.checkedXian&&i.curNode[e].push(t.name)})},_checkOperators:function(t){this.isChange=!0,this.curNode.operators||this.$set(this.curNode,"roleIds",[]);var e=this.curNode.operators.indexOf(parseInt(t.id));e>=0?this.curNode.operators.splice(e,1):this.curNode.operators.push(parseInt(t.id))},_changeRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]),e.roleIds.length>0?e.roleIds=[]:t.forEach(function(t){e.roleIds.push(parseInt(t.id))})},_checkCopyRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]);var i=e.roleIds.indexOf(parseInt(t.id));i>=0?e.roleIds.splice(i,1):e.roleIds.push(parseInt(t.id))},_addNewProxyUser:function(){this.curNode.proxyUsers||this.$set(this.curNode,"proxyUsers",[]),this.curNode.proxyUsers.push({distributary:"bySchool",roleIds:[]})},_addNewCopyUser:function(){this.curNode.copyUsers||this.$set(this.curNode,"copyUsers",[]),this.curNode.copyUsers.push({distributary:"bySchool",roleIds:[]})},_checkComponent:function(t){var e=this;this.isChange=!0,this.curNode.links.forEach(function(i,a){i.condition&&(i.condition.component=t.name,e.$set(i.condition,"data",{}),"other"!==i.condition.operator&&e.$set(i.condition,"operator",""))})},_saveNewRole:function(t,e){var i=this;this.isChange=!0,""===t.replace(/\s/g,"")&&(this.roleAddErrorMsg=this.roleEmptyTip),this.roleList[e.distributary].forEach(function(e){t===e.name&&(i.roleAddErrorMsg&&(i.roleAddErrorMsg+=","),i.roleAddErrorMsg+=i.translate.roleExistTip)}),this.roleAddErrorMsg?setTimeout(function(){i.roleAddErrorMsg=""},1500):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===e.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?(i.roleList[e.distributary].unshift({id:a.data,name:t}),e.operators?e.operators.push(parseInt(a.data)):e.roleIds.push(parseInt(a.data)),i.roleEditing=!1,i.newRoleName=""):i.$toast(a.message)}})},_nodeSelected:function(t){var e=this;this.curFlow.nodes&&(this.components.forEach(function(t){t.checked=!1,t.checkedXian=!1}),this.curFlow.nodes.forEach(function(i){i.name&&i.name==t.target.name&&(e.components=e.components.map(function(t){return void 0!=i.defaultVisibleTableColumns&&i.defaultVisibleTableColumns!=[]&&i.defaultVisibleTableColumns.forEach(function(e){t.name==e&&(t.checkedXian=!0)}),t}))})),this.roleEditing=!1,this.curTargetNode=t.target,this.curFlow.nodes.forEach(function(i,a){if(i.id===t.target.id){var s=0;if(i.dataAuthorities.forEach(function(t){t.exportable&&s++}),i.exportNum=s,e.curNode=i,e.curNode.copyUsers)for(var n in e.curNode.copyUsers);if(e.curNode.proxyUsers)for(var n in e.curNode.proxyUsers);"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)})}})},_nodeWaited:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&(e.curNode=i,"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)}))})},_nodeRemoved:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&e.curFlow.nodes.splice(a,1)});var i=[];this.curFlow.nodes.forEach(function(e,a){t.target.parents.indexOf(e.id)>=0&&i.push(e)}),i.forEach(function(i,a){"condition"===i.category&&i.links.forEach(function(i){i.nextNodeId===t.target.id&&e.$set(i,"nextNodeId","")})})},_nodeLinked:function(t){this.isChange=!0,"condition"===this.curNode.category&&(this.curLink.nextNodeId=t.target.id)},_nodeCreated:function(t){this.isChange=!0;var e={};this.$set(e,"id",t.target.id),this.$set(e,"name",t.target.name),this.$set(e,"category",t.target.type),this.$set(e,"distributary",""),this.$set(e,"operators",[]),this.$set(e,"operations",JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.permission))),this.$set(e,"dataAuthorities",[]),this.$set(e,"links",[]),e.links.push({nextNodeId:"",condition:{component:"",operator:"other",data:{}}}),this.components.forEach(function(t,i){e.dataAuthorities.push({componentName:t.name,authority:"readonly",exportable:!0})}),e.exportNum=e.dataAuthorities.length,this.curFlow.nodes.push(e),"condition"===this.curNode.category?this.curLink.nextNodeId=t.target.id:this.curNode=e},_syncToFlow:function(){this.isChange=!0,this.$refs.flow.refreshNodeText(this.curNode.id,this.curNode.name)},_afterSelectedCondition:function(t,e){this.isChange=!0,this.$set(e.condition,"data",{}),e.condition.component&&"address"===e.condition.component.split("_")[0]&&this.$set(e.condition.data,"value",{province:"",city:"",area:""})},_afterSelectedValue:function(t,e){this.isChange=!0;var i=t.target.$attrs["data-addType"];i&&("province"!==i&&e.condition.data.value||this.$set(e.condition.data,"value",{}),"city"===i&&this.$set(e.condition.data.value,"area",""),this.$set(e.condition.data.value,i,t.val))},_daySelectedOfValue:function(t){this.isChange=!0;var e=t.target.$attrs["data-index"];this.curNode.links[e].condition.data||this.$set(this.curNode.links[e].condition,"data",{}),this.$set(this.curNode.links[e].condition.data,"value",t.value)},_addNewCondition:function(t){this.isChange=!0;var e={nextNodeId:"",condition:{component:this.curComponent.name,operator:"other"===t?t:"",data:{}}};"other"===t?(this.otherLink=this.curNode.links[0],this._createBranch(this.otherLink)):this.curNode.links.push(e)},_createBranch:function(t){this.isChange=!0,t.nextNodeId||(this.curLink=t,this.$refs.flow.toCreateBranch(this.curNode.id))},_removeLink:function(t,e){this.isChange=!0,""===t.nextNodeId?this.curNode.links.splice(e,1):this.$toast(this.translate.removeNodeTip)},_getNodeById:function(t){return this.$refs.flow.getNodeById(t)},_refreshFlow:function(t){this.$refs.flow.refresh()},_showRoleEdit:function(t){this.roleEditing=!(t>=0)||t,this.newRoleName=""},_newRowInputFocus:function(t){this.newRoleName="copy"===t?"(抄送)"+this.appName+this.curNode.name+"管理员":"proxy"===t?"(代理)"+this.appName+this.curNode.name+"管理员":this.appName+this.curNode.name+"管理员"}},watch:{windowObj:{deep:!0,handler:function(t){this.$refs.flow&&this.$refs.flow.refresh()}}},destroyed:function(){}}},"hn+R":function(t,e,i){"use strict";var a=i("lC5x"),s=i.n(a),n=i("HzJ8"),o=i.n(n),r=(i("wHoj"),i("NGAA"),i("INlO")),l=i.n(r),c=i("J0Oq"),u=i.n(c),d=i("aA9S"),p=i.n(d),m=i("t7Ya"),_=i("fSJ2"),f=(Object,Boolean,Boolean,Boolean,Array,{props:{dcw:Object,canManage:Boolean,published:Boolean,selectable:Boolean,value:Array},data:function(){return{stands:p()({},this.value),initLength:this.dcw.standInfo.stands.length}},computed:{occupiedStandCount:function(){var t=0;return this.stands.forEach(function(e){e.occupied&&++t}),t},selectedStandCount:function(){var t=0;return this.stands.forEach(function(e){e.selected&&++t}),t}},watch:{value:{deep:!0,handler:function(t){p()(this.stands,t)}},stands:{deep:!0,handler:function(t){this.$emit("input",t),this.$emit("change",t)}}},methods:{addStand:function(){var t=this;return u()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.a.prompt("请输入要新增的展位数量",{inputType:"number"}).then(function(){var e=u()(s.a.mark(function e(i){var a,n,r,l,c,u,d,p,f,h,v,g,y,b=i.value;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=parseInt(b),t.stands.length,0!==a){e.next=4;break}return e.abrupt("return");case 4:if(!t.published){e.next=43;break}if(!(a<0)){e.next=8;break}return t.$toast("展位已发布，请单个删除"),e.abrupt("return");case 8:for(n=[],r=0;r<a;++r)n.push(new m.b({name:t.initLength+r+1+"",sort:t.initLength+r+1}));return e.next=12,_.a.stand.addStands(t.dcw.id,n);case 12:if(l=e.sent,c=l.state,u=l.message,d=l.data,!c){e.next=40;break}for(d.length,p=!0,f=!1,h=void 0,e.prev=21,v=o()(d);!(p=(g=v.next()).done);p=!0)y=g.value,t.stands.push(m.b.fromApi(y));e.next=29;break;case 25:e.prev=25,e.t0=e.catch(21),f=!0,h=e.t0;case 29:e.prev=29,e.prev=30,!p&&v.return&&v.return();case 32:if(e.prev=32,!f){e.next=35;break}throw h;case 35:return e.finish(32);case 36:return e.finish(29);case 37:t.initLength+=d.length,e.next=41;break;case 40:t.$toast(u);case 41:e.next=44;break;case 43:t.renderStand(a);case 44:case"end":return e.stop()}},e,t,[[21,25,29,37],[30,,32,36]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},renderStand:function(t){var e=this.stands.length;if(0!==t){if(t>0)for(var i=0;i<t;++i)this.stands.push(new m.b({name:this.initLength+i+1+""}));else this.stands.splice(e+t,-t);this.initLength+=t}},reserveStand:function(){var t=this;return u()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("to-reserve-dcw");case 1:case"end":return e.stop()}},e,t)}))()},deleteStand:function(t,e){var i=this;return u()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.id){a.next=5;break}return a.next=3,i.deletePublishedStand(t,e);case 3:a.next=7;break;case 5:return a.next=7,i.deleteNewStand(t,e);case 7:case"end":return a.stop()}},a,i)}))()},deletePublishedStand:function(t,e){var i=this;return u()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:l.a.confirm("是否删除展位"+t.name+"?").then(u()(s.a.mark(function a(){var n,o,r,l,c,u,d;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.stand.isStandDeletable(t.id);case 2:if(n=a.sent,o=n.state,r=n.message,l=n.data,!o){a.next=19;break}if(!l){a.next=16;break}return a.next=10,_.a.stand.deleteStand(t.id);case 10:c=a.sent,u=c.state,d=c.message,u?(i.$toast("删除成功"),i.stands.splice(e,1)):i.$toast(d),a.next=17;break;case 16:i.$toast("该展位已被占用，无法删除，请刷新页面查看最新数据");case 17:a.next=20;break;case 19:i.$toast(r);case 20:case"end":return a.stop()}},a,i)})));case 1:case"end":return a.stop()}},a,i)}))()},deleteNewStand:function(t,e){var i=this;return u()(s.a.mark(function a(){var n,o;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i.stands.splice(e,1),n=i.$createElement,o=i.$message({type:"warning",duration:6e3,message:n("p",null,[n("span",null,"展位 "+t.name+" 已删除"),n("a",{style:"position: absolute; right: 16px; top: 16px",on:{click:function(){i.stands.splice(e,0,t),o.close()}}},"撤销")])});case 3:case"end":return a.stop()}},a,i)}))()},toEditStand:function(t){this.canManage&&(t.editing=!0)},changeStand:function(t){var e=this;return u()(s.a.mark(function i(){var a,n,o;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.editing=!1,!e.published){i.next=8;break}return i.next=4,_.a.stand.update(t);case 4:a=i.sent,n=a.state,o=a.message,n?e.$toast("更新成功"):e.$toast(o);case 8:case"end":return i.stop()}},i,e)}))()},selectStand:function(t){if(this.selectable&&!t.occupied)if(t.selected)t.selected=!1;else{var e=this.dcw.standInfo.canSelectMultiStands?this.dcw.standInfo.limitStandsSelected:1;this.selectedStandCount===e?1===e?(this.cancelSelectStand(),t.selected=!0):this.$toast("最多可选择"+e+"个展位"):t.selected=!0,this.$emit("select-stands",this.stands.filter(function(t){return t.selected}))}},cancelSelectStand:function(){this.stands.forEach(function(t){t.selected=!1})}}}),h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stands-container"},[t.stands.length?i("div",{staticClass:"actions"},[t.selectable||t.canManage&&t.published?i("div",{staticClass:"stand-stat"},[i("span",[t._v(t._s(t.occupiedStandCount+t.selectedStandCount)+" / "+t._s(t.stands.length))])]):t._e(),t._v(" "),i("div",{staticClass:"stand-status-tip"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t.selectable?i("span",{staticClass:"selected"},[i("i"),t._v("已选择")]):t._e()]),t._v(" "),t.canManage?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addStand}},[t._v("新增展位")]):t._e(),t._v(" "),t.canManage&&t.published?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.reserveStand}},[t._v("预留展位")]):t._e()],1):t._e(),t._v(" "),i("ul",{staticClass:"stands"},t._l(t.stands,function(e,a){return i("transition",{key:"stand-"+a,attrs:{name:"el-zoom-in-top"}},[i("li",{staticClass:"stand",class:{selected:e.selected,occupied:e.occupied,applied:e.applied},on:{dblclick:function(i){return t.toEditStand(e)},click:function(i){return t.selectStand(e)}}},[e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"stand.name"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:e.name},on:{blur:function(i){return t.changeStand(e)},keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.changeStand(e)},input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}}):i("span",[t._v(t._s(e.name))]),t._v(" "),!t.canManage||e.applied||e.occupied?t._e():i("span",{staticClass:"delete",on:{click:function(i){return t.deleteStand(e,a)}}},[i("i",{staticClass:"el-icon-close"})])])])}),1),t._v(" "),t.canManage&&!t.stands.length?i("div",{staticClass:"empty-stands"},[i("span",[t._v("未设置任何展位 "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addStand}},[t._v("新增展位")])],1)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"empty"},[e("i"),this._v("可用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"occupied"},[e("i"),this._v("已占用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"applied"},[e("i"),this._v("已有人申请")])}]};var v=i("C7Lr")(f,h,!1,function(t){i("YhCt")},"data-v-4b327214",null);e.a=v.exports},jCtM:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"c",function(){return l}),i.d(e,"e",function(){return c}),i.d(e,"f",function(){return u}),i.d(e,"g",function(){return d}),i.d(e,"a",function(){return p});var a=i("rVsN"),s=i.n(a),n=i("C331"),o=function(){return new s.a(function(t,e){Object(n.e)({url:"/api/employment/user/getLoginType",type:"get",success:function(e){e.state&&t(e.data)},error:function(t){e(t)}})})},r=function(t){var e=void 0;return e=t?"/api/employment/company/getCompanyById?id="+t:"/api/employment/company/getCompanyById",new s.a(function(t,i){Object(n.e)({url:e,type:"get",success:function(e){e.state&&t(e.data)},error:function(t){i(t)}})})},l=function(t){return new s.a(function(e,i){Object(n.e)({url:"/api/employment/preachMeeting/getPreachMeetingInfo?id="+t,type:"get",success:function(t){t.state&&e(t.data)},error:function(t){i(t)}})})},c=function(t){return new s.a(function(e,i){Object(n.e)({url:"/api/employment/preachMeeting/recall?id="+t,type:"put",success:function(t){t.state&&e(t)},error:function(t){i(t)}})})},u=function(t,e){return new s.a(function(i,a){Object(n.e)({url:"/api/employment/manage/preachMeeting/setTop?id="+t+"&isTop="+e,type:"put",success:function(t){t.state&&i(t)},error:function(t){a(t)}})})},d=function(t,e){return new s.a(function(i,a){Object(n.e)({url:"/api/employment/manage/preachMeeting/undercarriage?id="+t+"&isUnder="+e,type:"put",success:function(t){t.state&&i(t)},error:function(t){a(t)}})})},p=function(t,e,i){return new s.a(function(a,s){Object(n.e)({url:"/api/employment/manage/preachMeeting/setAssistant",type:"put",data:{id:t,assistantName:e,assistantPhone:i},success:function(t){t.state&&a(t)},error:function(t){s(t)}})})}},jlQl:function(t,e){},k9rz:function(t,e){!function(e){"use strict";var i,a=Object.prototype,s=a.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var d="suspendedStart",p="suspendedYield",m="executing",_="completed",f={},h={};h[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(I([])));g&&g!==a&&s.call(g,o)&&(h=g);var y=T.prototype=w.prototype=Object.create(h);S.prototype=y.constructor=T,T.constructor=S,T[l]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(y),t},u.awrap=function(t){return{__await:t}},k(E.prototype),E.prototype[r]=function(){return this},u.AsyncIterator=E,u.async=function(t,e,i,a){var s=new E(b(t,e,i,a));return u.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},k(y),y[l]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},u.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,s){return r.type="throw",r.arg=t,e.next=a,s&&(e.method="next",e.arg=i),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&s.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var s=a.arg;A(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:I(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=i),f}}}function b(t,e,i,a){var s=e&&e.prototype instanceof w?e:w,n=Object.create(s.prototype),o=new O(a||[]);return n._invoke=function(t,e,i){var a=d;return function(s,n){if(a===m)throw new Error("Generator is already running");if(a===_){if("throw"===s)throw n;return M()}for(i.method=s,i.arg=n;;){var o=i.delegate;if(o){var r=D(o,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===d)throw a=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=m;var l=C(t,e,i);if("normal"===l.type){if(a=i.done?_:p,l.arg===f)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=_,i.method="throw",i.arg=l.arg)}}}(t,i,o),n}function C(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function w(){}function S(){}function T(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(i,a){function n(){return new Promise(function(e,n){!function e(i,a,n,o){var r=C(t[i],t,a);if("throw"!==r.type){var l=r.arg,c=l.value;return c&&"object"==typeof c&&s.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):Promise.resolve(c).then(function(t){l.value=t,n(l)},o)}o(r.arg)}(i,a,e,n)})}return e=e?e.then(n,n):n()}}function D(t,e){var a=t.iterator[e.method];if(a===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,D(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var s=C(a,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,f;var n=s.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,f):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,n=function e(){for(;++a<t.length;)if(s.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=i,e.done=!0,e};return n.next=n}}return{next:M}}function M(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},lC5x:function(t,e,i){t.exports=i("XqSp")},lh7w:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("RL3Q");var a=i("hJ1Y"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",attrs:{id:"flowSetPage",tabindex:"1"}},[i("div",{staticClass:"head text-center"},[i("div",{staticClass:"pull-left back-div"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),i("div",{staticClass:"flow-title"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.curFlow.name,expression:"curFlow.name"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.flowNameTip,maxlength:"15"},domProps:{value:t.curFlow.name},on:{input:function(e){e.target.composing||t.$set(t.curFlow,"name",e.target.value)}}})]),t._v(" "),i("a",{attrs:{href:"javascript:;"}},[t.curFlow.formSettingId?i("span",[t._v(t._s(t.translate.relevanceTip2)+"："+t._s(t.curFlow.formSettingName))]):i("span",[t._v(t._s(t.translate.relevanceTip))])])]),t._v(" "),i("div",{staticClass:"pull-right opt-div"},[i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("button",{staticClass:"btn save",class:{hasChange:t.isChange},on:{click:t._saveFlow}},[t._v(t._s(t.translate.sure))])])]),t._v(" "),i("i",{staticClass:"maticon refresh",domProps:{innerHTML:t._s(t.icons("refresh"))},on:{click:t._refreshFlow}},[t._v("refresh")]),t._v(" "),i("v-flow",{ref:"flow",attrs:{height:"300px",data:t.initDataOfChart},on:{nodeSelected:t._nodeSelected,nodeLinked:t._nodeLinked,nodeCreated:t._nodeCreated,nodeRemoved:t._nodeRemoved,waitToCreate:t._nodeWaited}}),t._v(" "),i("div",{staticClass:"down-part"},[i("div",{staticClass:"info-container"},[i("div",{staticClass:"info-bar"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("info"))}},[t._v("info")])]),t._v(" "),t.curNode.id&&"process"===t.curNode.category&&t.curTargetNode&&"start"!==t.curTargetNode.id?i("GeminiScrollbar",{staticClass:"info-body",attrs:{scrollY:!1,autoshow:!1}},[i("div",{staticClass:"col-container"},[i("div",{staticClass:"col",class:t.isApplyNode?"col-216":"col-144"},[t.isApplyNode?i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.applicant))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{change:t._syncToFlow,input:function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)}}}),t._v(" "),"sc"!==t.type?i("label",{staticClass:"apply-once",class:t.curNode.attribute&&t.curNode.attribute.applyOnceLimit?"active":""},[t.curNode.attribute&&t.curNode.attribute.applyOnceLimit?i("i",{staticClass:"maticon active pull-left",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:function(e){return t._setApplyOnce(!1)}}},[t._v("check_box")]):i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:function(e){return t._setApplyOnce(!0)}}},[t._v("check_box_outline_blank")]),t._v("\n                "+t._s(t.translate.applyOnceLimit)+"\n              ")]):t._e()]):i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.nodeName))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{change:t._syncToFlow,input:function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)}}})])]),t._v(" "),t.isApplyNode?t._e():i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),i("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,"options-value":"id","options-label":"name"},on:{afterSelected:function(e){return t._afterSelectedDis(e,t.curNode)}},model:{value:t.curNode.distributary,callback:function(e){t.$set(t.curNode,"distributary",e)},expression:"curNode.distributary"}})],1)]),t._v(" "),i("div",{staticClass:"col",class:!t.isApplyNode&&["byTeacher","byOrganization","byTutor"].indexOf(t.curNode.distributary)<0&&""!=t.curNode.distributary?"col-268":"col-0"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.roleSet)),"byClass"===t.curNode.distributary||t.roleEditing||"byBuilding"===t.curNode.distributary||"byParty"===t.curNode.distributary?t._e():i("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:t._showRoleEdit}},[t._v(t._s(t.translate.createNewRole))])]),t._v(" "),t.roleEditing?i("div",{staticClass:"input-group new-role"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){return t._newRowInputFocus("default")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("span",{staticClass:"input-group-addon sure",on:{click:function(e){return t._saveNewRole(t.newRoleName,t.curNode)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),!0===t.roleEditing?i("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),i("div",{staticClass:"role-list"},[t.roleList[t.curNode.distributary]&&t.roleList[t.curNode.distributary].length>0?i("div",{staticClass:"role-list-item"},[i("span",{staticClass:"all-check",on:{click:function(e){return t._changeCheckState(t.roleList[t.curNode.distributary],t.roleCheckAllCount,"operators")}}},[0===t.roleCheckAllCount?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.roleCheckAllCount===t.roleList[t.curNode.distributary].length?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[t.curNode.distributary],function(e,a){return i("div",{key:a,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkOperators(e)}}},[t.curNode.operators.indexOf(parseInt(e.id))>=0?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curNode.operators.indexOf(parseInt(e.id))>=0?"active":"",attrs:{title:e.name}},[t._v(t._s(e.name))])])})],2)])]),t._v(" "),"sc"!==t.type?i("div",{staticClass:"col col-550"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.readWritePermission))]),t._v(" "),i("div",{staticClass:"batch-head",style:t.componentsCheckAllCount>0?"opacity:1;":"opacity:0;z-index:-1;"},[i("span",[t._v(t._s(t.translate.alreadyChecked)+t._s(t.componentsCheckAllCount)+t._s(t.translate.setInto))]),t._v(" "),i("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name"},model:{value:t.batchCheck,callback:function(e){t.batchCheck=e},expression:"batchCheck"}}),t._v(" "),i("a",{staticClass:"sure",attrs:{href:"javascript:;"},on:{click:t._batchSure}},[t._v(t._s(t.translate.sure))])],1),t._v(" "),i("div",{staticClass:"role-list",staticStyle:{position:"absolute"}},[i("div",{staticClass:"role-list-item box_flex box_between"},[i("span",{staticClass:"all-check",staticStyle:{"padding-left":"15px"},on:{click:function(e){return t._changeCheckState(t.components,t.componentsCheckAllCount,"dataAuthorities")}}},[0===t.componentsCheckAllCount?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.componentsCheckAllCount===t.components.length?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("div",{staticClass:"input-group half box_flex align_center"},[i("span",{staticClass:"input-group-addon",staticStyle:{width:"17px"},on:{click:function(e){return t._changeExportAll(t.curNode)}}},[0===t.curNode.exportNum?i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.curNode.exportNum===t.curNode.dataAuthorities.length?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"form-control"},[t._v("全部允许导出")])])]),t._v(" "),t._l(t.components,function(e,a){return i("div",{key:a,staticClass:"role-list-item components-check hover"},[i("div",{staticClass:"col-xs-4"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(t){e.checked=!e.checked}}},[e.checked?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.checked?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])])]),t._v(" "),0===t.componentsCheckAllCount?i("div",{staticClass:"col-xs-8"},[t._l(t.operatorData,function(a,s){return a.coms.indexOf(e.componentType)>=0?i("span",{key:s,staticClass:"operator",class:t._getAuthorityOf(e,t.curNode)===a.id?"active":"",on:{click:function(i){return t._setAuthorityOf(e,a.id,t.curNode)}}},[t._v(t._s(a.name))]):i("span",{staticClass:"operator disabled"},[t._v(t._s(a.name))])}),t._v(" "),i("span",{staticClass:"operator",class:t.curNode.dataAuthorities[a].exportable?"active":"",on:{click:function(e){return t._setCanExport(t.curNode,a)}}},[t._v("允许导出")])],2):t._e()])})],2)])]):t._e(),t._v(" "),t.isApplyNode?t._e():i("div",{staticClass:"col col-268"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.operatingPermission))]),t._v(" "),i("div",{staticClass:"role-list"},t._l(t.permissionData,function(e,a){return i("div",{key:a,staticClass:"role-list-item"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._permissionClick(e)}}},[t.curNode.operations[e.id].usable?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curNode.operations[e.id].usable?"active":"",attrs:{title:e.title}},[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"per-attr-div",class:t.curNode.operations[e.id].usable&&e.data?"active":""},t._l(e.data,function(a,s){return i("div",{key:s,staticClass:"per-attr"},[i("label",[t._v(t._s(a.name))]),t._v(" "),i("div",{staticClass:"per-attr-options"},t._l(a.options,function(s,n){return i("div",{key:n,staticClass:"input-group",on:{click:function(i){return t._attrOptionClick(e,a,s)}}},[i("span",{staticClass:"input-group-addon",class:t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[a.id]===s.id?"active":""},[t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[a.id]===s.id?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[a.id]===s.id?"active":""},[t._v(t._s(s.name))])])}),0)])}),0)])}),0)])]),t._v(" "),"sc"===t.type||t.isApplyNode?t._e():i("div",{staticClass:"col col-167",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"}},[i("div",{staticClass:"form-group"},[i("label",[t._v("列表默认显示的控件")]),t._v(" "),i("div",{staticClass:"role-list",staticStyle:{position:"absolute"}},t._l(t.components,function(e,a){return i("div",{key:a,staticClass:"role-list-item components-check hover"},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){e.checkedXian=!e.checkedXian,t._changeCheckStateXian(t.components,"defaultVisibleTableColumns")}}},[e.checkedXian?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.checkedXian?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])])])])}),0)])]),t._v(" "),t._l(t.curNode.copyUsers,function(e,a){return t.isApplyNode?t._e():i("div",{key:a,staticClass:"col col-copy-item"},[i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-remove",on:{click:function(e){return t.curNode.copyUsers.splice(a,1)}}},[t._v("移除自动抄送")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),i("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,"options-value":"id","options-label":"name"},on:{afterSelected:function(i){return t._afterSelectedDisOf(i,e)}},model:{value:e.distributary,callback:function(i){t.$set(e,"distributary",i)},expression:"copyUser.distributary"}})],1)]),t._v(" "),i("div",{staticClass:"col",class:!t.isApplyNode&&["byTeacher","byOrganization","byTutor"].indexOf(e.distributary)<0&&""!==e.distributary?"col-340":"col-0"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.roleSet)),"byClass"!==e.distributary&&!1===t.roleEditing?i("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:function(e){return t._showRoleEdit(a)}}},[t._v(t._s(t.translate.createNewRole))]):t._e()]),t._v(" "),t.roleEditing===a?i("div",{staticClass:"input-group new-role"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){return t._newRowInputFocus("copy")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("span",{staticClass:"input-group-addon sure",on:{click:function(i){return t._saveNewRole(t.newRoleName,e)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),t.roleEditing>=0?i("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),i("div",{staticClass:"role-list"},[t.roleList[e.distributary]&&t.roleList[e.distributary].length>0?i("div",{staticClass:"role-list-item"},[i("span",{staticClass:"all-check",on:{click:function(i){return t._changeRoleIds(t.roleList[e.distributary],e)}}},[0===e.roleIds.length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):e.roleIds.length===t.roleList[e.distributary].length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[e.distributary],function(a,s){return i("div",{key:s,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkCopyRoleIds(a,e)}}},[e.roleIds.indexOf(parseInt(a.id))>=0?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.roleIds.indexOf(parseInt(a.id))>=0?"active":"",attrs:{title:a.name}},[t._v(t._s(a.name))])])})],2)])])])}),t._v(" "),t.isApplyNode?t._e():i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-add",on:{click:t._addNewCopyUser}},[t._v("添加自动抄送")])])]),t._v(" "),t._l(t.curNode.proxyUsers,function(e,a){return t.isApplyNode&&"sc"!==t.type?i("div",{staticClass:"col col-copy-item"},[i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-remove",on:{click:function(e){return t.curNode.proxyUsers.splice(a,1)}}},[t._v("移除代理")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),i("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,required:"true","options-value":"id","options-label":"name"},on:{afterSelected:function(i){return t._afterSelectedDisOf(i,e)}},model:{value:e.distributary,callback:function(i){t.$set(e,"distributary",i)},expression:"proxyUser.distributary"}})],1)]),t._v(" "),i("div",{staticClass:"col",class:["byTeacher","byClass","byTutor"].indexOf(e.distributary)<0&&""!=e.distributary?"col-340":"col-0"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.roleSet)),"byClass"!==e.distributary&&!1===t.roleEditing?i("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:function(e){return t._showRoleEdit(a)}}},[t._v(t._s(t.translate.createNewRole))]):t._e()]),t._v(" "),t.roleEditing===a?i("div",{staticClass:"input-group new-role"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){return t._newRowInputFocus("proxy")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("span",{staticClass:"input-group-addon sure",on:{click:function(i){return t._saveNewRole(t.newRoleName,e)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),t.roleEditing>=0?i("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),i("div",{staticClass:"role-list"},[t.roleList[e.distributary]&&t.roleList[e.distributary].length>0?i("div",{staticClass:"role-list-item"},[i("span",{staticClass:"all-check",on:{click:function(i){return t._changeRoleIds(t.roleList[e.distributary],e)}}},[0===e.roleIds.length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):e.roleIds.length===t.roleList[e.distributary].length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[e.distributary],function(a,s){return i("div",{key:s,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkCopyRoleIds(a,e)}}},[e.roleIds.indexOf(parseInt(a.id))>=0?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.roleIds.indexOf(parseInt(a.id))>=0?"active":"",attrs:{title:a.name}},[t._v(t._s(a.name))])])})],2)])])]):t._e()}),t._v(" "),t.isApplyNode&&"sc"!==t.type?i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-add",on:{click:t._addNewProxyUser}},[t._v("添加代理")])])]):t._e()],2)]):t.curNode.id&&"condition"===t.curNode.category?i("GeminiScrollbar",{staticClass:"info-body",attrs:{scrollY:!1,autoshow:!1}},[i("div",{staticClass:"col-container"},[i("div",{staticClass:"col col-144"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.conditionName))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{change:t._syncToFlow,input:function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"col col-216"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.conditionField))]),t._v(" "),i("div",{staticClass:"role-list"},t._l(t.components,function(e,a){return t.attributesShow[e.componentType]?i("div",{key:a,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkComponent(e)}}},[t.curComponent.name===e.name?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curComponent.name===e.name?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])]):t._e()}),0)])]),t._v(" "),t.curComponent&&t.curComponent.name?i("div",{staticClass:"col col-550"},[i("ul",{staticClass:"list-group links-list"},[t._l(t.curNode.links,function(e,a){return e.condition&&"other"!==e.condition.operator?i("li",{key:a,staticClass:"list-group-item"},[""===e.nextNodeId?i("i",{staticClass:"maticon remove-link",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._removeLink(e,a)}}},[t._v("cancel")]):t._e(),t._v(" "),i("div",{staticClass:"link-div container-fluid"},[i("div",{staticClass:"link-part col-sm-2 con"},[i("v-select",{staticClass:"info-value disabled",staticStyle:{width:"auto"},attrs:{options:t.attributesShow[t.curComponent.componentType]?t.attributesShow[t.curComponent.componentType].conditions:[],autoSelect:!1,"options-value":"id","options-label":"name","data-index":a,"close-on-select":""},on:{afterSelected:function(i){return t._afterSelectedCondition(i,e)}},model:{value:e.condition.operator,callback:function(i){t.$set(e.condition,"operator",i)},expression:"link.condition.operator"}})],1),t._v(" "),e.condition.operator&&e.condition.data?i("div",{staticClass:"link-part col-sm-5"},["select"===t.curComponent.componentType||"radio"===t.curComponent.componentType?i("v-select",{staticClass:"info-value disabled",attrs:{options:t._optionsFixed(t.curComponent.properties.basic.options),"options-value":"id","options-label":"name","data-index":a,"close-on-select":""},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value,callback:function(i){t.$set(e.condition.data,"value",i)},expression:"link.condition.data.value"}}):"checkbox"===t.curComponent.componentType?i("v-select",{staticClass:"info-value disabled",attrs:{options:t._optionsFixed(t.curComponent.properties.basic.options),"options-value":"id","options-label":"name","data-index":a,multiple:""},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value,callback:function(i){t.$set(e.condition.data,"value",i)},expression:"link.condition.data.value"}}):"datetime"===t.curComponent.componentType?i("v-datepicker",{staticClass:"info-value disabled btn-block",attrs:{showTime:!1,width:"100%","data-index":a},on:{daySelected:t._daySelectedOfValue},model:{value:e.condition.data.value,callback:function(i){t.$set(e.condition.data,"value",i)},expression:"link.condition.data.value"}}):"address"===t.curComponent.componentType&&e.condition.data.value?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[i("v-select",{staticClass:"info-value disabled",attrs:{options:t.provinceList,autoSelect:!1,"options-value":"name","options-label":"name","data-index":a,"data-addType":"province"},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value.province,callback:function(i){t.$set(e.condition.data.value,"province",i)},expression:"link.condition.data.value.province"}})],1),t._v(" "),e.condition.data.value.province?i("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[i("v-select",{staticClass:"info-value disabled",attrs:{options:t._getCityList(e.condition.data.value.province),autoSelect:!1,"options-value":"name","options-label":"name","data-index":a,"data-addType":"city"},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value.city,callback:function(i){t.$set(e.condition.data.value,"city",i)},expression:"link.condition.data.value.city"}})],1):t._e(),t._v(" "),e.condition.data.value.city?i("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[i("v-select",{staticClass:"info-value disabled",attrs:{options:t._getAreaList(e.condition.data.value.city,e.condition.data.value.province),autoSelect:!1,"options-value":"name","options-label":"name","data-index":a,"data-addType":"area"},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value.area,callback:function(i){t.$set(e.condition.data.value,"area",i)},expression:"link.condition.data.value.area"}})],1):t._e()]):"number"===t.curComponent.componentType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.data.value,expression:"link.condition.data.value"}],staticClass:"form-control info-value",staticStyle:{"margin-left":"10px"},attrs:{type:"number",placeholder:"请输入数字"},domProps:{value:e.condition.data.value},on:{input:function(i){i.target.composing||t.$set(e.condition.data,"value",i.target.value)}}}):"input"===t.curComponent.componentType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.data.value,expression:"link.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:"请输入文字"},domProps:{value:e.condition.data.value},on:{input:function(i){i.target.composing||t.$set(e.condition.data,"value",i.target.value)}}}):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"link-part col-sm-5"},[i("i",{staticClass:"maticon pull-right line-toggle",class:e.nextNodeId?"left-side":"",domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{click:function(i){return t._createBranch(e)}}},[t._v("trending_flat")]),t._v(" "),e.nextNodeId?i("div",{staticClass:"con-node text-center pull-right"},[t._v("\n                      "+t._s(t._getNodeById(e.nextNodeId).name)+"\n                    ")]):t._e()])])]):t._e()}),t._v(" "),i("div",{staticClass:"create-branch-div"},[i("a",{attrs:{href:"javascript:;"},on:{click:t._addNewCondition}},[t._v(t._s(t.translate.createBranch))])]),t._v(" "),i("li",{staticClass:"list-group-item"},[i("div",{staticClass:"link-div container-fluid"},[i("div",{staticClass:"link-part col-sm-3"},[t._v("\n                    "+t._s(t.translate.other)+"\n                  ")]),t._v(" "),i("div",{staticClass:"link-part col-sm-4"}),t._v(" "),i("div",{staticClass:"link-part col-sm-5"},[i("i",{staticClass:"maticon pull-right line-toggle",class:t.otherLink.nextNodeId?"left-side":"",domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{click:function(e){return t._addNewCondition("other")}}},[t._v("trending_flat")]),t._v(" "),t.otherLink.nextNodeId?i("div",{staticClass:"con-node text-center pull-right"},[t._v("\n                      "+t._s(t._getNodeById(t.otherLink.nextNodeId).name)+"\n                    ")]):t._e()])])])],2)]):t._e()])]):t._e()],1)])],1)},staticRenderFns:[]};var n=function(t){i("ZtSE")},o=i("C7Lr")(a.a,s,!1,n,null,null);e.default=o.exports},lxAt:function(t,e,i){"use strict";(function(t){i("xd7I");var a=i("C331");e.a={inject:{windowObj:{default:null}},props:{data:{default:null},isApply:{default:null},formDetail:{default:null},userInfo:{default:null},formType:{default:null}},data:function(){return{curRouter:"jobDetail",computerSkillsData:[],computerSkillsArr:["PPT","Word","Excel","Photoshop","Access","视频制作","网站制作"],writeSkillArr:["新闻写作","调研报告","应用文写作","文字编辑"],computerOther:{checked:!1,title:""},writingAbilityData:[],writingOther:{checked:!1,title:""},addedFileArr:[],deleteFileArr:[],supportPreview:["doc","docx","wps","pdf","ppt","pptx","xls","xlsx","png","jpg","jpeg","bmp","txt"],applyListData:{position:{id:""},applyName:"",contact:"",applyTime:"",workStartTime:"",workEndTime:"",isDifficultyStudent:"",difficultyLevel:"",validWorkTime:"",computerSkill:[],writeSkill:[],remark:"",attachment:[]},isTodifficultStudentData:[],difficultyLevelData:[],fileData:[],formStatus:"",logShow:!1,isShowLog:!1,scrollHeight:null,logData:{},actionTypeData:{AGREE:"同意",DISAGREE:"不同意",REJECT:"驳回",REVOKE:"撤回",RESUBMIT:"重新提交",CANCEL:"取消申请"},isLogRecord:!1,showUnpassOpinionModal:!1,opinion:""}},created:function(){var t=this;if(Object(a.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"困难等级"},success:function(e){e.state?t.difficultyLevelData=e.data:t.$toast(e.message)}}),Object(a.e)({url:"/api/pwps/users/info",dataType:"json",type:"get",success:function(e){e.state&&(t.applyListData.isDifficultyStudent=e.data.isDifficultyStudent?"true":"false",t.applyListData.difficultyLevel=e.data.isDifficultyStudent?e.data.difficultyLevel:"")}}),this.isTodifficultStudentData=[{id:"true",text:"是"},{id:"false",text:"否"}],"application"!==this.formType)this.initData();else{var e=new Date,i=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var n=e.getDate();n=n<10?"0"+n:n,this.applyListData.applyTime=i+"-"+s+"-"+n,this.applyListData.position.id=this.formDetail.id,this.applyListData.applyName=this.userInfo.userName}this.computerSkillsData=[{id:"PPT",checked:!1,title:"PPT"},{id:"Word",checked:!1,title:"Word"},{id:"Excel",checked:!1,title:"Excel"},{id:"Photoshop",checked:!1,title:"Photoshop"},{id:"Access",checked:!1,title:"Access"},{id:"视频制作",checked:!1,title:"视频制作"},{id:"网站制作",checked:!1,title:"网站制作"}],this.writingAbilityData=[{id:"新闻写作",checked:!1,title:"新闻写作"},{id:"调研报告",checked:!1,title:"调研报告"},{id:"应用文写作",checked:!1,title:"应用文写作"},{id:"文字编辑",checked:!1,title:"文字编辑"}]},mounted:function(){var e=this;setTimeout(function(){var i=t("#jobApplyForm").height();e.scrollHeight=i-t(".jobApplyForm-header").height()},100)},methods:{initData:function(){var t=this;if(this.formDetail){for(var e in this.formDetail.status&&(this.formStatus=this.formDetail.status),this.isShowLog=this.formDetail.isShowLog,this.applyListData={applyName:this.formDetail.form.name,contact:this.formDetail.form.contact,applyTime:this.formDetail.createTime.split(" ")[0],idCarcNo:this.formDetail.form.idCardNo,workStartTime:this.formDetail.form.workStartTime,workEndTime:this.formDetail.form.workEndTime,isDifficultyStudent:this.formDetail.form.isDifficultyStudent,difficultyLevel:this.formDetail.form.difficultyLevel,validWorkTime:this.formDetail.form.validWorkTime,computerSkill:this.formDetail.form.computerSkill,writeSkill:this.formDetail.form.writeSkill,remark:this.formDetail.form.remark,attachment:this.formDetail.form.attachment||[]},null===this.applyListData.isDifficultyStudent?this.applyListData.isDifficultyStudent="":this.applyListData.isDifficultyStudent=this.applyListData.isDifficultyStudent?"true":"false",this.applyListData.computerSkill)this.applyListData.computerSkill[e]&&this.computerSkillsArr.indexOf(this.applyListData.computerSkill[e])<0&&(this.computerOther={checked:!0,title:this.applyListData.computerSkill[e]});for(var e in this.applyListData.writeSkill)this.applyListData.writeSkill[e]&&this.writeSkillArr.indexOf(this.applyListData.writeSkill[e])<0&&(this.writingOther={checked:!0,title:this.applyListData.writeSkill[e]});if("unitJobView"===this.formType)Object(a.e)({url:"/api/pwps/workflow/runtime/position/"+this.formDetail.formId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.$toast(e.message)}});else{if("schoolJobView"===this.formType)return;Object(a.e)({url:"/api/pwps/workflow/runtime/instances/"+this.formDetail.formId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.$toast(e.message)}})}}},isPhoneNo:function(){if(!/^1[3456789]\d{9}$/.test(this.applyListData.contact))return this.$toast("联系方式格式不对"),void(this.applyListData.contact="")},_back:function(){this.$emit("back")},changeComputer:function(t,e){if(e){t.checked=!t.checked;var i=this.applyListData.computerSkill.indexOf(t.title);i>=0?this.applyListData.computerSkill.splice(i,1):t.title&&this.applyListData.computerSkill.push(t.title)}},changeWriting:function(t,e){if(e){t.checked=!t.checked;var i=this.applyListData.writeSkill.indexOf(t.title);i>=0?this.applyListData.writeSkill.splice(i,1):t.title&&this.applyListData.writeSkill.push(t.title)}},_fileUpload:function(){var t=this;this.$waiting.show({text:"附件上传中..."});var e=new FormData;e.append("file",event.target.files[0]),e.append("fieldName",event.target.files[0].name),Object(a.e)({url:this.uploadFile,type:"post",data:e,contentType:!1,processData:!1,success:function(e){"88888"===e.code?(t.applyListData.attachment.push({hash:e.data.hash,originalName:e.data.originalName,size:e.data.size}),t.addedFileArr.push(e.data.hash),t.$toast("附件上传成功")):t.$toast(e.message)}}).always(function(){t.$waiting.close()})},_downloadFile:function(t){var e=t.target.getAttribute("data-href"),i=document.createElement("iframe");i.src=e,i.style.display="none",document.body.appendChild(i)},_removeFile:function(t){confirm("确定删除该附件吗？")&&(this.deleteFileArr.push(this.applyListData.attachment[t].hash),this.applyListData.attachment.splice(t,1))},_showAttachmentPreview:function(t,e){var i=this.fileUrlPrefix+t.hash;this.$preview({name:t.originalName,url:i,type:"image"===e?"png":t.originalName.match(/([^.]+)$/)[1]})},sumbit:function(){return""===this.applyListData.isDifficultyStudent?this.$toast("请选择是否困难生"):"true"!==this.applyListData.isDifficultyStudent||""!==this.applyListData.difficultyLevel&&this.applyListData.difficultyLevel?!this.formDetail.isToDifficultyStudent||"false"!==this.applyListData.isDifficultyStudent&&this.applyListData.isDifficultyStudent?(this.applyListData.computerSkill.indexOf(this.computerOther.title)<0&&this.applyListData.computerSkill.push(this.computerOther.title),this.applyListData.writeSkill.indexOf(this.writingOther.title)<0&&this.applyListData.writeSkill.push(this.writingOther.title),void this.$emit("submit",{applicationsData:this.applyListData})):this.$toast("你不是困难生，不能申请该岗位"):this.$toast("请选择困难认定级别")},_pass:function(){this.$emit("pass")},_unpass:function(){this.opinion="",this.showUnpassOpinionModal=!0},submitUnpassOpinion:function(){if(!this.opinion)return this.$toast("请输入不通过的意见");this.$emit("unpass",{opinion:this.opinion})},_revoke:function(){this.$emit("revoke")},_resubimt:function(){return""===this.applyListData.isDifficultyStudent?this.$toast("请选择是否困难生"):"true"!==this.applyListData.isDifficultyStudent||""!==this.applyListData.difficultyLevel&&this.applyListData.difficultyLevel?!this.formDetail.isToDifficultyStudent||"false"!==this.applyListData.isDifficultyStudent&&this.applyListData.isDifficultyStudent?(this.applyListData.computerSkill.indexOf(this.computerOther.title)<0&&this.applyListData.computerSkill.push(this.computerOther.title),this.applyListData.writeSkill.indexOf(this.writingOther.title)<0&&this.applyListData.writeSkill.push(this.writingOther.title),void this.$emit("resubimt",this.applyListData)):this.$toast("你不是困难生，不能申请该岗位"):this.$toast("请选择困难认定级别")},_cancelApplication:function(){this.$emit("cancelApplication")},difficultStudentSelected:function(t){this.applyListData.isDifficultyStudent=t.value,"false"===t.value&&(this.applyListData.difficultyLevel="")},levelSelected:function(t){this.applyListData.difficultyLevel=t.value}},watch:{windowObj:{deep:!0,handler:function(){var e=t("#jobApplyForm").height().toFixed(1);this.scrollHeight=e-t(".jobApplyForm-header").height().toFixed(1)}}}}}).call(e,i("qqHy"))},"m/pr":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAAByCAYAAABgH+5DAAAAAXNSR0IArs4c6QAAEOBJREFUeAHtXQl0VNUZ/t99s2dnsoIEJJFISJQkBIGEFCjWgC0ugEeqtpYesLWxVXs83WyttZtaWxWtldLqsVq1VCvoQSTWgCUgBAgEJBLCEhKYhEz2zP6W3jsYyGT25W1x5pxk3rv3f////f/37n13fUPBmM+6F3n1KQAD4oa1NoRozgnUGJH4qUQRQBrg9RzHcijRMQ3AuuEeyjUayiWieJ6nFj3dn+JSaQyjBeLH8o2AmnFa6+5PHaAoiico3WS6idwwZHQ5aY18oceR+YqAWsM669Yl9RBCERFwl8g4kb5iJfs0UgAJfwQoRZ6RnzqtGbJHHQcYMAIzNYZuRBo7AaXimYqIgLvRSlqtikAbBxkwAoRHRLofAaXimYqIAOERxfuRiuAqKEjCo7s1G1QyLqCICMTJVARNoYGMkxlanBQhFSdTETSFBjJOZmhxUoRUnExF0BQayDiZocVJEVJxMhVBU2gg42SGFidFSMXJVARNoYGMkxlanBQhpVIEyjBAci4bNevgmjLDcMsSlWt4HvCuaeacVcs/m/X46TDUKFJ03JBZeHBtcUrPvhUqZmg58FzWCBssrf/wi0Ak8VeWZKqtfaiwaU2F3nK2gmashRTHXEEBN4GnODXFIRYvdunnQdXFq3StHKXpVrn6l1Gca8YIgaO/eaRpG30+no9lSaZDreP11vPXaBw938XLzi5hvLgGjQWKAyMFbB44HfODTcbSrHVuxfZr/kRI5IHHyxSRBSjNAIc0vYwm9bxNl3POnHfbqe7Ur9iUTjRVsd4yUa5OlO1adkPC0LGNPA+CNtQoXOw5ij7DIn0zp05qGEgr3vXZrA3Nco2LP1yX7np/AlKlFzauLdTYO6/jgXLgMqUXEge5WSienabihqcBM3xjhs0E6aY8M6cyfGBNnbnpUPkbDULaj5Vu2ZXM8vql1brB1h/iVmhhrJyMVg+HVG2MNv2V49f86eV+4zx7tPqEul42ZBYd+n5+yoXtjyHGXiWUs1Hrpehupy7z+aMl61+xpM7GNYa8PrIgkzwbDUPNzwMvbHUaq9DziG7tzVxcc6z0r0dipTMWegRtWIQC8Lq6eWtJI0cpRBKfKI7NN3bWvjv3w7n3kUGKUPwUQ0ZSMmfvWLhSYzP9UujWqkCBVKudnT+urJvzjFwIlYzMa/aunq23tj0hUKBFU0szQyvkQqgkZKb27NEl9zasx12OcbGanhBasWPu70W7g/wYkoTMqw/fV0PxTK4fTIpMVrkG7izbfeP1UoIXncy8lqey1Paee6V0WijbhoHmxzPb/+neXieUjUB6RSczveO1u8dL9eoVWDxbk9f8u4e90kVKEJXMhP79Wq2j/06RfJPEjIoZXpF96qU0KYyLSmbhp498iee5CVI4Kp5NXjulbcNK8exdtiQqmWpLe/Vl0+P3SO24IEntIyqZNGNZMn4pvOwZGSEqaPxuweUUcY5EI3N600NTAVijOG5JbyVx+ITosz6ikZk00FgifYjFQ6B29I5fMtWu/jzxQim9JZqz+1yTJCQy0UomYhzZQjoiN90U67xKbEyikYkXYCmCzMTEZNBooh8yxsuK1OOXTM4lezKzJ14B9/7oUVj97RpAKOr7nBu3ZCKevbQwWWwng9kjs8tzKhfD9370K0gzZsDVxSVw8+3fiup1nniO1v1ywmC2Y5kv4uo8PjGWwGOlKzN7Ity8eg1cedXVHirLKxcBx3Ow+fWXImOFiuwyDxBhnohJpoi2gkchPTMLFi+9BWaVz8cv0PFdpV634MugVqvh7Vc3AsuFV2vyFGKCo4ithGgBxnWO6NXO2FCpVWoovLYMyuZVQf6MYsCv9Rwr4nVeOrcKklPS4J8b14PNZvXK959Ad/nPEyZHNDKBR3hpImeI1g2ECcDvxw16ZxC5hKRkSM/Mhqn5BRf/phWARqcLGwIh/r6f/gYT+ix0tJ0O6Xq8x6U9JMEYColHJkVZMANeZJJuQPbEyZCZMwlS0tIgJdWIv42gNySAzqAHnd4AWo0OaBUNiFZ5lCZCKssywLoYcLkc4HDYweV0QgLuXiRiIv1Vn5HEjzSM7n3oUdi9YzvUvvtvt61AejhadyZQvhB5opFJqzQW1mVzv9d20uSpUF65EDc6ZkBGZk7EQSfVpApXneRPq9eD0C0scnNULK6G4tI5sO2dN6HpwCf4ZmJ98rKkeumUG0uPz/j53gLR9qwIvgj6wdLTk6ozTY+9/vxvbrBahuGrq+50k+gzAgpLHOzvgz07ajGpe6C3p9sD/U9+ux6SU9PAztF1O00ZjzzWmH/SQ0CAE0HJ/MuCpsqZqUMvUDw/4cjBvVA0qzziUiiA7zFVae4yQfvpVugxX8B7fTm4fvmqS/rx02DoxFDCfWs+Lqm9lCjAgWBk/ra8uagqu3czbq2E3+IQwFHpVVKuhu7UFQ/snXlAKCyCPDMnpjhUFVm9L0ZL5NmzJti5az+0tJwBk8kMFqsdGNzgScANo+TkRJiePwUq5pdAySzPDn8kwWo89BnU726EltY2GBwcxrZsoMINrgSDDnJy0mH69KnwpcrZkJubE4l6fA2vLsvof+GqdGflCbPGGaGSgJcJUjJfW3T4likJQ88FtBwk841/vQ+b3tp+qQuSmZEGGRkT8BAbBQM42OfPX7jUkb9hyXy4Z+3lai2Iaq/sFzdugg9qd7vTSc8zJycDJqRdXDFpNvdB14UeNw6St2rFV+D225Z66Qg14axF/8DX68r+Fap8OHKClMwsvfXmcED4km3DpXLuddfCtcXToay0EIzGVA8xJ+6CHD7cAv/dsReajp7wyAv35HBTC5SXzYSFVeXuUq7Tec6a9A8MwoEDzdB4uBkIrmg+mXrX1/D1gpApSMn8+Kv1+xDwk6JxerxeywFlqnqvYrYQ/vkelIzSEh6jGefLKSMPEI6NZxUTuSqvKwUhE7+HYMjLUjzBHQH8+oQBoUIhyDPTzqIDBpqNvJXgx9vXcaPorS0f4oljClavWga3fG2xH8nIk4W2YWfQ/sjRBb5SkJLZbde/F9hs+LldkAvPb3wTOnHL8nynGZ5a/wpsq60PX1GAK97dugMmz14qqA2TTRvz2Iy4JAiZa/5Xspnh0WcjRmLx/dC6u7zUvPn2B15p0SRseqcWfvyduz1UxNIGw6Fj6+pLlUWmg+H5/5mNNfjZafGITBQn5/GgwdhPx7nOsUlRnQtpA0/m2nb1Gn9AYhMVyAAXC1IyiT0yW3CkL/mbHE95jkAHABMoa2J2ulf2xJxMr7RoEoSywVPQ19KfsPbhTwqORYMv2LWCkUkM31tfvOfvp3KXWFn0Nh648T1XFAzh5/m33vRlL8mVNy3xSosmIeY28A+U2jnV9tdOTl7y7V0lddFgC+VaOnfZz5JCEYxU5pA5xfqP1snvT0pwbslPHr4D6wn27kKfpq6efiVez6qC9o4uSEo0wDe/vhxW3BzbXedeNlZHbsPFo0M7uibcsWZnyd/2d6cO+3QqxomCjAD5w/jRst3vaBBX7i9/PKX3ODSP31Q751kxfRK0mh3ryDBL7xmbNl7PBxla8MnosbETlcwum+ELQ+apYUPr2GALfS4qmb8+WrAHrz7tFdopyfXjxt6rp/NCW8YXQ7CiktnWq3ENuTSbYohflqpcHPpUqAnoQA6LSiYBsv9C5muBAI2HPCujujjTLbIzopP5SOPUk1aWfl9kP0U1d9qSFNtxxhDRi04mwbWl/Ypf4KG+cNb6h+iO9GJ4TPpoza4Z+6RAIgmZzx2dfL7bofu9FA4LbfOsJcH9Sw1C2/GlXxIyCZBba8v+ZmVVW32BUmoansfd+Y0d126TCr9kZBKHnzxe8AALSPTOtRDB5gB1vnzyyhohdIeqU1Iya0+lDb/XkXkHy1HnQgUsSzmKsjX1p37n1ZYcSfvQkpJJiHnyUH77VlPWSrxqTZGEkoZcU2/yXTW7ChukvtEEWQMUrlOPN+afpRhq1Q25plfUFOSHez2RZ5sb8Y9DuQAZswCl4LlPvCXQ58dmAa6vGzhzF1B4VzQ9o9SnWCiJPE8NHuhJu+v+TwoFW9cTCo4RGVFnTUaM+vtekNtr+EVRy5N6xES0iJonJHV2ANffA+C0XzSDt/u5P4wLf+FJfq0BEN6dhbJzgUr1nvC+KBz8vwvoA9vOZdSQGzG4tDgSsiJzxOVNixvuzklwPoz3quhH0mTzjcddex3aZ9bUFz9ttuiimnCPtU+SPzN9ObTqo/KX3zidW4WHxf6Nt0oLtmbGl+1AaXiv5Yc7OycsXb69/Cm5EUlwy7Jkjg7oE/NOFJWlmR/WInbB6HQxjx08/fHh3qQnHtxT1Cim3XBtyZ7MEYceLTmTV5rVeVuKil2B97FEuq9uRF3Qb5an2gdZevOhvrR3xNzKHhRYAAHFkDnig1ZFUc/Nb1pwRYK1WofYEjXFzyB7H0fyI/7GfUUXi5rxqNT+4336dx/cV3QwYl0SXag4MsfGaUbKkHZtQdvMKSn2WWnIej9FcUby4gqyl5KiEP5zH2C+8etm8NMXvyP+8z2fVJ+FU/9nwKk50mpJaHr206kn5PgcHOtvoHPFkznaua1V21owd346mKMl3Z0Uy7KPq6d7pir7TBaDBpGEcBBUyUMMPZfhqfl4Z1UhLnRX4dEYXBBDb/yecRne4ineifBCbfxK0TMqxDcnANuQQjPey+cjASnyNYoicwiQdpDRVTuBvx14qhLHyqNr1efUnjJq7NNCiaGDU53EtM/FeuDiW/EQ3lYP4MDLevt4zXGa57YYKO4/RpWzLRR9cpDxCIYcAPnCMEjTunbGUNPD6A46efgzJqAKy3lh39KV2+Hrel9pW7sm+d3YhJ+tBQygh3Dpr8eld4OJ0+BGlvw/XgGRG+QO1rC6x66tZ3j4CQ5ywF3HT7QUzRliNE3BfLCz6gM/O1YWvN+K621cem/EWwxqz7KG39k1tPxGpEY5K1syexjNlDbGsNnFwR8w3uxRmP0e4sDrVjYsou2sym+3wsnR+2/dt6gfy4beV8Wk4ir4G51W7fYuMBT7BSBxhixbsyZOu9DO0n/BsYloHwxu0Zr/WNTw0fWZ5wrVFJdHuiR4Erx1T2/6/nVNlVX4BVrR/JLDsAHBHVm0VRYzJaPvH9mR2cEYbsHzG8/gRmlEG4w8nKPAhevJFsxlP06fFlZpHK3I+9iip+DObJVVkoVb3nAupsiqNdvu0q3Cr0/+I4YWk+ofl0g1JnCmP+ejSE+wAWwc4lQLkxAj6eqC0T7EJGijFUZ6bGK0ixgKPYWvlw2mgL7wYDSz6icDyoicKYvA9SP1JNy/ey4WVau48aOq21ndSnFt+rcmCzL7HOqXg3U7/LsgbQ5+6cSvLGo6pCFEoZFKTuZZVv80drJQaEcF1J9itmpfEFB/yKolJxPPG0a03idkD0UQxKOAwQcgRMAhOZn4ORn9XKQIgQpiQhMkX5Rs6ckUxc0vhhGENGHMGX0xYqJILwmPSM9xslouqMhIygA04RFxKNEhAyxxCFFGgPCIpgGMy02vUcZGcZcTHtGGeyiXmnHGCVUcfZcBE/4Ij+7WbN39qQNqDSvIzzNcNunniIJuPznKSZbQB8Ib4Y8Ey00mXgbF161L6pGihOJdX2QESNEfqXwgfBHeCH8kgGRVqcdn3Yu8+hTeEIe4Ya0NIZpzest4XBCDk/OcttLBom/h1a7Fn885um+yGKgWSgWHA2fCK3GPaGnupYnIsUsoQ6P1ku4HabWSxg55RpKqdXT+/wFtmpDnXCv24AAAAABJRU5ErkJggg=="},"p+qa":function(t,e,i){"use strict";i.d(e,"g",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"i",function(){return l}),i.d(e,"b",function(){return c}),i.d(e,"e",function(){return u}),i.d(e,"f",function(){return d}),i.d(e,"h",function(){return p}),i.d(e,"a",function(){return m}),i.d(e,"c",function(){return _});var a=i("rVsN"),s=i.n(a),n=i("C331"),o=function(){return new s.a(function(t,e){Object(n.e)({url:"/api/employment/user/getSchoolInfo",type:"get",success:function(e){t(e)},error:function(t){e(t)}})})},r=function(t){var e="/api/employment/system/findDictByTypeName?typeName="+t;return new s.a(function(t,i){Object(n.e)({url:e,type:"get",success:function(e){t(e)},error:function(t){i(t)}})})},l=function(){return new s.a(function(t,e){Object(n.e)({url:"api/employment/manage/recruitment/getAllCompany",type:"get",success:function(e){t(e)},error:function(t){e(t)}})})},c=function(t){var e="/api/employment/recruitment/deletePosition?recruitmentPositionId="+t;return new s.a(function(t,i){Object(n.e)({url:e,type:"delete",success:function(e){t(e)},error:function(t){i(t)}})})},u=function(){return new s.a(function(t,e){Object(n.e)({url:"/api/employment/user/getLoginType",type:"get",success:function(e){e.state&&t(e)},error:function(t){e(t)}})})},d=function(){return Object(n.c)({url:"/api/employment/company/information"})},p=function(t){return Object(n.c)({url:"/api/employment/manage/company/getCompanyDetail?id="+t})},m=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1];if(!i)return document.body.scrollTop=document.documentElement.scrollTop=e,e;var a=i/20,s=document.body.scrollTop+document.documentElement.scrollTop,n=(e-s)/a,o=setInterval(function(){a>0?(a--,t(s+=n)):clearInterval(o)},20)},_=function(){return Object(n.c)({url:"/api/colleges"})}},t7Ya:function(t,e,i){"use strict";i.d(e,"a",function(){return v}),i.d(e,"c",function(){return _}),i.d(e,"b",function(){return f}),i.d(e,"d",function(){return h});var a=i("HzJ8"),s=i.n(a),n=i("aA9S"),o=i.n(n),r=i("AA3o"),l=i.n(r),c=i("xSur"),u=i.n(c),d=i("/NeE"),p="yyyy-MM-dd HH:mm:ss",m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.name=null,this.address=null,this.startTime=null,this.endTime=null,this.startApplyTime=null,this.endApplyTime=null,this.desc=null,o()(this,e)}return u()(t,null,[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.name=e.name||null,i.address=e.areaName||null,i.startTime=e.beginTime?new Date(e.beginTime).format(p):null,i.endTime=e.endTime?new Date(e.endTime).format(p):null,i.startApplyTime=e.applyBeginTime?new Date(e.applyBeginTime).format(p):null,i.endApplyTime=e.applyEndTime?new Date(e.applyEndTime).format(p):null,i.desc=e.summary||"",i}}]),t}(),_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.stands=[],this.siteMap=null,this.canSelectMultiStands=!1,this.limitStandsSelected=2,this.chooseType=t.chooseTypes.MANAGER,o()(this,e)}return u()(t,null,[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.stands=(e.booths||[]).map(function(t){return f.fromApi(t)}),i.siteMap=e.areaUrl||null,i.canSelectMultiStands=!!e.isMany,i.limitStandsSelected=e.upperLimit||2,i.chooseType=0===parseInt(e.boothChoose||0)?t.chooseTypes.MANAGER:t.chooseTypes.UNIT,i}}]),t}();_.chooseTypes={MANAGER:"MANAGER",UNIT:"UNIT"};var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id=null,this.name=null,this.sort=null,this.selected=!1,this.occupied=!1,this.applied=!1,this.applyId=null,this.editing=!1,o()(this,e)}return u()(t,null,[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.name=e.name,i.sort=e.sortNum,i.selected=!1,i.occupied=1===parseInt(e.status||0),i.applied=0===parseInt(e.status||1),i.applyId=e.participantId,i.editing=!1,i}}]),t}(),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id=null,this.unitId=null,this.name=null,this.typeName=null,this.scale=null,this.email=null,this.addressCode=null,this.address=null,this.desc=null,this.recruitment=null,this.contactPeople=null,this.contactPhone=null,this.positions=null,this.positionsCount=null,this.remark=null,this.stand=null,this.stands=null,o()(this,e)}return u()(t,[{key:"toApiUnitApplyInfo",value:function(){return{companyId:this.unitId,contactPeople:this.contactPeople,contactPhone:this.contactPhone,email:this.email,recruitmentBrief:this.recruitment,boothIds:this.stands.map(function(t){return t.id}),summary:this.desc,remarks:this.remark,positions:this.positions}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.unitId=e.companyId,i.name=e.companyName,i.typeName=e.property,i.scale=e.scale,i.email=e.email,i.addressCode=e.address,i.address=e.addressDetail,i.desc=e.summary,i.recruitment=e.recruitmentBrief,i.contactPeople=e.contactPeople,i.contactPhone=e.contactPhone,i.positions=e.positions?e.positions:[],i.positionsCount=e.positionsNum||0,i.remark="",i.stand=e.boothId&&new f({id:e.boothId}),i.stands=e.boothPOS?e.boothPOS.filter(function(t){return t.participantId===i.id}).map(function(t){return f.fromApi(t)}):[],i}}]),t}();h.fromUnit=function(t){var e=new h;return e.unitId=t.companyId||t.id,e.name=t.companyName,e.typeName=t.propertyName,e.scale=t.scaleName,e.email=t.mailAddress,e.address=t.addressDetail,e.desc=t.summary,e.contactPeople=t.contactPeople,e.contactPhone=t.contactPhone,e};var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id=null,this.baseInfo=new m,this.standInfo=new _,this.published=!1,this.unShelved=!1,this.applied=!1,this.top=!1,this.canApplyOnTime=!1,this.standUnits=[],o()(e)}return u()(t,[{key:"isApplying",value:function(){if(void 0!==this.canApplyOnTime&&null!==this.canApplyOnTime)return this.canApplyOnTime;var t=new Date;return t>=new Date(this.baseInfo.startApplyTime)&&t<=new Date(this.baseInfo.endApplyTime)}},{key:"_initStandUnits",value:function(){var t=this;this.standUnits.forEach(function(e){var i=!0,a=!1,n=void 0;try{for(var o,r=s()(t.standInfo.stands);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.id===e.stand.id){e.stand=l;break}}}catch(t){a=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw n}}})}},{key:"getNameHtmlWithStatus",value:function(){var t=this.baseInfo.name+"&nbsp;&nbsp;";return this.unShelved&&(t+='<span class="el-tag el-tag--mini el-tag--info el-tag--light">已下架</span>'),t}},{key:"getApplyTimeHtml",value:function(){return d.a.mergeSameDayDateTime(new Date(this.baseInfo.startTime).format("yyyy-MM-dd HH:mm"),new Date(this.baseInfo.endTime).format("yyyy-MM-dd HH:mm"))}},{key:"toApiDcw",value:function(){return{id:this.id,name:this.baseInfo.name,areaName:this.baseInfo.address,summary:this.baseInfo.desc,beginTime:this.baseInfo.startTime&&new Date(this.baseInfo.startTime).format(p),endTime:this.baseInfo.endTime&&new Date(this.baseInfo.endTime).format(p),applyBeginTime:this.baseInfo.startApplyTime&&new Date(this.baseInfo.startApplyTime).format(p),applyEndTime:this.baseInfo.endApplyTime&&new Date(this.baseInfo.endApplyTime).format(p),areaUrl:this.standInfo.siteMap,boothChoose:this.standInfo.chooseType===_.chooseTypes.MANAGER?0:1,isMany:this.standInfo.canSelectMultiStands?1:0,upperLimit:this.standInfo.limitStandsSelected,booths:this.standInfo.stands.map(function(t,e){return{name:t.name,sortNum:e}})}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.baseInfo=m.fromApi(e),i.standInfo=_.fromApi(e),i.published="1"==e.isRelease,i.unShelved="1"==e.doubleChooseStatus,i.applied=e.isApplied||!1,i.top=!!e.top,i.canApplyOnTime=e.canApplyOnTime,i.standUnits=e.participants?e.participants.map(function(t){return h.fromApi(t)}):[],i._initStandUnits(),i}}]),t}()},t9KY:function(t,e){},u3PF:function(t,e){},uwCV:function(t,e){},y0ro:function(t,e,i){"use strict";i("C331");e.a={data:function(){return{curRoute:"allStaff",importParams:{parentPageTitle:"",downloadTemplateUrl:"",downloadErrorTemplateUrl:"/formEngine/tables/import-data",checkTemplateUrl:"/apartment/users/batch/excel",templateName:"批量导入模板",importBtnType:[{url:"/formEngine/tables/import-data",method:"get",isShowBtn:!0,name:"批量导入",success:function(t){}}]}}},methods:{quickAddRecord:function(){this.curRoute="importPage"}}}},zY0d:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return l});var a=i("rVsN"),s=i.n(a),n=i("C331"),o=function(t){return new s.a(function(e,i){Object(n.e)({url:"/api/employment/area/getAreaRuleList?type="+t,type:"get",success:function(t){t.state&&e(t.data)},error:function(t){i(t)}})})},r=function(t){var e="/api/employment/area/getFreeAreaDateTimeList?date="+t;return new s.a(function(t,i){Object(n.e)({url:e,type:"get",success:function(e){e.state&&t(e.data)},error:function(t){i(t)}})})},l=function(t,e){var i="/api/employment/area/getAreaByTimeSpace?beginTime="+t+"&endTime="+e;return new s.a(function(t,e){Object(n.e)({url:i,type:"get",success:function(e){e.state&&t(e.data)},error:function(t){e(t)}})})}}});