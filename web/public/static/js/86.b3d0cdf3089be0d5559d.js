webpackJsonp([86],{BTUs:function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c("C331"),s={props:{account:{userId:"",userName:"",type:"",schoolId:""}},data:function(){return{number:0,showRole:!1,roleKey:"",roleOptions:[],optionLabelJson:{student:"学生信息",instructor:"辅导员信息",teacher:"教工信息"},remarkReportShow:!1,messages:[]}},created:function(){this._checkPersonInfo(),this._getMessages()},methods:{_checkMessage:function(){this.$emit("addBread",{route:"/messageBox/MMessagesList",data:{list:this.messages}})},_myAffair:function(){this.$emit("addBread",{route:"/myAffair/MyAffairList",title:""})},_myActivity:function(){this.$emit("addBread",{route:"/accountCircle/MMyActivity",title:""})},_transactionRecord:function(){this.$emit("addBread",{route:"/paymentHall/transactionRecord",title:""})},_myPayment:function(){this.$emit("addBread",{route:"/paymentHall/myPayment",title:""})},_myRemarkReport:function(){this.$emit("addBread",{route:"/accountCircle/MRemarkReport",title:""})},_myPaymentRecords:function(){this.$emit("addBread",{route:"/payHall/MPaymentRecords",title:""})},_viewInfo:function(){this.roleOptions.length>1?this.showRole=!0:this._check(this.roleOptions[0].key)},_checkPersonInfo:function(){var t=this;this.account.userId&&Object(o.c)({url:"/api/relationship/instructor/check",type:"get",success:function(e){e.state&&e.data&&e.data.length>0&&(t.roleOptions=[],e.data.forEach(function(e){t.roleOptions.push({key:e,value:t.optionLabelJson[e]}),"student"===e&&(t.remarkReportShow=!0)}))}})},_check:function(t){var e=this;this.showRole&&(this.showRole=!1),this.$nextTick(function(){e.$emit("addBread",{route:"/form/MFormLayout",title:"",data:{userId:e.account.userId,type:t.toUpperCase()}})})},_getMessages:function(){var t=this;Object(o.c)({url:"/api/message/quiry",type:"get",success:function(e){e.state&&(t.messages=e.data||[])}})}}},i={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{attrs:{id:"accountCircle"}},[c("view-box",[c("x-header",{staticClass:"accountCircle-header",attrs:{title:t.account.userName}},[c("i",{staticClass:"maticon account-circle-icon",attrs:{slot:"overwrite-left"},domProps:{innerHTML:t._s(t.icons("account_circle"))},on:{click:t._viewInfo},slot:"overwrite-left"},[t._v("account_circle")]),t._v(" "),c("a",{staticClass:"my-message",attrs:{slot:"right"},on:{click:t._checkMessage},slot:"right"},[c("span",{staticClass:"msg"},[t._v("消息")]),t.messages.length>0?c("badge",{attrs:{text:t.messages.length>99?"99":t.messages.length}}):t._e()],1)]),t._v(" "),c("div",{staticClass:"accountCircle-content"},[c("group",{staticClass:"account-circle-group"},[c("cell",{attrs:{title:"我的事务"},nativeOn:{click:function(e){return t._myAffair(e)}}})],1),t._v(" "),c("group",{staticClass:"account-circle-group"},[c("cell",{attrs:{title:"我的活动"},nativeOn:{click:function(e){return t._myActivity(e)}}})],1),t._v(" "),"ixy"===t.account.schoolId?c("group",{staticClass:"account-circle-group"},[c("cell",{attrs:{title:"交易记录"},nativeOn:{click:function(e){return t._transactionRecord(e)}}})],1):t._e(),t._v(" "),"ixy"===t.account.schoolId?c("group",{staticClass:"account-circle-group"},[c("cell",{attrs:{title:"我的缴费"},nativeOn:{click:function(e){return t._myPayment(e)}}})],1):t._e(),t._v(" "),t.remarkReportShow?c("group",{staticClass:"account-circle-group"},[c("cell",{attrs:{title:"第二课堂成绩单"},nativeOn:{click:function(e){return t._myRemarkReport(e)}}})],1):t._e(),t._v(" "),c("group",{staticClass:"account-circle-group"},[c("cell",{attrs:{title:"缴费记录"},nativeOn:{click:function(e){return t._myPaymentRecords(e)}}})],1)],1)],1),t._v(" "),c("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[c("popup",{model:{value:t.showRole,callback:function(e){t.showRole=e},expression:"showRole"}},[c("popup-header",{attrs:{"left-text":"取消","right-text":"确定",title:"查看","show-bottom-border":!1},on:{"on-click-left":function(e){t.showRole=!1},"on-click-right":function(e){t._check(t.roleKey)}}}),t._v(" "),c("group",{attrs:{gutter:"0"}},[c("radio",{attrs:{options:t.roleOptions},model:{value:t.roleKey,callback:function(e){t.roleKey=e},expression:"roleKey"}})],1)],1)],1)],1)},staticRenderFns:[]};var a=c("C7Lr")(s,i,!1,function(t){c("MJiE")},null,null);e.default=a.exports},MJiE:function(t,e){}});