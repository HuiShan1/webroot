webpackJsonp([12],{"+skA":function(t,e,i){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},"/V5r":function(t,e,i){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var s=new ArrayBuffer(0);try{e.blob=0===new Blob([s],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(s),e.blob=0===n.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!i("QWpj").Readable}catch(t){e.nodestream=!1}}).call(e,i("NKKs").Buffer)},"/f9a":function(t,e,i){"use strict";var s=i("vp2x"),n=i("PPFr");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("suAl").inherits(a,s),a.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=a},"0QUm":function(t,e,i){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,i){if(e.from&&e.from!==Uint8Array.from)return e.from(t,i);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,i)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var i=new e(t);return i.fill(0),i},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(e,i("NKKs").Buffer)},"1paD":function(t,e,i){"use strict";var s=i("j9El");function n(t){s.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}i("suAl").inherits(n,s),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),s=t.charCodeAt(2),n=t.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===i&&this.data[a+2]===s&&this.data[a+3]===n)return a-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),s=t.charCodeAt(2),n=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&i===a[1]&&s===a[2]&&n===a[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},"6B8l":function(t,e,i){"use strict";var s=i("suAl"),n=i("FJMj"),a=i("r1e4"),o=(s=i("suAl"),i("MO/a")),r=i("/f9a"),c=i("0QUm");function u(t){return new n.Promise(function(e,i){var s=t.decompressed.getContentWorker().pipe(new r);s.on("error",function(t){i(t)}).on("end",function(){s.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}t.exports=function(t,e){var i=this;return e=s.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new o(e);return i.load(t),i}).then(function(t){var i=[n.Promise.resolve(t)],s=t.files;if(e.checkCRC32)for(var a=0;a<s.length;a++)i.push(u(s[a]));return n.Promise.all(i)}).then(function(t){for(var s=t.shift(),n=s.files,a=0;a<n.length;a++){var o=n[a];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return s.zipComment.length&&(i.comment=s.zipComment),i})}},"7A1g":function(t,e,i){var s,n=n||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,n=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},r=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},u=function(u,l,d){d||(u=c(u));var h,p=this,f="application/octet-stream"===u.type,m=function(){!function(t,e,i){for(var s=(e=[].concat(e)).length;s--;){var n=t["on"+e[s]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){o(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,s)return h=e().createObjectURL(u),void setTimeout(function(){var t,e;i.href=h,i.download=l,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),m(),r(h),p.readyState=p.DONE});!function(){if((a||f&&n)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,m()},i.readAsDataURL(u),void(p.readyState=p.INIT)}h||(h=e().createObjectURL(u)),f?t.location.href=h:t.open(h,"_blank")||(t.location.href=h);p.readyState=p.DONE,m(),r(h)}()},l=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(l.abort=function(){},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,function(t,e,i){return new u(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==t&&t.exports?t.exports.saveAs=n:null!==i("NeCs")&&null!==i("iXJ9")&&(void 0===(s=function(){return n}.call(e,i,e,t))||(t.exports=s))},BziL:function(t,e,i){"use strict";var s=i("suAl"),n=i("vp2x");function a(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}s.inherits(a,n),a.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},a.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},"CQ5+":function(t,e,i){"use strict";var s=i("sWAi"),n=i("SswB"),a=i("u4zd"),o=i("Swzp"),r=i("h1Lj"),c=i("MnvH"),u=i("LBYq"),l=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==o.Z_OK)throw new Error(r[i]);if(this.header=new u,s.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=s.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(r[i])}function h(t,e){var i=new d(e);if(i.push(t,!0),i.err)throw i.msg||r[i.err];return i.result}d.prototype.push=function(t,e){var i,r,c,u,d,h=this.strm,p=this.options.chunkSize,f=this.options.dictionary,m=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?h.input=a.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new n.Buf8(p),h.next_out=0,h.avail_out=p),(i=s.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&f&&(i=s.inflateSetDictionary(this.strm,f)),i===o.Z_BUF_ERROR&&!0===m&&(i=o.Z_OK,m=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&i!==o.Z_STREAM_END&&(0!==h.avail_in||r!==o.Z_FINISH&&r!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=a.utf8border(h.output,h.next_out),u=h.next_out-c,d=a.buf2string(h.output,c),h.next_out=u,h.avail_out=p-u,u&&n.arraySet(h.output,h.output,c,u,0),this.onData(d)):this.onData(n.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(r=o.Z_FINISH),r===o.Z_FINISH?(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):r!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),h.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=d,e.inflate=h,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.ungzip=h},Dldw:function(t,e,i){"use strict";var s=i("suAl"),n=i("/V5r"),a=i("1paD"),o=i("jG4G"),r=i("dQpl"),c=i("yIKO");t.exports=function(t){var e=s.getTypeOf(t);return s.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new r(t):n.uint8array?new c(s.transformTo("uint8array",t)):new a(s.transformTo("array",t)):new o(t)}},FJMj:function(t,e,i){"use strict";var s=null;s="undefined"!=typeof Promise?Promise:i("JiAg"),t.exports={Promise:s}},FwhH:function(t,e){},GHE1:function(t,e,i){"use strict";var s=i("suAl"),n=i("/V5r"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,i,n,o,r,c,u,l=[],d=0,h=t.length,p=h,f="string"!==s.getTypeOf(t);d<t.length;)p=h-d,f?(e=t[d++],i=d<h?t[d++]:0,n=d<h?t[d++]:0):(e=t.charCodeAt(d++),i=d<h?t.charCodeAt(d++):0,n=d<h?t.charCodeAt(d++):0),o=e>>2,r=(3&e)<<4|i>>4,c=p>1?(15&i)<<2|n>>6:64,u=p>2?63&n:64,l.push(a.charAt(o)+a.charAt(r)+a.charAt(c)+a.charAt(u));return l.join("")},e.decode=function(t){var e,i,s,o,r,c,u=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===a.charAt(64)&&h--,t.charAt(t.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|h):new Array(0|h);u<t.length;)e=a.indexOf(t.charAt(u++))<<2|(o=a.indexOf(t.charAt(u++)))>>4,i=(15&o)<<4|(r=a.indexOf(t.charAt(u++)))>>2,s=(3&r)<<6|(c=a.indexOf(t.charAt(u++))),d[l++]=e,64!==r&&(d[l++]=i),64!==c&&(d[l++]=s);return d}},GMmY:function(t,e,i){"use strict";(function(e){var i,s,n=e.MutationObserver||e.WebKitMutationObserver;if(n){var a=0,o=new n(l),r=e.document.createTextNode("");o.observe(r,{characterData:!0}),i=function(){r.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,i=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;s=!0;for(var i=u.length;i;){for(e=u,u=[],t=-1;++t<i;)e[t]();i=u.length}s=!1}t.exports=function(t){1!==u.push(t)||s||i()}}).call(e,i("u28U"))},GbEp:function(t,e,i){"use strict";function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new s;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}s.prototype=i("H+8F"),s.prototype.loadAsync=i("6B8l"),s.support=i("/V5r"),s.defaults=i("jSFE"),s.version="3.2.0",s.loadAsync=function(t,e){return(new s).loadAsync(t,e)},s.external=i("FJMj"),t.exports=s},"H+8F":function(t,e,i){"use strict";var s=i("r1e4"),n=i("suAl"),a=i("vp2x"),o=i("cIll"),r=i("jSFE"),c=i("xdX0"),u=i("bkzZ"),l=i("z7QQ"),d=i("0QUm"),h=i("BziL"),p=function(t,e,i){var s,o=n.getTypeOf(e),l=n.extend(i||{},r);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(t=m(t)),l.createFolders&&(s=f(t))&&v.call(this,s,!0);var p="string"===o&&!1===l.binary&&!1===l.base64;i&&void 0!==i.binary||(l.binary=!p),(e instanceof c&&0===e.uncompressedSize||l.dir||!e||0===e.length)&&(l.base64=!1,l.binary=!0,e="",l.compression="STORE",o="string");var g=null;g=e instanceof c||e instanceof a?e:d.isNode&&d.isStream(e)?new h(t,e):n.prepareContent(t,e,l.binary,l.optimizedBinaryString,l.base64);var b=new u(t,g,l);this.files[t]=b},f=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:r.createFolders,t=m(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function g(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,s;for(e in this.files)this.files.hasOwnProperty(e)&&(s=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,s))},filter:function(t){var e=[];return this.forEach(function(i,s){t(i,s)&&e.push(s)}),e},file:function(t,e,i){if(1===arguments.length){if(g(t)){var s=t;return this.filter(function(t,e){return!e.dir&&s.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null}return t=this.root+t,p.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(g(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=v.call(this,e),s=this.clone();return s.root=i.name,s},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),s=0;s<i.length;s++)delete this.files[i[s].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if((i=n.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");n.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";e=l.generateWorker(this,i,r)}catch(t){(e=new a("error")).error(t)}return new o(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=b},HozM:function(t,e,i){"use strict";var s="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=i("SEI8"),a=i("suAl"),o=i("vp2x"),r=s?"uint8array":"array";function c(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",a.inherits(c,o),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(r,t.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new c("Deflate",t)},e.uncompressWorker=function(){return new c("Inflate",{})}},HvEF:function(t,e,i){"use strict";var s=i("suAl"),n=i("vp2x");function a(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}s.inherits(a,n),a.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},t.exports=a},JiAg:function(t,e,i){"use strict";var s=i("GMmY");function n(){}var a={},o=["REJECTED"],r=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==n&&p(this,t)}function l(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function d(t,e,i){s(function(){var s;try{s=e(i)}catch(e){return a.reject(t,e)}s===t?a.reject(t,new TypeError("Cannot resolve promise with itself")):a.resolve(t,s)})}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var i=!1;function s(e){i||(i=!0,a.reject(t,e))}function n(e){i||(i=!0,a.resolve(t,e))}var o=f(function(){e(n,s)});"error"===o.status&&s(o.value)}function f(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}t.exports=u,u.prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){throw i})})},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===r||"function"!=typeof e&&this.state===o)return this;var i=new this.constructor(n);this.state!==c?d(i,this.state===r?t:e,this.outcome):this.queue.push(new l(i,t,e));return i},l.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){a.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},a.resolve=function(t,e){var i=f(h,e);if("error"===i.status)return a.reject(t,i.value);var s=i.value;if(s)p(t,s);else{t.state=r,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},a.reject=function(t,e){t.state=o,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callRejected(e);return t},u.resolve=function(t){if(t instanceof this)return t;return a.resolve(new this(n),t)},u.reject=function(t){var e=new this(n);return a.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,s=!1;if(!i)return this.resolve([]);var o=new Array(i),r=0,c=-1,u=new this(n);for(;++c<i;)l(t[c],c);return u;function l(t,n){e.resolve(t).then(function(t){o[n]=t,++r!==i||s||(s=!0,a.resolve(u,o))},function(t){s||(s=!0,a.reject(u,t))})}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,s=!1;if(!i)return this.resolve([]);var o=-1,r=new this(n);for(;++o<i;)c=t[o],e.resolve(c).then(function(t){s||(s=!0,a.resolve(r,t))},function(t){s||(s=!0,a.reject(r,t))});var c;return r}},LBYq:function(t,e,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"MO/a":function(t,e,i){"use strict";var s=i("Dldw"),n=i("suAl"),a=i("+skA"),o=i("hEwU"),r=(i("r1e4"),i("/V5r"));function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var s=this.reader.readString(4)===e;return this.reader.setIndex(i),s},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=r.uint8array?"uint8array":"array",i=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,s=this.zip64EndOfCentralSize-44;0<s;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var s=e-i;if(s>0)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=s);else if(s<0)throw new Error("Corrupted zip: missing "+Math.abs(s)+" bytes.")},prepareReader:function(t){this.reader=s(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},NNzk:function(t,e,i){"use strict";(function(t){var e=i("WxFH"),s=(i.n(e),i("3SZ7")),n=(i.n(s),i("GbEp")),a=(i.n(n),i("7A1g")),o=(i.n(a),i("C331"),i("L4f1"));i.n(o),i("tjnL").a}).call(e,i("W14+"))},NOr1:function(t,e,i){"use strict";var s=i("vp2x");e.STORE={magic:"\0\0",compressWorker:function(t){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},e.DEFLATE=i("HozM")},NeCs:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},PPFr:function(t,e,i){"use strict";var s=i("suAl");var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==s.getTypeOf(t)?function(t,e,i,s){var a=n,o=s+i;t^=-1;for(var r=s;r<o;r++)t=t>>>8^a[255&(t^e[r])];return-1^t}(0|e,t,t.length,0):function(t,e,i,s){var a=n,o=s+i;t^=-1;for(var r=s;r<o;r++)t=t>>>8^a[255&(t^e.charCodeAt(r))];return-1^t}(0|e,t,t.length,0):0}},QWpj:function(t,e,i){t.exports=i("cD+W")},SEI8:function(t,e,i){"use strict";var s={};(0,i("SswB").assign)(s,i("jpV8"),i("CQ5+"),i("Swzp")),t.exports=s},SP0C:function(t,e,i){"use strict";var s=i("suAl"),n=i("vp2x"),a=i("r1e4"),o=i("PPFr"),r=i("+skA"),c=function(t,e){var i,s="";for(i=0;i<e;i++)s+=String.fromCharCode(255&t),t>>>=8;return s},u=function(t,e,i,n,u,l){var d,h,p=t.file,f=t.compression,m=l!==a.utf8encode,v=s.transformTo("string",l(p.name)),g=s.transformTo("string",a.utf8encode(p.name)),b=p.comment,y=s.transformTo("string",l(b)),C=s.transformTo("string",a.utf8encode(b)),_=g.length!==p.name.length,S=C.length!==b.length,w="",x="",I="",k=p.dir,O=p.date,A={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(A.crc32=t.crc32,A.compressedSize=t.compressedSize,A.uncompressedSize=t.uncompressedSize);var D=0;e&&(D|=8),m||!_&&!S||(D|=2048);var T,E,N=0,B=0;k&&(N|=16),"UNIX"===u?(B=798,N|=(T=p.unixPermissions,E=T,T||(E=k?16893:33204),(65535&E)<<16)):(B=20,N|=63&(p.dosPermissions||0)),d=O.getUTCHours(),d<<=6,d|=O.getUTCMinutes(),d<<=5,d|=O.getUTCSeconds()/2,h=O.getUTCFullYear()-1980,h<<=4,h|=O.getUTCMonth()+1,h<<=5,h|=O.getUTCDate(),_&&(x=c(1,1)+c(o(v),4)+g,w+="up"+c(x.length,2)+x),S&&(I=c(1,1)+c(o(y),4)+C,w+="uc"+c(I.length,2)+I);var P="";return P+="\n\0",P+=c(D,2),P+=f.magic,P+=c(d,2),P+=c(h,2),P+=c(A.crc32,4),P+=c(A.compressedSize,4),P+=c(A.uncompressedSize,4),P+=c(v.length,2),P+=c(w.length,2),{fileRecord:r.LOCAL_FILE_HEADER+P+v+w,dirRecord:r.CENTRAL_FILE_HEADER+c(B,2)+P+c(y.length,2)+"\0\0\0\0"+c(N,4)+c(n,4)+v+w+y}};function l(t,e,i,s){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=s,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(l,n),l.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,s=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-s-1))/i:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=u(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=u(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return r.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,n=function(t,e,i,n,a){var o=s.transformTo("string",a(n));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(t,2)+c(t,2)+c(e,4)+c(i,4)+c(o.length,2)+o}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},l.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},l.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=l},ZkRc:function(t,e,i){"use strict";var s=i("suAl"),n=i("vp2x");function a(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=s.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}s.inherits(a,n),a.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},azfw:function(t,e,i){"use strict";var s=i("vp2x"),n=i("suAl");function a(t){s.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(a,s),a.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},t.exports=a},bkzZ:function(t,e,i){"use strict";var s=i("cIll"),n=i("ZkRc"),a=i("r1e4"),o=i("xdX0"),r=i("vp2x"),c=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};c.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&n&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new r("error")).error(t)}return new s(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new n(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)c.prototype[u[d]]=l;t.exports=c},cIll:function(t,e,i){"use strict";(function(e){var s=i("suAl"),n=i("azfw"),a=i("vp2x"),o=i("GHE1"),r=i("/V5r"),c=i("FJMj"),u=null;if(r.nodestream)try{u=i("xN/9")}catch(t){}function l(t,i){return new c.Promise(function(n,a){var r=[],c=t._internalType,u=t._outputType,l=t._mimeType;t.on("data",function(t,e){r.push(t),i&&i(e)}).on("error",function(t){r=[],a(t)}).on("end",function(){try{var t=function(t,e,i){switch(t){case"blob":return s.newBlob(s.transformTo("arraybuffer",e),i);case"base64":return o.encode(e);default:return s.transformTo(t,e)}}(u,function(t,i){var s,n=0,a=null,o=0;for(s=0;s<i.length;s++)o+=i[s].length;switch(t){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(a=new Uint8Array(o),s=0;s<i.length;s++)a.set(i[s],n),n+=i[s].length;return a;case"nodebuffer":return e.concat(i);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,r),l);n(t)}catch(t){a(t)}r=[]}).resume()})}function d(t,e,i){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=i,s.checkSupport(o),this._worker=t.pipe(new n(o)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}d.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){s.delay(e,arguments,i)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=d}).call(e,i("NKKs").Buffer)},dQpl:function(t,e,i){"use strict";var s=i("yIKO");function n(t){s.call(this,t)}i("suAl").inherits(n,s),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},hEwU:function(t,e,i){"use strict";var s=i("Dldw"),n=i("suAl"),a=i("xdX0"),o=i("PPFr"),r=i("r1e4"),c=i("NOr1"),u=i("/V5r");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=s(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,s,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),s=t.readData(i),this.extraFields[e]={id:e,length:i,value:s}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var s=this.findExtraFieldUnicodeComment();if(null!==s)this.fileCommentStr=s;else{var a=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=s(t.value);return 1!==e.readInt(1)?null:o(this.fileName)!==e.readInt(4)?null:r.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=s(t.value);return 1!==e.readInt(1)?null:o(this.fileComment)!==e.readInt(4)?null:r.utf8decode(e.readData(t.length-5))}return null}},t.exports=l},iXJ9:function(t,e){(function(e){t.exports=e}).call(e,{})},j9El:function(t,e,i){"use strict";var s=i("suAl");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return s.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=n},jG4G:function(t,e,i){"use strict";var s=i("j9El");function n(t){s.call(this,t)}i("suAl").inherits(n,s),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},jSFE:function(t,e,i){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},jpV8:function(t,e,i){"use strict";var s=i("eRYC"),n=i("SswB"),a=i("u4zd"),o=i("h1Lj"),r=i("MnvH"),c=Object.prototype.toString,u=0,l=-1,d=0,h=8;function p(t){if(!(this instanceof p))return new p(t);this.options=n.assign({level:l,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var i=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==u)throw new Error(o[i]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=s.deflateSetDictionary(this.strm,f))!==u)throw new Error(o[i]);this._dict_set=!0}}function f(t,e){var i=new p(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}p.prototype.push=function(t,e){var i,o,r=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=a.string2buf(t):"[object ArrayBuffer]"===c.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new n.Buf8(l),r.next_out=0,r.avail_out=l),1!==(i=s.deflate(r,o))&&i!==u)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(r.output,r.next_out))):this.onData(n.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===o?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u):2!==o||(this.onEnd(u),r.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},kyKM:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("NNzk");var s=i("lVou"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.curApp?i("div",{staticClass:"app-detail-page",class:t.data?"":"sub"},[i("div",{staticClass:"header"},[t.data?t._e():i("i",{staticClass:"maticon pull-left back-link",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],staticClass:"appNameControl"},[t._v(t._s(t.curApp.name))]),t._v(" "),i("a",{staticClass:"pull-right apartment-link",attrs:{href:"javascript:;"},on:{click:function(e){t.collapsed=!t.collapsed}}},[t.collapsed?i("span",[t._v("展开")]):i("span",[t._v("收起")])]),t._v(" "),i("div",{staticClass:"title-div",class:t.collapsed?"collapsed":""},[i("div",{staticClass:"app-icon-div"},[i("div",{style:{"background-image":t.curApp.background}},[t.curApp.imgType&&"1"!==t.curApp.imgType?"2"===t.curApp.imgType?i("i",{staticClass:"app-icon"},[i("span",{staticClass:"saasicon-44px",class:["saasicon-44px-"+t.curApp.imgPath]})]):t._e():i("i",{staticClass:"maticon app-icon",domProps:{innerHTML:t._s(t.icons(t.curApp.imgPath))}},[t._v(t._s(t.curApp.imgPath))])])]),t._v(" "),i("div",{staticClass:"form-group app-name"},[i("label",[t._v(t._s(t.curApp.name))])]),t._v(" "),t.businessList.length>0?i("div",{staticClass:"input-group app-business"},[i("span",{staticClass:"input-group-addon"},[t._v("业务期")]),t._v(" "),i("v-select",{staticClass:"btn-block",attrs:{options:t.businessList,"options-value":"id","options-label":"name","close-on-select":"",justify:""},on:{afterSelected:t._afterSelectBusiness},model:{value:t.curBusinessId,callback:function(e){t.curBusinessId=e},expression:"curBusinessId"}})],1):i("div",{staticClass:"input-group text-center app-business"},[i("span",[t._v(t._s(t.errorMessage))])])]),t._v(" "),i("div",{staticClass:"tab-div"},[i("div",{staticClass:"apply-container"},[t.curBusiness&&t.curBusiness.canApplyOnAuthority&&t.curBusiness.canApplyOnTime&&t.curTab.indexOf("check")<0?i("span",{staticClass:"apply-entry",on:{click:function(e){return t._apply()}}},[t._v("申请")]):t._e(),t._v(" "),t.curBusiness&&t.curBusiness.proxyAuthority&&t.curBusiness.canApplyOnTime&&t.curTab.indexOf("check")<0?i("span",{staticClass:"apply-entry",on:{click:function(e){t.proxyStatus.showProxyModal=!0}}},[t._v("代发")]):t._e()]),t._v(" "),t.curBusiness?i("GeminiScrollbar",{staticClass:"tab-list",attrs:{scrollY:!1}},[t.curBusiness&&!t.isSc?i("div",{staticClass:"tab",class:"guide"===t.curTab?"active":"",attrs:{title:"办理指南"},on:{click:function(e){return t._check("guide")}}},[t._v("办理指南")]):t._e(),t._v(" "),t.curBusiness&&t.curBusiness.canApplyOnAuthority&&!t.isSc?i("div",{staticClass:"tab",class:"myApplies"===t.curTab?"active":"",attrs:{title:"我的申请"},on:{click:function(e){return t._check("myApplies")}}},[t._v("我的申请")]):t._e(),t._v(" "),t.curBusiness&&t.curBusiness.proxyAuthority&&!t.isSc?i("div",{staticClass:"tab",class:"myProxy"===t.curTab?"active":"",attrs:{title:"我的代发"},on:{click:function(e){return t._check("myProxy")}}},[t._v("我的代发")]):t._e(),t._v(" "),t.curBusiness&&!t.isSc?i("div",{staticClass:"tab",class:"copyToMe"===t.curTab?"active":"",attrs:{title:"抄送给我"},on:{click:function(e){return t._check("copyToMe")}}},[t._v("抄送给我")]):t._e(),t._v(" "),t._l(t.curBusiness.nodeList,function(e,s){return i("div",{key:s,staticClass:"tab-group"},[i("div",{staticClass:"tab tab-node",class:t.curTab==="uncheck"+e.id?"active":"",attrs:{title:(t.isSc?"活动":"")+"未审批："+e.name+"节点"},on:{click:function(i){return t._check("uncheck",e.id)}}},[i("p",[t._v(t._s(t.isSc?"活动":"")+"未审核：")]),t._v(" "),i("p",[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"tab tab-node",class:t.curTab==="checked"+e.id?"active":"",attrs:{title:(t.isSc?"活动":"")+"已审批："+e.name+"节点"},on:{click:function(i){return t._check("checked",e.id)}}},[i("p",[t._v(t._s(t.isSc?"活动":"")+"已审核：")]),t._v(" "),i("p",[t._v(t._s(e.name))])]),t._v(" "),t.isSc?i("div",{staticClass:"tab tab-node",class:t.curTab==="unfeedback"+e.id?"active":"",attrs:{title:"反馈未审批："+e.name+"节点"},on:{click:function(i){return t._check("unfeedback",e.id)}}},[i("p",[t._v("反馈未审核：")]),t._v(" "),i("p",[t._v(t._s(e.name))])]):t._e(),t._v(" "),t.isSc?i("div",{staticClass:"tab tab-node",class:t.curTab==="feedbacked"+e.id?"active":"",attrs:{title:"反馈已审批："+e.name+"节点"},on:{click:function(i){return t._check("feedbacked",e.id)}}},[i("p",[t._v("反馈已审核：")]),t._v(" "),i("p",[t._v(t._s(e.name))])]):t._e()])})],2):t._e()],1)]),t._v(" "),t.curBusiness?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.preview||t.pdfSetting.downloading,expression:"(!preview)||pdfSetting.downloading"}],staticClass:"middle",class:t.collapsed?"middle-top":""},[i("GeminiScrollbar",{directives:[{name:"show",rawName:"v-show",value:"guide"===t.curTab,expression:"curTab==='guide'"}],staticClass:"tab-content"},[i("div",{staticClass:"guide-content",domProps:{innerHTML:t._s(t.curBusiness.business.guide)}})]),t._v(" "),t.isSc||"myApplies"!==t.curTab?t._e():i("div",{staticClass:"tab-content"},[i("v-table",{key:1,attrs:{pagesize:"999",idField:"id",url:t.myAffairsUrl+"?businessId="+t.curBusinessId,columns:t.myAffairsColumn,columnsControl:!1,paginationShow:!1,order:!0,search:!1}})],1),t._v(" "),t.isSc||"myProxy"!==t.curTab?t._e():i("div",{staticClass:"tab-content"},[i("v-table",{key:2,attrs:{pagesize:"5",idField:"id",url:"/table-data/processEngine/business/"+t.curBusinessId+"/myProxy/pages",columns:t.myProxyColumn,columnsControl:!1,order:!0,search:!1}})],1),t._v(" "),t.curTab.indexOf("checked")>=0||t.isSc&&t.curTab.indexOf("feedbacked")>=0?i("div",{staticClass:"tab-content app-detail-table"},[t.batchSelections.length>0?i("div",{staticClass:"batch-div"},[i("span",{staticClass:"pull-left batch-tip"},[t._v(t._s(t.batchSelections.length)+"项已选")]),t._v(" "),i("div",{staticClass:"pull-right batch-opt"},[t.isSc?t._e():i("span",{on:{click:function(e){t.showSetDeliverModal=!0}}},[t._v("转交")])])]):t._e(),t._v(" "),t.isSc?t._e():i("div",{staticClass:"business-node-time"},[t._v(t._s(t.curBusinessTime))]),t._v(" "),i("v-table",{key:3,ref:t.curTab+"_table",attrs:{pagesize:"5",idField:"id",url:t.myCheckUrl+t.advancedSearchParams,columns:t.myCheckColumn,multiple:t.allowBatch.length>0,columnsControl:!0,order:!0,search:!1},on:{afterChecked:t._afterChecked,columnExchanged:t._columnExchanged}},[i("div",{staticClass:"btn-group pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},[t.isSetBaobiao?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){return t._showSearch()}}},[t._v("高级搜索")]),t._v(" "),t.isSetBaobiao?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){return t._showBaobiao()}}},[t._v("报表")]),t._v(" "),t.isSc?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){return t._showCountModal()}}},[t._v("统计")]),t._v(" "),t.isSc?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:t._output}},[t._v("导出")]),t._v(" "),i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){t.pdfSetting.modalShow=!0}}},[t._v("批量导出")])])])],1):t.curTab.indexOf("uncheck")>=0||t.isSc&&t.curTab.indexOf("unfeedback")>=0?i("div",{staticClass:"tab-content app-detail-table"},[t.batchSelections.length>0?i("div",{staticClass:"batch-div"},[i("span",{staticClass:"pull-left batch-tip"},[t._v(t._s(t.batchSelections.length)+"项已选")]),t._v(" "),i("div",{staticClass:"pull-right batch-opt"},[i("span",{on:{click:function(e){return t._batchDone("agree")}}},[t._v("同意")]),t._v(" "),i("span",{on:{click:function(e){return t._batchDone("disagree")}}},[t._v("否决")]),t._v(" "),t.isSc?t._e():i("span",{on:{click:function(e){t.showSetDeliverModal=!0}}},[t._v("转交")])])]):t._e(),t._v(" "),t.isSc?t._e():i("div",{staticClass:"business-node-time"},[t._v(t._s(t.curBusinessTime))]),t._v(" "),i("v-table",{key:4,ref:t.curTab+"_table",attrs:{pagesize:"5",idField:"id",url:t.myCheckUrl+t.advancedSearchParams,columns:t.myCheckColumn,multiple:t.allowBatch.length>0,columnsControl:!0,order:!0,search:!1},on:{afterChecked:t._afterChecked,columnExchanged:t._columnExchanged}},[i("div",{staticClass:"btn-group pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},[t.isSetBaobiao?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){return t._showSearch()}}},[t._v("高级搜索")]),t._v(" "),t.isSetBaobiao?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){return t._showBaobiao()}}},[t._v("报表")]),t._v(" "),t.isSc?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){return t._showCountModal()}}},[t._v("统计")]),t._v(" "),t.isSc?t._e():i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:t._output}},[t._v("导出")]),t._v(" "),i("button",{staticClass:"btn output-btn",attrs:{type:"button"},on:{click:function(e){t.pdfSetting.modalShow=!0}}},[t._v("批量导出")])])])],1):t._e(),t._v(" "),"copyToMe"===t.curTab?i("div",{staticClass:"tab-content"},[i("v-table",{ref:"copyToMe_table",attrs:{pagesize:"5",idField:"id",url:t.myCopyUrl,columns:t.myCheckColumn,columnsControl:!0,search:!1,order:!0},on:{columnExchanged:t._columnExchanged}})],1):t._e()],1):t._e(),t._v(" "),t.preview?i("div",{staticClass:"preview-container",style:"opacity:"+(t.pdfSetting.downloading?0:1)},[i("preview",{attrs:{data:t.formData.components,appid:t.curApp.id,title:t.formData.name,script:t.formData.property.script,authorities:t.authorities,businessId:t.curBusinessId,defaultData:t.recordData,log:t.log,fileServer:t.uploadFile,isPdf:t.pdfSetting.log,previewType:"flow"},on:{onload:t._downloadPdf,submit:t._submit,back:t._closePreview,exportModel:t.exportModel}})],1):t._e(),t._v(" "),i("v-modal",{attrs:{show:t.pdfSetting.modalShow,effect:"fade",width:"450"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("批量导出")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t._outputPdf}},[t._v("批量导出PDF")]),t._v(" "),i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.exportModelPi}},[t._v("批量导出"+t._s(t.curApp.name))])]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"})]),t._v(" "),i("v-modal",{attrs:{show:t.outputModalShow,effect:"fade",width:"510"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("导出——字段选择")])]),t._v(" "),i("div",{staticClass:"modal-body export-modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("ul",{staticClass:"list-group"},t._l(t.formFields,function(e,s){return t.notAllowOutput.indexOf(e.componentType)<0?i("li",{key:s,staticClass:"list-group-item field-item",class:t.outputList.indexOf(e.name)<0?"":"output-active",on:{click:function(i){return t._changeOutputList(e)}}},[t.outputList.indexOf(e.name)<0?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]),t._v(" "),i("span",[t._v(t._s(e.title))])]):t._e()}),0)]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("div",{staticClass:"input-group merge-table pull-left"},[i("span",{on:{click:t._mergeTable}},[t.isMergeTable?i("i",{staticClass:"maticon role-icon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"role-name"},[t._v("是否将勾选的字段合并在同个表格")])]),t._v(" "),i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.outputModalShow=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._sureToOutput}},[t._v("确定")])])]),t._v(" "),i("v-modal",{attrs:{show:t.proxyStatus.showProxyModal,effect:"fade",width:"450"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("选择代发方式")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},["single"===t.proxyStatus.proxyWay?i("div",{staticClass:"proxy-div"},[i("h5",[t._v("\n          单人代发\n          "),i("span",{staticClass:"pull-right proxy-batch",on:{click:t._batchProxy}},[t._v("批量代发>>")])]),t._v(" "),i("div",{staticClass:"input-group user-check",style:{paddingLeft:0,paddingRight:0}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userNo,expression:"userNo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入学工号"},domProps:{value:t.userNo},on:{change:t._checkProxyUser,input:function(e){e.target.composing||(t.userNo=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon"},[t._v("检测")])]),t._v(" "),i("div",{staticClass:"user-check-result",class:t.proxyStatus.proxyUserValid?"":"red-font"},[t._v(t._s(t.proxyStatus.resultMessage))])]):"batch"===t.proxyStatus.proxyWay?i("div",[i("v-import",t._b({staticClass:"container-fluid",style:{width:"auto",padding:"7px 0 0"},on:{backParentPage:function(e){t.proxyStatus.proxyWay="single"}}},"v-import",t.importParams,!1))],1):t._e()]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.proxyStatus.showProxyModal=!1}}},[t._v("取消")]),t._v(" "),"single"===t.proxyStatus.proxyWay&&t.proxyStatus.proxyUserValid?i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t._apply("proxy")}}},[t._v("确定")]):t._e()])]),t._v(" "),i("v-modal",{attrs:{show:t.showSetDeliverModal,effect:"fade",width:"450"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("选择转交人")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"input-group user-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userNo,expression:"userNo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入教工号"},domProps:{value:t.userNo},on:{change:t._checkUserId,input:function(e){e.target.composing||(t.userNo=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:t._checkUserId}},[t._v("检测")])]),t._v(" "),i("div",{staticClass:"user-check-result",class:t.resultMessage.indexOf("出错啦")>=0?"red-font":""},[t._v(t._s(t.resultMessage))])]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showSetDeliverModal=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t._batchDone("transfer")}}},[t._v("转交")])])]),t._v(" "),i("v-modal",{staticClass:"count-modal",staticStyle:{top:"-10px"},attrs:{show:t.countModal,effect:"fade",width:"1080"}},[i("div",{staticClass:"modal-header box_flex align_center box_between",attrs:{slot:"modal-header"},slot:"modal-header"},[i("div",{staticClass:"box_flex align_center"},[i("i",{staticClass:"maticon close-modal",domProps:{innerHTML:t._s(t.icons("close"))},on:{click:t._closeCountModal}},[t._v("close")]),t._v(" "),i("span",[t._v("统计")])]),t._v(" "),i("div",{staticClass:"pull-right modal-header-right"},[i("i",{staticClass:"maticon upload-all-count",class:{active:"upload"===t.countTabActive},attrs:{title:"导出"},domProps:{innerHTML:t._s(t.icons("file_download"))},on:{click:t._exportAllCount}},[t._v("file_download")]),t._v(" "),i("i",{staticClass:"maticon filter-icon",class:{active:"filter"===t.countTabActive},attrs:{title:"筛选"},domProps:{innerHTML:t._s(t.icons("filter_list"))},on:{click:function(e){t.countTabActive="filter"}}},[t._v("filter_list")]),t._v(" "),i("i",{staticClass:"maticon setting-icon",class:{active:"setting"===t.countTabActive},attrs:{title:"设置"},domProps:{innerHTML:t._s(t.icons("settings"))},on:{click:function(e){t.countTabActive="setting"}}},[t._v("settings")])])]),t._v(" "),i("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"row count-row"},[t.isShowOverview?i("div",{staticClass:"count-modal-left",class:t.countTabActive?"col-sm-9":"col-sm-12",style:"height:"+t.countContentHeight+"px;"},[t.overviewCountData.length>0?i("div",{staticClass:"row overview-pie-chart"},[i("div",{staticClass:"col-sm-2 count-bar-title"},[t._v("总览")]),t._v(" "),i("div",{staticClass:"col-sm-5 overview-pie-chart-detail"},[i("div",{staticClass:"detail-content"},[t._v(t._s(t.allCountText))]),t._v(" "),i("p",{staticClass:"chart-end-time"})]),t._v(" "),i("div",{staticClass:"col-sm-5 pie-chart"},[i("div",{staticClass:"charts",attrs:{id:t.curApp.id+"myEcharts"}})])]):t._e()]):i("div",[t.isCollegeOrPlayer?i("div",[t.newCurCountData.length>0?i("div",{staticClass:"count-modal-left",class:t.countTabActive?"col-sm-9":"col-sm-12",style:"height:"+t.countContentHeight+"px;"},t._l(t.newCurCountData,function(e,s){return i("div",{key:s,staticClass:"row bar-row"},[i("div",{staticClass:"col-sm-2 count-bar-title",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"col-sm-10 new-count-left-chart"},t._l(e.details,function(s,n){return s.isShow?i("div",{key:n,staticClass:"new-count-container"},[i("div",{staticClass:"new-title",attrs:{title:s.title}},[t._v(t._s(s.title))]),t._v(" "),i("div",{staticClass:"count-bar-container",style:"500px;",attrs:{title:t.countTabActive}},t._l(s.statisticsResult,function(e,n){return i("div",{key:n,staticClass:"bar-container",style:"width:"+((t.newBarLength-s.statisticsResult.length*t.barCircleWidth)*parseFloat(e.percent)/100+8)+"px;"},[i("p",{staticClass:"count-bar",style:"opacity:"+(1-(s.statisticsResult.length>0?.75*n/s.statisticsResult.length:0))+";",attrs:{title:e.name+" "+e.percent}}),t._v(" "),(t.newBarLength-s.statisticsResult.length*t.barCircleWidth)*parseFloat(e.percent)/100+8>=40?i("p",{staticClass:"count-bar-text",style:"width:"+((t.newBarLength-s.statisticsResult.length*t.barCircleWidth)*parseFloat(e.percent)/100+8)+"px;",attrs:{title:e.name+" "+e.count+"人"}},[t._v(t._s(e.name)+" "+t._s(e.count)+"人")]):i("p",{staticClass:"count-bar-text"},[t._v(" ")])])}),0),t._v(" "),i("i",{staticClass:"maticon more-vert-icon dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},domProps:{innerHTML:t._s(t.icons("more_vert"))}},[t._v("more_vert")]),t._v(" "),i("ul",{staticClass:"dropdown-menu count-bar-more"},[i("li",{on:{click:function(i){return t._exportCurCount(s,e)}}},[t._v("导出此统计项数据")])])]):t._e()}),0)])}),0):i("div",{staticClass:"count-modal-left",class:t.countTabActive?"col-sm-9":"col-sm-12",style:"height:"+t.countContentHeight+"px;"},[i("h3",{staticClass:"text-center"},[t._v("暂无统计")])])]):i("div",[t.curCountData.length>0?i("div",{staticClass:"count-modal-left",class:t.countTabActive?"col-sm-9":"col-sm-12",style:"height:"+t.countContentHeight+"px;"},t._l(t.curCountData,function(e,s){return i("div",{key:s,staticClass:"row bar-row"},[i("div",{staticClass:"col-sm-2 count-bar-title",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"col-sm-10 count-left-chart"},[i("div",{staticClass:"count-bar-container",style:558},t._l(e.details,function(s,n){return i("div",{key:n,staticClass:"bar-container",style:"width:"+((t.barLength-e.details.length*t.barCircleWidth)*parseFloat(s.percent)/100+8)+"px;"},[i("p",{staticClass:"count-bar",style:"opacity:"+(1-(e.details.length>0?.75*n/e.details.length:0))+";",attrs:{title:s.name+" "+s.percent}}),t._v(" "),(t.barLength-e.details.length*t.barCircleWidth)*parseFloat(s.percent)/100+8>=40?i("p",{staticClass:"count-bar-text",style:"width:"+((t.barLength-e.details.length*t.barCircleWidth)*parseFloat(s.percent)/100+8)+"px;",attrs:{title:s.name+" "+s.count+"人"}},[t._v(t._s(s.name)+" "+t._s(s.count)+"人")]):i("p",{staticClass:"count-bar-text"},[t._v(" ")])])}),0),t._v(" "),i("i",{staticClass:"maticon more-vert-icon dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},domProps:{innerHTML:t._s(t.icons("more_vert"))}},[t._v("more_vert")]),t._v(" "),i("ul",{staticClass:"dropdown-menu count-bar-more"},[i("li",{on:{click:function(i){return t._exportCurCount(e)}}},[t._v("导出此统计项数据")])])])])}),0):i("div",{staticClass:"count-modal-left",class:t.countTabActive?"col-sm-9":"col-sm-12",style:"height:"+t.countContentHeight+"px;"},[i("h3",{staticClass:"text-center"},[t._v("暂无统计")])])])]),t._v(" "),t.countTabActive?i("div",{staticClass:"col-sm-3 count-modal-right"},["filter"===t.countTabActive?i("div",{staticClass:"filter-container",style:"height:"+t.setHeight+"px;"},[2!=t.curCheckType?i("v-select",{staticClass:"btn-block filter-select",attrs:{options:t.collegeSelectOptions,"options-value":"code","options-label":"name",autoSelect:!1,value:t.defaultOptions.college},on:{afterSelected:t._afterSelectCollege}}):t._e(),t._v(" "),i("v-select",{staticClass:"btn-block filter-select",attrs:{options:t.gradeOptions,"options-value":"id","options-label":"label",autoSelect:!1,value:t.defaultOptions.grade},on:{afterSelected:t._afterSelectGrade}}),t._v(" "),i("v-select",{staticClass:"btn-block filter-select",attrs:{options:t.dictTypes,"options-value":"value","options-label":"label",autoSelect:!1,value:t.defaultOptions.studentType},on:{afterSelected:t._afterSelectDisTypes}})],1):"setting"===t.countTabActive?i("div",{staticClass:"setting-container"},[t.isAddCombinationCount?i("div",{staticClass:"add-combination-count",style:"height:"+t.setHeight+"px;"},[i("div",{staticClass:"header-title"},[t._v("组合统计项")]),t._v(" "),i("div",{staticClass:"combination-count-list",style:"height:"+t.combContentHeight+"px;"},t._l(t.combinationCountItemData,function(e,s){return i("div",{key:s,staticClass:"input-group"},[i("span",{on:{click:function(i){return t._checkCombCountItem(e,s)}}},[t.combCountItemSelectData.nameArr.indexOf(e.name)>=0?i("i",{staticClass:"maticon checkbox-icon checked-color active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon checkbox-icon unchecked-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"checkbox-name",class:t.combCountItemSelectData.nameArr.indexOf(e.name)>=0?"checked-color":"unchecked-color",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),t.combCountItemSelectData.nameArr.indexOf(e.name)>=0?i("i",{staticClass:"maticon pull-right more-icon dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},domProps:{innerHTML:t._s(t.icons("more_vert"))},on:{click:function(i){return t._clickCombCountItem(i,e,s)}}},[t._v("more_vert")]):t._e(),t._v(" "),i("ul",{staticClass:"dropdown-menu count-list-more"},[i("div",{staticClass:"creat-modal-header"},[i("i",{staticClass:"maticon pull-right close-btn",domProps:{innerHTML:t._s(t.icons("close"))},on:{click:t._closeCountItemModal}},[t._v("close")])]),t._v(" "),i("div",{staticClass:"creat-modal-content"},t._l(e.details,function(e,s){return i("div",{staticClass:"input-group"},[i("span",{on:{click:function(i){return t._checkCombCountOption(e)}}},[t.curSelectCombOptions.indexOf(e.name)>=0?i("i",{staticClass:"maticon checkbox-icon checked-color active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon checkbox-icon unchecked-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"checkbox-name",class:t.curSelectCombOptions.indexOf(e.name)>=0?"checked-color":"unchecked-color",attrs:{title:e.name}},[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"maticon pull-right more-icon",domProps:{innerHTML:t._s(t.icons("more_vert"))}},[t._v("more_vert")])])}),0)])])}),0),t._v(" "),i("div",{staticClass:"combination-count-footer"},[i("button",{staticClass:"btn pull-right count-sureBtn clearBtnBorder",class:{disabled:t.isDisabled},attrs:{type:"button"},on:{click:function(e){return t._sureCombination(t.isDisabled)}}},[t._v("确定")]),t._v(" "),i("button",{staticClass:"btn pull-right count-cancelBtn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.isAddCombinationCount=!1}}},[t._v("取消")])])]):i("div",{staticClass:"setting-container-list box_flex column",style:"height:"+t.setHeight+"px;"},[i("div",{staticClass:"radio-list flex_shrink"},t._l(t.countRadios,function(e,s){return e.isShow?i("div",{key:s,staticClass:"input-group"},[i("span",[e.isChecked?i("i",{staticClass:"maticon radio-icon checked-color",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))},on:{click:function(i){return t._changeRadio(s,e)}}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon radio-icon unchecked-color",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))},on:{click:function(i){return t._changeRadio(s,e)}}},[t._v("radio_button_unchecked")])]),t._v(" "),i("span",{staticClass:"radio-name",class:e.isChecked?"checked-color":"unchecked-color"},[t._v(t._s(e.label))])]):t._e()}),0),t._v(" "),t.isCollegeOrPlayer?t._e():i("div",{staticClass:"add-btn"},[i("button",{staticClass:"btn add-combination-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._showCombinationCount}},[t._v("新增组合统计项")])]),t._v(" "),t.isShowOverview?t._e():i("div",{staticClass:"combination-count-list grow_1"},t._l(t.countItemData,function(e,s){return i("div",{key:s,staticClass:"input-group"},[e.combination?i("span",[i("i",{staticClass:"maticon checkbox-icon checked-color active",domProps:{innerHTML:t._s(t.icons("delete"))},on:{click:function(i){return t._deleteCombCount(e,s)}}},[t._v("delete")])]):i("span",[t.isCollegeOrPlayer?i("span",{on:{click:function(i){return t._changeCountRadio(s,e)}}},[e.isChecked?i("i",{staticClass:"maticon checkbox-icon checked-color active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon checkbox-icon unchecked-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):i("span",{on:{click:function(i){return t._checkCountItem(e,s)}}},[t.countItemSelectArr.indexOf(e.name)>=0?i("i",{staticClass:"maticon checkbox-icon checked-color active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon checkbox-icon unchecked-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])])]),t._v(" "),i("span",{staticClass:"checkbox-name",class:t.countItemSelectArr.indexOf(e.name)>=0?"checked-color":"unchecked-color",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),t.isCollegeOrPlayer?i("i",{directives:[{name:"show",rawName:"v-show",value:e.isChecked,expression:"col.isChecked"}],staticClass:"maticon aa124 pull-right more-icon unchecked-color dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},domProps:{innerHTML:t._s(t.icons("more_vert"))},on:{click:function(i){return t._clickCountItem(i,e,s)}}},[t._v("more_vert")]):i("i",{directives:[{name:"show",rawName:"v-show",value:t.countItemSelectArr.indexOf(e.name)>=0||e.combination,expression:"countItemSelectArr.indexOf(col.name)>=0 || col.combination"}],staticClass:"maticon pull-right more-icon unchecked-color dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},domProps:{innerHTML:t._s(t.icons("more_vert"))},on:{click:function(i){return t._clickCountItem(i,e,s)}}},[t._v("more_vert")]),t._v(" "),i("ul",{staticClass:"dropdown-menu count-list-more"},[i("div",{staticClass:"creat-modal-header"},[i("i",{staticClass:"maticon pull-right close-btn",domProps:{innerHTML:t._s(t.icons("close"))},on:{click:t._closeCountItemModal}},[t._v("close")])]),t._v(" "),i("div",{staticClass:"creat-modal-content"},t._l(e.details,function(e,s){return i("div",{key:s,staticClass:"input-group"},[i("span",{on:{click:function(i){return t._checkCountOption(e)}}},[t.countOptionSelectArr.indexOf(e.name)>=0?i("i",{staticClass:"maticon checkbox-icon checked-color active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon checkbox-icon unchecked-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"checkbox-name",class:t.countOptionSelectArr.indexOf(e.name)>=0?"checked-color":"unchecked-color",attrs:{title:e.name}},[t._v(t._s(e.name))])])}),0)])])}),0)])]):t._e()]):t._e()])])]),t._v(" "),i("v-modal",{staticClass:"modelBaobiao",attrs:{show:t.showSearchModel,effect:"fade",width:"720"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("高级搜索")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[t._l(t.advancedSearch.searchItems,function(e,s){return i("div",{key:"search-item-"+s,staticClass:"form-group advancedSearch-group"},[i("div",{staticClass:"box_flex align_center advanced"},[i("v-select",{attrs:{options:t.advancedSearch.tableOptions,"options-value":"name","options-label":"title",search:!0},on:{afterSelected:function(i){return t.advanceSelected("table",e)}},model:{value:e.table,callback:function(i){t.$set(e,"table",i)},expression:"searchItem.table"}}),t._v(" "),e.tableChild?t._e():i("v-select",{attrs:{options:e.condition,search:!0},on:{afterSelected:t.advanceSelected},model:{value:e.conditionVal,callback:function(i){t.$set(e,"conditionVal",i)},expression:"searchItem.conditionVal"}}),t._v(" "),"empty"!==e.conditionVal&&"filled"!==e.conditionVal?i("div",{staticClass:"box_flex align_center"},[e.table&&-1!==e.table.indexOf("table")?i("v-select",{attrs:{options:t.getTableChildList(e.table),search:!0,"options-value":"name","options-label":"title","data-index":s},on:{afterSelected:function(i){return t.advanceSelected("tableChild",e)}},model:{value:e.tableChild,callback:function(i){t.$set(e,"tableChild",i)},expression:"searchItem.tableChild"}}):t._e(),t._v(" "),e.tableChild?i("v-select",{attrs:{options:e.childCondition,search:!0},on:{afterSelected:t.advanceSelected},model:{value:e.childConditionVal,callback:function(i){t.$set(e,"childConditionVal",i)},expression:"searchItem.childConditionVal"}}):t._e(),t._v(" "),"empty"!==e.childConditionVal&&"filled"!==e.childConditionVal?i("div",{staticClass:"box_flex align_center"},[e.table&&-1!==e.table.indexOf("address")?i("v-select",{attrs:{options:t.getAddressOptions("province"),search:!0,"options-value":"name","options-label":"name","data-index":s},on:{afterSelected:t.advanceSelected},model:{value:e.province,callback:function(i){t.$set(e,"province",i)},expression:"searchItem.province"}}):t._e(),t._v(" "),e.province&&e.table&&-1!==e.table.indexOf("address")?i("v-select",{attrs:{options:t.getAddressOptions("city",e.province),search:!0,"options-value":"name","options-label":"name"},on:{afterSelected:t.advanceSelected},model:{value:e.city,callback:function(i){t.$set(e,"city",i)},expression:"searchItem.city"}}):t._e(),t._v(" "),e.city&&-1!==e.table.indexOf("address")?i("v-select",{attrs:{options:t.getAddressOptions("area",e.city,e.province),search:!0,"options-value":"name","options-label":"name"},on:{afterSelected:t.advanceSelected},model:{value:e.area,callback:function(i){t.$set(e,"area",i)},expression:"searchItem.area"}}):t._e(),t._v(" "),!(e.table&&-1!==e.table.indexOf("select")||e.table&&-1!==e.table.indexOf("radio"))||"eq"!==e.conditionVal&&"ne"!==e.conditionVal?"in"===e.conditionVal||"nin"===e.conditionVal||e.table&&-1!==e.table.indexOf("checkbox")&&("eq"===e.conditionVal||"ne"===e.conditionVal)?i("v-select",{attrs:{options:t.getInOptions(e.table),search:!0,multiple:"true"},on:{afterSelected:t.advanceSelected},model:{value:e.values,callback:function(i){t.$set(e,"values",i)},expression:"searchItem.values"}}):-1===e.tableChild.indexOf("checkbox")||"eq"!==e.childConditionVal&&"ne"!==e.childConditionVal?"in"!==e.childConditionVal&&"nin"!==e.childConditionVal&&(-1===e.tableChild.indexOf("select")&&-1===e.tableChild.indexOf("radio")||"eq"!==e.childConditionVal&&"ne"!==e.childConditionVal)?e.table&&-1===e.table.indexOf("address")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.values,expression:"searchItem.values"}],staticClass:"value-input",attrs:{type:"text"},domProps:{value:e.values},on:{input:function(i){i.target.composing||t.$set(e,"values",i.target.value)}}}):t._e():i("v-select",{attrs:{options:t.getInOptions(e.table,e.tableChild),search:!0,multiple:"true"},on:{afterSelected:t.advanceSelected},model:{value:e.values,callback:function(i){t.$set(e,"values",i)},expression:"searchItem.values"}}):i("v-select",{attrs:{options:t.getInOptions(e.table,e.tableChild),search:!0},on:{afterSelected:t.advanceSelected},model:{value:e.values,callback:function(i){t.$set(e,"values",i)},expression:"searchItem.values"}}):i("v-select",{attrs:{options:t.getInOptions(e.table),search:!0},on:{afterSelected:t.advanceSelected},model:{value:e.values,callback:function(i){t.$set(e,"values",i)},expression:"searchItem.values"}})],1):t._e()],1):t._e(),t._v(" "),i("button",{staticClass:"btn deleteBtn clearBtnBorder",staticStyle:{"margin-left":"12px"},attrs:{type:"button","data-index":s},on:{click:function(e){return t.deleteSearchItem(s)}}},[t._v("删除")])],1)])}),t._v(" "),i("button",{staticClass:"btn addBtn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.addSearchItem()}}},[t._v("新增")])],2),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showSearchModel=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",class:{disabled:t.isDisabled},attrs:{type:"button"},on:{click:function(e){return t.execAdvancedSearch()}}},[t._v("搜索")])])]),t._v(" "),i("v-modal",{staticClass:"modelBaobiao",attrs:{show:t.showBaobiaomodel,effect:"fade",width:"650"}},[i("div",{staticClass:"modal-body",staticStyle:{height:"500px !important",overflow:"hidden"},attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"tab-div"},t._l(t.jisuanArray,function(e,s){return i("div",{staticClass:"tab",class:{active:t.clickIndex==s},on:{click:function(i){return t._checkBiao(e.reportName,s)}}},[t._v(t._s(e.reportName))])}),0),t._v(" "),i("div",{staticClass:"middle",staticStyle:{overflow:"hidden"}},[i("div",{staticClass:"left_menu",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"}},t._l(t.jisuanArray[t.clickIndex].appReportFlowRangeVO,function(e){return i("div",{staticClass:"menu_item"},[i("p",{staticClass:"titlemenu"},[t._v(t._s("全校"==e.range?"":e.range+":"))]),t._v(" "),t._l(e.appReportCountVO,function(e){return i("p",{staticClass:"caculate"},[i("span",{staticClass:"fx"},[t._v(t._s(e.countName))]),t._v(" "),i("span",{staticClass:"zhi"},[t._v(t._s(e.countResult))])])})],2)}),0),t._v(" "),i("div",{staticClass:"right_select"},[i("h5",{staticClass:"titleselect"},[t._v("选择表单统计范围 :")]),t._v(" "),i("div",{staticClass:"info-options"},[i("span",{on:{click:function(e){return t._setValue(1)}}},[i("i",{staticClass:"maticon",class:1==t.opt?"active":"",domProps:{innerHTML:t._s(t.icons(1==t.opt?"radio_button_checked":"radio_button_unchecked"))}}),t._v("总览\n            ")])]),t._v(" "),i("div",{staticClass:"info-options"},[i("span",{on:{click:function(e){return t._setValue(2)}}},[i("i",{staticClass:"maticon",class:2==t.opt?"active":"",domProps:{innerHTML:t._s(t.icons(2==t.opt?"radio_button_checked":"radio_button_unchecked"))}}),t._v("各学院对比\n            ")])])])])]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showBaobiaomodel=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._baobiaoExport}},[t._v("导出")])])])],1):t._e()},staticRenderFns:[]};var a=function(t){i("FwhH")},o=i("Mz/3")(s.a,n,!1,a,null,null);e.default=o.exports},lVou:function(t,e,i){"use strict";(function(t){var s=i("WxFH"),n=i.n(s),a=i("3SZ7"),o=i.n(a),r=i("GbEp"),c=i.n(r),u=i("7A1g"),l=i.n(u),d=i("C331"),h=i("L4f1"),p=i.n(h),f=i("tjnL");e.a={mixins:[f.a],inject:{windowObj:{default:null}},props:{appData:{default:null},data:{default:null},entranceType:{default:null}},created:function(){var t=this;this.data&&this.data.appData?(this.data.appData.app?this.curApp=JSON.parse(o()(this.data.appData.app)):this.curApp=JSON.parse(o()(this.data.appData)),this._initBusinessList(),this._getFlowData()):(this.$waiting.show(),Object(d.d)({url:"/api/app/"+this.data.data.id,type:"get",success:function(e){e.state?(t.closeWaiting(),t.curApp=e.data,t._initBusinessList(),t._getFlowData()):t.$toast(e.message)}}).always(function(){t.$waiting.close()})),this.myAffairsColumn=[{id:"createTime",title:"发起时间",className:"text-left",hidden:!1,width:300},{id:"state",title:"状态",className:"text-left",hidden:!1,width:300,formatter:function(e,i){var s="";return"pending"===e.status.toLowerCase()?s=t.resultMessageJson[e.lastAction]?t.resultMessageJson[e.lastAction].replace("{{node}}",e.currentNode.name):"":"end"===e.status.toLowerCase()&&(s=t.resultMessageJson[e.result.toLowerCase()]?t.resultMessageJson[e.result.toLowerCase()].replace("{{node}}",e.currentNode.name):""),s}},{title:"操作",className:"text-center",hidden:!1,width:300,formatter:function(e,i){return t.optsGroup}}],this.myProxyColumn=[{id:"userNo",title:this.numberDesc,className:"text-left",width:115,search:{type:"input",data:{autoFocus:!0,placeholder:this.numberDesc}},hidden:!1,formatter:function(t,e){return t.applicant.userNo}},{id:"account",title:"新生账号",className:"text-left",width:115,search:{type:"input"},hidden:!1,formatter:function(t,e){return t.applicant.account}},{id:"name",title:"姓名",className:"text-left",width:90,search:{type:"input"},hidden:!1,formatter:function(t,e){return t.applicant.name}},{id:"grade",title:"年级",className:"text-left",width:60,search:{type:"input",data:{}},hidden:!1,formatter:function(t,e){return t.applicant.grade}},{id:"collegeCode",title:"学院",className:"text-left",width:100,search:{type:"select",data:{url:"/api/colleges",optionsLabel:"name",optionsValue:"code",placeholder:"学院"}},hidden:!1,formatter:function(t,e){return t.applicant.collegeName}},{id:"educationLevel",title:"培养层次",className:"text-left",width:80,search:{type:"select",data:{url:"/api/system/dictTypes/1000/dicts",optionsLabel:"label",optionsValue:"value"}},hidden:!1,formatter:function(t,e){return t.applicant.educationLevel}},{id:"createTime",title:"发起时间",className:"text-left",hidden:!1,width:150},{id:"state",title:"状态",className:"text-left",hidden:!1,width:150,formatter:function(e,i){var s="";return"pending"===e.status.toLowerCase()?s=t.resultMessageJson[e.lastAction]?t.resultMessageJson[e.lastAction].replace("{{node}}",e.currentNode.name):"":"end"===e.status.toLowerCase()&&(s=t.resultMessageJson[e.result.toLowerCase()]?t.resultMessageJson[e.result.toLowerCase()].replace("{{node}}",e.currentNode.name):""),s}},{title:"操作",className:"text-center",hidden:!1,width:60,formatter:function(e,i){return t.optsGroup}}],this.curApp.appType&&"3"!==this.curApp.appType.userType&&this.myProxyColumn.splice(1,1),Object(d.d)({url:"/api/relationship/getSelectOptions",dataType:"json",type:"get",success:function(e){e.state&&(t.collegeOptions=e.data.colleges||[],t.gradeOptions=e.data.grades||[])}})},data:function(){var t;return t={changeColunm:!0,length:0,tableName:"",clickIndex:0,jisuanArray:[{titleName:"报表1",contentArr:[{titleName:"",cal:[{name:"计算1",caculate:1e3},{name:"计算2",caculate:500}]},{titleName:"辅导员B",cal:[{name:"计算3",caculate:1e3},{name:"计算4",caculate:500}]}]},{titleName:"报表2",contentArr:[{titleName:"辅导员C",cal:[{name:"计算5",caculate:1e3},{name:"计算6",caculate:500}]},{titleName:"辅导员D",cal:[{name:"计算7",caculate:1e3},{name:"计算8",caculate:500}]}]}],opt:1,selectZhi:1,isSetBaobiao:!1,showBaobiaomodel:!1,collapsed:!1,curApp:null,curBusinessId:null,curTab:"guide",formData:null,myAffairsColumn:[],myProxyColumn:[],myCheckColumn:[],columnSearchType:{input:"input",number:"input",address:"input",select:"select",radio:"select",datetime:"datetime"},statusOptions:[{id:"PENDING",text:"待审核"},{id:"WAIT_RESUBMIT",text:"等待重新提交"},{id:"SUCCESS",text:"成功"},{id:"FAILED",text:"失败"},{id:"CANCELED",text:"取消申请"},{id:"OVERTIME",text:"超时"}],preview:!1,doNotClosePreview:["countermand","carbonCopy"],needAdviceAuthority:["reject","agree","disagree","carbonCopy","transfer"],businessList:[],errorMessage:"",authorities:null,myAffairsUrl:"/table-data/processEngine/myProcessInstances",myProxyUrl:"",myCopyUrl:"",myCheckUrl:"",recordData:[],outputList:[],formFields:[],collegeOptions:[],gradeOptions:[],log:null,outputModalShow:!1,notAllowOutput:["label","splitLine"],tableNotShowFields:["table","image"],baseFields:["姓名","学号","年级","新生账号","学院","培养层次","状态","操作"],resultMessageJson:{overtime:"申请在{{node}}节点超时",rescissory:"申请者取消申请",disable:"业务期停用，表单废弃",success:"申请已通过",fail:"申请在{{node}}节点不通过",end:"已结束",submit:"待{{node}}节点审核",proxySubmit:"待{{node}}节点审核",agree:"待{{node}}节点审核",reject:"申请被驳回至{{node}}节点",countermand:"申请被撤回至{{node}}节点"},batchSelections:[],showSetDeliverModal:!1,proxyStatus:{showProxyModal:!1,proxyWay:"single",resultMessage:"",proxyUserId:"",proxyUserValid:!1},userId:"",userNo:"",resultMessage:"",allowBatch:[],initDataOfChart:null,exportFiledArr:[],curInstance:null,countCollegeCode:"",countData:[],historyCountData:[],historyCountOptions:[],barCircleWidth:8,countPartShow:!1,countModal:!1,countTabActive:"",isAddCombinationCount:!1,dictTypes:[],countRadios:[],defaultOptions:{college:"0",grade:"0",studentType:"0"}},n()(t,"gradeOptions",[]),n()(t,"collegeSelectOptions",[]),n()(t,"countItemData",[]),n()(t,"countItemSelectArr",[]),n()(t,"multipleSelectComparison",[]),n()(t,"countOptionData",[]),n()(t,"countOptionArr",{selectArr:[],oldData:[]}),n()(t,"countOptionSelectArr",[]),n()(t,"countOptionIndex",0),n()(t,"countOptionMark",""),n()(t,"isShowOptionsModal",{countOption:!1,combinationCount:!1}),n()(t,"combinationCountItemData",[]),n()(t,"combCountItemSelectData",{nameArr:[],titleArr:[]}),n()(t,"combCountOptionData",[]),n()(t,"curSelectCombOptions",[]),n()(t,"selectCombOptions",[]),n()(t,"combstatisticsItems",{combination:!0,title:"",name:"",options:[]}),n()(t,"combCountOptionIndex",0),n()(t,"countSearchCollegeCode",""),n()(t,"countSearchStudentType",""),n()(t,"countSearchGrade",""),n()(t,"countCollegeName",""),n()(t,"countStudentTypeName",""),n()(t,"countGradeName",""),n()(t,"isCollegeOrPlayer",!1),n()(t,"curCountItems",[]),n()(t,"curCheckType",0),n()(t,"isCombination",!1),n()(t,"saveCollegeOrPlyaerCountData",[]),n()(t,"newCollegeOrPlayerData",[]),n()(t,"curSelectCountData",{}),n()(t,"saveCountData",{countTabActive:"",select:{college:"0",grade:"0",studentType:"0"},countType:{id:0,value:{}},countItemData:{id:0,value:{}},countData:[],combCountItemData:[],oldCountItemData:[],countItemSelectArr:[],newAddcountItem:[],countOptionArray:[]}),n()(t,"curStatisticsItems",[]),n()(t,"overviewHistoryData",{countData:[],countItemData:[],countItemSelectArr:[],countOptionSelectArr:[]}),n()(t,"collegeHistoryData",{countData:[],countItemData:[],countOptionSelectArr:[]}),n()(t,"instructorHistoryData",{countData:[],countItemData:[],countOptionSelectArr:[]}),n()(t,"previousIndexArr",[]),n()(t,"newAddcountItem",[]),n()(t,"isRecordCurOptionsArr",!1),n()(t,"countItemHeight",125),n()(t,"setHeight",628),n()(t,"countContentHeight",635),n()(t,"combContentHeight",510),n()(t,"collegeComparison",!1),n()(t,"instructorComparison",!1),n()(t,"curCountOptions",{}),n()(t,"isShowOverview",!0),n()(t,"isDisabled",!1),n()(t,"curBusinessTime",""),n()(t,"curCountNodeId",null),n()(t,"curCountDone",null),n()(t,"allCountText",""),n()(t,"overviewCountData",[]),n()(t,"flowAllCountData",[]),n()(t,"newPieColor",[]),n()(t,"pdfSetting",{index:0,list:[],downloading:!1,zip:new c.a,timer:null,modalShow:!1,log:!1,todoUrl:"/api/processEngine/processInstances/tasks/todo/ids",doneUrl:"/api/processEngine/processInstances/tasks/done/ids"}),n()(t,"scFormFields",{publisherName:"发起者名称",publisherUserNo:"发起者学号",publisherCollege:"发起者学院",publisherEducationLevel:"发起者培养层次",PUBLISHER:"发布方",SPONSOR:"主办方",PURVEYOR:"承办方",ASSISTANT:"协办方",applyStartTime:"报名开始时间",applyEndTime:"报名截止时间",startTime:"活动开始时间",endTime:"活动结束时间",place:"活动地点",contactWay:"联系方式",cover:"活动封面",images:"活动图片",introduction:"活动简介",contentTypeName:"活动类型",studentOriented:"面向群体",userLimit:"人数限制",applyAuditNeeded:"报名审核",countParticipant:"参与人数",countSign:"签到人数",commentCount:"评论数",likeCount:"点赞数",feedbackImages:"活动反馈图片",activitySituation:"活动反馈内容",participantScore:"参与者加分",publisherScore:"发布者加分"}),n()(t,"scFormFieldsArr",{check:["publisher","organizations","applyStartTime","applyEndTime","startTime","endTime","place","contactWay","images","introduction","contentTypeName","studentOriented","userLimit","applyAuditNeeded"],feedback:["publisher","organizations","applyStartTime","applyEndTime","startTime","endTime","place","contactWay","images","introduction","contentTypeName","studentOriented","userLimit","applyAuditNeeded","countParticipant","countSign","commentCount","likeCount","feedbackImages","activitySituation","participantScore","publisherScore"]}),n()(t,"scStatusStr",{WAIT_PUBLISH:"等待重新发布",AUDIT_ING:"活动审核中",SUCCESS:"活动发布成功",FAIL:"活动审核不通过",RESCISSORY:"活动已放弃",REMOVED:"活动已下架",NOT_REVIEW:"活动反馈审核中",PASS:"活动反馈已通过",NOT_PASS:"活动反馈不通过",WAIT_SUBMIT:"活动反馈审核中"}),n()(t,"importParams",{parentPageTitle:"单人代发",downloadTemplateUrl:"",downloadErrorTemplateUrl:"",checkTemplateUrl:"",templateName:"代发人名单导入模板",importBtnType:null}),n()(t,"isMergeTable",!1),t},computed:{curBusiness:function(){var t=this,e=null;return this.businessList.forEach(function(i){i.id===t.curBusinessId&&(e=i)}),e},optsGroup:function(){var t=this,e=[{tag:"a",text:"查看",className:"opt-btn",callback:function(e,i){t.isSc?(t.curInstance=e,t._getInitData(e.id,function(e){t._initPreviewOfSc(e)})):(t.curInstance=e,t._initPreview(t.curInstance))}}];return(this.curTab.indexOf("uncheck")>=0||this.isSc&&this.curTab.indexOf("unfeedback")>=0)&&(e.push({tag:"a",text:"同意",className:"opt-btn",callback:function(e,i){t.isSc?(t.curInstance=e,t._getInitData(e.id,function(e){t._submit({type:"agree",formData:t.recordData.formData,title:"同意"})})):t._getInitData(e.id,function(e){t.recordData=e,t._submit({type:"agree",formData:t.recordData.formData,title:"同意"})})}}),e.push({tag:"button-group",text:this.icons("more_vert"),className:"maticon opt-btn",optList:[{text:"否决",callback:function(e,i){t.isSc?(t.curInstance=e,t._getInitData(e.id,function(e){t._submit({type:"disagree",formData:t.recordData.formData,title:"否决申请"})})):t._getInitData(e.id,function(e){t.recordData=e,t._submit({type:"disagree",formData:t.recordData.formData,title:"否决申请"})})}}]})),e},curCountData:function(){var t=this;return this.countOptionArr.oldData=[],this.countData.forEach(function(e,i){var s=0,n=e.details.length;e.details.forEach(function(t){t.count=null===t.count?0:t.count,s+=t.count}),e.details.forEach(function(e){e.count=null===e.count?0:e.count;var i=0;i=0===s?1/n:e.count/s;var a=Number(100*i).toFixed(2)+"%";t.$set(e,"percent",a)})}),this.countItemData.forEach(function(e){t.countOptionArr.oldData.push(JSON.parse(o()(e.details)))}),this.countData},newCurCountData:function(){var t=this;return this.isRecordCurOptionsArr||this.isCollegeOrPlayer&&(this.countOptionArr.selectArr=[]),this.newCollegeOrPlayerData.forEach(function(e){e.details.forEach(function(e){var i=0,s=e.statisticsResult.length;e.statisticsResult.forEach(function(t,e){t.count=null===t.count?0:t.count,i+=t.count}),e.statisticsResult.forEach(function(e){e.count=null===e.count?0:e.count;var n=0;n=0===i?1/s:e.count/i;var a=Number(100*n).toFixed(2)+"%";t.$set(e,"percent",a)})})}),this.countItemData.forEach(function(e,i){var s=[];JSON.parse(o()(e.details)).forEach(function(t){s.push(t.name)}),t.countOptionArr.selectArr.push({id:i,value:s})}),this.newCollegeOrPlayerData},curCountUrl:function(){return 2===this.curCheckType?"/api/statistics/processEngine/business/"+this.curBusinessId+"/statistics/collegeComparison?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType:4===this.curCheckType?"/api/statistics/processEngine/business/"+this.curBusinessId+"/statistics/classComparison?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode:"/api/statistics/processEngine/business/"+this.curBusinessId+"/statistics/playerComparison?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode},exportCountUrt:function(){var t="/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode;return 1===this.curCheckType?t="/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode:2===this.curCheckType?t="/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/collegeComparison/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType:3===this.curCheckType?t="/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/playerComparison/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode:4===this.curCheckType&&(t="/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/classComparison/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode),t},exportCurCountUrl:function(){return 2===this.curCheckType?"/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/details/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType:"/downloads/statistics/processEngine/business/"+this.curBusinessId+"/statistics/details/excel?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode},barLength:function(){return this.countTabActive?558:800},newBarLength:function(){return this.countTabActive?500:742},isSc:function(){return this.data&&this.data.data&&"activityAudit"===this.data.data.appType},numberDesc:function(){var t="学号";return this.curApp&&this.curApp.appType&&(t="2"===this.curApp.appType.userType?"教工号":"4"===this.curApp.appType.userType?"学工号":"学号"),t}},watch:{appData:function(){this.appData?(this.appData.app?this.curApp=JSON.parse(o()(this.appData.app)):this.curApp=JSON.parse(o()(this.appData)),this._initBusinessList()):this.curApp=null},curApp:function(){this.isSc||this.myCheckColumn&&this.myCheckColumn[1]&&this.$set(this.myCheckColumn[1],"title",desc)},myCheckUrl:function(){this._initHistoryColumn()},myCopyUrl:function(){this._initHistoryColumn()},windowObj:{deep:!0,handler:function(e){var i=125;if(this.collegeComparison&&(i+=48),this.instructorComparison&&(i+=48),2===this.previousIndexArr[0]||3===this.previousIndexArr[0]?1===this.curCheckType&&(i+=53):2!==this.curCheckType&&3!==this.curCheckType&&4!==this.curCheckType||(i-=53),t(document).height()<877&&t(document).height()>600){var s=t(document).height()-200;t(".count-modal .modal-content").css("height",s+"px"),this.setHeight=s-88,this.countItemHeight=s-88-i-48,this.countContentHeight=s-80,this.combContentHeight=s-205}else t(".count-modal .modal-content").css("height","720px"),this.setHeight=628,this.countContentHeight=635,this.combContentHeight=510,this.countItemHeight=628-i-48}}},mounted:function(){var e=this;t(".app-detail-page").off("click"),t(".app-detail-page").on("click",".guide-content img",function(i){var s=t(e).attr("src");s.indexOf(e.imageUrlPrefix)>=0&&e.$preview({type:"png",url:s})}),t(".app-detail-page").on("click",".guide-content a",function(i){var s=t(e).attr("href");if(s.indexOf(e.fileUrlPrefix)>=0){if(i.preventDefault(),/(iP)/g.test(navigator.userAgent))return e.$toast("您的ios设备不支持附件下载，请用其它设备打开！造成不便尽请谅解~"),!1;var n=document.createElement("iframe");n.src=s,n.style.display="none",document.body.appendChild(n)}})},methods:{_baobiaoExport:function(){var t="";if(1==this.opt){t="";for(var e=0;e<this.length;e++)e==this.length-1?t+="school":t+="school,"}else if(2==this.opt)for(e=0;e<this.length;e++)e==this.length-1?t+="college":t+="college,";window.location.href="/downloads/report/"+this.curBusinessId+"/Excel/processInstances?range="+t+"&appId="+this.curApp.id+"&excelName="+this.curApp.name+"报表&tableName="+this.tableName+"&nodeId="+this.curCountNodeId},_checkBiao:function(t,e){this.clickIndex=e},_setValue:function(t){var e=this;this.opt=t;var i="";1==t?i="school":2==t&&(i="college");var s=JSON.parse(o()(this.$refs[this.curTab+"_table"].tableSearchFields)),n=s.userNo?s.userNo:"",a=s.account?s.account:"",r=s.name?s.name:"",c=s.collegeCode?s.collegeCode:"",u=s.grade?s.grade:"",l=s.educationLevel?s.educationLevel:"",h=this.advancedSearchParams;h=h||"",Object(d.d)({url:"/api/report/"+this.curBusinessId+"/report/processInstances?range="+i+"&appId="+this.curApp.id+"&nodeId="+this.curCountNodeId+"&userNo="+n+"&account="+a+"&name="+r+"&collegeCode="+c+"&educationLevel="+l+"&grade="+u+h,dataType:"json",type:"get",success:function(t){t.state&&null!==t.data?e.jisuanArray=t.data:e.$toast("未获取到报表信息")}})},_showBaobiao:function(){var t=this;this.tableName="",this.opt=1;var e=JSON.parse(o()(this.$refs[this.curTab+"_table"].tableSearchFields)),i=e.userNo?e.userNo:"",s=e.account?e.account:"",n=e.name?e.name:"",a=e.collegeCode?e.collegeCode:"",r=e.grade?e.grade:"",c=e.educationLevel?e.educationLevel:"",u=this.advancedSearchParams;u=u||"",Object(d.d)({url:"/api/report/"+this.curBusinessId+"/report/processInstances?range=school&appId="+this.curApp.id+"&nodeId="+this.curCountNodeId+"&userNo="+i+"&account="+s+"&name="+n+"&collegeCode="+a+"&grade="+r+"&educationLevel="+c+u,dataType:"json",type:"get",success:function(e){if(e.state&&null!==e.data){t.showBaobiaomodel=!0,t.jisuanArray=e.data;for(var i=0;i<e.data.length;i++)t.length=e.data.length,i==e.data.length-1?t.tableName+=e.data[i].reportName:t.tableName+=e.data[i].reportName+","}else t.$toast("未获取到报表信息")}})},_mergeTable:function(){this.isMergeTable=!this.isMergeTable},_closePreview:function(){var t=Object(d.a)();this.myCheckUrl=this.myCheckUrl+"?timeStamp="+t,this.preview=!1,this._focus(),this.proxyStatus.proxyUserId="",this.curInstance=null},exportModel:function(){null==this.curCountNodeId&&(this.curCountNodeId="");var t=this.advancedSearchParams;t=t||"",window.location.href="/downloads/manageWord/"+this.curBusinessId+"/flowFiles?appId="+this.curApp.id+"&nodeId="+this.curCountNodeId+"&applicantUserId="+this.userNo+"&instanceId="+this.curInstance.id+t},_initHistoryColumn:function(){var t=this._getStorage();this.myCheckColumn.forEach(function(e){t.forEach(function(t){e.id&&e.id===t.id&&(e.hidden=t.hidden)})})},_initPreview:function(t){var e=this;this.$waiting.show(),this._getAuthorityData(t.id,function(t){e.authorities=t||[]}),this._getFormLayout(t.businessId,this.curTab.split("checked")[1]||this.curTab.split("check")[1]||t.currentNode.id||"",function(i){e.formData=i,e.formData.components.forEach(function(t){e.$set(t,"x",t.location.left),e.$set(t,"y",t.location.top),e.$set(t,"w",t.size.width),e.$set(t,"h",t.size.height)}),e._getLog(t.id,function(t){e.log=t||null}),e._getInitData(t.id,function(t){e.$waiting.close(),e.recordData=t,e.preview=!0,e.pdfSetting.downloading&&(e.pdfSetting.title=(e.recordData.applicant.userNo||e.recordData.applicant.account)+"-"+e.recordData.applicant.name+"-"+e.recordData.createTime)})})},_initPreviewOfSc:function(t){var e=this,i=0,s=0,n=0,a=function(t,i,s){var n={name:"input_",title:"",componentType:["cover","images","feedbackImages"].indexOf(t)>=0||t.indexOf("image")>=0||t.indexOf("feedbackImages")>=0?"image":"input",properties:{authority:["participantScore","publisherScore"].indexOf(t)>=0?"optional":"readonly",basic:{content:"",placeholder:"",rows:1,options:[],exportable:!0,precision:0,dateFormat:"yyyy-MM-dd",tableFields:[],autoNumber:!1},style:{color:"",fontSize:""},verification:{regexExpression:"",maxLength:null,minLength:null,maxSelect:null,minSelect:null,maxValue:null,minValue:null,maxDate:null,minDate:null,fileFormat:[],fileMaxNumber:null,fileSize:10240,maxWidth:null,minWidth:null,maxHeight:null,minHeight:null}},initialization:{mode:"",dynamic:!1,properties:{dataField:"",sqlQuery:"",method:"",fixedValue:"",systemValue:"",params:[],dataSet:"",url:"",key:""}},initializationDynamic:!1,initializationValue:{stringValue:i},initializationValueMode:"",collector:{flag:!1,dataSet:"",dataField:""},events:[{name:"FOCUS",cases:[]},{name:"BLUR",cases:[]},{name:"CHANGE",cases:[]}],location:{top:s.y,left:s.x},size:{width:s.w,height:s.h}};n.name="input_"+t,n.title=e.scFormFields[t]||"&nbsp;",e.$set(n,"x",s.x),e.$set(n,"y",s.y),e.$set(n,"w",s.w),e.$set(n,"h",s.h),e.formData.components.push(n)},o=function(t){var e={x:i,y:s,w:3,h:1};return["cover","images","feedbackImages"].indexOf(t)>=0||t.indexOf("image")>=0||t.indexOf("feedbackImages")>=0?(e.h=2,e.w=3,0===i&&(n=2),i+e.w>12&&(i=0,s+=n,e.x=i,e.y=s)):"place"===t?(e.h=1,e.w=9,0==i&&(n=2),i+e.w>12&&(i=0,s+=n,e.x=i,e.y=s)):"introduction"===t||"activitySituation"===t?(e.h=1,e.w=12,0==i&&(n=2),i+e.w>12&&(i=0,s+=n,e.x=i,e.y=s)):(e.h=1,e.w=3,0==i&&(n=2),i+e.w>12&&(i=0,s+=n,e.x=i,e.y=s)),i+=e.w,e};this.formData={id:null,name:t.name,property:{script:""},components:[]},this.recordData={applicant:t.publisher,formData:[],status:"PENDING",updateTime:t.updateTime};var r=this.curTab.indexOf("feedback")>=0?"feedback":"check";this.scFormFieldsArr[r].forEach(function(e){if("images"===e)t[e].forEach(function(t,e){if(t.isCover)a("cover",t.image,o("cover"));else{var i=1===e?"images":"image"+e;a(i,t.image,o(i))}});else if("feedbackImages"===e)t[e].forEach(function(t,i){var s=0===i?e:e+i;a(s,t,o(s))});else if("organizations"===e){var i={PUBLISHER:"",SPONSOR:"",PURVEYOR:"",ASSISTANT:""};for(var s in t[e].forEach(function(t,e){i[t.type]+=t.organizationName}),i)a(s,i[s],o(s))}else if("publisher"===e)a("publisherName",t.publisher.name,o(e)),a("publisherUserNo",t.publisher.userNo,o(e)),a("publisherCollege",t.publisher.collegeName,o(e)),a("publisherEducationLevel",t.publisher.educationLevel,o(e));else if("studentOriented"===e){var n=[];t.studentOriented.forEach(function(t){n.push(t.name)}),a("studentOriented",n.length>0?n.join(" "):"全校",o(e))}else"applyAuditNeeded"===e?a("applyAuditNeeded",t.applyAuditNeeded?"是":"否",o(e)):"userLimit"===e?a("userLimit",t.userLimit||"无",o(e)):"contentTypeName"===e?a("contentTypeName",(t.contentTypeParentName||"")+" "+(t.contentTypeName||""),o(e)):a(e,t[e],o(e))}),this.log=[],this.authorities=[],this.preview=!0,this._getAuthorityData(t.processInstanceId,function(t){var i;(i=t.indexOf("submit"))>=0&&t.splice(i,1),e.authorities=t||[]}),this._getLog(t.processInstanceId,function(t){e.log=t||null})},_getFlowData:function(){var t=this;Object(d.d)({url:"/api/apps/"+this.curApp.id+"/settings/flows",type:"get",success:function(e){e.state?e.data&&e.data.chart&&e.data.chart.nodes&&e.data.chart.nodes.length>0&&(t.initDataOfChart={},t.settingsNodes=e.data.settings.nodes,e.data.chart.nodes.forEach(function(e,i){t.$set(t.initDataOfChart,e.id,e)})):t.$toast(e.message)}})},_getDatetimeArr:function(t){var e=[];return t.forEach(function(t){e.push({id:t.nodeId,datetime:t.endDate})}),e},_checkUserId:function(){var t=this;this.userNo&&Object(d.d)({url:"/api/relationship/checkUserId/"+this.userNo,dataType:"json",type:"get",success:function(e){e.state?(t.resultMessage=e.data.name+" "+e.data.id,t.userId=e.data.userId):t.resultMessage=e.message}})},_checkProxyUser:function(){var t=this;this.userNo&&Object(d.d)({url:"/api/processEngine/business/"+this.curBusinessId+"/proxyApplicants?userNo="+this.userNo,dataType:"json",type:"get",success:function(e){e.state?(t.proxyStatus.resultMessage=e.data.type+" "+e.data.name+" "+e.data.userNo,t.proxyStatus.proxyUserId=e.data.userId,t.proxyStatus.proxyUserValid=!0):("50001"===e.code?t.proxyStatus.resultMessage="该学生不存在":"31119"===e.code?t.proxyStatus.resultMessage="该学生已经提交过一次申请，不能再申请":"70001"===e.code?t.proxyStatus.resultMessage="该学生不在当前用户的代理权限下":t.proxyStatus.resultMessage=e.message,t.proxyStatus.proxyUserValid=!1)}})},_batchDone:function(t){var e=this;if(confirm("确定执行此操作嘛？")){var i="",s=[],n=null;this.batchSelections.forEach(function(t){s.push(t.id)}),this.batchSelections=[],this.isSc?(this.curTab.indexOf("check")>=0?i="/api/sc/activities/publishProcessInstances":this.curTab.indexOf("feedback")>=0&&(i="/api/sc/activities/feedbackProcessInstances"),n={action:t,activityIds:s}):i="/api/processEngine/processInstances/batch?action="+t+"&ids="+s+"&userId="+this.userId,Object(d.d)({url:i,type:"put",data:n,success:function(t){t.state?(e.userId?(e.userId="",e.userNo="",e.showSetDeliverModal=!1,e.$toast("转交成功")):e.$toast("批处理成功"),e._refreshTab()):e.$toast(t.message)}})}},_afterChecked:function(t){this.batchSelections=t},_sureToOutput:function(){var t=this,e=JSON.parse(o()(this.$refs[this.curTab+"_table"].tableSearchFields)),i="",s=[],n=[],a=[],r=!1,c=!1,u="",l=[];for(var h in e)e[h]?i+="&"+h+"="+e[h]:i+="&"+h+"=";(s=JSON.parse(o()(this.outputList))).forEach(function(t,e){(t.indexOf("image")>=0||t.indexOf("signature")>=0||t.indexOf("attachment")>=0)&&s.splice(e,1)}),this.exportFiledArr.forEach(function(t){(t.name.indexOf("image")>=0||t.name.indexOf("signature")>=0||t.name.indexOf("attachment")>=0)&&(n.push(t.name),a.push(t.title))});var p=this.advancedSearchParams;p=p||"",s.length>0&&(this.$waiting.show(),Object(d.d)({url:"/api/processEngine/processInstances/tasks/"+(this.curTab.indexOf("uncheck")>=0?"todo":"done")+"/excel?businessId="+this.curBusinessId+"&fileName="+this.curApp.name+"&nodeId="+this.curCountNodeId+"&mergeTables="+this.isMergeTable+"&exportFields="+this.outputList+i+"&download="+p,type:"get",success:function(e){e.state?(r=!0,u=e.data.key,t._downloadsZip(r,c,l,u)):t.$toast(e.message)}}).always(function(){t.$waiting.close()})),Object(d.d)({url:"/api/processEngine/processInstances/tasks/"+(this.curTab.indexOf("uncheck")>=0?"todo":"done")+"/images?businessId="+this.curBusinessId+"&nodeId="+this.curCountNodeId+"&mergeTables="+this.isMergeTable+i+"&componentName="+n+"&fileName="+a+"&download="+p,type:"get",success:function(e){e.state?(c=!0,l=e.data,t._downloadsZip(r,c,l,u)):t.$toast(e.message)}}).always(function(){t.$waiting.close()})},_downloadsZip:function(t,e,i,s){var n=this.advancedSearchParams;n=n||"",t&&e&&(window.location.href="/downloads/processEngine/processInstances/tasks/done/allZip?zipName="+this.curApp.name+"&allZipPath="+i+"&filePath="+s+n)},_changeOutputList:function(t){var e=this,i=this.outputList.indexOf(t.name);i>=0?(this.outputList.splice(i,1),"signature"!==t.componentType&&"image"!==t.componentType&&"attachment"!==t.componentType||this.exportFiledArr.forEach(function(i,s){i.name===t.name&&e.exportFiledArr.splice(s,1)})):(this.outputList.push(t.name),"signature"!==t.componentType&&"image"!==t.componentType&&"attachment"!==t.componentType||this.exportFiledArr.push({name:t.name,title:t.title}))},_output:function(){this.outputModalShow=!0},_outputPdf:function(t){var e=this;this.pdfSetting.downloading=!0;var i=this.curTab.indexOf("uncheck")>=0?this.pdfSetting.todoUrl:this.pdfSetting.doneUrl,s=this.advancedSearchParams;s=s||"";var n=JSON.parse(o()(this.$refs[this.curTab+"_table"].tableSearchFields));(n.businessId=this.curBusinessId,n.nodeId=this.curTab.indexOf("uncheck")>=0?this.curTab.split("uncheck")[1]:this.curTab.split("checked")[1],""!=s)&&s.split("&").forEach(function(t,e){if(t&&""!=t){var i=t.split("=");n[i[0]]=i[1]}});Object(d.d)({url:i,type:"get",data:n,success:function(t){t.state?(e.pdfSetting.list=t.data,e._nextTask(e.pdfSetting.list[e.pdfSetting.index])):e.$toast(t.message)}})},exportModelPi:function(){var t=this.advancedSearchParams;t=t||"",window.location.href="/downloads/manageWord/"+this.curBusinessId+"/processInstances/words?fileName="+this.curApp.name+".zip"+t,this.pdfSetting.modalShow=!1},_nextTask:function(t){var e=this;this.pdfSetting.timer=setTimeout(function(){t?e.preview||e._initPreview({id:t,businessId:e.curBusinessId}):(clearTimeout(e.pdfSetting.timer),e.pdfSetting.downloading=!1,e.pdfSetting.log=!1,e.pdfSetting.list=[],e.pdfSetting.index=0,e.pdfSetting.modalShow=!1,e.pdfSetting.zip.generateAsync({type:"blob"}).then(function(t){var i=new Date;l.a.saveAs(t,e.curApp.name+i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()),e.$toast("打包成功，开始下载...")}))},100)},_downloadPdf:function(){var t=this;this.pdfSetting.downloading&&this.getPdf(this.pdfSetting.title,function(e){t.preview=!1,t.pdfSetting.index++,t.pdfSetting.zip.file(t.pdfSetting.title+".pdf",e,{binary:!0}),t._nextTask(t.pdfSetting.list[t.pdfSetting.index]),t.$toast("打包中...("+t.pdfSetting.index+"/"+t.pdfSetting.list.length+")")})},_getLog:function(t,e){var i=this,s="";s=this.isSc?"/api/sc/activities/processInstances/"+t+"/handleLogs":"/api/processEngine/processInstances/"+t+"/handleLogs",Object(d.d)({url:s,type:"get",success:function(t){t.state?e(t.data):i.$toast(t.message)}})},_getInitData:function(t,e){var i=this,s="";s=this.isSc?"/api/sc/activities/"+t:"/api/processEngine/processInstances/"+t,Object(d.d)({url:s,type:"get",success:function(s){s.state?i.isSc?i.curTab.indexOf("check")>=0?e(s.data):i.curTab.indexOf("feedback")>=0?Object(d.d)({url:"/api/sc/activitySocializations/count/"+t,type:"get",success:function(n){n.state?(s.data.commentCount=n.data.commentCount,s.data.likeCount=n.data.likeCount,Object(d.d)({url:"/api/sc/activityProcesses/activityFeedback/"+t,type:"get",success:function(t){t.state?(s.data.countSign=t.data.countSign,s.data.countParticipant=t.data.countParticipant,s.data.activitySituation=t.data.activitySituation,s.data.feedbackImages=t.data.images,s.data.processInstanceId=t.data.processInstanceId,s.data.participantScore=t.data.participantScore,s.data.publisherScore=t.data.publisherScore,e(s.data)):(e(s.data),i.$toast(t.message))}})):(e(s.data),i.$toast(n.message))}}):i.$toast(s.message):e(s.data):i.$toast(s.message)}})},_getInitCache:function(t,e){var i=this;Object(d.d)({url:"/api/processEngine/business/"+t+"/formData/caches",type:"get",success:function(t){t.state?e(t.data):i.$toast(t.message)}})},_apply:function(t){var e=this,i=function(){e.authorities=null,e._getFormLayout(e.curBusinessId,"",function(t){e.formData=t,e.formData.components.forEach(function(t){e.$set(t,"x",t.location.left),e.$set(t,"y",t.location.top),e.$set(t,"w",t.size.width),e.$set(t,"h",t.size.height)}),e._getInitCache(e.curBusinessId,function(t){e.recordData=t,e.recordData&&(e.recordData.id=""),e.preview=!0,e.log=null})})};"proxy"===t?(this.proxyStatus.showProxyModal=!1,this.proxyStatus.resultMessage="",this.userNo="",i()):Object(d.d)({url:"/api/processEngine/business/"+this.curBusinessId+"/applyLimit",type:"get",success:function(t){t.state?t.data?i():e.$toast("您已申请该事务，请勿重复申请，若需重新申请，请先撤回"):e.$toast(t.message)}})},_getAuthorityData:function(t,e){var i=this,s="";s=this.isSc?"/api/sc/activities/processInstances/"+t+"/operations"+(this.curTab.indexOf("feedback")>=0?"?feedback=true":""):"/api/processEngine/processInstances/"+t+"/operations",Object(d.d)({url:s,type:"get",success:function(t){t.state?e(t.data):i.$toast(t.message)}})},_getFormLayout:function(t,e,i){var s=this,n={nodeId:e};this.proxyStatus.proxyUserId&&(n.applicantUserId=this.proxyStatus.proxyUserId),Object(d.d)({url:"/api/processEngine/business/"+t+"/formRenderData",type:"get",data:n,success:function(t){t.state?i(t.data):s.$toast(t.message)}})},_getStorage:function(){if(!this.curTab)return[];var t=this.curTab+"+"+(this.$account&&this.$account.id+this.$account.schoolId||"default"),e=localStorage.getItem(t);return e?JSON.parse(e):[]},_setStorage:function(){var t=this.curTab+"+"+(this.$account&&this.$account.id+this.$account.schoolId||"default"),e=o()(this.myCheckColumn);localStorage.setItem(t,e)},_setStorageOfTab:function(t){var e="nodeKey_"+(this.$account&&this.$account.id+this.$account.schoolId||"default"),i={name:this.curTab};t&&(i.data=t);var s=o()(i);localStorage.setItem(e,s)},_getStorageOfTab:function(){var t="nodeKey_"+(this.$account&&this.$account.id+this.$account.schoolId||"default"),e=localStorage.getItem(t);return e?JSON.parse(e):{}},_columnExchanged:function(){this._setStorage()},_check:function(t,e){var i=this;this.collapsed=!0,e?(this.curTab=t+e,this.isSc?t.indexOf("check")>=0?this.myCheckUrl="/table-data/sc/activities/types/"+this.data.data.id+"/"+("checked"===t?"done":"todo")+"/audit?nodeId="+e+"&":t.indexOf("feedback")>=0&&(this.myCheckUrl="/table-data/sc/activities/types/"+this.data.data.id+"/"+("feedbacked"===t?"done":"todo")+"/feedback?nodeId="+e):this.myCheckUrl="/table-data/processEngine/business/"+this.curBusinessId+"/nodes/"+e+"/tasks/"+("checked"===t?"done":"todo")+"/pages?timeStamp="+Object(d.a)(),this.curBusiness&&this.curBusiness.business.businessTimeList.forEach(function(t){if(t.nodeId===e){var s=t.endDate?t.endDate:"未设置";i.curBusinessTime="截止时间: "+s}}),this.curCountNodeId=e,this.curCountDone="checked"===t,this.isSc||(this.changeColunm&&(this._updateExportFields(),this.changeColunm=!1),this.myCheckColumn.forEach(function(t){"collegeCode"===t.id&&(t.search.data.url=e?"/api/processEngine/business/"+i.curBusinessId+"/managedColleges?nodeId="+e:"")}),this._focus())):(this.curTab=t,"myApplies"===t?this.myAffairsUrl="/table-data/processEngine/myProcessInstances?businessId="+this.curBusinessId+"&timeStamp="+Object(d.a)():"copyToMe"===t&&(this.myCopyUrl="/table-data/processEngine/business/"+this.curBusinessId+"/carbonCopies?&timeStamp="+Object(d.a)(),this.myCheckColumn.forEach(function(t){"collegeCode"===t.id&&(t.search.data.url="/api/colleges")}),this._focus())),!this.curBusinessId||"uncheck"!==t&&"unfeedback"!==t||(this.isSc?this.allowBatch=[]:Object(d.d)({url:"/api/processEngine/business/"+this.curBusinessId+"/nodes/"+e+"/batchOperations",type:"get",success:function(t){t.state&&t.data.length>0&&(i.allowBatch=t.data)}}))},_focus:function(){var t=this;this.isSc||setTimeout(function(){t.$refs[t.curTab+"_table"]&&t.$refs[t.curTab+"_table"].getFocus("userNo")},100)},_refreshTab:function(){var t=this,e=this.curTab;this.curTab="",this.$nextTick(function(){t.curTab=e})},_submit:function(t){var e=this;this.needAdviceAuthority.indexOf(t.type)>=0?this.$prompt({tip:"确认"+t.title+"?",placeholder:"请输入批复意见",callback:function(i){"ok"===i.type&&e._submitAction(t,i.text)}}):"cancel"===t.type?confirm("确认要放弃本申请吗？放弃后申请作废")&&this._submitAction(t):confirm("确认"+t.title+"?")&&this._submitAction(t)},_submitAction:function(t,e){var i=this,s="post",n="",a={};this.isSc?(a={action:t.type,msg:e},this.curTab.indexOf("check")>=0?n="/api/sc/activities/"+this.curInstance.id+"/publishProcessInstances":this.curTab.indexOf("feedback")>=0&&(n="/api/sc/activities/"+this.curInstance.id+"/feedbackProcessInstances",t.formData&&t.formData.forEach(function(t){"input_participantScore"===t.name&&(a.participantScore=t.value.stringValue),"input_publisherScore"===t.name&&(a.publisherScore=t.value.stringValue)})),s="put"):("submit"===t.type?n="/api/processEngine/processInstances":"transfer"===t.type||"carbonCopy"===t.type?(s="put",n="/api/processEngine/processInstances?action="+t.type+"&userId="+t.userId):"save"===t.type?(s="post",n="/api/processEngine/business/"+this.curBusinessId+"/formData/caches"):(s="put",n="/api/processEngine/processInstances?action="+t.type+(e?"&message="+e:"")),a={id:this.recordData?this.recordData.id:"",formData:t.formData,variable:{appId:this.curApp.id,businessId:this.curBusinessId}},(this.proxyStatus.proxyUserId||this.curInstance)&&(a.applicant={userId:this.proxyStatus.proxyUserId||this.curInstance.applicant.userId})),Object(d.d)({url:n,type:s,data:a,success:function(e){e.state?(i.doNotClosePreview.indexOf(t.type)>=0&&!i.isSc?i._getAuthorityData(i.curInstance.id,function(t){i.authorities=t||[]}):i.preview=!1,"submit"===t.type?(i.$toast("提交申请成功"),i.isSc||i._refreshTab()):(i.$toast("申请已"+t.title),i._refreshTab(),i.proxyStatus.proxyUserId&&(i.proxyStatus.proxyUserId=""))):i.$toast(e.message)}})},_back:function(){this.$emit("back")},_initBusinessList:function(){var t=this;if(this.isSc){var e={data:[{appSettingType:"WORKFLOW",appName:this.data.appData.name,business:{id:"sc",name:this.data.appData.name+"业务期",year:"2018",linkUrl:"",guide:"",settingId:"",limitType:"0",beginTime:"",endTime:"",isEnable:!0,isPublic:!0,businessTimeList:[]},canApplyOnAuthority:!1,canApplyOnTime:!1,carbonCopyAuthority:!1,nodeList:[],players:null}],state:!0};Object(d.d)({url:"/api/sc/activities/types/"+this.data.data.id+"/nodes",type:"get",success:function(i){i.state?(e.data[0].nodeList=i.data,e.data[0].businessTimeList=[],i.data.forEach(function(t){e.data[0].businessTimeList.push({nodeId:t.id,startDate:null,endDate:null})}),e.state?e.data&&e.data.length>0?(t.businessList=e.data,t.businessList.forEach(function(t){t.id=t.business.id,t.name=t.business.name}),t.curBusinessId=t.businessList[0].id,e.data[0].nodeList.length>0&&(t.curTab="uncheck"+e.data[0].nodeList[0].id,t._check("uncheck",e.data[0].nodeList[0].id)),t._initTableColumns()):t.errorMessage="暂无业务期":t.$toast(e.message)):t.$toast(i.message)}})}else Object(d.d)({url:"/api/app/"+this.curApp.id+"/business/now",type:"get",success:function(e){e.state?e.data&&e.data.length>0?(t.businessList=e.data,t.businessList.forEach(function(t){t.id=t.business.id,t.name=t.business.name}),t.curBusinessId=t.businessList[0].id,t._initTableColumns(),e.data[0].nodeList.length>0?"affaris"===t.data.entranceType?(t.curTab="uncheck"+e.data[0].nodeList[0].id,t._check("uncheck",e.data[0].nodeList[0].id)):t._check("guide"):"affaris"===t.data.entranceType&&t._check("myApplies")):t.errorMessage="暂无业务期":t.$toast(e.message)}})},_initTableColumns:function(){var t=this;if(this.isSc){var e=this.curTab.indexOf("check")>=0?"auditStatus":"feedbackStatus";this.myCheckColumn=[{id:"name",title:"活动名称",className:"text-left",width:200,search:{type:"input"},hidden:!1},{id:"userName",title:"发布者",className:"text-left",width:90,hidden:!1,formatter:function(t,e){return t.publisher.name}},{id:e,title:"审核状态",className:"text-left",width:90,hidden:!1,formatter:function(i,s){return t.scStatusStr[i[e]]}},{id:"createTime",title:"发布时间",className:"text-left",width:120,hidden:!1},{title:"操作",className:"text-center",width:250,hidden:!1,formatter:function(e,i){return t.optsGroup}}]}else this.myCheckColumn=[{id:"userNo",title:this.numberDesc,className:"text-left",width:115,search:{type:"input",data:{autoFocus:!0,placeholder:this.numberDesc}},hidden:!1,formatter:function(t,e){return t.applicant.userNo}},{id:"account",title:"新生账号",className:"text-left",width:115,search:{type:"input"},hidden:!1,formatter:function(t,e){return t.applicant.account}},{id:"name",title:"姓名",className:"text-left",width:90,search:{type:"input"},hidden:!1,formatter:function(t,e){return t.applicant.name}},{id:"grade",title:"年级",className:"text-left",width:60,search:{type:"input",data:{}},hidden:!1,formatter:function(t,e){return t.applicant.grade}},{id:"educationLevel",title:"培养层次",className:"text-left",width:80,search:{type:"select",data:{url:"/api/system/dictTypes/1000/dicts",optionsLabel:"label",optionsValue:"value"}},hidden:!1,formatter:function(t,e){return t.applicant.educationLevel}},{id:"collegeCode",title:"学院",className:"text-left",width:100,search:{type:"select",data:{url:"",optionsLabel:"name",optionsValue:"code",placeholder:"学院"}},hidden:!1,formatter:function(t,e){return t.applicant.collegeName}},{id:"status",title:"状态",className:"text-left",hidden:!1,width:150,search:{type:"select",data:{options:this.statusOptions,optionsLabel:"text",optionsValue:"id"}},formatter:function(e,i){var s="";return"pending"===e.status.toLowerCase()?s=t.resultMessageJson[e.lastAction]?t.resultMessageJson[e.lastAction].replace("{{node}}",e.currentNode.name):"":"end"===e.status.toLowerCase()&&(s=t.resultMessageJson[e.result.toLowerCase()]?t.resultMessageJson[e.result.toLowerCase()].replace("{{node}}",e.currentNode.name):""),s}},{id:"createTime",title:"提交时间",className:"text-center",width:150,search:{type:"datetime",data:{dateFormat:"yyyy-MM-dd hh:ii:ss"}},hidden:!1,formatter:function(t,e){return t.applicant.createTime}},{title:"操作",className:"text-center",width:150,hidden:!1,formatter:function(e,i){return t.optsGroup}}],"3"!==this.curApp.appType.userType&&this.myCheckColumn.splice(1,1),"2"===this.curApp.appType.userType&&this.myCheckColumn.splice(2,2),"4"===this.curApp.appType.userType&&(this.myCheckColumn.splice(2,1),this.myCheckColumn.splice(3,1))},_updateExportFields:function(){var t=this;Object(d.d)({url:"/api/processEngine/business/"+this.curBusinessId+"/formSetting/fields?nodeId="+this.curCountNodeId,type:"get",success:function(e){if(e.state){t.formFields=e.data;var i=t.curTab.replace("uncheck","").replace("checked",""),s={};t.settingsNodes.forEach(function(t){t.id===i&&(s=t)});var n=[];s.dataAuthorities&&(n=s.dataAuthorities.filter(function(t){return t.exportable}).map(function(t){return t.componentName})),t.formFields=t.formFields.filter(function(e){if("signature"!==e.componentType&&"image"!==e.componentType&&"attachment"!==e.componentType||t.exportFiledArr.push({name:e.name,title:e.title}),t.tableNotShowFields.indexOf(e.componentType)<0){var i={id:"f_"+e.name,title:(t.baseFields.indexOf(e.title)>=0?"表单":"")+e.title,className:"text-left",width:150,formatter:function(t,i){return"signature"===e.componentType?t.formData[e.name]?"已签名":"未签名":t.formData[e.name]}};if(t.$set(i,"hidden",!e.visibleInTableColumn),t.columnSearchType[e.componentType]){var s=[];e.options.forEach(function(t){s.push({id:t,name:t})}),i.search={type:t.columnSearchType[e.componentType],data:{options:s}}}t.myCheckColumn.splice(t.myCheckColumn.length-1,0,i)}return-1!=n.indexOf(e.name)&&t.outputList.push(e.name),-1!=n.indexOf(e.name)}),t._initHistoryColumn()}else t.$toast(e.message)}})},_afterSelectBusiness:function(t){this._refreshTab()},_getCountData:function(){var e=this;this.curCountNodeId&&(this.countItemHeight=125,this.countItemSelectArr=[],this.previousIndexArr=[],this.combinationCountItemData=[],this.saveCountData.combCountItemData=[],Object(d.d)({url:"/api/statistics/processEngine/business/"+this.curBusinessId+"/statistics/settings?nodeId="+this.curCountNodeId+"&done="+this.curCountDone,type:"get",success:function(i){i.state?(e.curCountItems=i.data.items,e.curCountItems.forEach(function(t){e.countItemSelectArr.push(t.name)}),e.collegeComparison=i.data.collegeComparison,e.instructorComparison=i.data.instructorComparison,i.data.collegeComparison&&(e.countItemHeight=e.countItemHeight+48),i.data.instructorComparison&&(e.countItemHeight=e.countItemHeight+48),e.countRadios=[{label:"总览",value:0,isChecked:!0,isShow:!0},{label:"仅统计本节点",value:1,isChecked:!1,isShow:!0},{label:"各学院对比",value:2,isChecked:!1,isShow:i.data.collegeComparison},{label:"各班级对比",value:4,isChecked:!1,isShow:!0},{label:"各辅导员对比",value:3,isChecked:!1,isShow:!0}],Object(d.d)({url:"/api/statistics/business/"+e.curBusinessId+"/settings/cache?playerId="+e.curCountNodeId+"&done="+e.curCountDone,type:"get",success:function(i){if(i.state){if(i.data){var s=JSON.parse(i.data.data);if(s.oldCountItemData.length>0)if(e.countTabActive=s.countTabActive,e.defaultOptions.studentType=s.select.studentType,e.defaultOptions.college=s.select.college,e.defaultOptions.grade=s.select.grade,e.countItemData=s.oldCountItemData,e.newAddcountItem=s.newAddcountItem,0===s.countType.id)t.isEmptyObject(s.countType.value)?(e._getFlowCountData(),e.isShowOverview=!0):e._changeRadio(s.countType.id,s.countType.value);else if(1===s.countType.id){if(e.isRecordCurOptionsArr=!1,e.isCollegeOrPlayer=!1,e.historyCountData=s.countData,e.combinationCountItemData=s.combCountItemData,e.historyCountOptions=s.countOptionArray,e.newAddcountItem.length>0)JSON.parse(o()(e.newAddcountItem)).reverse().forEach(function(t){var i=[];t.details.forEach(function(t){i.push(t.name)}),e.curCountItems.unshift({title:t.title,name:t.name,combination:t.combination,options:i})});e._changeRadio(s.countType.id,s.countType.value,"record"),e.countItemSelectArr=s.countItemSelectArr}else e._changeRadio(s.countType.id,s.countType.value);else e._getFlowCountData()}else e._getFlowCountData();0===e.previousIndexArr.length&&e.countRadios.forEach(function(t){t.isChecked&&e.previousIndexArr.push(t.value)})}else e.$toast(i.message);if(t(document).height()<877&&t(document).height()>600){var n=t(document).height()-200;t(".count-modal .modal-content").css("height",n+"px"),e.setHeight=n-88,e.countItemHeight=e.setHeight-e.countItemHeight-48,e.countContentHeight=n-80,e.combContentHeight=n-205}else t(".count-modal .modal-content").css("height","720px"),e.setHeight=628,e.countContentHeight=635,e.combContentHeight=510,e.countItemHeight=628-e.countItemHeight-48}})):e.$toast(i.message)}}))},_getFlowCountData:function(){var t=this;this.flowAllCountData=[];var e=[];this.allCountText="",this.$waiting.show(),Object(d.d)({url:"/api/statistics/processEngine/business/"+this.curBusinessId+"/processResultStatistics?nodeId="+this.curCountNodeId+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode,type:"get",success:function(i){if(i.state){t.overviewCountData=i.data;var s=0;i.data.forEach(function(t,e){"通过"===t.name&&(s=e)}),i.data.forEach(function(i,n){if(n<=s){var a="rgba(46,125,50,"+(1-n/(s+1)*.75)+")";e.push(a),n===s?(t.allCountText+=i.count+"人已"+i.name+"、",t.flowAllCountData.push({value:i.count,name:"已"+i.name})):(t.allCountText+=i.count+"人待"+i.name+"处理、",t.flowAllCountData.push({value:i.count,name:"待"+i.name+"处理"}))}else"不通过"===i.name?(e.push("#f56c6c"),t.allCountText+=i.count+"人"+i.name+"、",t.flowAllCountData.push({value:i.count,name:i.name})):"申请者取消申请"===i.name?(e.push("#64c23a"),t.allCountText+=i.count+"人取消申请、",t.flowAllCountData.push({value:i.count,name:"取消申请"})):"业务期停用"!==i.name&&"超时"!==i.name||(e.push("#e6a23c"),"业务期停用"===i.name?t.allCountText+=i.count+"人因"+i.name+"作废、":t.allCountText+=i.count+"人因"+i.name+"作废",t.flowAllCountData.push({value:i.count,name:"因"+i.name+"作废"}))}),t.newPieColor=[],e.forEach(function(e,i){i<=s?t.newPieColor.unshift(e):t.newPieColor.push(e)}),setTimeout(function(){var e=p.a.init(document.getElementById(t.curApp.id+"myEcharts")),i={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:t.newPieColor,series:[{name:"统计",type:"pie",hoverAnimation:!1,radius:"80%",center:["49%","41%"],data:t.flowAllCountData,label:{normal:{show:!1}},labelLine:{normal:{show:!1}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};setTimeout(function(){e.setOption(i,!0)},100)},100)}else t.$toast(i.message)}}).always(function(){t.$waiting.close()})},getAllCountData:function(t){var e=this;this.isRecordCurOptionsArr=!1,this.$waiting.show(),Object(d.d)({url:"/api/statistics/processEngine/business/"+this.curBusinessId+"/statistics?nodeId="+this.curCountNodeId+"&done="+this.curCountDone+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode,type:"post",data:{statisticsItems:this.curCountItems},success:function(i){if(i.state){if(e.countData=i.data,"getData"===t&&(e.combinationCountItemData=[],e.saveCountData.combCountItemData=[],e.countItemData=JSON.parse(o()(i.data)),i.data.forEach(function(t){t.combination||(e.combinationCountItemData.push(JSON.parse(o()(t))),e.saveCountData.combCountItemData.push(JSON.parse(o()(t))))})),e.historyCountOptions.length>0?e.countOptionArr.selectArr=e.historyCountOptions:(e.countOptionArr.selectArr=[],e.countItemData.forEach(function(t,i){var s=[];JSON.parse(o()(t.details)).forEach(function(t){s.push(t.name)}),e.countOptionArr.selectArr.push({id:i,value:s})})),"record"===t){for(var s in e.countData){var n=e.countData[s].name,a=e.countData[s].details,r=0;for(var c in e.historyCountData){var u=e.historyCountData[c].name,l=e.historyCountData[c].details;if(n===u)for(var d in r++,a){for(var h in l)a[d].name===l[h].name&&(0,delete l[h].percent,l[h].count=a[d].count)}}if(0===r){var p=e.countData.length-e.historyCountData.length;e.countData.splice(s,p)}}e.countData=[],e.countData=JSON.parse(o()(e.historyCountData))}}else e.$toast(i.message)}}).always(function(){e.$waiting.close()})},_showCountModal:function(){var t=this;this.countModal=!0,this.collegeSelectOptions.splice(0,this.collegeSelectOptions.length),this._getCountData(),Object(d.d)({url:"/api/processEngine/business/"+this.curBusinessId+"/managedColleges?nodeId="+this.curCountNodeId+"&done="+this.curCountDone,type:"get",success:function(e){if(e.state)for(var i in t.collegeSelectOptions.push({code:"0",name:"所有"}),e.data)t.collegeSelectOptions.push(e.data[i]);else t.$toast(e.message)}}),this.dictTypes.splice(0,this.dictTypes.length),Object(d.d)({url:"/api/system/dicts",type:"get",data:{dictType:"学生类别"},success:function(e){if(e.state)for(var i in t.dictTypes.push({label:"所有",value:"0"}),e.data)t.dictTypes.push(e.data[i]);else t.$toast(e.message)}}),this.gradeOptions.splice(0,this.gradeOptions.length);var e=(new Date).getFullYear();this.gradeOptions.push({id:"0",label:"所有"});for(var i=e;i>e-8;i--)this.gradeOptions.push({id:i+"",label:i+"级"})},_changeRadio:function(t,e,i){var s=this;if(this.saveCountData.countType.id=t,this.saveCountData.countType.value=e,this.countRadios.forEach(function(t){t.isChecked=!1}),this.countOptionSelectArr=[],this.countRadios[t].isChecked=!0,this.curCheckType=e.value,2===this.previousIndexArr.length&&this.previousIndexArr.splice(0,1),this.previousIndexArr.push(e.value),this.saveHistoryData(this.previousIndexArr[0]),this.countOptionArr.selectArr=[],2===this.previousIndexArr[0]||3===this.previousIndexArr[0]?1===this.curCheckType&&(this.countItemHeight=this.countItemHeight-53):2!==this.curCheckType&&3!==this.curCheckType&&4!==this.curCheckType||(this.countItemHeight=this.countItemHeight+53),0===this.curCheckType)this.isShowOverview=!0,this.isCollegeOrPlayer=!1,this._getFlowCountData();else if(1===this.curCheckType)if(this.isCollegeOrPlayer=!1,this.isShowOverview=!1,this.overviewHistoryData.countData.length>0)this.countData=JSON.parse(o()(this.overviewHistoryData.countData)),this.countItemData=JSON.parse(o()(this.overviewHistoryData.countItemData)),this.countItemSelectArr=JSON.parse(o()(this.overviewHistoryData.countItemSelectArr)),this.countOptionArr.selectArr=JSON.parse(o()(this.overviewHistoryData.countOptionSelectArr));else{if(this.newAddcountItem.length>0)JSON.parse(o()(this.newAddcountItem)).reverse().forEach(function(t){var e=[];t.details.forEach(function(t){e.push(t.name)}),s.curCountItems.unshift({title:t.title,name:t.name,combination:t.combination,options:e})});"record"===i?this.getAllCountData("record"):this.getAllCountData("getData")}else{this.isCollegeOrPlayer=!0,this.isShowOverview=!1;var n=[];this.countItemData.forEach(function(t,e){t.combination||n.push(JSON.parse(o()(t)))}),this.countItemData=[],this.countItemData=n,this.curStatisticsItems=[],this.multipleSelectComparison=[],this.countItemData.forEach(function(t,e){s.$set(t,"isChecked",!0),s.curSelectCountData=t,s.saveCountData.countItemData.value=t;var i=[];t.details.forEach(function(t){i.push(t.name)}),s.curStatisticsItems.push({title:t.title,name:t.name,combination:!1,options:i}),s.multipleSelectComparison.push(t.name)}),this.getCollegeOrPlayerData()}},saveHistoryData:function(t){1===t?(this.overviewHistoryData.countData=JSON.parse(o()(this.countData)),this.overviewHistoryData.countItemData=JSON.parse(o()(this.countItemData)),this.overviewHistoryData.countItemSelectArr=JSON.parse(o()(this.countItemSelectArr)),this.overviewHistoryData.countOptionSelectArr=JSON.parse(o()(this.countOptionArr.selectArr))):2===t?(this.collegeHistoryData.countData=JSON.parse(o()(this.countData)),this.collegeHistoryData.countItemData=JSON.parse(o()(this.countItemData)),this.collegeHistoryData.countOptionSelectArr=JSON.parse(o()(this.countOptionArr.selectArr))):(this.instructorHistoryData.countData=JSON.parse(o()(this.countData)),this.instructorHistoryData.countItemData=JSON.parse(o()(this.countItemData)),this.instructorHistoryData.countOptionSelectArr=JSON.parse(o()(this.countOptionArr.selectArr)))},_changeCountRadio:function(t,e){var i=this,s=this.multipleSelectComparison.indexOf(e.name);if(s>=0)this.multipleSelectComparison.splice(s,1),this.curStatisticsItems.forEach(function(t,s){e.name===t.name&&i.curStatisticsItems.splice(s,1)}),this.countItemData.forEach(function(t){e.name===t.name&&(t.isChecked=!1)}),this.newCollegeOrPlayerData.forEach(function(t,i){t.details.forEach(function(t,i){e.name===t.name&&(t.isShow=!1)})});else{this.multipleSelectComparison.push(e.name);var n=[];e.details.forEach(function(t){n.push(t.name)}),this.curStatisticsItems.push({title:e.title,name:e.name,combination:!1,options:n}),this.countItemData.forEach(function(t){e.name===t.name&&(t.isChecked=!0)}),this.newCollegeOrPlayerData.forEach(function(t,i){t.details.forEach(function(t,i){e.name===t.name&&(t.statisticsResult=[],t.statisticsResult=e.details,t.isShow=!0)})})}this.saveCountData.countItemData.id=t,this.saveCountData.countItemData.value=e,this.curSelectCountData=e},getCollegeOrPlayerData:function(){var t=this;this.$waiting.show(),this.newCollegeOrPlayerData=[],Object(d.d)({url:this.curCountUrl,type:"post",data:{statisticsItems:this.curStatisticsItems},success:function(e){e.state?(2===t.curCheckType?e.data.forEach(function(e){e.statisticsResultList.forEach(function(e,i){t.$set(e,"isShow",!0)}),t.newCollegeOrPlayerData.push({title:e.college.name,name:e.college.code,isShow:!0,details:e.statisticsResultList})}):4===t.curCheckType?e.data.forEach(function(e){e.statisticsResultList.forEach(function(e,i){t.$set(e,"isShow",!0)}),t.newCollegeOrPlayerData.push({title:e.clazz.classFullName,name:e.clazz.classId,isShow:!0,details:e.statisticsResultList})}):e.data.forEach(function(e){e.statisticsResultList.forEach(function(e,i){t.$set(e,"isShow",!0)}),t.newCollegeOrPlayerData.push({title:e.user.name,name:e.user.userId,isShow:!0,details:e.statisticsResultList})}),t.saveCollegeOrPlyaerCountData=JSON.parse(o()(t.newCollegeOrPlayerData))):t.$toast(e.message)}}).always(function(){t.$waiting.close()})},_afterSelectDisTypes:function(t){var e=this;"0"!==t.val&&t.val?(this.countSearchStudentType=t.val,this.countStudentTypeName=t.target.selected):this.countSearchStudentType="","0"===t.val?(this.saveCountData.select.studentType="0",this.defaultOptions.studentType="0"):(this.defaultOptions.studentType=this.countSearchStudentType,this.saveCountData.select.studentType=this.defaultOptions.studentType),this.isCollegeOrPlayer?this.getCollegeOrPlayerData():0===this.curCheckType?this._getFlowCountData():(this.curCountItems=[],this.countData.forEach(function(t){var i=[];t.details.forEach(function(t){i.push(t.name)}),e.curCountItems.push({title:t.title,name:t.name,combination:t.combination,options:i})}),this.getAllCountData("search"))},_afterSelectCollege:function(t){var e=this;"0"!==t.val&&t.val?(this.countSearchCollegeCode=t.val,this.countCollegeName=t.target.selected):this.countSearchCollegeCode="","0"===t.val?(this.defaultOptions.college="0",this.saveCountData.select.college="0"):(this.defaultOptions.college=this.countSearchCollegeCode,this.saveCountData.select.college=this.defaultOptions.college),this.isCollegeOrPlayer?this.getCollegeOrPlayerData():0===this.curCheckType?this._getFlowCountData():(this.curCountItems=[],this.countData.forEach(function(t){var i=[];t.details.forEach(function(t){i.push(t.name)}),e.curCountItems.push({title:t.title,name:t.name,combination:t.combination,options:i})}),this.getAllCountData("search"))},_afterSelectGrade:function(t){var e=this;"0"!==t.val&&t.val?(this.countSearchGrade=t.val,this.countGradeName=t.target.selected):this.countSearchGrade="","0"===t.val?(this.defaultOptions.grade="0",this.saveCountData.select.grade="0"):(this.defaultOptions.grade=this.countSearchGrade,this.saveCountData.select.grade=this.defaultOptions.grade),this.isCollegeOrPlayer?this.getCollegeOrPlayerData():0===this.curCheckType?this._getFlowCountData():(this.curCountItems=[],this.countData.forEach(function(t){var i=[];t.details.forEach(function(t){i.push(t.name)}),e.curCountItems.push({title:t.title,name:t.name,combination:t.combination,options:i})}),this.getAllCountData("search"))},_checkCountItem:function(t,e){var i=this,s=this.countItemSelectArr.indexOf(t.name);if(this.isCombination=!1,s>=0){if(this.isCollegeOrPlayer||(this.isRecordCurOptionsArr=!0),this.countItemSelectArr.splice(s,1),!this.isCollegeOrPlayer){this.newAddcountItem.length;this.countOptionArr.selectArr.forEach(function(t,s){t.id===e&&i.countOptionArr.selectArr.splice(s,1)})}this.countData.forEach(function(e,s){e.name===t.name&&i.countData.splice(s,1)})}else{if(this.countItemSelectArr.push(t.name),this.countData=[],this.newAddcountItem.length>0)JSON.parse(o()(this.newAddcountItem)).reverse().forEach(function(t,e){i.countData.unshift(t)});if(this.countItemData.forEach(function(t,e){i.countItemSelectArr.indexOf(t.name)>=0&&i.countData.push(JSON.parse(o()(t)))}),!this.isCollegeOrPlayer){var n=[];t.details.forEach(function(t){n.push(t.name)});var a={id:e,value:n};this.countOptionArr.selectArr.splice(e,0,a),this.countOptionArr.selectArr.forEach(function(t,e){0===t.value.length&&i.countOptionArr.selectArr.splice(e,1)}),this.countOptionArr.selectArr=this.countOptionArr.selectArr.sort(this.compare("id")),this.countData.forEach(function(t,e){if(i.countOptionArr.selectArr[e].id===e){var s=JSON.parse(o()(t.details));delete t.details,i.$set(t,"details",[]),s.forEach(function(s,n){i.countOptionArr.selectArr[e].value.indexOf(s.name)>=0&&t.details.push(s)})}})}}},compare:function(t){return function(e,i){return e[t]-i[t]}},_clickCountItem:function(e,i,s){var n=this;t(e.target).siblings(".count-list-more").addClass("display-block"),t(e.target).siblings(".count-list-more").removeClass("display-none"),this.countOptionIndex=s,this.curCountOptions=i,this.countOptionMark=i.name,this.isCombination=i.combination,this.countOptionData=JSON.parse(o()(i)),this.countOptionArr.selectArr.forEach(function(t){t.id===s&&(n.countOptionSelectArr=t.value)})},_checkCountOption:function(e){var i=this,s=this.countOptionSelectArr.indexOf(e.name);if(this.isCollegeOrPlayer)s>=0?(this.countOptionSelectArr.splice(s,1),0===this.countOptionSelectArr.length?(this._changeCountRadio(this.countOptionIndex,this.curCountOptions),t(".count-list-more").addClass("display-none"),t(".count-list-more").removeClass("display-block")):this.newCollegeOrPlayerData.forEach(function(t,s){t.details.forEach(function(t){t.name===i.countOptionMark&&t.statisticsResult.forEach(function(i,s){i.name===e.name&&t.statisticsResult.splice(s,1)})})})):(this.countOptionSelectArr.push(e.name),this.newCollegeOrPlayerData.forEach(function(t,e){t.details.forEach(function(t){t.name===i.countOptionMark&&(t.statisticsResult=[],i.countOptionData.details.forEach(function(e,s){if(i.countOptionSelectArr.indexOf(e.name)>=0){var n=JSON.parse(o()(e));t.statisticsResult.push(n)}}))})}));else if(s>=0)this.countOptionSelectArr.splice(s,1),0===this.countOptionSelectArr.length?(this.isCombination?(this.countData[this.countOptionIndex].details.forEach(function(t,s){t.name===e.name&&i.countData[i.countOptionIndex].details.splice(s,1)}),this.countItemData.splice(this.countOptionIndex,1),this.newAddcountItem.splice(this.countOptionIndex,1),this.countOptionArr.selectArr.splice(this.countOptionIndex,1),this.countData.splice(this.countOptionIndex,1)):this._checkCountItem(this.curCountOptions,this.countOptionIndex),t(".count-list-more").addClass("display-none"),t(".count-list-more").removeClass("display-block")):this.isCombination?this.countData[this.countOptionIndex].details.forEach(function(t,s){t.name===e.name&&i.countData[i.countOptionIndex].details.splice(s,1)}):this.countData.forEach(function(t,s){t.name===i.countOptionMark&&t.details.forEach(function(i,s){i.name===e.name&&t.details.splice(s,1)})});else{if(this.countOptionSelectArr.push(e.name),1===this.countOptionSelectArr.length)if(this.isCombination)this.countItemData.forEach(function(t,e){i.countOptionMark===t.name&&i.countData.push(JSON.parse(o()(t)))});else{if(this.countData=[],this.countItemSelectArr.push(this.countOptionMark),this.countItemData.forEach(function(t,e){i.countItemSelectArr.indexOf(t.name)>=0&&i.countData.push(JSON.parse(o()(t)))}),this.newAddcountItem.length>0)JSON.parse(o()(this.newAddcountItem)).reverse().forEach(function(t){i.countData.unshift(t)});this.countData.forEach(function(t,e){t.details.forEach(function(s,n){if(i.countOptionArr.selectArr[e].value.indexOf(s.name)<0){var a=t.details.length-i.countOptionArr.selectArr[e].value.length;t.details.splice(n,a)}})})}this.countData[this.countOptionIndex].details=[],this.countOptionData.details.forEach(function(t,e){if(i.countOptionSelectArr.indexOf(t.name)>=0){var s=JSON.parse(o()(t));i.countData[i.countOptionIndex].details.push(s)}})}},_showCombinationCount:function(){this.isAddCombinationCount=!0,this.combstatisticsItems={combination:!0,title:"",name:"",options:[]},this.combCountItemSelectData.nameArr=[],this.combCountItemSelectData.titleArr=[],this.selectCombOptions=[]},_checkCombCountItem:function(t,e){var i=this,s=this.combCountItemSelectData.nameArr.indexOf(t.name);if(s>=0)this.combCountItemSelectData.nameArr.splice(s,1),this.combCountItemSelectData.titleArr.splice(s,1),this.selectCombOptions.forEach(function(t,s){t.id===e&&i.selectCombOptions.splice(s,1)});else{if(this.combCountItemSelectData.nameArr.length>=4)return this.$toast("最多只能选择4个统计项"),!1;this.combCountItemSelectData.nameArr.push(t.name),this.combCountItemSelectData.titleArr.push(t.title);var n=[];t.details.forEach(function(t){n.push(t.name)}),this.selectCombOptions.push({id:e,selectArr:n})}},_clickCombCountItem:function(e,i,s){var n=this;t(e.target).siblings(".count-list-more").addClass("display-block"),t(e.target).siblings(".count-list-more").removeClass("display-none"),this.selectCombOptions.forEach(function(t,e){t.id===s&&(n.curSelectCombOptions=t.selectArr)}),this.combCountOptionIndex=s,this.combCountOptionData=JSON.parse(o()(i))},_checkCombCountOption:function(t){var e=this.curSelectCombOptions.indexOf(t.name);e>=0?this.curSelectCombOptions.splice(e,1):this.curSelectCombOptions.push(t.name)},_closeCountItemModal:function(e){t(e.target).parent().parent(".count-list-more").addClass("display-none"),t(e.target).parent().parent(".count-list-more").removeClass("display-block")},_deleteCombCount:function(t){var e=this;this.newAddcountItem.splice(t,1),this.countItemData.forEach(function(t,i){col.name===t.name&&e.countItemData.splice(i,1)}),this.countData.forEach(function(t,i){col.name===t.name&&e.countData.splice(i,1)}),this.countOptionArr.selectArr.splice(t,1);var i=this.newAddcountItem.length;this.countOptionArr.selectArr.forEach(function(t,e){t.id=e<=i-1?e:t.id-1})},_sureCombination:function(t){var e=this;if(t)return!1;if(this.combCountItemSelectData.nameArr.length<=1)this.$toast("至少选择2个统计项");else{this.isDisabled=!0;var i=[];this.selectCombOptions.forEach(function(t){i.push(t.selectArr)}),this.combstatisticsItems.options=this.multiCartesian(i);var s=0,n=0,a=this.combCountItemSelectData.nameArr.length;this.combCountItemSelectData.nameArr.forEach(function(t){var i="";i=a===++s?"":"x",e.combstatisticsItems.name+=t+i}),this.combCountItemSelectData.titleArr.forEach(function(t){var i="";i=a===++n?"":"x",e.combstatisticsItems.title+=t+i});var r=[];r.push(this.combstatisticsItems),Object(d.d)({url:"/api/statistics/processEngine/business/"+this.curBusinessId+"/statistics?nodeId="+this.curCountNodeId+"&done="+this.curCountDone,type:"post",data:{statisticsItems:r},success:function(t){e.isDisabled=!1,t.state?(t.data.forEach(function(t){var i=[];e.countData.unshift(JSON.parse(o()(t))),e.countItemData.unshift(JSON.parse(o()(t))),t.details.forEach(function(t){i.push(t.name)}),e.countOptionArr.selectArr.forEach(function(t,e){var i=t.id+1;t.id=i});var s={id:0,value:i};e.countOptionArr.selectArr.unshift(JSON.parse(o()(s))),e.newAddcountItem.unshift(t)}),e.isAddCombinationCount=!1):e.$toast(t.message)}})}},cartesian:function(t,e){for(var i=[],s=0;s<t.length;s++)for(var n=0;n<e.length;n++)i.push(this.getCombinationStr(t[s],e[n]));return i},getCombinationStr:function(t,e){return t+"&"+e},multiCartesian:function(t){var e=t.length;if(0==e)return[];if(1==e)return t[0];for(var i=t[0],s=1;s<e;s++)i=this.cartesian(i,t[s]);return i},_exportCurCount:function(t,e){var i=this;this.$waiting.show();var s=new Date,n=s.getMonth()+1,a=s.getDate(),r=s.getFullYear()+"-"+(n<10?"0"+n:n)+"-"+(a<10?"0"+a:a),c=t.title+"统计"+r+".xlsx",u={},l=[];this.isCollegeOrPlayer?(t.statisticsResult.forEach(function(t){l.push(t.name)}),this.$set(u,"combination",!1)):(t.details.forEach(function(t){l.push(t.name)}),this.$set(u,"combination",t.combination)),this.$set(u,"title",t.title),this.$set(u,"name",t.name),this.$set(u,"options",l);var h=o()(u);Object(d.d)({url:"/api/statistics/processEngine/excel/token",type:"post",data:{file_export_params:h},success:function(t){if(t.state){var s="";1===i.curCheckType?s=i.exportCurCountUrl+"&fileName="+c+"&token="+t.data:2===i.curCheckType?s=i.exportCurCountUrl+"&collegeCode="+e.name+"&fileName="+c+"&token="+t.data:3===i.curCheckType?s=i.exportCurCountUrl+"&instructorUserId="+e.name+"&fileName="+c+"&token="+t.data:4===i.curCheckType&&(s=i.exportCurCountUrl+"&instructorUserId="+e.name+"&fileName="+c+"&token="+t.data),window.location.href=s}else i.$toast(t.message)}}).always(function(){i.$waiting.close()})},_exportAllCount:function(){var t=this;this.$waiting.show();var e=this.countCollegeName+this.countGradeName+this.countStudentTypeName,i=new Date,s=i.getMonth()+1,n=i.getDate(),a=i.getFullYear()+"-"+(s<10?"0"+s:s)+"-"+(n<10?"0"+n:n),r=e+this.curApp.name+"统计"+a+".xlsx",c=[],u=JSON.parse(o()(this.countData)),l="",h="";0===this.curCheckType?(window.location.href="/downloads/statistics/processEngine/business/"+this.curBusinessId+"/processResultStatistics/excel?nodeId="+this.curCountNodeId+"&grade="+this.countSearchGrade+"&studentType="+this.countSearchStudentType+"&collegeCode="+this.countSearchCollegeCode+"&fileName="+r,setTimeout(function(){t.$waiting.close()},1e3)):1===this.curCheckType?(u.forEach(function(e){var i=e.details;delete e.details,t.$set(e,"options",[]),i.forEach(function(t){e.options.push(t.name)}),c.push(e)}),h=o()(c)):h=o()(this.curStatisticsItems),0!==this.curCheckType&&Object(d.d)({url:"/api/statistics/processEngine/excel/token",type:"post",data:{file_export_params:h},success:function(e){e.state?(l=(t.curCheckType,t.exportCountUrt+"&fileName="+r+"&token="+e.data),window.location.href=l):t.$toast(e.message)}}).always(function(){t.$waiting.close()})},_closeCountModal:function(){var t=this;this.countModal=!1,this.saveCountData.countTabActive=this.countTabActive,this.saveCountData.countData=this.countData,this.saveCountData.countItemSelectArr=this.countItemSelectArr,this.saveCountData.oldCountItemData=this.countItemData,this.saveCountData.combCountItemData=this.combinationCountItemData,this.saveCountData.newAddcountItem=this.newAddcountItem,this.saveCountData.countOptionArray=this.countOptionArr.selectArr;var e=o()(this.saveCountData);Object(d.d)({url:"/api/statistics/business/"+this.curBusinessId+"/settings/cache?playerId="+this.curCountNodeId+"&done="+this.curCountDone,type:"put",data:{data:e},success:function(e){e.state||t.$toast(e.message)}})},_batchProxy:function(){var t=this;this.proxyStatus.proxyWay="batch",this.importParams.downloadTemplateUrl="/processEngine/business/"+this.curBusinessId+"/batchProxy/templates?filename=代发人名单导入模板",this.importParams.downloadErrorTemplateUrl="/processEngine/business/"+this.curBusinessId+"/batchProxy/errorExcels",this.importParams.checkTemplateUrl="/processEngine/business/"+this.curBusinessId+"/batchProxy/check",this.importParams.importBtnType=[{url:"/processEngine/business/"+this.curBusinessId+"/batchProxy",method:"post",name:"增量导入",isShowBtn:!0,success:function(e){e.state&&(t.proxyStatus.showProxyModal=!1,t._refreshTab())}}]}}}}).call(e,i("W14+"))},"q9/D":function(t,e,i){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},r1e4:function(t,e,i){"use strict";for(var s=i("suAl"),n=i("/V5r"),a=i("0QUm"),o=i("vp2x"),r=new Array(256),c=0;c<256;c++)r[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;r[254]=r[254]=1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function l(){o.call(this,"utf-8 encode")}e.utf8encode=function(t){return n.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,i,s,a,o,r=t.length,c=0;for(a=0;a<r;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<r&&56320==(64512&(s=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(s-56320),a++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=n.uint8array?new Uint8Array(c):new Array(c),o=0,a=0;o<c;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<r&&56320==(64512&(s=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(s-56320),a++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e}(t)},e.utf8decode=function(t){return n.nodebuffer?s.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,n,a,o=t.length,c=new Array(2*o);for(i=0,e=0;e<o;)if((n=t[e++])<128)c[i++]=n;else if((a=r[n])>4)c[i++]=65533,e+=a-1;else{for(n&=2===a?31:3===a?15:7;a>1&&e<o;)n=n<<6|63&t[e++],a--;a>1?c[i++]=65533:n<65536?c[i++]=n:(n-=65536,c[i++]=55296|n>>10&1023,c[i++]=56320|1023&n)}return c.length!==i&&(c.subarray?c=c.subarray(0,i):c.length=i),s.applyFromCharCode(c)}(t=s.transformTo(n.uint8array?"uint8array":"array",t))},s.inherits(u,o),u.prototype.processChunk=function(t){var i=s.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var a=i;(i=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),i.set(a,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var o=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+r[t[i]]>e?i:e}(i),c=i;o!==i.length&&(n.uint8array?(c=i.subarray(0,o),this.leftOver=i.subarray(o,i.length)):(c=i.slice(0,o),this.leftOver=i.slice(o,i.length))),this.push({data:e.utf8decode(c),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,s.inherits(l,o),l.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=l},suAl:function(t,e,i){"use strict";var s=i("/V5r"),n=i("GHE1"),a=i("0QUm"),o=i("q9/D"),r=i("FJMj");function c(t){return t}function u(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}e.newBlob=function(t,i){e.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(t),s.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,i){var s=[],n=0,a=t.length;if(a<=i)return String.fromCharCode.apply(null,t);for(;n<a;)"array"===e||"nodebuffer"===e?s.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,a)))):s.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,a)))),n+=i;return s.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(t){return!1}}()}};function d(t){var i=65536,s=e.getTypeOf(t),n=!0;if("uint8array"===s?n=l.applyCanBeUsed.uint8array:"nodebuffer"===s&&(n=l.applyCanBeUsed.nodebuffer),n)for(;i>1;)try{return l.stringifyByChunk(t,s,i)}catch(t){i=Math.floor(i/2)}return l.stringifyByChar(t)}function h(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}e.applyFromCharCode=d;var p={};p.string={string:c,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,a.allocBuffer(t.length))}},p.array={string:d,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(t)}},p.arraybuffer={string:function(t){return d(new Uint8Array(t))},array:function(t){return h(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:d,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return a.newBufferFrom(t)}},p.nodebuffer={string:d,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:c},e.transformTo=function(t,i){if(i||(i=""),!t)return i;e.checkSupport(t);var s=e.getTypeOf(i);return p[s][t](i)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&a.isBuffer(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,i,s="";for(i=0;i<(t||"").length;i++)s+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return s},e.delay=function(t,e,i){o(function(){t.apply(i||null,e||[])})},e.inherits=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i},e.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},e.prepareContent=function(t,i,a,o,c){return r.Promise.resolve(i).then(function(t){return s.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new r.Promise(function(e,i){var s=new FileReader;s.onload=function(t){e(t.target.result)},s.onerror=function(t){i(t.target.error)},s.readAsArrayBuffer(t)}):t}).then(function(i){var l,d=e.getTypeOf(i);return d?("arraybuffer"===d?i=e.transformTo("uint8array",i):"string"===d&&(c?i=n.decode(i):a&&!0!==o&&(i=u(l=i,s.uint8array?new Uint8Array(l.length):new Array(l.length)))),i):r.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},u4zd:function(t,e,i){"use strict";var s=i("SswB"),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new s.Buf8(256),r=0;r<256;r++)o[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,s.shrinkBuf(t,e));for(var i="",o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i}o[254]=o[254]=1,e.string2buf=function(t){var e,i,n,a,o,r=t.length,c=0;for(a=0;a<r;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<r&&56320==(64512&(n=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=new s.Buf8(c),o=0,a=0;o<c;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<r&&56320==(64512&(n=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new s.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},e.buf2string=function(t,e){var i,s,n,a,r=e||t.length,u=new Array(2*r);for(s=0,i=0;i<r;)if((n=t[i++])<128)u[s++]=n;else if((a=o[n])>4)u[s++]=65533,i+=a-1;else{for(n&=2===a?31:3===a?15:7;a>1&&i<r;)n=n<<6|63&t[i++],a--;a>1?u[s++]=65533:n<65536?u[s++]=n:(n-=65536,u[s++]=55296|n>>10&1023,u[s++]=56320|1023&n)}return c(u,s)},e.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+o[t[i]]>e?i:e}},vp2x:function(t,e,i){"use strict";function s(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=s},"xN/9":function(t,e,i){"use strict";var s=i("QWpj").Readable;function n(t,e,i){s.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),i&&i(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}i("suAl").inherits(n,s),n.prototype._read=function(){this._helper.resume()},t.exports=n},xdX0:function(t,e,i){"use strict";var s=i("FJMj"),n=i("ZkRc"),a=i("HvEF"),o=i("/f9a");a=i("HvEF");function r(t,e,i,s,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=s,this.compressedContent=n}r.prototype={getContentWorker:function(){var t=new n(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new n(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,i){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},t.exports=r},yIKO:function(t,e,i){"use strict";var s=i("1paD");function n(t){s.call(this,t)}i("suAl").inherits(n,s),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},z7QQ:function(t,e,i){"use strict";var s=i("NOr1"),n=i("SP0C");e.generateWorker=function(t,e,i){var a=new n(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,i){o++;var n=function(t,e){var i=t||e,n=s[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,e.compression),r=i.options.compressionOptions||e.compressionOptions||{},c=i.dir,u=i.date;i._compressWorker(n,r).withStreamInfo("file",{name:t,dir:c,date:u,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(t){a.error(t)}return a}}});