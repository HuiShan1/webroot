webpackJsonp([6],{"3yW3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("hs4R");var s=i("C331"),a=i("4DA3"),o=(i("6Koo"),a.a,{components:{linkage:a.a},data:function(){return{tableCheckedList:[],tableCheckedListAll:"",isPassOpinionBtn:!1,passOpinionLoading:!1,batchPassLoading:{pass:!1,noPass:!1},inviteRuleForm:{audit:"",loading:!1,dialog:!1},inviteRules:{audit:[{required:!0,message:"请输入不通过审核意见",trigger:"blur"}]},tableData_url:"/table-data/employment/audit/getRecruitmentAuditBySearch",newAddPosition:!1,newAddRecruit:!1,curRecruition:{},curPositionInfo:{},curEditPositionId:"",positionIdArr:[],positionInfoList:[],recruitmentInfoData:{},positionInfoForm:{positionName:"",positionType:"",positionProperty:"",major:"",diploma:"",salary:"",recruitNumber:"",workplace:"",positionRemarks:"",positionRequire:"",address:""},tabsItem:["单位信息","职位信息","招聘简章"],currentTab:0,showAddRecruidInfo:!1,showAddPositionModal:!1,showRecruidInfoList:!0}},created:function(){var t=this;this.columns=[{id:"title",title:"招聘信息标题",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"companyName",title:"单位",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"createTime",title:"提交时间",className:"text-left",width:130,hidden:!1},{id:"status",title:"状态",width:150,className:"text-left",hidden:!1},{id:"opts",title:"操作",width:80,hidden:!1,options:[{tag:"a",text:"查看",callback:function(e,i){t.ecruitmenInfoLook(e)}}]}]},methods:{onBatchPass:function(t){var e=this;if(0!=this.tableCheckedList.length){var i=[];this.tableCheckedList.map(function(t){i.push(t.id)}),"yes"==t?(this.batchPassLoading.pass=!0,Object(s.d)({url:"/api/employment/audit/agreeRecruitmentAuditList",type:"put",data:{relationIds:i},success:function(t){t.state?(e.$message.success("批量同意招聘成功"),e.tableData_url="/table-data/employment/audit/getRecruitmentAuditBySearch?timestamp="+Object(s.a)()):e.$message.error(t.message)}}).always(function(){e.batchPassLoading.pass=!1,e.tableCheckedList=[]})):(this.batchPassLoading.noPass=!0,Object(s.d)({url:"/api/employment/audit/repulseRecruitmentAuditLIst",type:"put",data:{relationIds:i},success:function(t){t.state?(e.$message.success("批量拒绝招聘成功"),e.tableData_url="/table-data/employment/audit/getRecruitmentAuditBySearch?timestamp="+Object(s.a)()):e.$message.error(t.message)}}).always(function(){e.batchPassLoading.noPass=!1,e.tableCheckedList=[]}))}else this.$message.error("请选择需要操作的待审核字段字段")},_tableChecked:function(t){var e=[];t.forEach(function(t){"待审核"==t.status&&e.push(t)}),this.tableCheckedListAll=t.length,this.tableCheckedList=e},dateChange:function(t){},onPassInvite:function(){var t=this;Object(s.d)({url:"/api/employment/audit/agreeRecruitmentAudit?relationId="+this.recruitmentInfoData.id,type:"PUT",success:function(e){e.state&&(t.$message.success("通过公司招聘成功"),t.showRecruidInfoList=!0,t.showAddRecruidInfo=!1,t.tableData_url="/table-data/employment/audit/getRecruitmentAuditBySearch?timeStamp="+(new Date).getTime())}})},onNoPassInviteCancel:function(t){this.$refs[t].resetFields(),this.inviteRuleForm.dialog=!1},onNoPassInvite:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.inviteRuleForm.loading=!0,Object(s.d)({url:"/api/employment/audit/repulseRecruitmentAudit?relationId="+e.recruitmentInfoData.id,type:"PUT",success:function(t){t.state&&(e.$message.success("拒绝公司招聘成功"),e.showRecruidInfoList=!0,e.showAddRecruidInfo=!1,e.inviteRuleForm.dialog=!1,e.tableData_url="/table-data/employment/audit/getRecruitmentAuditBySearch?timeStamp="+(new Date).getTime())}}).always(function(){e.inviteRuleForm.loading=!1}))})},onPositionIndoEdit:function(t,e){var i=this;if(this.newAddPosition=!1,this.newAddRecruit)return this.curEditPositionId=e,this.positionIdArr.push(e),this.positionInfoForm=this.positionInfoList[e],void(this.showAddPositionModal=!0);var a="/api/employment/recruitment/getPositionById?id="+t.id;this.newAddPosition=!1,Object(s.d)({url:a,type:"get",success:function(t){t.state&&(i.curPositionInfo=t.data,i.positionInfoForm=t.data,i.positionInfoForm.address=t.data.workplace,i.showAddPositionModal=!0)}})},getDict:function(t,e){var i=this,a="/api/employment/system/findDictByTypeName?typeName="+t;Object(s.d)({url:a,type:"get",success:function(t){t.state?i[e]=t.data:i[e]=[]}})},ecruitmenInfoLook:function(t){var e=this,i="/api/employment/recruitment/getRecruitment?recruitmentId="+t.id;this.newAddRecruit=!1,this.currentTab=0,Object(s.d)({url:i,type:"get",success:function(i){if(i.state&&i.data){var s=i.data;e.showRecruidInfoList=!1,e.showAddRecruidInfo=!0,e.recruitmentInfoData={status:t.status,id:s.id,title:s.title,companyName:s.companyName,addressDetail:s.addressDetail,property:s.property,scale:s.scale,contactPeople:s.contactPeople,contactPhone:s.contactPhone,email:s.email,summary:s.summary,recruitmentBrief:s.recruitmentBrief},s.startTime?e.recruitmentInfoData.time=s.startTime+"到"+s.endTime:e.recruitmentInfoData.time="",e.positionInfoList=i.data.recruitmentPositionList}}})},tabsItemClick:function(t){this.currentTab=t}}}),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recruitmentInfo",attrs:{id:"recruitmentInfo"}},[t.showAddRecruidInfo?i("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(e){t.showAddRecruidInfo=!1,t.showRecruidInfoList=!0}}},[t._v("返回")]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRecruidInfoList,expression:"showRecruidInfoList"}]},[i("div",{staticClass:"title"},[t._v("单位招聘信息")]),t._v(" "),i("v-table",{ref:"unitsManagerTable",attrs:{url:t.tableData_url,columns:t.columns,pagesize:"15",idField:"id",multiple:!0,order:!0,search:!1},on:{afterChecked:t._tableChecked}},[i("div",{staticClass:"pull-left",attrs:{slot:"btn-group"},slot:"btn-group"},[t.tableCheckedListAll?i("el-button",{staticClass:"operability-hint",attrs:{type:"text"}},[t._v("已选择"+t._s(t.tableCheckedListAll)+"项,其中可操作的有"+t._s(t.tableCheckedList.length)+"项")]):t._e(),t._v(" "),t.tableCheckedList.length?i("el-button",{attrs:{loading:t.batchPassLoading.pass,type:"text"},on:{click:function(e){return t.onBatchPass("yes")}}},[t._v("通过")]):t._e(),t._v(" "),t.tableCheckedList.length?i("el-button",{attrs:{loading:t.batchPassLoading.noPass,type:"text"},on:{click:function(e){return t.onBatchPass("no")}}},[t._v("不通过")]):t._e()],1)])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddRecruidInfo,expression:"showAddRecruidInfo"}]},[i("div",{staticClass:"title addRecruid-title"},[t._m(0),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.title))])]),t._v(" "),i("div",{staticClass:"tabs"},[i("ul",{staticClass:"tabs-title clearfix"},t._l(t.tabsItem,function(e,s){return i("li",{key:s,class:{active:t.currentTab==s},on:{click:function(e){return t.tabsItemClick(s)}}},[t._v(t._s(e))])}),0),t._v(" "),i("ul",{staticClass:"tabs-content"},[0==t.currentTab?i("li",{staticClass:"unit-info"},[i("div",{staticClass:"row input-group"},[i("div",{staticClass:"col-md-6"},[i("label",{staticClass:"title-text"},[t._v("单位名称：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.companyName))])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",{staticClass:"title-text"},[t._v("单位性质：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.property))])])]),t._v(" "),i("div",{staticClass:"row input-group"},[i("div",{staticClass:"col-md-6"},[i("label",{staticClass:"title-text"},[t._v("单位地址：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.addressDetail))])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",{staticClass:"title-text"},[t._v("单位规模：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.scale))])])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"title-text"},[t._v("单位联系人：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.contactPeople))])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"title-text"},[t._v("电话：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.contactPhone))])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"title-text"},[t._v("简历接收邮箱：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.email))])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"title-text"},[t._v("简历接收时间：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.time))])]),t._v(" "),i("div",{staticClass:"input-group"},[i("span",{staticClass:"title-text"},[t._v("单位简介：")]),t._v(" "),i("span",[t._v(t._s(t.recruitmentInfoData.summary))])])]):t._e(),t._v(" "),1==t.currentTab?i("li",[i("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.positionInfoList}},[i("el-table-column",{attrs:{type:"index"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionType",label:"职位类别"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionProperty",label:"职位性质"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s("PRACTICE"==e.row.positionProperty?"实习":"全职"))])]}}],null,!1,2348323164)}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.onPositionIndoEdit(e.row,e.$index)}}},[t._v("查看")])]}}],null,!1,3183732137)})],1)],1):t._e(),t._v(" "),2==t.currentTab?i("li",[i("div",{staticClass:"recruitment-brochure"},[i("span",[t._v(t._s(t.recruitmentInfoData.recruitmentBrief))]),t._v(" "),"待审核"==t.recruitmentInfoData.status?i("div",{staticClass:"btn-group-o"},[i("el-button",{staticClass:"back-btn btn-o",attrs:{type:"primary"},on:{click:t.onPassInvite}},[t._v("通过")]),t._v(" "),i("el-button",{staticClass:"back-btn btn-o",attrs:{plain:""},on:{click:function(e){t.inviteRuleForm.dialog=!0}}},[t._v("不通过")])],1):t._e()])]):t._e()])])]),t._v(" "),i("el-dialog",{attrs:{close:"changeEmail-dialog",title:"查看职位",visible:t.showAddPositionModal,width:"60%"},on:{"update:visible":function(e){t.showAddPositionModal=e}}},[i("el-form",{ref:"positionInfoForm",staticClass:"add-position-form",attrs:{model:t.positionInfoForm,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[i("span",[t._v(t._s(t.positionInfoForm.positionName))])]),t._v(" "),i("el-form-item",{attrs:{label:"职位类别",prop:"positionType"}},[i("span",[t._v(t._s(t.positionInfoForm.positionTypeName))])]),t._v(" "),i("el-form-item",{attrs:{label:"职位性质",prop:"positionProperty"}},[i("span",[t._v(t._s("FULL_TIME"==t.positionInfoForm.positionProperty?"全职":"实习"))])]),t._v(" "),i("el-form-item",{attrs:{label:"专业要求",prop:"major"}},[i("span",[t._v(t._s(t.positionInfoForm.majorName))])]),t._v(" "),i("el-form-item",{attrs:{label:"学历要求",prop:"diploma"}},[i("span",[t._v(t._s(t.positionInfoForm.diplomaName))])]),t._v(" "),i("el-form-item",{attrs:{label:"薪资范围",prop:"salary"}},[i("span",[t._v(t._s(t.positionInfoForm.salaryName))])]),t._v(" "),i("el-form-item",{attrs:{label:"招聘人数",prop:"recruitNumber"}},[i("span",[t._v(t._s(t.positionInfoForm.salaryName))])]),t._v(" "),i("el-form-item",{attrs:{label:"工作地点",prop:"address"}},[i("span",[t._v(t._s(t.positionInfoForm.workplaceName))])]),t._v(" "),i("el-form-item",{attrs:{label:"工作职责",prop:"positionRemarks"}},[i("span",[t._v(t._s(t.positionInfoForm.positionRemarks))])]),t._v(" "),i("el-form-item",{attrs:{label:"工作要求",prop:"positionRequire"}},[i("span",[t._v(t._s(t.positionInfoForm.positionRequire))])])],1)],1),t._v(" "),i("el-dialog",{attrs:{close:"blacklist-dialog",title:"不通过审核原因",visible:t.inviteRuleForm.dialog},on:{"update:visible":function(e){return t.$set(t.inviteRuleForm,"dialog",e)}}},[i("el-form",{ref:"inviteRuleForm",staticClass:"demo-ruleForm",attrs:{model:t.inviteRuleForm,rules:t.inviteRules}},[i("el-form-item",{attrs:{prop:"audit"}},[i("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:"5",placeholder:"请填写不通过审核意见，便于单位修改申请信息",resize:"none"},model:{value:t.inviteRuleForm.audit,callback:function(e){t.$set(t.inviteRuleForm,"audit",e)},expression:"inviteRuleForm.audit"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:t.inviteRuleForm.loading},on:{click:function(e){return t.onNoPassInvite("inviteRuleForm")}}},[t._v("确定")]),t._v(" "),i("el-button",{attrs:{plain:""},on:{click:function(e){return t.onNoPassInviteCancel("inviteRuleForm")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-title"},[e("i",{staticClass:"must-sign"},[this._v("*")]),this._v("招聘标题\n      ")])}]};var r=i("Mz/3")(o,n,!1,function(t){i("O1J3"),i("ZszS")},"data-v-141bc7e7",null);e.default=r.exports},O1J3:function(t,e){},ZszS:function(t,e){}});