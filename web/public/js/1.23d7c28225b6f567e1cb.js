webpackJsonp([1],{IMCC:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a,n=s("WxFH"),o=s.n(n),c=s("3SZ7"),l=s.n(c),r=s("C331"),h=s("a/8i"),u=s("4DA3"),d=(i={onSearch:function(){var t=this;this.ScrollTop(300,200);var e="/api/employment/platform/getPositionListBySearch?pageSize=15&pageIndex="+this.curPage;this.searchValue&&(this.dataObj.keyWord=this.searchValue),this.nature&&(this.dataObj.positionProperty=this.nature),Object(r.d)({url:e,type:"post",data:this.dataObj,success:function(e){e&&e.state?(e.data&&e.data.content&&Array.isArray(e.data.content)&&(t.recruitmentList=[],e.data.content.forEach(function(e){var s="";e.issueTime&&(s+="发布于",s+=e.issueTime.split(" ")[0]),t.recruitmentList.push({id:e.id,positionName:e.positionName,workplace:e.workplace,companyName:e.companyName,issueTime:s,salary:e.salary,isCollect:e.isCollect})})),t.showRecruit=!1):(t.$message.error("获取招聘列表失败"),t.showRecruit=!1),t.showRecruit=!1}})},keyupSubmit:function(){var t=this;document.onkeydown=function(e){13===window.event.keyCode&&t.onSearch()}},ScrollTop:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[1];if(!s)return document.body.scrollTop=document.documentElement.scrollTop=e,e;var i=s/20,a=document.body.scrollTop+document.documentElement.scrollTop,n=(e-a)/i,o=setInterval(function(){i>0?(i--,t.ScrollTop(a+=n)):clearInterval(o)},20)},getlinkAgeData:function(t){this.regionList=t},handleCurrentChange:function(t){this.curPage=t-1,this.onSearch()},toApplayDetails:function(t){this.toDetails=!0,this.recruitmentInfo=t},getCollected:function(){this.$router.push({name:"employment",params:{toPage:"/student/collect"}})},timeRangeChange:function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0],this.dataObj.endTime=t[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()},timeChange:function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())}},o()(i,"getCollected",function(){this.$router.push({path:"/employment",query:{toPage:"/student/collect"}})}),o()(i,"timeRangeChange",function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0],this.dataObj.endTime=t[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()}),o()(i,"timeChange",function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())}),o()(i,"timeRangeChange",function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0],this.dataObj.endTime=t[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()}),o()(i,"timeChange",function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())}),o()(i,"natureChange",function(t){this.onSearch()}),o()(i,"typeChange",function(t){t.length?this.dataObj.positionTypes=t:delete this.dataObj.positionTypes,this.onSearch()}),o()(i,"isToday",function(t){var e=new Date,s=new Date(t);return e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDate()===s.getDate()}),o()(i,"_checkLogin",function(){var t=this;Object(r.d)({url:"/login/check",type:"get",success:function(e){e.state?t.checkUserInfo=e.data:t.checkUserInfo=null}})}),o()(i,"setCollect",function(t,e){var s=this;this.checkUserInfo||"STUDENT"==this.checkUserInfo.type||(this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login"));var i="";t.isCollect?(i=e?"/api/employment/collection/cancelCollectByRelationId/"+t.relationId:"/api/employment/collection/cancelCollectByRelationId/"+t.id,Object(r.d)({url:i,type:"delete",success:function(t){t.state?(e?s.getCollected():s.onSearch(),s.$message.success("取消收藏成功")):s.$message.error("取消收藏失败")}})):Object(r.d)({url:"/api/employment/collection/addCollection",type:"post",data:{relationId:t.id},success:function(t){t.state?(e?s.getCollected():s.onSearch(),s.$message.success("收藏成功")):s.$message.error("收藏失败")}})}),o()(i,"getInfoError",function(){this.toDetails=!1}),o()(i,"getRouter",function(){this.$router.push({name:"employment",params:{toPage:"/schoolResumepx"}})}),o()(i,"getPositionTypes",function(){var t=this;Object(r.d)({url:"/api/employment/system/findDictByTypeName?typeName=行业",type:"get",success:function(e){e.state&&(t.classificationList=e.data,t.classificationList_slice=e.data.slice(0,5))}})}),o()(i,"checkMore",function(){this.showMoreType?(this.classificationList_slice=JSON.parse(l()(this.classificationList)).slice(0,5),this.showMoreType=!1):(this.classificationList_slice=JSON.parse(l()(this.classificationList)),this.showMoreType=!0)}),u.a,h.default,{data:function(){return{toDetails:!1,searchValue:"",nature:"",sendTime:"",timeRange:"",regionList:[],recruitmentInfo:{},classificationChecked:[],showCollect:!1,collectList:[],showRecruit:!0,classificationList:[],classificationList_select:[],classificationList_slice:[],recruitmentList:[],checkUserInfo:null,total:15,curPage:0,showMoreType:!1,dataObj:{}}},methods:(a={onSearch:function(){var t=this;this.ScrollTop(300,200);var e="/api/employment/platform/getPositionListBySearch?pageSize=15&pageIndex="+this.curPage;this.searchValue&&(this.dataObj.keyWord=this.searchValue),this.nature&&(this.dataObj.positionProperty=this.nature),Object(r.d)({url:e,type:"post",data:this.dataObj,success:function(e){e&&e.state?(e.data&&e.data.content&&Array.isArray(e.data.content)&&(t.recruitmentList=[],e.data.content.forEach(function(e){var s="";e.issueTime&&(s+="发布于",s+=e.issueTime.split(" ")[0]),t.recruitmentList.push({id:e.id,positionName:e.positionName,workplace:e.workplace,companyName:e.companyName,issueTime:s,salary:e.salary,isCollect:e.isCollect})})),t.showRecruit=!1):(t.$message.error("获取招聘列表失败"),t.showRecruit=!1),t.showRecruit=!1}})},keyupSubmit:function(){var t=this;document.onkeydown=function(e){13===window.event.keyCode&&t.onSearch()}},ScrollTop:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[1];if(!s)return document.body.scrollTop=document.documentElement.scrollTop=e,e;var i=s/20,a=document.body.scrollTop+document.documentElement.scrollTop,n=(e-a)/i,o=setInterval(function(){i>0?(i--,t.ScrollTop(a+=n)):clearInterval(o)},20)},getlinkAgeData:function(t){this.regionList=t},handleCurrentChange:function(t){this.curPage=t-1,this.onSearch()},toApplayDetails:function(t){this.toDetails=!0,this.recruitmentInfo=t},getCollected:function(){this.$router.push({name:"employment",params:{toPage:"/student/collect"}})},timeRangeChange:function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0],this.dataObj.endTime=t[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()},timeChange:function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())}},o()(a,"getCollected",function(){this.$router.push({path:"/employment",query:{toPage:"/student/collect"}})}),o()(a,"timeRangeChange",function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0],this.dataObj.endTime=t[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()}),o()(a,"timeChange",function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())}),o()(a,"timeRangeChange",function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0],this.dataObj.endTime=t[1]):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()}),o()(a,"timeChange",function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())}),o()(a,"natureChange",function(t){this.onSearch()}),o()(a,"typeChange",function(t){t.length?this.dataObj.positionTypes=t:delete this.dataObj.positionTypes,this.onSearch()}),o()(a,"isToday",function(t){var e=new Date,s=new Date(t);return e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDate()===s.getDate()}),o()(a,"_checkLogin",function(){var t=this;Object(r.d)({url:"/login/check",type:"get",success:function(e){e.state?t.checkUserInfo=e.data:t.checkUserInfo=null}})}),o()(a,"setCollect",function(t,e){var s=this;this.checkUserInfo||"STUDENT"==this.checkUserInfo.type||(this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login"));var i="";t.isCollect?(i=e?"/api/employment/collection/cancelCollectByRelationId/"+t.relationId:"/api/employment/collection/cancelCollectByRelationId/"+t.id,Object(r.d)({url:i,type:"delete",success:function(t){t.state?(e?s.getCollected():s.onSearch(),s.$message.success("取消收藏成功")):s.$message.error("取消收藏失败")}})):Object(r.d)({url:"/api/employment/collection/addCollection",type:"post",data:{relationId:t.id},success:function(t){t.state?(e?s.getCollected():s.onSearch(),s.$message.success("收藏成功")):s.$message.error("收藏失败")}})}),o()(a,"getInfoError",function(){this.toDetails=!1}),o()(a,"getRouter",function(){this.$router.push({name:"employment",params:{toPage:"/schoolResumepx"}})}),o()(a,"getPositionTypes",function(){var t=this;Object(r.d)({url:"/api/employment/system/findDictByTypeName?typeName=行业",type:"get",success:function(e){e.state&&(t.classificationList=e.data,t.classificationList_slice=e.data.slice(0,5))}})}),o()(a,"checkMore",function(){this.showMoreType?(this.classificationList_slice=JSON.parse(l()(this.classificationList)).slice(0,5),this.showMoreType=!1):(this.classificationList_slice=JSON.parse(l()(this.classificationList)),this.showMoreType=!0)}),a),components:{linkage:u.a,ApplayDetails:h.default},created:function(){this._checkLogin(),this.onSearch(),this.keyupSubmit(),this.getPositionTypes()}}),m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test-warp"},[s("div",{staticClass:"recruitmentInfoApply"},[t.toDetails?s("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(e){t.toDetails=!1}}},[t._v("返回")]):t._e(),t._v(" "),s("div",{staticClass:"rec-title"},[s("div",{staticClass:"title"},[t._v("招聘信息")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type == 'STUDENT'"}],staticClass:"collect",on:{click:t.getCollected}},[t._v("我的收藏")])]),t._v(" "),t.toDetails?s("Applay-details",{attrs:{checkUserInfo:t.checkUserInfo,recruitmentInfo:t.recruitmentInfo},on:{getRouter:t.getRouter,getInfoError:t.getInfoError}}):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.toDetails,expression:"!toDetails"}]},[s("div",{staticClass:"rec-filtrate"},[s("div",{staticClass:"rec-filtrate-input"},[s("el-input",{staticClass:"search",attrs:{placeholder:"请输入要搜索的职位或公司",clearable:""},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),s("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}})],1),t._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[t._v("性质:")]),t._v(" "),s("div",{staticClass:"radio-item"},[s("el-radio-group",{on:{change:t.natureChange},model:{value:t.nature,callback:function(e){t.nature=e},expression:"nature"}},[s("el-radio",{attrs:{label:"FULL_TIME"}},[t._v("全职")]),t._v(" "),s("el-radio",{attrs:{label:"PRACTICE"}},[t._v("实习")])],1)],1),t._v(" "),s("div",{staticClass:"radio-item"})]),t._v(" "),s("div",{staticClass:"rec-filtrate-item seeMore"},[s("div",{staticClass:"title"},[t._v("分类:")]),t._v(" "),s("el-checkbox-group",{class:{isFlex:t.showMoreType},attrs:{max:3},on:{change:t.typeChange},model:{value:t.classificationChecked,callback:function(e){t.classificationChecked=e},expression:"classificationChecked"}},t._l(t.classificationList_slice,function(e){return s("el-checkbox",{key:e.value,attrs:{title:e.lebel,label:e.value,value:e.label}},[s("span",{attrs:{title:e.label}},[t._v(t._s(e.label))])])}),1),t._v(" "),s("div",{staticClass:"checkMore"},[s("el-button",{attrs:{icon:t.showMoreType?"el-icon-arrow-up":"el-icon-arrow-down"},on:{click:t.checkMore}},[t._v(t._s(t.showMoreType?"收起":"展开更多类型"))])],1)],1),t._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[t._v("地区:")]),t._v(" "),s("linkage",{on:{getData:t.getlinkAgeData}})],1),t._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[t._v("发布时间:")]),t._v(" "),s("div",{staticClass:"radio-item"},[s("el-radio-group",{on:{change:t.timeChange},model:{value:t.sendTime,callback:function(e){t.sendTime=e},expression:"sendTime"}},[s("el-radio",{attrs:{label:"0"}},[t._v("不限")]),t._v(" "),s("el-radio",{attrs:{label:"1"}},[t._v("选择时间段")])],1),t._v(" "),s("div",{staticClass:"time",staticStyle:{display:"inline-block","margin-left":"10px"}},[s("el-date-picker",{attrs:{disabled:"1"!=t.sendTime,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.timeRangeChange},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}})],1)],1),t._v(" "),s("div",{staticClass:"radio-item"})])]),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showRecruit,expression:"showRecruit"}],staticClass:"recruitmentInfoList"},[t.recruitmentList.length?s("ul",t._l(t.recruitmentList,function(e,i){return s("li",{key:i,class:["item"],on:{click:function(s){return t.toApplayDetails(e)}}},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[t._v(t._s(e.positionName))]),t._v(" "),s("span",{staticClass:"job-price"},[t._v(t._s(e.salary))])]),t._v(" "),s("div",{staticClass:"job-address"},[t._v(t._s("null"==e.workplace?"暂无地址信息":e.workplace))])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal",class:{hideInfo:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type}},[s("div",{staticClass:"job-company"},[t._v(t._s(e.companyName))]),t._v(" "),s("div",{staticClass:"job-time"},[t._v(t._s(e.issueTime))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type=='STUDENT'"}],class:{hover:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type}},[s("img",{directives:[{name:"show",rawName:"v-show",value:!e.isCollect,expression:"!item.isCollect"}],staticClass:"like",attrs:{src:"/static/image/employment/like.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e,!1)}}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:e.isCollect,expression:"item.isCollect"}],staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e,!1)}}}),t._v(" "),s("span",{on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e,!1)}}},[t._v("收藏职位")]),t._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"}},[t._v("申请职位")])],1)])])}),0):t._e(),t._v(" "),t.recruitmentList.length?t._e():s("p",{staticClass:"noResult"},[t._v("\n          暂无招聘信息！\n        ")])]),t._v(" "),s("div",{staticClass:"paginationBox"},[t.recruitmentList.length?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}}):t._e()],1)])],1),t._v(" "),s("el-dialog",{staticClass:"apply-position",attrs:{"show-close":!1,visible:t.showCollect,width:"60%",title:"收藏列表"},on:{"update:visible":function(e){t.showCollect=e}}},[s("ul",{staticClass:"recruitmentInfoList"},t._l(t.collectList,function(e,i){return s("li",{key:i,staticClass:"item"},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[t._v(t._s(e.positionName))]),t._v(" "),s("span",{staticClass:"job-price"},[t._v(t._s(e.salary))])]),t._v(" "),s("div",{staticClass:"job-address"},[t._v(t._s(e.workplace))])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal"},[s("div",{staticClass:"job-company"},[t._v(t._s(e.companyName))]),t._v(" "),s("div",{staticClass:"job-time"},[t._v(t._s(e.issueTime))])]),t._v(" "),s("div",{staticClass:"hover"},[s("em",{on:{click:function(s){return t.setCollect(e,!0)}}},[s("img",{staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""}}),t._v(" "),s("span",{staticStyle:{"font-style":"normal"}},[t._v("取消收藏")])]),t._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"}},[t._v("申请这个职位")])],1)])])}),0)])],1)},staticRenderFns:[]};var p=s("Mz/3")(d,m,!1,function(t){s("QTdM"),s("REdc"),s("RS1J")},"data-v-3c5f176e",null);e.default=p.exports},QTdM:function(t,e){},REdc:function(t,e){},RS1J:function(t,e){}});