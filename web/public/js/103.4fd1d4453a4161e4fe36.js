webpackJsonp([103],{UPZ4:function(t,e){},"Y+63":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("C331"),l=s("a/8i"),i=(l.default,{props:["userInfo"],data:function(){return{pageSize:10,collectListTotal:0,curPage:0,tableData_url:"/table-data/employment/collection/list",collectTitle:"我的收藏",toDetails:!1,collectList:[],collectedDetails:""}},components:{ApplayDetails:l.default},created:function(){this.getCollected()},watch:{curPage:function(){this.getCollected()}},methods:{getRouter:function(t){this.$parent.curRoute="/schoolResumepx"},handleCurrentChange:function(t){this.curPage=t-1},getCollected:function(){var t=this;Object(a.d)({url:this.tableData_url,type:"get",data:{pageSize:this.pageSize,pageIndex:this.curPage},success:function(e){e.state&&e.data&&(t.collectList=e.data,t.collectListTotal=e.total)}})},toCollectedDetails:function(t){this.collectTitle="收藏详情",this.toDetails=!0,t.id=t.relationId,this.collectedDetails=t},getInfoError:function(){this.toDetails=!1},setCollect:function(t){var e=this;this.userInfo||"STUDENT"!=this.userInfo.type||(this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login"));var s;s="/api/employment/collection/cancelCollectByRelationId/"+t.relationId,Object(a.d)({url:s,type:"delete",success:function(t){t.state?(e.getCollected(),e.$message.success("取消收藏成功")):e.$message.error("取消收藏失败")}})}}}),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"collect"}},[t.toDetails?s("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(e){t.toDetails=!1,t.collectTitle="我的收藏"}}},[t._v("返回")]):t._e(),t._v(" "),s("div",{staticClass:"top"},[s("h1",[t._v(t._s(t.collectTitle))])]),t._v(" "),t.toDetails?s("Applay-details",{attrs:{checkUserInfo:t.userInfo,recruitmentInfo:t.collectedDetails},on:{getRouter:t.getRouter,getInfoError:t.getInfoError}}):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.toDetails,expression:"!toDetails"}]},[t.collectList.length?s("ul",{staticClass:"collectList"},t._l(t.collectList,function(e,a){return s("li",{key:a,staticClass:"item",on:{click:function(s){return t.toCollectedDetails(e)}}},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[t._v(t._s(e.positionName))]),t._v(" "),s("span",{staticClass:"job-price"},[t._v(t._s(e.salary))])]),t._v(" "),s("div",{staticClass:"job-address"},[t._v(t._s(e.workplace))])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal"},[s("div",{staticClass:"job-company"},[t._v(t._s(e.companyName))]),t._v(" "),s("div",{staticClass:"job-time"},[t._v(t._s(e.issueTime))])]),t._v(" "),s("div",{staticClass:"hover"},[s("img",{staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e)}}}),t._v(" "),s("span",[t._v("取消收藏职位")]),t._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"}},[t._v("申请这个职位")])],1)])])}),0):t._e(),t._v(" "),t.collectList.length?t._e():s("p",{staticClass:"noResult"},[t._v("\n      暂无收藏记录！\n    ")]),t._v(" "),s("div",{staticClass:"paginationBox"},[t.collectList.length?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.collectListTotal},on:{"current-change":t.handleCurrentChange}}):t._e()],1)])],1)},staticRenderFns:[]};var c=s("Mz/3")(i,o,!1,function(t){s("UPZ4")},"data-v-e02e7f9a",null);e.default=c.exports}});